var Gte=Object.defineProperty;var dV=n=>{throw TypeError(n)};var Yte=(n,e,t)=>e in n?Gte(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var _e=(n,e,t)=>Yte(n,typeof e!="symbol"?e+"":e,t),gP=(n,e,t)=>e.has(n)||dV("Cannot "+t);var f=(n,e,t)=>(gP(n,e,"read from private field"),t?t.call(n):e.get(n)),j=(n,e,t)=>e.has(n)?dV("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),D=(n,e,t,r)=>(gP(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),H=(n,e,t)=>(gP(n,e,"access private method"),t);var Qr=(n,e,t,r)=>({set _(i){D(n,e,i,t)},get _(){return f(n,e,r)}});function Kte(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var HC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ro(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yP={exports:{}},Nw={},vP={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hV;function Xte(){if(hV)return Pt;hV=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function m(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function _(q,Y,Z){this.props=q,this.context=Y,this.refs=w,this.updater=Z||y}_.prototype.isReactComponent={},_.prototype.setState=function(q,Y){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Y,"setState")},_.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function E(){}E.prototype=_.prototype;function T(q,Y,Z){this.props=q,this.context=Y,this.refs=w,this.updater=Z||y}var C=T.prototype=new E;C.constructor=T,b(C,_.prototype),C.isPureReactComponent=!0;var x=Array.isArray,I=Object.prototype.hasOwnProperty,F={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function L(q,Y,Z){var le,ce={},ve=null,ye=null;if(Y!=null)for(le in Y.ref!==void 0&&(ye=Y.ref),Y.key!==void 0&&(ve=""+Y.key),Y)I.call(Y,le)&&!k.hasOwnProperty(le)&&(ce[le]=Y[le]);var xe=arguments.length-2;if(xe===1)ce.children=Z;else if(1<xe){for(var Oe=Array(xe),ke=0;ke<xe;ke++)Oe[ke]=arguments[ke+2];ce.children=Oe}if(q&&q.defaultProps)for(le in xe=q.defaultProps,xe)ce[le]===void 0&&(ce[le]=xe[le]);return{$$typeof:n,type:q,key:ve,ref:ye,props:ce,_owner:F.current}}function N(q,Y){return{$$typeof:n,type:q.type,key:Y,ref:q.ref,props:q.props,_owner:q._owner}}function A(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function B(q){var Y={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Z){return Y[Z]})}var z=/\/+/g;function U(q,Y){return typeof q=="object"&&q!==null&&q.key!=null?B(""+q.key):Y.toString(36)}function Q(q,Y,Z,le,ce){var ve=typeof q;(ve==="undefined"||ve==="boolean")&&(q=null);var ye=!1;if(q===null)ye=!0;else switch(ve){case"string":case"number":ye=!0;break;case"object":switch(q.$$typeof){case n:case e:ye=!0}}if(ye)return ye=q,ce=ce(ye),q=le===""?"."+U(ye,0):le,x(ce)?(Z="",q!=null&&(Z=q.replace(z,"$&/")+"/"),Q(ce,Y,Z,"",function(ke){return ke})):ce!=null&&(A(ce)&&(ce=N(ce,Z+(!ce.key||ye&&ye.key===ce.key?"":(""+ce.key).replace(z,"$&/")+"/")+q)),Y.push(ce)),1;if(ye=0,le=le===""?".":le+":",x(q))for(var xe=0;xe<q.length;xe++){ve=q[xe];var Oe=le+U(ve,xe);ye+=Q(ve,Y,Z,Oe,ce)}else if(Oe=m(q),typeof Oe=="function")for(q=Oe.call(q),xe=0;!(ve=q.next()).done;)ve=ve.value,Oe=le+U(ve,xe++),ye+=Q(ve,Y,Z,Oe,ce);else if(ve==="object")throw Y=String(q),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return ye}function te(q,Y,Z){if(q==null)return q;var le=[],ce=0;return Q(q,le,"","",function(ve){return Y.call(Z,ve,ce++)}),le}function X(q){if(q._status===-1){var Y=q._result;Y=Y(),Y.then(function(Z){(q._status===0||q._status===-1)&&(q._status=1,q._result=Z)},function(Z){(q._status===0||q._status===-1)&&(q._status=2,q._result=Z)}),q._status===-1&&(q._status=0,q._result=Y)}if(q._status===1)return q._result.default;throw q._result}var ne={current:null},J={transition:null},se={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:J,ReactCurrentOwner:F};function de(){throw Error("act(...) is not supported in production builds of React.")}return Pt.Children={map:te,forEach:function(q,Y,Z){te(q,function(){Y.apply(this,arguments)},Z)},count:function(q){var Y=0;return te(q,function(){Y++}),Y},toArray:function(q){return te(q,function(Y){return Y})||[]},only:function(q){if(!A(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Pt.Component=_,Pt.Fragment=t,Pt.Profiler=i,Pt.PureComponent=T,Pt.StrictMode=r,Pt.Suspense=l,Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Pt.act=de,Pt.cloneElement=function(q,Y,Z){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var le=b({},q.props),ce=q.key,ve=q.ref,ye=q._owner;if(Y!=null){if(Y.ref!==void 0&&(ve=Y.ref,ye=F.current),Y.key!==void 0&&(ce=""+Y.key),q.type&&q.type.defaultProps)var xe=q.type.defaultProps;for(Oe in Y)I.call(Y,Oe)&&!k.hasOwnProperty(Oe)&&(le[Oe]=Y[Oe]===void 0&&xe!==void 0?xe[Oe]:Y[Oe])}var Oe=arguments.length-2;if(Oe===1)le.children=Z;else if(1<Oe){xe=Array(Oe);for(var ke=0;ke<Oe;ke++)xe[ke]=arguments[ke+2];le.children=xe}return{$$typeof:n,type:q.type,key:ce,ref:ve,props:le,_owner:ye}},Pt.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},Pt.createElement=L,Pt.createFactory=function(q){var Y=L.bind(null,q);return Y.type=q,Y},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(q){return{$$typeof:a,render:q}},Pt.isValidElement=A,Pt.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:X}},Pt.memo=function(q,Y){return{$$typeof:u,type:q,compare:Y===void 0?null:Y}},Pt.startTransition=function(q){var Y=J.transition;J.transition={};try{q()}finally{J.transition=Y}},Pt.unstable_act=de,Pt.useCallback=function(q,Y){return ne.current.useCallback(q,Y)},Pt.useContext=function(q){return ne.current.useContext(q)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(q){return ne.current.useDeferredValue(q)},Pt.useEffect=function(q,Y){return ne.current.useEffect(q,Y)},Pt.useId=function(){return ne.current.useId()},Pt.useImperativeHandle=function(q,Y,Z){return ne.current.useImperativeHandle(q,Y,Z)},Pt.useInsertionEffect=function(q,Y){return ne.current.useInsertionEffect(q,Y)},Pt.useLayoutEffect=function(q,Y){return ne.current.useLayoutEffect(q,Y)},Pt.useMemo=function(q,Y){return ne.current.useMemo(q,Y)},Pt.useReducer=function(q,Y,Z){return ne.current.useReducer(q,Y,Z)},Pt.useRef=function(q){return ne.current.useRef(q)},Pt.useState=function(q){return ne.current.useState(q)},Pt.useSyncExternalStore=function(q,Y,Z){return ne.current.useSyncExternalStore(q,Y,Z)},Pt.useTransition=function(){return ne.current.useTransition()},Pt.version="18.3.1",Pt}var fV;function HN(){return fV||(fV=1,vP.exports=Xte()),vP.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pV;function Jte(){if(pV)return Nw;pV=1;var n=HN(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,u){var h,p={},m=null,y=null;u!==void 0&&(m=""+u),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(y=l.ref);for(h in l)r.call(l,h)&&!s.hasOwnProperty(h)&&(p[h]=l[h]);if(a&&a.defaultProps)for(h in l=a.defaultProps,l)p[h]===void 0&&(p[h]=l[h]);return{$$typeof:e,type:a,key:m,ref:y,props:p,_owner:i.current}}return Nw.Fragment=t,Nw.jsx=o,Nw.jsxs=o,Nw}var mV;function Qte(){return mV||(mV=1,yP.exports=Jte()),yP.exports}var M=Qte(),$=HN();const ie=ro($),UA=Kte({__proto__:null,default:ie},[$]);var zC={},wP={exports:{}},Os={},bP={exports:{}},_P={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gV;function Zte(){return gV||(gV=1,(function(n){function e(J,se){var de=J.length;J.push(se);e:for(;0<de;){var q=de-1>>>1,Y=J[q];if(0<i(Y,se))J[q]=se,J[de]=Y,de=q;else break e}}function t(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var se=J[0],de=J.pop();if(de!==se){J[0]=de;e:for(var q=0,Y=J.length,Z=Y>>>1;q<Z;){var le=2*(q+1)-1,ce=J[le],ve=le+1,ye=J[ve];if(0>i(ce,de))ve<Y&&0>i(ye,ce)?(J[q]=ye,J[ve]=de,q=ve):(J[q]=ce,J[le]=de,q=le);else if(ve<Y&&0>i(ye,de))J[q]=ye,J[ve]=de,q=ve;else break e}}return se}function i(J,se){var de=J.sortIndex-se.sortIndex;return de!==0?de:J.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,p=null,m=3,y=!1,b=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(J){for(var se=t(u);se!==null;){if(se.callback===null)r(u);else if(se.startTime<=J)r(u),se.sortIndex=se.expirationTime,e(l,se);else break;se=t(u)}}function x(J){if(w=!1,C(J),!b)if(t(l)!==null)b=!0,X(I);else{var se=t(u);se!==null&&ne(x,se.startTime-J)}}function I(J,se){b=!1,w&&(w=!1,E(L),L=-1),y=!0;var de=m;try{for(C(se),p=t(l);p!==null&&(!(p.expirationTime>se)||J&&!B());){var q=p.callback;if(typeof q=="function"){p.callback=null,m=p.priorityLevel;var Y=q(p.expirationTime<=se);se=n.unstable_now(),typeof Y=="function"?p.callback=Y:p===t(l)&&r(l),C(se)}else r(l);p=t(l)}if(p!==null)var Z=!0;else{var le=t(u);le!==null&&ne(x,le.startTime-se),Z=!1}return Z}finally{p=null,m=de,y=!1}}var F=!1,k=null,L=-1,N=5,A=-1;function B(){return!(n.unstable_now()-A<N)}function z(){if(k!==null){var J=n.unstable_now();A=J;var se=!0;try{se=k(!0,J)}finally{se?U():(F=!1,k=null)}}else F=!1}var U;if(typeof T=="function")U=function(){T(z)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,te=Q.port2;Q.port1.onmessage=z,U=function(){te.postMessage(null)}}else U=function(){_(z,0)};function X(J){k=J,F||(F=!0,U())}function ne(J,se){L=_(function(){J(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_continueExecution=function(){b||y||(b=!0,X(I))},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(J){switch(m){case 1:case 2:case 3:var se=3;break;default:se=m}var de=m;m=se;try{return J()}finally{m=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(J,se){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var de=m;m=J;try{return se()}finally{m=de}},n.unstable_scheduleCallback=function(J,se,de){var q=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?q+de:q):de=q,J){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=de+Y,J={id:h++,callback:se,priorityLevel:J,startTime:de,expirationTime:Y,sortIndex:-1},de>q?(J.sortIndex=de,e(u,J),t(l)===null&&J===t(u)&&(w?(E(L),L=-1):w=!0,ne(x,de-q))):(J.sortIndex=Y,e(l,J),b||y||(b=!0,X(I))),J},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(J){var se=m;return function(){var de=m;m=se;try{return J.apply(this,arguments)}finally{m=de}}}})(_P)),_P}var yV;function ene(){return yV||(yV=1,bP.exports=Zte()),bP.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vV;function tne(){if(vV)return Os;vV=1;var n=HN(),e=ene();function t(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(c,d){o(c,d),o(c+"Capture",d)}function o(c,d){for(i[c]=d,c=0;c<d.length;c++)r.add(d[c])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(c){return l.call(p,c)?!0:l.call(h,c)?!1:u.test(c)?p[c]=!0:(h[c]=!0,!1)}function y(c,d,g,S){if(g!==null&&g.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return S?!1:g!==null?!g.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function b(c,d,g,S){if(d===null||typeof d>"u"||y(c,d,g,S))return!0;if(S)return!1;if(g!==null)switch(g.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function w(c,d,g,S,R,O,W){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=S,this.attributeNamespace=R,this.mustUseProperty=g,this.propertyName=c,this.type=d,this.sanitizeURL=O,this.removeEmptyString=W}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){_[c]=new w(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];_[d]=new w(d,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){_[c]=new w(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){_[c]=new w(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){_[c]=new w(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){_[c]=new w(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){_[c]=new w(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){_[c]=new w(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){_[c]=new w(c,5,!1,c.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function T(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=c.replace(E,T);_[d]=new w(d,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(E,T);_[d]=new w(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(E,T);_[d]=new w(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){_[c]=new w(c,1,!1,c.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){_[c]=new w(c,1,!1,c.toLowerCase(),null,!0,!0)});function C(c,d,g,S){var R=_.hasOwnProperty(d)?_[d]:null;(R!==null?R.type!==0:S||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(b(d,g,R,S)&&(g=null),S||R===null?m(d)&&(g===null?c.removeAttribute(d):c.setAttribute(d,""+g)):R.mustUseProperty?c[R.propertyName]=g===null?R.type===3?!1:"":g:(d=R.attributeName,S=R.attributeNamespace,g===null?c.removeAttribute(d):(R=R.type,g=R===3||R===4&&g===!0?"":""+g,S?c.setAttributeNS(S,d,g):c.setAttribute(d,g))))}var x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),F=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),B=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),J=Symbol.iterator;function se(c){return c===null||typeof c!="object"?null:(c=J&&c[J]||c["@@iterator"],typeof c=="function"?c:null)}var de=Object.assign,q;function Y(c){if(q===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);q=d&&d[1]||""}return`
`+q+c}var Z=!1;function le(c,d){if(!c||Z)return"";Z=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(he){var S=he}Reflect.construct(c,[],d)}else{try{d.call()}catch(he){S=he}c.call(d.prototype)}else{try{throw Error()}catch(he){S=he}c()}}catch(he){if(he&&S&&typeof he.stack=="string"){for(var R=he.stack.split(`
`),O=S.stack.split(`
`),W=R.length-1,K=O.length-1;1<=W&&0<=K&&R[W]!==O[K];)K--;for(;1<=W&&0<=K;W--,K--)if(R[W]!==O[K]){if(W!==1||K!==1)do if(W--,K--,0>K||R[W]!==O[K]){var ee=`
`+R[W].replace(" at new "," at ");return c.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",c.displayName)),ee}while(1<=W&&0<=K);break}}}finally{Z=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?Y(c):""}function ce(c){switch(c.tag){case 5:return Y(c.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return c=le(c.type,!1),c;case 11:return c=le(c.type.render,!1),c;case 1:return c=le(c.type,!0),c;default:return""}}function ve(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case k:return"Fragment";case F:return"Portal";case N:return"Profiler";case L:return"StrictMode";case U:return"Suspense";case Q:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case B:return(c.displayName||"Context")+".Consumer";case A:return(c._context.displayName||"Context")+".Provider";case z:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case te:return d=c.displayName||null,d!==null?d:ve(c.type)||"Memo";case X:d=c._payload,c=c._init;try{return ve(c(d))}catch{}}return null}function ye(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(d);case 8:return d===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function xe(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Oe(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ke(c){var d=Oe(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),S=""+c[d];if(!c.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var R=g.get,O=g.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return R.call(this)},set:function(W){S=""+W,O.call(this,W)}}),Object.defineProperty(c,d,{enumerable:g.enumerable}),{getValue:function(){return S},setValue:function(W){S=""+W},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Xe(c){c._valueTracker||(c._valueTracker=ke(c))}function je(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var g=d.getValue(),S="";return c&&(S=Oe(c)?c.checked?"true":"false":c.value),c=S,c!==g?(d.setValue(c),!0):!1}function dt(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Ye(c,d){var g=d.checked;return de({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??c._wrapperState.initialChecked})}function Ue(c,d){var g=d.defaultValue==null?"":d.defaultValue,S=d.checked!=null?d.checked:d.defaultChecked;g=xe(d.value!=null?d.value:g),c._wrapperState={initialChecked:S,initialValue:g,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Jt(c,d){d=d.checked,d!=null&&C(c,"checked",d,!1)}function Fe(c,d){Jt(c,d);var g=xe(d.value),S=d.type;if(g!=null)S==="number"?(g===0&&c.value===""||c.value!=g)&&(c.value=""+g):c.value!==""+g&&(c.value=""+g);else if(S==="submit"||S==="reset"){c.removeAttribute("value");return}d.hasOwnProperty("value")?Ft(c,d.type,g):d.hasOwnProperty("defaultValue")&&Ft(c,d.type,xe(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(c.defaultChecked=!!d.defaultChecked)}function wt(c,d,g){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var S=d.type;if(!(S!=="submit"&&S!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+c._wrapperState.initialValue,g||d===c.value||(c.value=d),c.defaultValue=d}g=c.name,g!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,g!==""&&(c.name=g)}function Ft(c,d,g){(d!=="number"||dt(c.ownerDocument)!==c)&&(g==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+g&&(c.defaultValue=""+g))}var It=Array.isArray;function pt(c,d,g,S){if(c=c.options,d){d={};for(var R=0;R<g.length;R++)d["$"+g[R]]=!0;for(g=0;g<c.length;g++)R=d.hasOwnProperty("$"+c[g].value),c[g].selected!==R&&(c[g].selected=R),R&&S&&(c[g].defaultSelected=!0)}else{for(g=""+xe(g),d=null,R=0;R<c.length;R++){if(c[R].value===g){c[R].selected=!0,S&&(c[R].defaultSelected=!0);return}d!==null||c[R].disabled||(d=c[R])}d!==null&&(d.selected=!0)}}function Me(c,d){if(d.dangerouslySetInnerHTML!=null)throw Error(t(91));return de({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Mt(c,d){var g=d.value;if(g==null){if(g=d.children,d=d.defaultValue,g!=null){if(d!=null)throw Error(t(92));if(It(g)){if(1<g.length)throw Error(t(93));g=g[0]}d=g}d==null&&(d=""),g=d}c._wrapperState={initialValue:xe(g)}}function Ht(c,d){var g=xe(d.value),S=xe(d.defaultValue);g!=null&&(g=""+g,g!==c.value&&(c.value=g),d.defaultValue==null&&c.defaultValue!==g&&(c.defaultValue=g)),S!=null&&(c.defaultValue=""+S)}function zn(c){var d=c.textContent;d===c._wrapperState.initialValue&&d!==""&&d!==null&&(c.value=d)}function zt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(c,d){return c==null||c==="http://www.w3.org/1999/xhtml"?zt(d):c==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var bt,Wt=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,g,S,R){MSApp.execUnsafeLocalFunction(function(){return c(d,g,S,R)})}:c})(function(c,d){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=d;else{for(bt=bt||document.createElement("div"),bt.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=bt.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}});function mn(c,d){if(d){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=d;return}}c.textContent=d}var et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];Object.keys(et).forEach(function(c){tn.forEach(function(d){d=d+c.charAt(0).toUpperCase()+c.substring(1),et[d]=et[c]})});function wn(c,d,g){return d==null||typeof d=="boolean"||d===""?"":g||typeof d!="number"||d===0||et.hasOwnProperty(c)&&et[c]?(""+d).trim():d+"px"}function bn(c,d){c=c.style;for(var g in d)if(d.hasOwnProperty(g)){var S=g.indexOf("--")===0,R=wn(g,d[g],S);g==="float"&&(g="cssFloat"),S?c.setProperty(g,R):c[g]=R}}var tt=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qt(c,d){if(d){if(tt[c]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(t(137,c));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(t(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(t(61))}if(d.style!=null&&typeof d.style!="object")throw Error(t(62))}}function Wn(c,d){if(c.indexOf("-")===-1)return typeof d.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yr=null;function Fa(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var bd=null,As=null,Vo=null;function _d(c){if(c=Sw(c)){if(typeof bd!="function")throw Error(t(280));var d=c.stateNode;d&&(d=iC(d),bd(c.stateNode,c.type,d))}}function Ho(c){As?Vo?Vo.push(c):Vo=[c]:As=c}function Cf(){if(As){var c=As,d=Vo;if(Vo=As=null,_d(c),d)for(c=0;c<d.length;c++)_d(d[c])}}function $c(c,d){return c(d)}function mt(){}var kr=!1;function Sd(c,d,g){if(kr)return c(d,g);kr=!0;try{return $c(c,d,g)}finally{kr=!1,(As!==null||Vo!==null)&&(mt(),Cf())}}function Pr(c,d){var g=c.stateNode;if(g===null)return null;var S=iC(g);if(S===null)return null;g=S[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(c=c.type,S=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!S;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(t(231,d,typeof g));return g}var dg=!1;if(a)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){dg=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{dg=!1}function Tf(c,d,g,S,R,O,W,K,ee){var he=Array.prototype.slice.call(arguments,3);try{d.apply(g,he)}catch(be){this.onError(be)}}var Af=!1,hg=null,Ba=!1,nw=null,zI={onError:function(c){Af=!0,hg=c}};function fg(c,d,g,S,R,O,W,K,ee){Af=!1,hg=null,Tf.apply(zI,arguments)}function I1(c,d,g,S,R,O,W,K,ee){if(fg.apply(this,arguments),Af){if(Af){var he=hg;Af=!1,hg=null}else throw Error(t(198));Ba||(Ba=!0,nw=he)}}function $a(c){var d=c,g=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(g=d.return),c=d.return;while(c)}return d.tag===3?g:null}function xf(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function ja(c){if($a(c)!==c)throw Error(t(188))}function k1(c){var d=c.alternate;if(!d){if(d=$a(c),d===null)throw Error(t(188));return d!==c?null:c}for(var g=c,S=d;;){var R=g.return;if(R===null)break;var O=R.alternate;if(O===null){if(S=R.return,S!==null){g=S;continue}break}if(R.child===O.child){for(O=R.child;O;){if(O===g)return ja(R),c;if(O===S)return ja(R),d;O=O.sibling}throw Error(t(188))}if(g.return!==S.return)g=R,S=O;else{for(var W=!1,K=R.child;K;){if(K===g){W=!0,g=R,S=O;break}if(K===S){W=!0,S=R,g=O;break}K=K.sibling}if(!W){for(K=O.child;K;){if(K===g){W=!0,g=O,S=R;break}if(K===S){W=!0,S=O,g=R;break}K=K.sibling}if(!W)throw Error(t(189))}}if(g.alternate!==S)throw Error(t(190))}if(g.tag!==3)throw Error(t(188));return g.stateNode.current===g?c:d}function rw(c){return c=k1(c),c!==null?pg(c):null}function pg(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=pg(c);if(d!==null)return d;c=c.sibling}return null}var mg=e.unstable_scheduleCallback,iw=e.unstable_cancelCallback,P1=e.unstable_shouldYield,WI=e.unstable_requestPaint,$n=e.unstable_now,D1=e.unstable_getCurrentPriorityLevel,Rf=e.unstable_ImmediatePriority,Ed=e.unstable_UserBlockingPriority,zo=e.unstable_NormalPriority,sw=e.unstable_LowPriority,M1=e.unstable_IdlePriority,If=null,io=null;function O1(c){if(io&&typeof io.onCommitFiberRoot=="function")try{io.onCommitFiberRoot(If,c,void 0,(c.current.flags&128)===128)}catch{}}var us=Math.clz32?Math.clz32:F1,ow=Math.log,L1=Math.LN2;function F1(c){return c>>>=0,c===0?32:31-(ow(c)/L1|0)|0}var gg=64,yg=4194304;function Cd(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function kf(c,d){var g=c.pendingLanes;if(g===0)return 0;var S=0,R=c.suspendedLanes,O=c.pingedLanes,W=g&268435455;if(W!==0){var K=W&~R;K!==0?S=Cd(K):(O&=W,O!==0&&(S=Cd(O)))}else W=g&~R,W!==0?S=Cd(W):O!==0&&(S=Cd(O));if(S===0)return 0;if(d!==0&&d!==S&&(d&R)===0&&(R=S&-S,O=d&-d,R>=O||R===16&&(O&4194240)!==0))return d;if((S&4)!==0&&(S|=g&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=S;0<d;)g=31-us(d),R=1<<g,S|=c[g],d&=~R;return S}function qI(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jc(c,d){for(var g=c.suspendedLanes,S=c.pingedLanes,R=c.expirationTimes,O=c.pendingLanes;0<O;){var W=31-us(O),K=1<<W,ee=R[W];ee===-1?((K&g)===0||(K&S)!==0)&&(R[W]=qI(K,d)):ee<=d&&(c.expiredLanes|=K),O&=~K}}function so(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Pf(){var c=gg;return gg<<=1,(gg&4194240)===0&&(gg=64),c}function Td(c){for(var d=[],g=0;31>g;g++)d.push(c);return d}function Ad(c,d,g){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-us(d),c[d]=g}function kn(c,d){var g=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var S=c.eventTimes;for(c=c.expirationTimes;0<g;){var R=31-us(g),O=1<<R;d[R]=0,S[R]=-1,c[R]=-1,g&=~O}}function xd(c,d){var g=c.entangledLanes|=d;for(c=c.entanglements;g;){var S=31-us(g),R=1<<S;R&d|c[S]&d&&(c[S]|=d),g&=~R}}var Gt=0;function Rd(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var N1,vg,B1,$1,j1,aw=!1,kl=[],Si=null,Ua=null,Va=null,Id=new Map,Wo=new Map,Pl=[],GI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U1(c,d){switch(c){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":Id.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(d.pointerId)}}function xs(c,d,g,S,R,O){return c===null||c.nativeEvent!==O?(c={blockedOn:d,domEventName:g,eventSystemFlags:S,nativeEvent:O,targetContainers:[R]},d!==null&&(d=Sw(d),d!==null&&vg(d)),c):(c.eventSystemFlags|=S,d=c.targetContainers,R!==null&&d.indexOf(R)===-1&&d.push(R),c)}function YI(c,d,g,S,R){switch(d){case"focusin":return Si=xs(Si,c,d,g,S,R),!0;case"dragenter":return Ua=xs(Ua,c,d,g,S,R),!0;case"mouseover":return Va=xs(Va,c,d,g,S,R),!0;case"pointerover":var O=R.pointerId;return Id.set(O,xs(Id.get(O)||null,c,d,g,S,R)),!0;case"gotpointercapture":return O=R.pointerId,Wo.set(O,xs(Wo.get(O)||null,c,d,g,S,R)),!0}return!1}function V1(c){var d=Ff(c.target);if(d!==null){var g=$a(d);if(g!==null){if(d=g.tag,d===13){if(d=xf(g),d!==null){c.blockedOn=d,j1(c.priority,function(){B1(g)});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Uc(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var g=wg(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(g===null){g=c.nativeEvent;var S=new g.constructor(g.type,g);Yr=S,g.target.dispatchEvent(S),Yr=null}else return d=Sw(g),d!==null&&vg(d),c.blockedOn=g,!1;d.shift()}return!0}function Df(c,d,g){Uc(c)&&g.delete(d)}function H1(){aw=!1,Si!==null&&Uc(Si)&&(Si=null),Ua!==null&&Uc(Ua)&&(Ua=null),Va!==null&&Uc(Va)&&(Va=null),Id.forEach(Df),Wo.forEach(Df)}function Ha(c,d){c.blockedOn===d&&(c.blockedOn=null,aw||(aw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,H1)))}function za(c){function d(R){return Ha(R,c)}if(0<kl.length){Ha(kl[0],c);for(var g=1;g<kl.length;g++){var S=kl[g];S.blockedOn===c&&(S.blockedOn=null)}}for(Si!==null&&Ha(Si,c),Ua!==null&&Ha(Ua,c),Va!==null&&Ha(Va,c),Id.forEach(d),Wo.forEach(d),g=0;g<Pl.length;g++)S=Pl[g],S.blockedOn===c&&(S.blockedOn=null);for(;0<Pl.length&&(g=Pl[0],g.blockedOn===null);)V1(g),g.blockedOn===null&&Pl.shift()}var Vc=x.ReactCurrentBatchConfig,kd=!0;function er(c,d,g,S){var R=Gt,O=Vc.transition;Vc.transition=null;try{Gt=1,lw(c,d,g,S)}finally{Gt=R,Vc.transition=O}}function KI(c,d,g,S){var R=Gt,O=Vc.transition;Vc.transition=null;try{Gt=4,lw(c,d,g,S)}finally{Gt=R,Vc.transition=O}}function lw(c,d,g,S){if(kd){var R=wg(c,d,g,S);if(R===null)ok(c,d,S,Mf,g),U1(c,S);else if(YI(R,c,d,g,S))S.stopPropagation();else if(U1(c,S),d&4&&-1<GI.indexOf(c)){for(;R!==null;){var O=Sw(R);if(O!==null&&N1(O),O=wg(c,d,g,S),O===null&&ok(c,d,S,Mf,g),O===R)break;R=O}R!==null&&S.stopPropagation()}else ok(c,d,S,null,g)}}var Mf=null;function wg(c,d,g,S){if(Mf=null,c=Fa(S),c=Ff(c),c!==null)if(d=$a(c),d===null)c=null;else if(g=d.tag,g===13){if(c=xf(d),c!==null)return c;c=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);return Mf=c,null}function cw(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D1()){case Rf:return 1;case Ed:return 4;case zo:case sw:return 16;case M1:return 536870912;default:return 16}default:return 16}}var oo=null,bg=null,Rs=null;function uw(){if(Rs)return Rs;var c,d=bg,g=d.length,S,R="value"in oo?oo.value:oo.textContent,O=R.length;for(c=0;c<g&&d[c]===R[c];c++);var W=g-c;for(S=1;S<=W&&d[g-S]===R[O-S];S++);return Rs=R.slice(c,1<S?1-S:void 0)}function _g(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Dl(){return!0}function dw(){return!1}function Ei(c){function d(g,S,R,O,W){this._reactName=g,this._targetInst=R,this.type=S,this.nativeEvent=O,this.target=W,this.currentTarget=null;for(var K in c)c.hasOwnProperty(K)&&(g=c[K],this[K]=g?g(O):O[K]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Dl:dw,this.isPropagationStopped=dw,this}return de(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),d}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sg=Ei(Wa),Ml=de({},Wa,{view:0,detail:0}),XI=Ei(Ml),Eg,Hc,Pd,Of=de({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ol,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Pd&&(Pd&&c.type==="mousemove"?(Eg=c.screenX-Pd.screenX,Hc=c.screenY-Pd.screenY):Hc=Eg=0,Pd=c),Eg)},movementY:function(c){return"movementY"in c?c.movementY:Hc}}),Cg=Ei(Of),hw=de({},Of,{dataTransfer:0}),z1=Ei(hw),Tg=de({},Ml,{relatedTarget:0}),Ag=Ei(Tg),W1=de({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),zc=Ei(W1),q1=de({},Wa,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),G1=Ei(q1),Y1=de({},Wa,{data:0}),fw=Ei(Y1),xg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ds={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X1(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=K1[c])?!!d[c]:!1}function Ol(){return X1}var v=de({},Ml,{key:function(c){if(c.key){var d=xg[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=_g(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?ds[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ol,charCode:function(c){return c.type==="keypress"?_g(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?_g(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),P=Ei(v),V=de({},Of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G=Ei(V),oe=de({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ol}),pe=Ei(oe),Ie=de({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),gn=Ei(Ie),Kr=de({},Of,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Qt=Ei(Kr),ui=[9,13,27,32],Br=a&&"CompositionEvent"in window,qo=null;a&&"documentMode"in document&&(qo=document.documentMode);var ao=a&&"TextEvent"in window&&!qo,Lf=a&&(!Br||qo&&8<qo&&11>=qo),Rg=" ",sU=!1;function oU(c,d){switch(c){case"keyup":return ui.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aU(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Ig=!1;function zee(c,d){switch(c){case"compositionend":return aU(d);case"keypress":return d.which!==32?null:(sU=!0,Rg);case"textInput":return c=d.data,c===Rg&&sU?null:c;default:return null}}function Wee(c,d){if(Ig)return c==="compositionend"||!Br&&oU(c,d)?(c=uw(),Rs=bg=oo=null,Ig=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Lf&&d.locale!=="ko"?null:d.data;default:return null}}var qee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lU(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!qee[c.type]:d==="textarea"}function cU(c,d,g,S){Ho(S),d=tC(d,"onChange"),0<d.length&&(g=new Sg("onChange","change",null,g,S),c.push({event:g,listeners:d}))}var pw=null,mw=null;function Gee(c){xU(c,0)}function J1(c){var d=Og(c);if(je(d))return c}function Yee(c,d){if(c==="change")return d}var uU=!1;if(a){var JI;if(a){var QI="oninput"in document;if(!QI){var dU=document.createElement("div");dU.setAttribute("oninput","return;"),QI=typeof dU.oninput=="function"}JI=QI}else JI=!1;uU=JI&&(!document.documentMode||9<document.documentMode)}function hU(){pw&&(pw.detachEvent("onpropertychange",fU),mw=pw=null)}function fU(c){if(c.propertyName==="value"&&J1(mw)){var d=[];cU(d,mw,c,Fa(c)),Sd(Gee,d)}}function Kee(c,d,g){c==="focusin"?(hU(),pw=d,mw=g,pw.attachEvent("onpropertychange",fU)):c==="focusout"&&hU()}function Xee(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return J1(mw)}function Jee(c,d){if(c==="click")return J1(d)}function Qee(c,d){if(c==="input"||c==="change")return J1(d)}function Zee(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var qa=typeof Object.is=="function"?Object.is:Zee;function gw(c,d){if(qa(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var g=Object.keys(c),S=Object.keys(d);if(g.length!==S.length)return!1;for(S=0;S<g.length;S++){var R=g[S];if(!l.call(d,R)||!qa(c[R],d[R]))return!1}return!0}function pU(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function mU(c,d){var g=pU(c);c=0;for(var S;g;){if(g.nodeType===3){if(S=c+g.textContent.length,c<=d&&S>=d)return{node:g,offset:d-c};c=S}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=pU(g)}}function gU(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?gU(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function yU(){for(var c=window,d=dt();d instanceof c.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)c=d.contentWindow;else break;d=dt(c.document)}return d}function ZI(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function ete(c){var d=yU(),g=c.focusedElem,S=c.selectionRange;if(d!==g&&g&&g.ownerDocument&&gU(g.ownerDocument.documentElement,g)){if(S!==null&&ZI(g)){if(d=S.start,c=S.end,c===void 0&&(c=d),"selectionStart"in g)g.selectionStart=d,g.selectionEnd=Math.min(c,g.value.length);else if(c=(d=g.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var R=g.textContent.length,O=Math.min(S.start,R);S=S.end===void 0?O:Math.min(S.end,R),!c.extend&&O>S&&(R=S,S=O,O=R),R=mU(g,O);var W=mU(g,S);R&&W&&(c.rangeCount!==1||c.anchorNode!==R.node||c.anchorOffset!==R.offset||c.focusNode!==W.node||c.focusOffset!==W.offset)&&(d=d.createRange(),d.setStart(R.node,R.offset),c.removeAllRanges(),O>S?(c.addRange(d),c.extend(W.node,W.offset)):(d.setEnd(W.node,W.offset),c.addRange(d)))}}for(d=[],c=g;c=c.parentNode;)c.nodeType===1&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<d.length;g++)c=d[g],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var tte=a&&"documentMode"in document&&11>=document.documentMode,kg=null,ek=null,yw=null,tk=!1;function vU(c,d,g){var S=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;tk||kg==null||kg!==dt(S)||(S=kg,"selectionStart"in S&&ZI(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),yw&&gw(yw,S)||(yw=S,S=tC(ek,"onSelect"),0<S.length&&(d=new Sg("onSelect","select",null,d,g),c.push({event:d,listeners:S}),d.target=kg)))}function Q1(c,d){var g={};return g[c.toLowerCase()]=d.toLowerCase(),g["Webkit"+c]="webkit"+d,g["Moz"+c]="moz"+d,g}var Pg={animationend:Q1("Animation","AnimationEnd"),animationiteration:Q1("Animation","AnimationIteration"),animationstart:Q1("Animation","AnimationStart"),transitionend:Q1("Transition","TransitionEnd")},nk={},wU={};a&&(wU=document.createElement("div").style,"AnimationEvent"in window||(delete Pg.animationend.animation,delete Pg.animationiteration.animation,delete Pg.animationstart.animation),"TransitionEvent"in window||delete Pg.transitionend.transition);function Z1(c){if(nk[c])return nk[c];if(!Pg[c])return c;var d=Pg[c],g;for(g in d)if(d.hasOwnProperty(g)&&g in wU)return nk[c]=d[g];return c}var bU=Z1("animationend"),_U=Z1("animationiteration"),SU=Z1("animationstart"),EU=Z1("transitionend"),CU=new Map,TU="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dd(c,d){CU.set(c,d),s(d,[c])}for(var rk=0;rk<TU.length;rk++){var ik=TU[rk],nte=ik.toLowerCase(),rte=ik[0].toUpperCase()+ik.slice(1);Dd(nte,"on"+rte)}Dd(bU,"onAnimationEnd"),Dd(_U,"onAnimationIteration"),Dd(SU,"onAnimationStart"),Dd("dblclick","onDoubleClick"),Dd("focusin","onFocus"),Dd("focusout","onBlur"),Dd(EU,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ite=new Set("cancel close invalid load scroll toggle".split(" ").concat(vw));function AU(c,d,g){var S=c.type||"unknown-event";c.currentTarget=g,I1(S,d,void 0,c),c.currentTarget=null}function xU(c,d){d=(d&4)!==0;for(var g=0;g<c.length;g++){var S=c[g],R=S.event;S=S.listeners;e:{var O=void 0;if(d)for(var W=S.length-1;0<=W;W--){var K=S[W],ee=K.instance,he=K.currentTarget;if(K=K.listener,ee!==O&&R.isPropagationStopped())break e;AU(R,K,he),O=ee}else for(W=0;W<S.length;W++){if(K=S[W],ee=K.instance,he=K.currentTarget,K=K.listener,ee!==O&&R.isPropagationStopped())break e;AU(R,K,he),O=ee}}}if(Ba)throw c=nw,Ba=!1,nw=null,c}function qn(c,d){var g=d[hk];g===void 0&&(g=d[hk]=new Set);var S=c+"__bubble";g.has(S)||(RU(d,c,2,!1),g.add(S))}function sk(c,d,g){var S=0;d&&(S|=4),RU(g,c,S,d)}var eC="_reactListening"+Math.random().toString(36).slice(2);function ww(c){if(!c[eC]){c[eC]=!0,r.forEach(function(g){g!=="selectionchange"&&(ite.has(g)||sk(g,!1,c),sk(g,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[eC]||(d[eC]=!0,sk("selectionchange",!1,d))}}function RU(c,d,g,S){switch(cw(d)){case 1:var R=er;break;case 4:R=KI;break;default:R=lw}g=R.bind(null,d,g,c),R=void 0,!dg||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(R=!0),S?R!==void 0?c.addEventListener(d,g,{capture:!0,passive:R}):c.addEventListener(d,g,!0):R!==void 0?c.addEventListener(d,g,{passive:R}):c.addEventListener(d,g,!1)}function ok(c,d,g,S,R){var O=S;if((d&1)===0&&(d&2)===0&&S!==null)e:for(;;){if(S===null)return;var W=S.tag;if(W===3||W===4){var K=S.stateNode.containerInfo;if(K===R||K.nodeType===8&&K.parentNode===R)break;if(W===4)for(W=S.return;W!==null;){var ee=W.tag;if((ee===3||ee===4)&&(ee=W.stateNode.containerInfo,ee===R||ee.nodeType===8&&ee.parentNode===R))return;W=W.return}for(;K!==null;){if(W=Ff(K),W===null)return;if(ee=W.tag,ee===5||ee===6){S=O=W;continue e}K=K.parentNode}}S=S.return}Sd(function(){var he=O,be=Fa(g),Ce=[];e:{var we=CU.get(c);if(we!==void 0){var $e=Sg,Ke=c;switch(c){case"keypress":if(_g(g)===0)break e;case"keydown":case"keyup":$e=P;break;case"focusin":Ke="focus",$e=Ag;break;case"focusout":Ke="blur",$e=Ag;break;case"beforeblur":case"afterblur":$e=Ag;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=Cg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=z1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=pe;break;case bU:case _U:case SU:$e=zc;break;case EU:$e=gn;break;case"scroll":$e=XI;break;case"wheel":$e=Qt;break;case"copy":case"cut":case"paste":$e=G1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=G}var Je=(d&4)!==0,Dr=!Je&&c==="scroll",ae=Je?we!==null?we+"Capture":null:we;Je=[];for(var re=he,ue;re!==null;){ue=re;var Ae=ue.stateNode;if(ue.tag===5&&Ae!==null&&(ue=Ae,ae!==null&&(Ae=Pr(re,ae),Ae!=null&&Je.push(bw(re,Ae,ue)))),Dr)break;re=re.return}0<Je.length&&(we=new $e(we,Ke,null,g,be),Ce.push({event:we,listeners:Je}))}}if((d&7)===0){e:{if(we=c==="mouseover"||c==="pointerover",$e=c==="mouseout"||c==="pointerout",we&&g!==Yr&&(Ke=g.relatedTarget||g.fromElement)&&(Ff(Ke)||Ke[Wc]))break e;if(($e||we)&&(we=be.window===be?be:(we=be.ownerDocument)?we.defaultView||we.parentWindow:window,$e?(Ke=g.relatedTarget||g.toElement,$e=he,Ke=Ke?Ff(Ke):null,Ke!==null&&(Dr=$a(Ke),Ke!==Dr||Ke.tag!==5&&Ke.tag!==6)&&(Ke=null)):($e=null,Ke=he),$e!==Ke)){if(Je=Cg,Ae="onMouseLeave",ae="onMouseEnter",re="mouse",(c==="pointerout"||c==="pointerover")&&(Je=G,Ae="onPointerLeave",ae="onPointerEnter",re="pointer"),Dr=$e==null?we:Og($e),ue=Ke==null?we:Og(Ke),we=new Je(Ae,re+"leave",$e,g,be),we.target=Dr,we.relatedTarget=ue,Ae=null,Ff(be)===he&&(Je=new Je(ae,re+"enter",Ke,g,be),Je.target=ue,Je.relatedTarget=Dr,Ae=Je),Dr=Ae,$e&&Ke)t:{for(Je=$e,ae=Ke,re=0,ue=Je;ue;ue=Dg(ue))re++;for(ue=0,Ae=ae;Ae;Ae=Dg(Ae))ue++;for(;0<re-ue;)Je=Dg(Je),re--;for(;0<ue-re;)ae=Dg(ae),ue--;for(;re--;){if(Je===ae||ae!==null&&Je===ae.alternate)break t;Je=Dg(Je),ae=Dg(ae)}Je=null}else Je=null;$e!==null&&IU(Ce,we,$e,Je,!1),Ke!==null&&Dr!==null&&IU(Ce,Dr,Ke,Je,!0)}}e:{if(we=he?Og(he):window,$e=we.nodeName&&we.nodeName.toLowerCase(),$e==="select"||$e==="input"&&we.type==="file")var Ze=Yee;else if(lU(we))if(uU)Ze=Qee;else{Ze=Xee;var st=Kee}else($e=we.nodeName)&&$e.toLowerCase()==="input"&&(we.type==="checkbox"||we.type==="radio")&&(Ze=Jee);if(Ze&&(Ze=Ze(c,he))){cU(Ce,Ze,g,be);break e}st&&st(c,we,he),c==="focusout"&&(st=we._wrapperState)&&st.controlled&&we.type==="number"&&Ft(we,"number",we.value)}switch(st=he?Og(he):window,c){case"focusin":(lU(st)||st.contentEditable==="true")&&(kg=st,ek=he,yw=null);break;case"focusout":yw=ek=kg=null;break;case"mousedown":tk=!0;break;case"contextmenu":case"mouseup":case"dragend":tk=!1,vU(Ce,g,be);break;case"selectionchange":if(tte)break;case"keydown":case"keyup":vU(Ce,g,be)}var ot;if(Br)e:{switch(c){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else Ig?oU(c,g)&&(ft="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(ft="onCompositionStart");ft&&(Lf&&g.locale!=="ko"&&(Ig||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Ig&&(ot=uw()):(oo=be,bg="value"in oo?oo.value:oo.textContent,Ig=!0)),st=tC(he,ft),0<st.length&&(ft=new fw(ft,c,null,g,be),Ce.push({event:ft,listeners:st}),ot?ft.data=ot:(ot=aU(g),ot!==null&&(ft.data=ot)))),(ot=ao?zee(c,g):Wee(c,g))&&(he=tC(he,"onBeforeInput"),0<he.length&&(be=new fw("onBeforeInput","beforeinput",null,g,be),Ce.push({event:be,listeners:he}),be.data=ot))}xU(Ce,d)})}function bw(c,d,g){return{instance:c,listener:d,currentTarget:g}}function tC(c,d){for(var g=d+"Capture",S=[];c!==null;){var R=c,O=R.stateNode;R.tag===5&&O!==null&&(R=O,O=Pr(c,g),O!=null&&S.unshift(bw(c,O,R)),O=Pr(c,d),O!=null&&S.push(bw(c,O,R))),c=c.return}return S}function Dg(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function IU(c,d,g,S,R){for(var O=d._reactName,W=[];g!==null&&g!==S;){var K=g,ee=K.alternate,he=K.stateNode;if(ee!==null&&ee===S)break;K.tag===5&&he!==null&&(K=he,R?(ee=Pr(g,O),ee!=null&&W.unshift(bw(g,ee,K))):R||(ee=Pr(g,O),ee!=null&&W.push(bw(g,ee,K)))),g=g.return}W.length!==0&&c.push({event:d,listeners:W})}var ste=/\r\n?/g,ote=/\u0000|\uFFFD/g;function kU(c){return(typeof c=="string"?c:""+c).replace(ste,`
`).replace(ote,"")}function nC(c,d,g){if(d=kU(d),kU(c)!==d&&g)throw Error(t(425))}function rC(){}var ak=null,lk=null;function ck(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var uk=typeof setTimeout=="function"?setTimeout:void 0,ate=typeof clearTimeout=="function"?clearTimeout:void 0,PU=typeof Promise=="function"?Promise:void 0,lte=typeof queueMicrotask=="function"?queueMicrotask:typeof PU<"u"?function(c){return PU.resolve(null).then(c).catch(cte)}:uk;function cte(c){setTimeout(function(){throw c})}function dk(c,d){var g=d,S=0;do{var R=g.nextSibling;if(c.removeChild(g),R&&R.nodeType===8)if(g=R.data,g==="/$"){if(S===0){c.removeChild(R),za(d);return}S--}else g!=="$"&&g!=="$?"&&g!=="$!"||S++;g=R}while(g);za(d)}function Md(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return c}function DU(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(d===0)return c;d--}else g==="/$"&&d++}c=c.previousSibling}return null}var Mg=Math.random().toString(36).slice(2),Ll="__reactFiber$"+Mg,_w="__reactProps$"+Mg,Wc="__reactContainer$"+Mg,hk="__reactEvents$"+Mg,ute="__reactListeners$"+Mg,dte="__reactHandles$"+Mg;function Ff(c){var d=c[Ll];if(d)return d;for(var g=c.parentNode;g;){if(d=g[Wc]||g[Ll]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(c=DU(c);c!==null;){if(g=c[Ll])return g;c=DU(c)}return d}c=g,g=c.parentNode}return null}function Sw(c){return c=c[Ll]||c[Wc],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Og(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(t(33))}function iC(c){return c[_w]||null}var fk=[],Lg=-1;function Od(c){return{current:c}}function Gn(c){0>Lg||(c.current=fk[Lg],fk[Lg]=null,Lg--)}function jn(c,d){Lg++,fk[Lg]=c.current,c.current=d}var Ld={},Ui=Od(Ld),Is=Od(!1),Nf=Ld;function Fg(c,d){var g=c.type.contextTypes;if(!g)return Ld;var S=c.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===d)return S.__reactInternalMemoizedMaskedChildContext;var R={},O;for(O in g)R[O]=d[O];return S&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=R),R}function ks(c){return c=c.childContextTypes,c!=null}function sC(){Gn(Is),Gn(Ui)}function MU(c,d,g){if(Ui.current!==Ld)throw Error(t(168));jn(Ui,d),jn(Is,g)}function OU(c,d,g){var S=c.stateNode;if(d=d.childContextTypes,typeof S.getChildContext!="function")return g;S=S.getChildContext();for(var R in S)if(!(R in d))throw Error(t(108,ye(c)||"Unknown",R));return de({},g,S)}function oC(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Ld,Nf=Ui.current,jn(Ui,c),jn(Is,Is.current),!0}function LU(c,d,g){var S=c.stateNode;if(!S)throw Error(t(169));g?(c=OU(c,d,Nf),S.__reactInternalMemoizedMergedChildContext=c,Gn(Is),Gn(Ui),jn(Ui,c)):Gn(Is),jn(Is,g)}var qc=null,aC=!1,pk=!1;function FU(c){qc===null?qc=[c]:qc.push(c)}function hte(c){aC=!0,FU(c)}function Fd(){if(!pk&&qc!==null){pk=!0;var c=0,d=Gt;try{var g=qc;for(Gt=1;c<g.length;c++){var S=g[c];do S=S(!0);while(S!==null)}qc=null,aC=!1}catch(R){throw qc!==null&&(qc=qc.slice(c+1)),mg(Rf,Fd),R}finally{Gt=d,pk=!1}}return null}var Ng=[],Bg=0,lC=null,cC=0,Go=[],Yo=0,Bf=null,Gc=1,Yc="";function $f(c,d){Ng[Bg++]=cC,Ng[Bg++]=lC,lC=c,cC=d}function NU(c,d,g){Go[Yo++]=Gc,Go[Yo++]=Yc,Go[Yo++]=Bf,Bf=c;var S=Gc;c=Yc;var R=32-us(S)-1;S&=~(1<<R),g+=1;var O=32-us(d)+R;if(30<O){var W=R-R%5;O=(S&(1<<W)-1).toString(32),S>>=W,R-=W,Gc=1<<32-us(d)+R|g<<R|S,Yc=O+c}else Gc=1<<O|g<<R|S,Yc=c}function mk(c){c.return!==null&&($f(c,1),NU(c,1,0))}function gk(c){for(;c===lC;)lC=Ng[--Bg],Ng[Bg]=null,cC=Ng[--Bg],Ng[Bg]=null;for(;c===Bf;)Bf=Go[--Yo],Go[Yo]=null,Yc=Go[--Yo],Go[Yo]=null,Gc=Go[--Yo],Go[Yo]=null}var lo=null,co=null,tr=!1,Ga=null;function BU(c,d){var g=Qo(5,null,null,0);g.elementType="DELETED",g.stateNode=d,g.return=c,d=c.deletions,d===null?(c.deletions=[g],c.flags|=16):d.push(g)}function $U(c,d){switch(c.tag){case 5:var g=c.type;return d=d.nodeType!==1||g.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(c.stateNode=d,lo=c,co=Md(d.firstChild),!0):!1;case 6:return d=c.pendingProps===""||d.nodeType!==3?null:d,d!==null?(c.stateNode=d,lo=c,co=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(g=Bf!==null?{id:Gc,overflow:Yc}:null,c.memoizedState={dehydrated:d,treeContext:g,retryLane:1073741824},g=Qo(18,null,null,0),g.stateNode=d,g.return=c,c.child=g,lo=c,co=null,!0):!1;default:return!1}}function yk(c){return(c.mode&1)!==0&&(c.flags&128)===0}function vk(c){if(tr){var d=co;if(d){var g=d;if(!$U(c,d)){if(yk(c))throw Error(t(418));d=Md(g.nextSibling);var S=lo;d&&$U(c,d)?BU(S,g):(c.flags=c.flags&-4097|2,tr=!1,lo=c)}}else{if(yk(c))throw Error(t(418));c.flags=c.flags&-4097|2,tr=!1,lo=c}}}function jU(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;lo=c}function uC(c){if(c!==lo)return!1;if(!tr)return jU(c),tr=!0,!1;var d;if((d=c.tag!==3)&&!(d=c.tag!==5)&&(d=c.type,d=d!=="head"&&d!=="body"&&!ck(c.type,c.memoizedProps)),d&&(d=co)){if(yk(c))throw UU(),Error(t(418));for(;d;)BU(c,d),d=Md(d.nextSibling)}if(jU(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(t(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"){if(d===0){co=Md(c.nextSibling);break e}d--}else g!=="$"&&g!=="$!"&&g!=="$?"||d++}c=c.nextSibling}co=null}}else co=lo?Md(c.stateNode.nextSibling):null;return!0}function UU(){for(var c=co;c;)c=Md(c.nextSibling)}function $g(){co=lo=null,tr=!1}function wk(c){Ga===null?Ga=[c]:Ga.push(c)}var fte=x.ReactCurrentBatchConfig;function Ew(c,d,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(t(309));var S=g.stateNode}if(!S)throw Error(t(147,c));var R=S,O=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===O?d.ref:(d=function(W){var K=R.refs;W===null?delete K[O]:K[O]=W},d._stringRef=O,d)}if(typeof c!="string")throw Error(t(284));if(!g._owner)throw Error(t(290,c))}return c}function dC(c,d){throw c=Object.prototype.toString.call(d),Error(t(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function VU(c){var d=c._init;return d(c._payload)}function HU(c){function d(ae,re){if(c){var ue=ae.deletions;ue===null?(ae.deletions=[re],ae.flags|=16):ue.push(re)}}function g(ae,re){if(!c)return null;for(;re!==null;)d(ae,re),re=re.sibling;return null}function S(ae,re){for(ae=new Map;re!==null;)re.key!==null?ae.set(re.key,re):ae.set(re.index,re),re=re.sibling;return ae}function R(ae,re){return ae=zd(ae,re),ae.index=0,ae.sibling=null,ae}function O(ae,re,ue){return ae.index=ue,c?(ue=ae.alternate,ue!==null?(ue=ue.index,ue<re?(ae.flags|=2,re):ue):(ae.flags|=2,re)):(ae.flags|=1048576,re)}function W(ae){return c&&ae.alternate===null&&(ae.flags|=2),ae}function K(ae,re,ue,Ae){return re===null||re.tag!==6?(re=uP(ue,ae.mode,Ae),re.return=ae,re):(re=R(re,ue),re.return=ae,re)}function ee(ae,re,ue,Ae){var Ze=ue.type;return Ze===k?be(ae,re,ue.props.children,Ae,ue.key):re!==null&&(re.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===X&&VU(Ze)===re.type)?(Ae=R(re,ue.props),Ae.ref=Ew(ae,re,ue),Ae.return=ae,Ae):(Ae=LC(ue.type,ue.key,ue.props,null,ae.mode,Ae),Ae.ref=Ew(ae,re,ue),Ae.return=ae,Ae)}function he(ae,re,ue,Ae){return re===null||re.tag!==4||re.stateNode.containerInfo!==ue.containerInfo||re.stateNode.implementation!==ue.implementation?(re=dP(ue,ae.mode,Ae),re.return=ae,re):(re=R(re,ue.children||[]),re.return=ae,re)}function be(ae,re,ue,Ae,Ze){return re===null||re.tag!==7?(re=Gf(ue,ae.mode,Ae,Ze),re.return=ae,re):(re=R(re,ue),re.return=ae,re)}function Ce(ae,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number")return re=uP(""+re,ae.mode,ue),re.return=ae,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case I:return ue=LC(re.type,re.key,re.props,null,ae.mode,ue),ue.ref=Ew(ae,null,re),ue.return=ae,ue;case F:return re=dP(re,ae.mode,ue),re.return=ae,re;case X:var Ae=re._init;return Ce(ae,Ae(re._payload),ue)}if(It(re)||se(re))return re=Gf(re,ae.mode,ue,null),re.return=ae,re;dC(ae,re)}return null}function we(ae,re,ue,Ae){var Ze=re!==null?re.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Ze!==null?null:K(ae,re,""+ue,Ae);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case I:return ue.key===Ze?ee(ae,re,ue,Ae):null;case F:return ue.key===Ze?he(ae,re,ue,Ae):null;case X:return Ze=ue._init,we(ae,re,Ze(ue._payload),Ae)}if(It(ue)||se(ue))return Ze!==null?null:be(ae,re,ue,Ae,null);dC(ae,ue)}return null}function $e(ae,re,ue,Ae,Ze){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return ae=ae.get(ue)||null,K(re,ae,""+Ae,Ze);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case I:return ae=ae.get(Ae.key===null?ue:Ae.key)||null,ee(re,ae,Ae,Ze);case F:return ae=ae.get(Ae.key===null?ue:Ae.key)||null,he(re,ae,Ae,Ze);case X:var st=Ae._init;return $e(ae,re,ue,st(Ae._payload),Ze)}if(It(Ae)||se(Ae))return ae=ae.get(ue)||null,be(re,ae,Ae,Ze,null);dC(re,Ae)}return null}function Ke(ae,re,ue,Ae){for(var Ze=null,st=null,ot=re,ft=re=0,fi=null;ot!==null&&ft<ue.length;ft++){ot.index>ft?(fi=ot,ot=null):fi=ot.sibling;var on=we(ae,ot,ue[ft],Ae);if(on===null){ot===null&&(ot=fi);break}c&&ot&&on.alternate===null&&d(ae,ot),re=O(on,re,ft),st===null?Ze=on:st.sibling=on,st=on,ot=fi}if(ft===ue.length)return g(ae,ot),tr&&$f(ae,ft),Ze;if(ot===null){for(;ft<ue.length;ft++)ot=Ce(ae,ue[ft],Ae),ot!==null&&(re=O(ot,re,ft),st===null?Ze=ot:st.sibling=ot,st=ot);return tr&&$f(ae,ft),Ze}for(ot=S(ae,ot);ft<ue.length;ft++)fi=$e(ot,ae,ft,ue[ft],Ae),fi!==null&&(c&&fi.alternate!==null&&ot.delete(fi.key===null?ft:fi.key),re=O(fi,re,ft),st===null?Ze=fi:st.sibling=fi,st=fi);return c&&ot.forEach(function(Wd){return d(ae,Wd)}),tr&&$f(ae,ft),Ze}function Je(ae,re,ue,Ae){var Ze=se(ue);if(typeof Ze!="function")throw Error(t(150));if(ue=Ze.call(ue),ue==null)throw Error(t(151));for(var st=Ze=null,ot=re,ft=re=0,fi=null,on=ue.next();ot!==null&&!on.done;ft++,on=ue.next()){ot.index>ft?(fi=ot,ot=null):fi=ot.sibling;var Wd=we(ae,ot,on.value,Ae);if(Wd===null){ot===null&&(ot=fi);break}c&&ot&&Wd.alternate===null&&d(ae,ot),re=O(Wd,re,ft),st===null?Ze=Wd:st.sibling=Wd,st=Wd,ot=fi}if(on.done)return g(ae,ot),tr&&$f(ae,ft),Ze;if(ot===null){for(;!on.done;ft++,on=ue.next())on=Ce(ae,on.value,Ae),on!==null&&(re=O(on,re,ft),st===null?Ze=on:st.sibling=on,st=on);return tr&&$f(ae,ft),Ze}for(ot=S(ae,ot);!on.done;ft++,on=ue.next())on=$e(ot,ae,ft,on.value,Ae),on!==null&&(c&&on.alternate!==null&&ot.delete(on.key===null?ft:on.key),re=O(on,re,ft),st===null?Ze=on:st.sibling=on,st=on);return c&&ot.forEach(function(qte){return d(ae,qte)}),tr&&$f(ae,ft),Ze}function Dr(ae,re,ue,Ae){if(typeof ue=="object"&&ue!==null&&ue.type===k&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case I:e:{for(var Ze=ue.key,st=re;st!==null;){if(st.key===Ze){if(Ze=ue.type,Ze===k){if(st.tag===7){g(ae,st.sibling),re=R(st,ue.props.children),re.return=ae,ae=re;break e}}else if(st.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===X&&VU(Ze)===st.type){g(ae,st.sibling),re=R(st,ue.props),re.ref=Ew(ae,st,ue),re.return=ae,ae=re;break e}g(ae,st);break}else d(ae,st);st=st.sibling}ue.type===k?(re=Gf(ue.props.children,ae.mode,Ae,ue.key),re.return=ae,ae=re):(Ae=LC(ue.type,ue.key,ue.props,null,ae.mode,Ae),Ae.ref=Ew(ae,re,ue),Ae.return=ae,ae=Ae)}return W(ae);case F:e:{for(st=ue.key;re!==null;){if(re.key===st)if(re.tag===4&&re.stateNode.containerInfo===ue.containerInfo&&re.stateNode.implementation===ue.implementation){g(ae,re.sibling),re=R(re,ue.children||[]),re.return=ae,ae=re;break e}else{g(ae,re);break}else d(ae,re);re=re.sibling}re=dP(ue,ae.mode,Ae),re.return=ae,ae=re}return W(ae);case X:return st=ue._init,Dr(ae,re,st(ue._payload),Ae)}if(It(ue))return Ke(ae,re,ue,Ae);if(se(ue))return Je(ae,re,ue,Ae);dC(ae,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,re!==null&&re.tag===6?(g(ae,re.sibling),re=R(re,ue),re.return=ae,ae=re):(g(ae,re),re=uP(ue,ae.mode,Ae),re.return=ae,ae=re),W(ae)):g(ae,re)}return Dr}var jg=HU(!0),zU=HU(!1),hC=Od(null),fC=null,Ug=null,bk=null;function _k(){bk=Ug=fC=null}function Sk(c){var d=hC.current;Gn(hC),c._currentValue=d}function Ek(c,d,g){for(;c!==null;){var S=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,S!==null&&(S.childLanes|=d)):S!==null&&(S.childLanes&d)!==d&&(S.childLanes|=d),c===g)break;c=c.return}}function Vg(c,d){fC=c,bk=Ug=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&d)!==0&&(Ps=!0),c.firstContext=null)}function Ko(c){var d=c._currentValue;if(bk!==c)if(c={context:c,memoizedValue:d,next:null},Ug===null){if(fC===null)throw Error(t(308));Ug=c,fC.dependencies={lanes:0,firstContext:c}}else Ug=Ug.next=c;return d}var jf=null;function Ck(c){jf===null?jf=[c]:jf.push(c)}function WU(c,d,g,S){var R=d.interleaved;return R===null?(g.next=g,Ck(d)):(g.next=R.next,R.next=g),d.interleaved=g,Kc(c,S)}function Kc(c,d){c.lanes|=d;var g=c.alternate;for(g!==null&&(g.lanes|=d),g=c,c=c.return;c!==null;)c.childLanes|=d,g=c.alternate,g!==null&&(g.childLanes|=d),g=c,c=c.return;return g.tag===3?g.stateNode:null}var Nd=!1;function Tk(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qU(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Xc(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function Bd(c,d,g){var S=c.updateQueue;if(S===null)return null;if(S=S.shared,(nn&2)!==0){var R=S.pending;return R===null?d.next=d:(d.next=R.next,R.next=d),S.pending=d,Kc(c,g)}return R=S.interleaved,R===null?(d.next=d,Ck(S)):(d.next=R.next,R.next=d),S.interleaved=d,Kc(c,g)}function pC(c,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194240)!==0)){var S=d.lanes;S&=c.pendingLanes,g|=S,d.lanes=g,xd(c,g)}}function GU(c,d){var g=c.updateQueue,S=c.alternate;if(S!==null&&(S=S.updateQueue,g===S)){var R=null,O=null;if(g=g.firstBaseUpdate,g!==null){do{var W={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};O===null?R=O=W:O=O.next=W,g=g.next}while(g!==null);O===null?R=O=d:O=O.next=d}else R=O=d;g={baseState:S.baseState,firstBaseUpdate:R,lastBaseUpdate:O,shared:S.shared,effects:S.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=d:c.next=d,g.lastBaseUpdate=d}function mC(c,d,g,S){var R=c.updateQueue;Nd=!1;var O=R.firstBaseUpdate,W=R.lastBaseUpdate,K=R.shared.pending;if(K!==null){R.shared.pending=null;var ee=K,he=ee.next;ee.next=null,W===null?O=he:W.next=he,W=ee;var be=c.alternate;be!==null&&(be=be.updateQueue,K=be.lastBaseUpdate,K!==W&&(K===null?be.firstBaseUpdate=he:K.next=he,be.lastBaseUpdate=ee))}if(O!==null){var Ce=R.baseState;W=0,be=he=ee=null,K=O;do{var we=K.lane,$e=K.eventTime;if((S&we)===we){be!==null&&(be=be.next={eventTime:$e,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ke=c,Je=K;switch(we=d,$e=g,Je.tag){case 1:if(Ke=Je.payload,typeof Ke=="function"){Ce=Ke.call($e,Ce,we);break e}Ce=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=Je.payload,we=typeof Ke=="function"?Ke.call($e,Ce,we):Ke,we==null)break e;Ce=de({},Ce,we);break e;case 2:Nd=!0}}K.callback!==null&&K.lane!==0&&(c.flags|=64,we=R.effects,we===null?R.effects=[K]:we.push(K))}else $e={eventTime:$e,lane:we,tag:K.tag,payload:K.payload,callback:K.callback,next:null},be===null?(he=be=$e,ee=Ce):be=be.next=$e,W|=we;if(K=K.next,K===null){if(K=R.shared.pending,K===null)break;we=K,K=we.next,we.next=null,R.lastBaseUpdate=we,R.shared.pending=null}}while(!0);if(be===null&&(ee=Ce),R.baseState=ee,R.firstBaseUpdate=he,R.lastBaseUpdate=be,d=R.shared.interleaved,d!==null){R=d;do W|=R.lane,R=R.next;while(R!==d)}else O===null&&(R.shared.lanes=0);Hf|=W,c.lanes=W,c.memoizedState=Ce}}function YU(c,d,g){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var S=c[d],R=S.callback;if(R!==null){if(S.callback=null,S=g,typeof R!="function")throw Error(t(191,R));R.call(S)}}}var Cw={},Fl=Od(Cw),Tw=Od(Cw),Aw=Od(Cw);function Uf(c){if(c===Cw)throw Error(t(174));return c}function Ak(c,d){switch(jn(Aw,d),jn(Tw,c),jn(Fl,Cw),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:lt(null,"");break;default:c=c===8?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=lt(d,c)}Gn(Fl),jn(Fl,d)}function Hg(){Gn(Fl),Gn(Tw),Gn(Aw)}function KU(c){Uf(Aw.current);var d=Uf(Fl.current),g=lt(d,c.type);d!==g&&(jn(Tw,c),jn(Fl,g))}function xk(c){Tw.current===c&&(Gn(Fl),Gn(Tw))}var ur=Od(0);function gC(c){for(var d=c;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Rk=[];function Ik(){for(var c=0;c<Rk.length;c++)Rk[c]._workInProgressVersionPrimary=null;Rk.length=0}var yC=x.ReactCurrentDispatcher,kk=x.ReactCurrentBatchConfig,Vf=0,dr=null,Xr=null,di=null,vC=!1,xw=!1,Rw=0,pte=0;function Vi(){throw Error(t(321))}function Pk(c,d){if(d===null)return!1;for(var g=0;g<d.length&&g<c.length;g++)if(!qa(c[g],d[g]))return!1;return!0}function Dk(c,d,g,S,R,O){if(Vf=O,dr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,yC.current=c===null||c.memoizedState===null?vte:wte,c=g(S,R),xw){O=0;do{if(xw=!1,Rw=0,25<=O)throw Error(t(301));O+=1,di=Xr=null,d.updateQueue=null,yC.current=bte,c=g(S,R)}while(xw)}if(yC.current=_C,d=Xr!==null&&Xr.next!==null,Vf=0,di=Xr=dr=null,vC=!1,d)throw Error(t(300));return c}function Mk(){var c=Rw!==0;return Rw=0,c}function Nl(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return di===null?dr.memoizedState=di=c:di=di.next=c,di}function Xo(){if(Xr===null){var c=dr.alternate;c=c!==null?c.memoizedState:null}else c=Xr.next;var d=di===null?dr.memoizedState:di.next;if(d!==null)di=d,Xr=c;else{if(c===null)throw Error(t(310));Xr=c,c={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},di===null?dr.memoizedState=di=c:di=di.next=c}return di}function Iw(c,d){return typeof d=="function"?d(c):d}function Ok(c){var d=Xo(),g=d.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=c;var S=Xr,R=S.baseQueue,O=g.pending;if(O!==null){if(R!==null){var W=R.next;R.next=O.next,O.next=W}S.baseQueue=R=O,g.pending=null}if(R!==null){O=R.next,S=S.baseState;var K=W=null,ee=null,he=O;do{var be=he.lane;if((Vf&be)===be)ee!==null&&(ee=ee.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),S=he.hasEagerState?he.eagerState:c(S,he.action);else{var Ce={lane:be,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};ee===null?(K=ee=Ce,W=S):ee=ee.next=Ce,dr.lanes|=be,Hf|=be}he=he.next}while(he!==null&&he!==O);ee===null?W=S:ee.next=K,qa(S,d.memoizedState)||(Ps=!0),d.memoizedState=S,d.baseState=W,d.baseQueue=ee,g.lastRenderedState=S}if(c=g.interleaved,c!==null){R=c;do O=R.lane,dr.lanes|=O,Hf|=O,R=R.next;while(R!==c)}else R===null&&(g.lanes=0);return[d.memoizedState,g.dispatch]}function Lk(c){var d=Xo(),g=d.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=c;var S=g.dispatch,R=g.pending,O=d.memoizedState;if(R!==null){g.pending=null;var W=R=R.next;do O=c(O,W.action),W=W.next;while(W!==R);qa(O,d.memoizedState)||(Ps=!0),d.memoizedState=O,d.baseQueue===null&&(d.baseState=O),g.lastRenderedState=O}return[O,S]}function XU(){}function JU(c,d){var g=dr,S=Xo(),R=d(),O=!qa(S.memoizedState,R);if(O&&(S.memoizedState=R,Ps=!0),S=S.queue,Fk(e4.bind(null,g,S,c),[c]),S.getSnapshot!==d||O||di!==null&&di.memoizedState.tag&1){if(g.flags|=2048,kw(9,ZU.bind(null,g,S,R,d),void 0,null),hi===null)throw Error(t(349));(Vf&30)!==0||QU(g,d,R)}return R}function QU(c,d,g){c.flags|=16384,c={getSnapshot:d,value:g},d=dr.updateQueue,d===null?(d={lastEffect:null,stores:null},dr.updateQueue=d,d.stores=[c]):(g=d.stores,g===null?d.stores=[c]:g.push(c))}function ZU(c,d,g,S){d.value=g,d.getSnapshot=S,t4(d)&&n4(c)}function e4(c,d,g){return g(function(){t4(d)&&n4(c)})}function t4(c){var d=c.getSnapshot;c=c.value;try{var g=d();return!qa(c,g)}catch{return!0}}function n4(c){var d=Kc(c,1);d!==null&&Ja(d,c,1,-1)}function r4(c){var d=Nl();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Iw,lastRenderedState:c},d.queue=c,c=c.dispatch=yte.bind(null,dr,c),[d.memoizedState,c]}function kw(c,d,g,S){return c={tag:c,create:d,destroy:g,deps:S,next:null},d=dr.updateQueue,d===null?(d={lastEffect:null,stores:null},dr.updateQueue=d,d.lastEffect=c.next=c):(g=d.lastEffect,g===null?d.lastEffect=c.next=c:(S=g.next,g.next=c,c.next=S,d.lastEffect=c)),c}function i4(){return Xo().memoizedState}function wC(c,d,g,S){var R=Nl();dr.flags|=c,R.memoizedState=kw(1|d,g,void 0,S===void 0?null:S)}function bC(c,d,g,S){var R=Xo();S=S===void 0?null:S;var O=void 0;if(Xr!==null){var W=Xr.memoizedState;if(O=W.destroy,S!==null&&Pk(S,W.deps)){R.memoizedState=kw(d,g,O,S);return}}dr.flags|=c,R.memoizedState=kw(1|d,g,O,S)}function s4(c,d){return wC(8390656,8,c,d)}function Fk(c,d){return bC(2048,8,c,d)}function o4(c,d){return bC(4,2,c,d)}function a4(c,d){return bC(4,4,c,d)}function l4(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function c4(c,d,g){return g=g!=null?g.concat([c]):null,bC(4,4,l4.bind(null,d,c),g)}function Nk(){}function u4(c,d){var g=Xo();d=d===void 0?null:d;var S=g.memoizedState;return S!==null&&d!==null&&Pk(d,S[1])?S[0]:(g.memoizedState=[c,d],c)}function d4(c,d){var g=Xo();d=d===void 0?null:d;var S=g.memoizedState;return S!==null&&d!==null&&Pk(d,S[1])?S[0]:(c=c(),g.memoizedState=[c,d],c)}function h4(c,d,g){return(Vf&21)===0?(c.baseState&&(c.baseState=!1,Ps=!0),c.memoizedState=g):(qa(g,d)||(g=Pf(),dr.lanes|=g,Hf|=g,c.baseState=!0),d)}function mte(c,d){var g=Gt;Gt=g!==0&&4>g?g:4,c(!0);var S=kk.transition;kk.transition={};try{c(!1),d()}finally{Gt=g,kk.transition=S}}function f4(){return Xo().memoizedState}function gte(c,d,g){var S=Vd(c);if(g={lane:S,action:g,hasEagerState:!1,eagerState:null,next:null},p4(c))m4(d,g);else if(g=WU(c,d,g,S),g!==null){var R=fs();Ja(g,c,S,R),g4(g,d,S)}}function yte(c,d,g){var S=Vd(c),R={lane:S,action:g,hasEagerState:!1,eagerState:null,next:null};if(p4(c))m4(d,R);else{var O=c.alternate;if(c.lanes===0&&(O===null||O.lanes===0)&&(O=d.lastRenderedReducer,O!==null))try{var W=d.lastRenderedState,K=O(W,g);if(R.hasEagerState=!0,R.eagerState=K,qa(K,W)){var ee=d.interleaved;ee===null?(R.next=R,Ck(d)):(R.next=ee.next,ee.next=R),d.interleaved=R;return}}catch{}finally{}g=WU(c,d,R,S),g!==null&&(R=fs(),Ja(g,c,S,R),g4(g,d,S))}}function p4(c){var d=c.alternate;return c===dr||d!==null&&d===dr}function m4(c,d){xw=vC=!0;var g=c.pending;g===null?d.next=d:(d.next=g.next,g.next=d),c.pending=d}function g4(c,d,g){if((g&4194240)!==0){var S=d.lanes;S&=c.pendingLanes,g|=S,d.lanes=g,xd(c,g)}}var _C={readContext:Ko,useCallback:Vi,useContext:Vi,useEffect:Vi,useImperativeHandle:Vi,useInsertionEffect:Vi,useLayoutEffect:Vi,useMemo:Vi,useReducer:Vi,useRef:Vi,useState:Vi,useDebugValue:Vi,useDeferredValue:Vi,useTransition:Vi,useMutableSource:Vi,useSyncExternalStore:Vi,useId:Vi,unstable_isNewReconciler:!1},vte={readContext:Ko,useCallback:function(c,d){return Nl().memoizedState=[c,d===void 0?null:d],c},useContext:Ko,useEffect:s4,useImperativeHandle:function(c,d,g){return g=g!=null?g.concat([c]):null,wC(4194308,4,l4.bind(null,d,c),g)},useLayoutEffect:function(c,d){return wC(4194308,4,c,d)},useInsertionEffect:function(c,d){return wC(4,2,c,d)},useMemo:function(c,d){var g=Nl();return d=d===void 0?null:d,c=c(),g.memoizedState=[c,d],c},useReducer:function(c,d,g){var S=Nl();return d=g!==void 0?g(d):d,S.memoizedState=S.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},S.queue=c,c=c.dispatch=gte.bind(null,dr,c),[S.memoizedState,c]},useRef:function(c){var d=Nl();return c={current:c},d.memoizedState=c},useState:r4,useDebugValue:Nk,useDeferredValue:function(c){return Nl().memoizedState=c},useTransition:function(){var c=r4(!1),d=c[0];return c=mte.bind(null,c[1]),Nl().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,g){var S=dr,R=Nl();if(tr){if(g===void 0)throw Error(t(407));g=g()}else{if(g=d(),hi===null)throw Error(t(349));(Vf&30)!==0||QU(S,d,g)}R.memoizedState=g;var O={value:g,getSnapshot:d};return R.queue=O,s4(e4.bind(null,S,O,c),[c]),S.flags|=2048,kw(9,ZU.bind(null,S,O,g,d),void 0,null),g},useId:function(){var c=Nl(),d=hi.identifierPrefix;if(tr){var g=Yc,S=Gc;g=(S&~(1<<32-us(S)-1)).toString(32)+g,d=":"+d+"R"+g,g=Rw++,0<g&&(d+="H"+g.toString(32)),d+=":"}else g=pte++,d=":"+d+"r"+g.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},wte={readContext:Ko,useCallback:u4,useContext:Ko,useEffect:Fk,useImperativeHandle:c4,useInsertionEffect:o4,useLayoutEffect:a4,useMemo:d4,useReducer:Ok,useRef:i4,useState:function(){return Ok(Iw)},useDebugValue:Nk,useDeferredValue:function(c){var d=Xo();return h4(d,Xr.memoizedState,c)},useTransition:function(){var c=Ok(Iw)[0],d=Xo().memoizedState;return[c,d]},useMutableSource:XU,useSyncExternalStore:JU,useId:f4,unstable_isNewReconciler:!1},bte={readContext:Ko,useCallback:u4,useContext:Ko,useEffect:Fk,useImperativeHandle:c4,useInsertionEffect:o4,useLayoutEffect:a4,useMemo:d4,useReducer:Lk,useRef:i4,useState:function(){return Lk(Iw)},useDebugValue:Nk,useDeferredValue:function(c){var d=Xo();return Xr===null?d.memoizedState=c:h4(d,Xr.memoizedState,c)},useTransition:function(){var c=Lk(Iw)[0],d=Xo().memoizedState;return[c,d]},useMutableSource:XU,useSyncExternalStore:JU,useId:f4,unstable_isNewReconciler:!1};function Ya(c,d){if(c&&c.defaultProps){d=de({},d),c=c.defaultProps;for(var g in c)d[g]===void 0&&(d[g]=c[g]);return d}return d}function Bk(c,d,g,S){d=c.memoizedState,g=g(S,d),g=g==null?d:de({},d,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var SC={isMounted:function(c){return(c=c._reactInternals)?$a(c)===c:!1},enqueueSetState:function(c,d,g){c=c._reactInternals;var S=fs(),R=Vd(c),O=Xc(S,R);O.payload=d,g!=null&&(O.callback=g),d=Bd(c,O,R),d!==null&&(Ja(d,c,R,S),pC(d,c,R))},enqueueReplaceState:function(c,d,g){c=c._reactInternals;var S=fs(),R=Vd(c),O=Xc(S,R);O.tag=1,O.payload=d,g!=null&&(O.callback=g),d=Bd(c,O,R),d!==null&&(Ja(d,c,R,S),pC(d,c,R))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var g=fs(),S=Vd(c),R=Xc(g,S);R.tag=2,d!=null&&(R.callback=d),d=Bd(c,R,S),d!==null&&(Ja(d,c,S,g),pC(d,c,S))}};function y4(c,d,g,S,R,O,W){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(S,O,W):d.prototype&&d.prototype.isPureReactComponent?!gw(g,S)||!gw(R,O):!0}function v4(c,d,g){var S=!1,R=Ld,O=d.contextType;return typeof O=="object"&&O!==null?O=Ko(O):(R=ks(d)?Nf:Ui.current,S=d.contextTypes,O=(S=S!=null)?Fg(c,R):Ld),d=new d(g,O),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=SC,c.stateNode=d,d._reactInternals=c,S&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=R,c.__reactInternalMemoizedMaskedChildContext=O),d}function w4(c,d,g,S){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,S),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,S),d.state!==c&&SC.enqueueReplaceState(d,d.state,null)}function $k(c,d,g,S){var R=c.stateNode;R.props=g,R.state=c.memoizedState,R.refs={},Tk(c);var O=d.contextType;typeof O=="object"&&O!==null?R.context=Ko(O):(O=ks(d)?Nf:Ui.current,R.context=Fg(c,O)),R.state=c.memoizedState,O=d.getDerivedStateFromProps,typeof O=="function"&&(Bk(c,d,O,g),R.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(d=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),d!==R.state&&SC.enqueueReplaceState(R,R.state,null),mC(c,g,R,S),R.state=c.memoizedState),typeof R.componentDidMount=="function"&&(c.flags|=4194308)}function zg(c,d){try{var g="",S=d;do g+=ce(S),S=S.return;while(S);var R=g}catch(O){R=`
Error generating stack: `+O.message+`
`+O.stack}return{value:c,source:d,stack:R,digest:null}}function jk(c,d,g){return{value:c,source:null,stack:g??null,digest:d??null}}function Uk(c,d){try{console.error(d.value)}catch(g){setTimeout(function(){throw g})}}var _te=typeof WeakMap=="function"?WeakMap:Map;function b4(c,d,g){g=Xc(-1,g),g.tag=3,g.payload={element:null};var S=d.value;return g.callback=function(){IC||(IC=!0,nP=S),Uk(c,d)},g}function _4(c,d,g){g=Xc(-1,g),g.tag=3;var S=c.type.getDerivedStateFromError;if(typeof S=="function"){var R=d.value;g.payload=function(){return S(R)},g.callback=function(){Uk(c,d)}}var O=c.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(g.callback=function(){Uk(c,d),typeof S!="function"&&(jd===null?jd=new Set([this]):jd.add(this));var W=d.stack;this.componentDidCatch(d.value,{componentStack:W!==null?W:""})}),g}function S4(c,d,g){var S=c.pingCache;if(S===null){S=c.pingCache=new _te;var R=new Set;S.set(d,R)}else R=S.get(d),R===void 0&&(R=new Set,S.set(d,R));R.has(g)||(R.add(g),c=Lte.bind(null,c,d,g),d.then(c,c))}function E4(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function C4(c,d,g,S,R){return(c.mode&1)===0?(c===d?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(d=Xc(-1,1),d.tag=2,Bd(g,d,1))),g.lanes|=1),c):(c.flags|=65536,c.lanes=R,c)}var Ste=x.ReactCurrentOwner,Ps=!1;function hs(c,d,g,S){d.child=c===null?zU(d,null,g,S):jg(d,c.child,g,S)}function T4(c,d,g,S,R){g=g.render;var O=d.ref;return Vg(d,R),S=Dk(c,d,g,S,O,R),g=Mk(),c!==null&&!Ps?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~R,Jc(c,d,R)):(tr&&g&&mk(d),d.flags|=1,hs(c,d,S,R),d.child)}function A4(c,d,g,S,R){if(c===null){var O=g.type;return typeof O=="function"&&!cP(O)&&O.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(d.tag=15,d.type=O,x4(c,d,O,S,R)):(c=LC(g.type,null,S,d,d.mode,R),c.ref=d.ref,c.return=d,d.child=c)}if(O=c.child,(c.lanes&R)===0){var W=O.memoizedProps;if(g=g.compare,g=g!==null?g:gw,g(W,S)&&c.ref===d.ref)return Jc(c,d,R)}return d.flags|=1,c=zd(O,S),c.ref=d.ref,c.return=d,d.child=c}function x4(c,d,g,S,R){if(c!==null){var O=c.memoizedProps;if(gw(O,S)&&c.ref===d.ref)if(Ps=!1,d.pendingProps=S=O,(c.lanes&R)!==0)(c.flags&131072)!==0&&(Ps=!0);else return d.lanes=c.lanes,Jc(c,d,R)}return Vk(c,d,g,S,R)}function R4(c,d,g){var S=d.pendingProps,R=S.children,O=c!==null?c.memoizedState:null;if(S.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},jn(qg,uo),uo|=g;else{if((g&1073741824)===0)return c=O!==null?O.baseLanes|g:g,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,jn(qg,uo),uo|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=O!==null?O.baseLanes:g,jn(qg,uo),uo|=S}else O!==null?(S=O.baseLanes|g,d.memoizedState=null):S=g,jn(qg,uo),uo|=S;return hs(c,d,R,g),d.child}function I4(c,d){var g=d.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(d.flags|=512,d.flags|=2097152)}function Vk(c,d,g,S,R){var O=ks(g)?Nf:Ui.current;return O=Fg(d,O),Vg(d,R),g=Dk(c,d,g,S,O,R),S=Mk(),c!==null&&!Ps?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~R,Jc(c,d,R)):(tr&&S&&mk(d),d.flags|=1,hs(c,d,g,R),d.child)}function k4(c,d,g,S,R){if(ks(g)){var O=!0;oC(d)}else O=!1;if(Vg(d,R),d.stateNode===null)CC(c,d),v4(d,g,S),$k(d,g,S,R),S=!0;else if(c===null){var W=d.stateNode,K=d.memoizedProps;W.props=K;var ee=W.context,he=g.contextType;typeof he=="object"&&he!==null?he=Ko(he):(he=ks(g)?Nf:Ui.current,he=Fg(d,he));var be=g.getDerivedStateFromProps,Ce=typeof be=="function"||typeof W.getSnapshotBeforeUpdate=="function";Ce||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(K!==S||ee!==he)&&w4(d,W,S,he),Nd=!1;var we=d.memoizedState;W.state=we,mC(d,S,W,R),ee=d.memoizedState,K!==S||we!==ee||Is.current||Nd?(typeof be=="function"&&(Bk(d,g,be,S),ee=d.memoizedState),(K=Nd||y4(d,g,K,S,we,ee,he))?(Ce||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(d.flags|=4194308)):(typeof W.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=S,d.memoizedState=ee),W.props=S,W.state=ee,W.context=he,S=K):(typeof W.componentDidMount=="function"&&(d.flags|=4194308),S=!1)}else{W=d.stateNode,qU(c,d),K=d.memoizedProps,he=d.type===d.elementType?K:Ya(d.type,K),W.props=he,Ce=d.pendingProps,we=W.context,ee=g.contextType,typeof ee=="object"&&ee!==null?ee=Ko(ee):(ee=ks(g)?Nf:Ui.current,ee=Fg(d,ee));var $e=g.getDerivedStateFromProps;(be=typeof $e=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(K!==Ce||we!==ee)&&w4(d,W,S,ee),Nd=!1,we=d.memoizedState,W.state=we,mC(d,S,W,R);var Ke=d.memoizedState;K!==Ce||we!==Ke||Is.current||Nd?(typeof $e=="function"&&(Bk(d,g,$e,S),Ke=d.memoizedState),(he=Nd||y4(d,g,he,S,we,Ke,ee)||!1)?(be||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(S,Ke,ee),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(S,Ke,ee)),typeof W.componentDidUpdate=="function"&&(d.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof W.componentDidUpdate!="function"||K===c.memoizedProps&&we===c.memoizedState||(d.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&we===c.memoizedState||(d.flags|=1024),d.memoizedProps=S,d.memoizedState=Ke),W.props=S,W.state=Ke,W.context=ee,S=he):(typeof W.componentDidUpdate!="function"||K===c.memoizedProps&&we===c.memoizedState||(d.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&we===c.memoizedState||(d.flags|=1024),S=!1)}return Hk(c,d,g,S,O,R)}function Hk(c,d,g,S,R,O){I4(c,d);var W=(d.flags&128)!==0;if(!S&&!W)return R&&LU(d,g,!1),Jc(c,d,O);S=d.stateNode,Ste.current=d;var K=W&&typeof g.getDerivedStateFromError!="function"?null:S.render();return d.flags|=1,c!==null&&W?(d.child=jg(d,c.child,null,O),d.child=jg(d,null,K,O)):hs(c,d,K,O),d.memoizedState=S.state,R&&LU(d,g,!0),d.child}function P4(c){var d=c.stateNode;d.pendingContext?MU(c,d.pendingContext,d.pendingContext!==d.context):d.context&&MU(c,d.context,!1),Ak(c,d.containerInfo)}function D4(c,d,g,S,R){return $g(),wk(R),d.flags|=256,hs(c,d,g,S),d.child}var zk={dehydrated:null,treeContext:null,retryLane:0};function Wk(c){return{baseLanes:c,cachePool:null,transitions:null}}function M4(c,d,g){var S=d.pendingProps,R=ur.current,O=!1,W=(d.flags&128)!==0,K;if((K=W)||(K=c!==null&&c.memoizedState===null?!1:(R&2)!==0),K?(O=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(R|=1),jn(ur,R&1),c===null)return vk(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((d.mode&1)===0?d.lanes=1:c.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(W=S.children,c=S.fallback,O?(S=d.mode,O=d.child,W={mode:"hidden",children:W},(S&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=W):O=FC(W,S,0,null),c=Gf(c,S,g,null),O.return=d,c.return=d,O.sibling=c,d.child=O,d.child.memoizedState=Wk(g),d.memoizedState=zk,c):qk(d,W));if(R=c.memoizedState,R!==null&&(K=R.dehydrated,K!==null))return Ete(c,d,W,S,K,R,g);if(O){O=S.fallback,W=d.mode,R=c.child,K=R.sibling;var ee={mode:"hidden",children:S.children};return(W&1)===0&&d.child!==R?(S=d.child,S.childLanes=0,S.pendingProps=ee,d.deletions=null):(S=zd(R,ee),S.subtreeFlags=R.subtreeFlags&14680064),K!==null?O=zd(K,O):(O=Gf(O,W,g,null),O.flags|=2),O.return=d,S.return=d,S.sibling=O,d.child=S,S=O,O=d.child,W=c.child.memoizedState,W=W===null?Wk(g):{baseLanes:W.baseLanes|g,cachePool:null,transitions:W.transitions},O.memoizedState=W,O.childLanes=c.childLanes&~g,d.memoizedState=zk,S}return O=c.child,c=O.sibling,S=zd(O,{mode:"visible",children:S.children}),(d.mode&1)===0&&(S.lanes=g),S.return=d,S.sibling=null,c!==null&&(g=d.deletions,g===null?(d.deletions=[c],d.flags|=16):g.push(c)),d.child=S,d.memoizedState=null,S}function qk(c,d){return d=FC({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function EC(c,d,g,S){return S!==null&&wk(S),jg(d,c.child,null,g),c=qk(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function Ete(c,d,g,S,R,O,W){if(g)return d.flags&256?(d.flags&=-257,S=jk(Error(t(422))),EC(c,d,W,S)):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(O=S.fallback,R=d.mode,S=FC({mode:"visible",children:S.children},R,0,null),O=Gf(O,R,W,null),O.flags|=2,S.return=d,O.return=d,S.sibling=O,d.child=S,(d.mode&1)!==0&&jg(d,c.child,null,W),d.child.memoizedState=Wk(W),d.memoizedState=zk,O);if((d.mode&1)===0)return EC(c,d,W,null);if(R.data==="$!"){if(S=R.nextSibling&&R.nextSibling.dataset,S)var K=S.dgst;return S=K,O=Error(t(419)),S=jk(O,S,void 0),EC(c,d,W,S)}if(K=(W&c.childLanes)!==0,Ps||K){if(S=hi,S!==null){switch(W&-W){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(S.suspendedLanes|W))!==0?0:R,R!==0&&R!==O.retryLane&&(O.retryLane=R,Kc(c,R),Ja(S,c,R,-1))}return lP(),S=jk(Error(t(421))),EC(c,d,W,S)}return R.data==="$?"?(d.flags|=128,d.child=c.child,d=Fte.bind(null,c),R._reactRetry=d,null):(c=O.treeContext,co=Md(R.nextSibling),lo=d,tr=!0,Ga=null,c!==null&&(Go[Yo++]=Gc,Go[Yo++]=Yc,Go[Yo++]=Bf,Gc=c.id,Yc=c.overflow,Bf=d),d=qk(d,S.children),d.flags|=4096,d)}function O4(c,d,g){c.lanes|=d;var S=c.alternate;S!==null&&(S.lanes|=d),Ek(c.return,d,g)}function Gk(c,d,g,S,R){var O=c.memoizedState;O===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:S,tail:g,tailMode:R}:(O.isBackwards=d,O.rendering=null,O.renderingStartTime=0,O.last=S,O.tail=g,O.tailMode=R)}function L4(c,d,g){var S=d.pendingProps,R=S.revealOrder,O=S.tail;if(hs(c,d,S.children,g),S=ur.current,(S&2)!==0)S=S&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&O4(c,g,d);else if(c.tag===19)O4(c,g,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}S&=1}if(jn(ur,S),(d.mode&1)===0)d.memoizedState=null;else switch(R){case"forwards":for(g=d.child,R=null;g!==null;)c=g.alternate,c!==null&&gC(c)===null&&(R=g),g=g.sibling;g=R,g===null?(R=d.child,d.child=null):(R=g.sibling,g.sibling=null),Gk(d,!1,R,g,O);break;case"backwards":for(g=null,R=d.child,d.child=null;R!==null;){if(c=R.alternate,c!==null&&gC(c)===null){d.child=R;break}c=R.sibling,R.sibling=g,g=R,R=c}Gk(d,!0,g,null,O);break;case"together":Gk(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function CC(c,d){(d.mode&1)===0&&c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2)}function Jc(c,d,g){if(c!==null&&(d.dependencies=c.dependencies),Hf|=d.lanes,(g&d.childLanes)===0)return null;if(c!==null&&d.child!==c.child)throw Error(t(153));if(d.child!==null){for(c=d.child,g=zd(c,c.pendingProps),d.child=g,g.return=d;c.sibling!==null;)c=c.sibling,g=g.sibling=zd(c,c.pendingProps),g.return=d;g.sibling=null}return d.child}function Cte(c,d,g){switch(d.tag){case 3:P4(d),$g();break;case 5:KU(d);break;case 1:ks(d.type)&&oC(d);break;case 4:Ak(d,d.stateNode.containerInfo);break;case 10:var S=d.type._context,R=d.memoizedProps.value;jn(hC,S._currentValue),S._currentValue=R;break;case 13:if(S=d.memoizedState,S!==null)return S.dehydrated!==null?(jn(ur,ur.current&1),d.flags|=128,null):(g&d.child.childLanes)!==0?M4(c,d,g):(jn(ur,ur.current&1),c=Jc(c,d,g),c!==null?c.sibling:null);jn(ur,ur.current&1);break;case 19:if(S=(g&d.childLanes)!==0,(c.flags&128)!==0){if(S)return L4(c,d,g);d.flags|=128}if(R=d.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),jn(ur,ur.current),S)break;return null;case 22:case 23:return d.lanes=0,R4(c,d,g)}return Jc(c,d,g)}var F4,Yk,N4,B4;F4=function(c,d){for(var g=d.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Yk=function(){},N4=function(c,d,g,S){var R=c.memoizedProps;if(R!==S){c=d.stateNode,Uf(Fl.current);var O=null;switch(g){case"input":R=Ye(c,R),S=Ye(c,S),O=[];break;case"select":R=de({},R,{value:void 0}),S=de({},S,{value:void 0}),O=[];break;case"textarea":R=Me(c,R),S=Me(c,S),O=[];break;default:typeof R.onClick!="function"&&typeof S.onClick=="function"&&(c.onclick=rC)}qt(g,S);var W;g=null;for(he in R)if(!S.hasOwnProperty(he)&&R.hasOwnProperty(he)&&R[he]!=null)if(he==="style"){var K=R[he];for(W in K)K.hasOwnProperty(W)&&(g||(g={}),g[W]="")}else he!=="dangerouslySetInnerHTML"&&he!=="children"&&he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&he!=="autoFocus"&&(i.hasOwnProperty(he)?O||(O=[]):(O=O||[]).push(he,null));for(he in S){var ee=S[he];if(K=R!=null?R[he]:void 0,S.hasOwnProperty(he)&&ee!==K&&(ee!=null||K!=null))if(he==="style")if(K){for(W in K)!K.hasOwnProperty(W)||ee&&ee.hasOwnProperty(W)||(g||(g={}),g[W]="");for(W in ee)ee.hasOwnProperty(W)&&K[W]!==ee[W]&&(g||(g={}),g[W]=ee[W])}else g||(O||(O=[]),O.push(he,g)),g=ee;else he==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,K=K?K.__html:void 0,ee!=null&&K!==ee&&(O=O||[]).push(he,ee)):he==="children"?typeof ee!="string"&&typeof ee!="number"||(O=O||[]).push(he,""+ee):he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&(i.hasOwnProperty(he)?(ee!=null&&he==="onScroll"&&qn("scroll",c),O||K===ee||(O=[])):(O=O||[]).push(he,ee))}g&&(O=O||[]).push("style",g);var he=O;(d.updateQueue=he)&&(d.flags|=4)}},B4=function(c,d,g,S){g!==S&&(d.flags|=4)};function Pw(c,d){if(!tr)switch(c.tailMode){case"hidden":d=c.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:S.sibling=null}}function Hi(c){var d=c.alternate!==null&&c.alternate.child===c.child,g=0,S=0;if(d)for(var R=c.child;R!==null;)g|=R.lanes|R.childLanes,S|=R.subtreeFlags&14680064,S|=R.flags&14680064,R.return=c,R=R.sibling;else for(R=c.child;R!==null;)g|=R.lanes|R.childLanes,S|=R.subtreeFlags,S|=R.flags,R.return=c,R=R.sibling;return c.subtreeFlags|=S,c.childLanes=g,d}function Tte(c,d,g){var S=d.pendingProps;switch(gk(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hi(d),null;case 1:return ks(d.type)&&sC(),Hi(d),null;case 3:return S=d.stateNode,Hg(),Gn(Is),Gn(Ui),Ik(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(c===null||c.child===null)&&(uC(d)?d.flags|=4:c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Ga!==null&&(sP(Ga),Ga=null))),Yk(c,d),Hi(d),null;case 5:xk(d);var R=Uf(Aw.current);if(g=d.type,c!==null&&d.stateNode!=null)N4(c,d,g,S,R),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!S){if(d.stateNode===null)throw Error(t(166));return Hi(d),null}if(c=Uf(Fl.current),uC(d)){S=d.stateNode,g=d.type;var O=d.memoizedProps;switch(S[Ll]=d,S[_w]=O,c=(d.mode&1)!==0,g){case"dialog":qn("cancel",S),qn("close",S);break;case"iframe":case"object":case"embed":qn("load",S);break;case"video":case"audio":for(R=0;R<vw.length;R++)qn(vw[R],S);break;case"source":qn("error",S);break;case"img":case"image":case"link":qn("error",S),qn("load",S);break;case"details":qn("toggle",S);break;case"input":Ue(S,O),qn("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!O.multiple},qn("invalid",S);break;case"textarea":Mt(S,O),qn("invalid",S)}qt(g,O),R=null;for(var W in O)if(O.hasOwnProperty(W)){var K=O[W];W==="children"?typeof K=="string"?S.textContent!==K&&(O.suppressHydrationWarning!==!0&&nC(S.textContent,K,c),R=["children",K]):typeof K=="number"&&S.textContent!==""+K&&(O.suppressHydrationWarning!==!0&&nC(S.textContent,K,c),R=["children",""+K]):i.hasOwnProperty(W)&&K!=null&&W==="onScroll"&&qn("scroll",S)}switch(g){case"input":Xe(S),wt(S,O,!0);break;case"textarea":Xe(S),zn(S);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(S.onclick=rC)}S=R,d.updateQueue=S,S!==null&&(d.flags|=4)}else{W=R.nodeType===9?R:R.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=zt(g)),c==="http://www.w3.org/1999/xhtml"?g==="script"?(c=W.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof S.is=="string"?c=W.createElement(g,{is:S.is}):(c=W.createElement(g),g==="select"&&(W=c,S.multiple?W.multiple=!0:S.size&&(W.size=S.size))):c=W.createElementNS(c,g),c[Ll]=d,c[_w]=S,F4(c,d,!1,!1),d.stateNode=c;e:{switch(W=Wn(g,S),g){case"dialog":qn("cancel",c),qn("close",c),R=S;break;case"iframe":case"object":case"embed":qn("load",c),R=S;break;case"video":case"audio":for(R=0;R<vw.length;R++)qn(vw[R],c);R=S;break;case"source":qn("error",c),R=S;break;case"img":case"image":case"link":qn("error",c),qn("load",c),R=S;break;case"details":qn("toggle",c),R=S;break;case"input":Ue(c,S),R=Ye(c,S),qn("invalid",c);break;case"option":R=S;break;case"select":c._wrapperState={wasMultiple:!!S.multiple},R=de({},S,{value:void 0}),qn("invalid",c);break;case"textarea":Mt(c,S),R=Me(c,S),qn("invalid",c);break;default:R=S}qt(g,R),K=R;for(O in K)if(K.hasOwnProperty(O)){var ee=K[O];O==="style"?bn(c,ee):O==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&Wt(c,ee)):O==="children"?typeof ee=="string"?(g!=="textarea"||ee!=="")&&mn(c,ee):typeof ee=="number"&&mn(c,""+ee):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(i.hasOwnProperty(O)?ee!=null&&O==="onScroll"&&qn("scroll",c):ee!=null&&C(c,O,ee,W))}switch(g){case"input":Xe(c),wt(c,S,!1);break;case"textarea":Xe(c),zn(c);break;case"option":S.value!=null&&c.setAttribute("value",""+xe(S.value));break;case"select":c.multiple=!!S.multiple,O=S.value,O!=null?pt(c,!!S.multiple,O,!1):S.defaultValue!=null&&pt(c,!!S.multiple,S.defaultValue,!0);break;default:typeof R.onClick=="function"&&(c.onclick=rC)}switch(g){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Hi(d),null;case 6:if(c&&d.stateNode!=null)B4(c,d,c.memoizedProps,S);else{if(typeof S!="string"&&d.stateNode===null)throw Error(t(166));if(g=Uf(Aw.current),Uf(Fl.current),uC(d)){if(S=d.stateNode,g=d.memoizedProps,S[Ll]=d,(O=S.nodeValue!==g)&&(c=lo,c!==null))switch(c.tag){case 3:nC(S.nodeValue,g,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&nC(S.nodeValue,g,(c.mode&1)!==0)}O&&(d.flags|=4)}else S=(g.nodeType===9?g:g.ownerDocument).createTextNode(S),S[Ll]=d,d.stateNode=S}return Hi(d),null;case 13:if(Gn(ur),S=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(tr&&co!==null&&(d.mode&1)!==0&&(d.flags&128)===0)UU(),$g(),d.flags|=98560,O=!1;else if(O=uC(d),S!==null&&S.dehydrated!==null){if(c===null){if(!O)throw Error(t(318));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(t(317));O[Ll]=d}else $g(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Hi(d),O=!1}else Ga!==null&&(sP(Ga),Ga=null),O=!0;if(!O)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=g,d):(S=S!==null,S!==(c!==null&&c.memoizedState!==null)&&S&&(d.child.flags|=8192,(d.mode&1)!==0&&(c===null||(ur.current&1)!==0?Jr===0&&(Jr=3):lP())),d.updateQueue!==null&&(d.flags|=4),Hi(d),null);case 4:return Hg(),Yk(c,d),c===null&&ww(d.stateNode.containerInfo),Hi(d),null;case 10:return Sk(d.type._context),Hi(d),null;case 17:return ks(d.type)&&sC(),Hi(d),null;case 19:if(Gn(ur),O=d.memoizedState,O===null)return Hi(d),null;if(S=(d.flags&128)!==0,W=O.rendering,W===null)if(S)Pw(O,!1);else{if(Jr!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(W=gC(c),W!==null){for(d.flags|=128,Pw(O,!1),S=W.updateQueue,S!==null&&(d.updateQueue=S,d.flags|=4),d.subtreeFlags=0,S=g,g=d.child;g!==null;)O=g,c=S,O.flags&=14680066,W=O.alternate,W===null?(O.childLanes=0,O.lanes=c,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=W.childLanes,O.lanes=W.lanes,O.child=W.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=W.memoizedProps,O.memoizedState=W.memoizedState,O.updateQueue=W.updateQueue,O.type=W.type,c=W.dependencies,O.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),g=g.sibling;return jn(ur,ur.current&1|2),d.child}c=c.sibling}O.tail!==null&&$n()>Gg&&(d.flags|=128,S=!0,Pw(O,!1),d.lanes=4194304)}else{if(!S)if(c=gC(W),c!==null){if(d.flags|=128,S=!0,g=c.updateQueue,g!==null&&(d.updateQueue=g,d.flags|=4),Pw(O,!0),O.tail===null&&O.tailMode==="hidden"&&!W.alternate&&!tr)return Hi(d),null}else 2*$n()-O.renderingStartTime>Gg&&g!==1073741824&&(d.flags|=128,S=!0,Pw(O,!1),d.lanes=4194304);O.isBackwards?(W.sibling=d.child,d.child=W):(g=O.last,g!==null?g.sibling=W:d.child=W,O.last=W)}return O.tail!==null?(d=O.tail,O.rendering=d,O.tail=d.sibling,O.renderingStartTime=$n(),d.sibling=null,g=ur.current,jn(ur,S?g&1|2:g&1),d):(Hi(d),null);case 22:case 23:return aP(),S=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==S&&(d.flags|=8192),S&&(d.mode&1)!==0?(uo&1073741824)!==0&&(Hi(d),d.subtreeFlags&6&&(d.flags|=8192)):Hi(d),null;case 24:return null;case 25:return null}throw Error(t(156,d.tag))}function Ate(c,d){switch(gk(d),d.tag){case 1:return ks(d.type)&&sC(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Hg(),Gn(Is),Gn(Ui),Ik(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 5:return xk(d),null;case 13:if(Gn(ur),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(t(340));$g()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return Gn(ur),null;case 4:return Hg(),null;case 10:return Sk(d.type._context),null;case 22:case 23:return aP(),null;case 24:return null;default:return null}}var TC=!1,zi=!1,xte=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Wg(c,d){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(S){vr(c,d,S)}else g.current=null}function Kk(c,d,g){try{g()}catch(S){vr(c,d,S)}}var $4=!1;function Rte(c,d){if(ak=kd,c=yU(),ZI(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var S=g.getSelection&&g.getSelection();if(S&&S.rangeCount!==0){g=S.anchorNode;var R=S.anchorOffset,O=S.focusNode;S=S.focusOffset;try{g.nodeType,O.nodeType}catch{g=null;break e}var W=0,K=-1,ee=-1,he=0,be=0,Ce=c,we=null;t:for(;;){for(var $e;Ce!==g||R!==0&&Ce.nodeType!==3||(K=W+R),Ce!==O||S!==0&&Ce.nodeType!==3||(ee=W+S),Ce.nodeType===3&&(W+=Ce.nodeValue.length),($e=Ce.firstChild)!==null;)we=Ce,Ce=$e;for(;;){if(Ce===c)break t;if(we===g&&++he===R&&(K=W),we===O&&++be===S&&(ee=W),($e=Ce.nextSibling)!==null)break;Ce=we,we=Ce.parentNode}Ce=$e}g=K===-1||ee===-1?null:{start:K,end:ee}}else g=null}g=g||{start:0,end:0}}else g=null;for(lk={focusedElem:c,selectionRange:g},kd=!1,qe=d;qe!==null;)if(d=qe,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,qe=c;else for(;qe!==null;){d=qe;try{var Ke=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Ke!==null){var Je=Ke.memoizedProps,Dr=Ke.memoizedState,ae=d.stateNode,re=ae.getSnapshotBeforeUpdate(d.elementType===d.type?Je:Ya(d.type,Je),Dr);ae.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var ue=d.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ae){vr(d,d.return,Ae)}if(c=d.sibling,c!==null){c.return=d.return,qe=c;break}qe=d.return}return Ke=$4,$4=!1,Ke}function Dw(c,d,g){var S=d.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var R=S=S.next;do{if((R.tag&c)===c){var O=R.destroy;R.destroy=void 0,O!==void 0&&Kk(d,g,O)}R=R.next}while(R!==S)}}function AC(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&c)===c){var S=g.create;g.destroy=S()}g=g.next}while(g!==d)}}function Xk(c){var d=c.ref;if(d!==null){var g=c.stateNode;switch(c.tag){case 5:c=g;break;default:c=g}typeof d=="function"?d(c):d.current=c}}function j4(c){var d=c.alternate;d!==null&&(c.alternate=null,j4(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&(delete d[Ll],delete d[_w],delete d[hk],delete d[ute],delete d[dte])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function U4(c){return c.tag===5||c.tag===3||c.tag===4}function V4(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||U4(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Jk(c,d,g){var S=c.tag;if(S===5||S===6)c=c.stateNode,d?g.nodeType===8?g.parentNode.insertBefore(c,d):g.insertBefore(c,d):(g.nodeType===8?(d=g.parentNode,d.insertBefore(c,g)):(d=g,d.appendChild(c)),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=rC));else if(S!==4&&(c=c.child,c!==null))for(Jk(c,d,g),c=c.sibling;c!==null;)Jk(c,d,g),c=c.sibling}function Qk(c,d,g){var S=c.tag;if(S===5||S===6)c=c.stateNode,d?g.insertBefore(c,d):g.appendChild(c);else if(S!==4&&(c=c.child,c!==null))for(Qk(c,d,g),c=c.sibling;c!==null;)Qk(c,d,g),c=c.sibling}var Ci=null,Ka=!1;function $d(c,d,g){for(g=g.child;g!==null;)H4(c,d,g),g=g.sibling}function H4(c,d,g){if(io&&typeof io.onCommitFiberUnmount=="function")try{io.onCommitFiberUnmount(If,g)}catch{}switch(g.tag){case 5:zi||Wg(g,d);case 6:var S=Ci,R=Ka;Ci=null,$d(c,d,g),Ci=S,Ka=R,Ci!==null&&(Ka?(c=Ci,g=g.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)):Ci.removeChild(g.stateNode));break;case 18:Ci!==null&&(Ka?(c=Ci,g=g.stateNode,c.nodeType===8?dk(c.parentNode,g):c.nodeType===1&&dk(c,g),za(c)):dk(Ci,g.stateNode));break;case 4:S=Ci,R=Ka,Ci=g.stateNode.containerInfo,Ka=!0,$d(c,d,g),Ci=S,Ka=R;break;case 0:case 11:case 14:case 15:if(!zi&&(S=g.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){R=S=S.next;do{var O=R,W=O.destroy;O=O.tag,W!==void 0&&((O&2)!==0||(O&4)!==0)&&Kk(g,d,W),R=R.next}while(R!==S)}$d(c,d,g);break;case 1:if(!zi&&(Wg(g,d),S=g.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=g.memoizedProps,S.state=g.memoizedState,S.componentWillUnmount()}catch(K){vr(g,d,K)}$d(c,d,g);break;case 21:$d(c,d,g);break;case 22:g.mode&1?(zi=(S=zi)||g.memoizedState!==null,$d(c,d,g),zi=S):$d(c,d,g);break;default:$d(c,d,g)}}function z4(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new xte),d.forEach(function(S){var R=Nte.bind(null,c,S);g.has(S)||(g.add(S),S.then(R,R))})}}function Xa(c,d){var g=d.deletions;if(g!==null)for(var S=0;S<g.length;S++){var R=g[S];try{var O=c,W=d,K=W;e:for(;K!==null;){switch(K.tag){case 5:Ci=K.stateNode,Ka=!1;break e;case 3:Ci=K.stateNode.containerInfo,Ka=!0;break e;case 4:Ci=K.stateNode.containerInfo,Ka=!0;break e}K=K.return}if(Ci===null)throw Error(t(160));H4(O,W,R),Ci=null,Ka=!1;var ee=R.alternate;ee!==null&&(ee.return=null),R.return=null}catch(he){vr(R,d,he)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)W4(d,c),d=d.sibling}function W4(c,d){var g=c.alternate,S=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(Xa(d,c),Bl(c),S&4){try{Dw(3,c,c.return),AC(3,c)}catch(Je){vr(c,c.return,Je)}try{Dw(5,c,c.return)}catch(Je){vr(c,c.return,Je)}}break;case 1:Xa(d,c),Bl(c),S&512&&g!==null&&Wg(g,g.return);break;case 5:if(Xa(d,c),Bl(c),S&512&&g!==null&&Wg(g,g.return),c.flags&32){var R=c.stateNode;try{mn(R,"")}catch(Je){vr(c,c.return,Je)}}if(S&4&&(R=c.stateNode,R!=null)){var O=c.memoizedProps,W=g!==null?g.memoizedProps:O,K=c.type,ee=c.updateQueue;if(c.updateQueue=null,ee!==null)try{K==="input"&&O.type==="radio"&&O.name!=null&&Jt(R,O),Wn(K,W);var he=Wn(K,O);for(W=0;W<ee.length;W+=2){var be=ee[W],Ce=ee[W+1];be==="style"?bn(R,Ce):be==="dangerouslySetInnerHTML"?Wt(R,Ce):be==="children"?mn(R,Ce):C(R,be,Ce,he)}switch(K){case"input":Fe(R,O);break;case"textarea":Ht(R,O);break;case"select":var we=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!O.multiple;var $e=O.value;$e!=null?pt(R,!!O.multiple,$e,!1):we!==!!O.multiple&&(O.defaultValue!=null?pt(R,!!O.multiple,O.defaultValue,!0):pt(R,!!O.multiple,O.multiple?[]:"",!1))}R[_w]=O}catch(Je){vr(c,c.return,Je)}}break;case 6:if(Xa(d,c),Bl(c),S&4){if(c.stateNode===null)throw Error(t(162));R=c.stateNode,O=c.memoizedProps;try{R.nodeValue=O}catch(Je){vr(c,c.return,Je)}}break;case 3:if(Xa(d,c),Bl(c),S&4&&g!==null&&g.memoizedState.isDehydrated)try{za(d.containerInfo)}catch(Je){vr(c,c.return,Je)}break;case 4:Xa(d,c),Bl(c);break;case 13:Xa(d,c),Bl(c),R=c.child,R.flags&8192&&(O=R.memoizedState!==null,R.stateNode.isHidden=O,!O||R.alternate!==null&&R.alternate.memoizedState!==null||(tP=$n())),S&4&&z4(c);break;case 22:if(be=g!==null&&g.memoizedState!==null,c.mode&1?(zi=(he=zi)||be,Xa(d,c),zi=he):Xa(d,c),Bl(c),S&8192){if(he=c.memoizedState!==null,(c.stateNode.isHidden=he)&&!be&&(c.mode&1)!==0)for(qe=c,be=c.child;be!==null;){for(Ce=qe=be;qe!==null;){switch(we=qe,$e=we.child,we.tag){case 0:case 11:case 14:case 15:Dw(4,we,we.return);break;case 1:Wg(we,we.return);var Ke=we.stateNode;if(typeof Ke.componentWillUnmount=="function"){S=we,g=we.return;try{d=S,Ke.props=d.memoizedProps,Ke.state=d.memoizedState,Ke.componentWillUnmount()}catch(Je){vr(S,g,Je)}}break;case 5:Wg(we,we.return);break;case 22:if(we.memoizedState!==null){Y4(Ce);continue}}$e!==null?($e.return=we,qe=$e):Y4(Ce)}be=be.sibling}e:for(be=null,Ce=c;;){if(Ce.tag===5){if(be===null){be=Ce;try{R=Ce.stateNode,he?(O=R.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(K=Ce.stateNode,ee=Ce.memoizedProps.style,W=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,K.style.display=wn("display",W))}catch(Je){vr(c,c.return,Je)}}}else if(Ce.tag===6){if(be===null)try{Ce.stateNode.nodeValue=he?"":Ce.memoizedProps}catch(Je){vr(c,c.return,Je)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===c)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===c)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===c)break e;be===Ce&&(be=null),Ce=Ce.return}be===Ce&&(be=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:Xa(d,c),Bl(c),S&4&&z4(c);break;case 21:break;default:Xa(d,c),Bl(c)}}function Bl(c){var d=c.flags;if(d&2){try{e:{for(var g=c.return;g!==null;){if(U4(g)){var S=g;break e}g=g.return}throw Error(t(160))}switch(S.tag){case 5:var R=S.stateNode;S.flags&32&&(mn(R,""),S.flags&=-33);var O=V4(c);Qk(c,O,R);break;case 3:case 4:var W=S.stateNode.containerInfo,K=V4(c);Jk(c,K,W);break;default:throw Error(t(161))}}catch(ee){vr(c,c.return,ee)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function Ite(c,d,g){qe=c,q4(c)}function q4(c,d,g){for(var S=(c.mode&1)!==0;qe!==null;){var R=qe,O=R.child;if(R.tag===22&&S){var W=R.memoizedState!==null||TC;if(!W){var K=R.alternate,ee=K!==null&&K.memoizedState!==null||zi;K=TC;var he=zi;if(TC=W,(zi=ee)&&!he)for(qe=R;qe!==null;)W=qe,ee=W.child,W.tag===22&&W.memoizedState!==null?K4(R):ee!==null?(ee.return=W,qe=ee):K4(R);for(;O!==null;)qe=O,q4(O),O=O.sibling;qe=R,TC=K,zi=he}G4(c)}else(R.subtreeFlags&8772)!==0&&O!==null?(O.return=R,qe=O):G4(c)}}function G4(c){for(;qe!==null;){var d=qe;if((d.flags&8772)!==0){var g=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:zi||AC(5,d);break;case 1:var S=d.stateNode;if(d.flags&4&&!zi)if(g===null)S.componentDidMount();else{var R=d.elementType===d.type?g.memoizedProps:Ya(d.type,g.memoizedProps);S.componentDidUpdate(R,g.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var O=d.updateQueue;O!==null&&YU(d,O,S);break;case 3:var W=d.updateQueue;if(W!==null){if(g=null,d.child!==null)switch(d.child.tag){case 5:g=d.child.stateNode;break;case 1:g=d.child.stateNode}YU(d,W,g)}break;case 5:var K=d.stateNode;if(g===null&&d.flags&4){g=K;var ee=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&g.focus();break;case"img":ee.src&&(g.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var he=d.alternate;if(he!==null){var be=he.memoizedState;if(be!==null){var Ce=be.dehydrated;Ce!==null&&za(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}zi||d.flags&512&&Xk(d)}catch(we){vr(d,d.return,we)}}if(d===c){qe=null;break}if(g=d.sibling,g!==null){g.return=d.return,qe=g;break}qe=d.return}}function Y4(c){for(;qe!==null;){var d=qe;if(d===c){qe=null;break}var g=d.sibling;if(g!==null){g.return=d.return,qe=g;break}qe=d.return}}function K4(c){for(;qe!==null;){var d=qe;try{switch(d.tag){case 0:case 11:case 15:var g=d.return;try{AC(4,d)}catch(ee){vr(d,g,ee)}break;case 1:var S=d.stateNode;if(typeof S.componentDidMount=="function"){var R=d.return;try{S.componentDidMount()}catch(ee){vr(d,R,ee)}}var O=d.return;try{Xk(d)}catch(ee){vr(d,O,ee)}break;case 5:var W=d.return;try{Xk(d)}catch(ee){vr(d,W,ee)}}}catch(ee){vr(d,d.return,ee)}if(d===c){qe=null;break}var K=d.sibling;if(K!==null){K.return=d.return,qe=K;break}qe=d.return}}var kte=Math.ceil,xC=x.ReactCurrentDispatcher,Zk=x.ReactCurrentOwner,Jo=x.ReactCurrentBatchConfig,nn=0,hi=null,$r=null,Ti=0,uo=0,qg=Od(0),Jr=0,Mw=null,Hf=0,RC=0,eP=0,Ow=null,Ds=null,tP=0,Gg=1/0,Qc=null,IC=!1,nP=null,jd=null,kC=!1,Ud=null,PC=0,Lw=0,rP=null,DC=-1,MC=0;function fs(){return(nn&6)!==0?$n():DC!==-1?DC:DC=$n()}function Vd(c){return(c.mode&1)===0?1:(nn&2)!==0&&Ti!==0?Ti&-Ti:fte.transition!==null?(MC===0&&(MC=Pf()),MC):(c=Gt,c!==0||(c=window.event,c=c===void 0?16:cw(c.type)),c)}function Ja(c,d,g,S){if(50<Lw)throw Lw=0,rP=null,Error(t(185));Ad(c,g,S),((nn&2)===0||c!==hi)&&(c===hi&&((nn&2)===0&&(RC|=g),Jr===4&&Hd(c,Ti)),Ms(c,S),g===1&&nn===0&&(d.mode&1)===0&&(Gg=$n()+500,aC&&Fd()))}function Ms(c,d){var g=c.callbackNode;jc(c,d);var S=kf(c,c===hi?Ti:0);if(S===0)g!==null&&iw(g),c.callbackNode=null,c.callbackPriority=0;else if(d=S&-S,c.callbackPriority!==d){if(g!=null&&iw(g),d===1)c.tag===0?hte(J4.bind(null,c)):FU(J4.bind(null,c)),lte(function(){(nn&6)===0&&Fd()}),g=null;else{switch(Rd(S)){case 1:g=Rf;break;case 4:g=Ed;break;case 16:g=zo;break;case 536870912:g=M1;break;default:g=zo}g=sV(g,X4.bind(null,c))}c.callbackPriority=d,c.callbackNode=g}}function X4(c,d){if(DC=-1,MC=0,(nn&6)!==0)throw Error(t(327));var g=c.callbackNode;if(Yg()&&c.callbackNode!==g)return null;var S=kf(c,c===hi?Ti:0);if(S===0)return null;if((S&30)!==0||(S&c.expiredLanes)!==0||d)d=OC(c,S);else{d=S;var R=nn;nn|=2;var O=Z4();(hi!==c||Ti!==d)&&(Qc=null,Gg=$n()+500,Wf(c,d));do try{Mte();break}catch(K){Q4(c,K)}while(!0);_k(),xC.current=O,nn=R,$r!==null?d=0:(hi=null,Ti=0,d=Jr)}if(d!==0){if(d===2&&(R=so(c),R!==0&&(S=R,d=iP(c,R))),d===1)throw g=Mw,Wf(c,0),Hd(c,S),Ms(c,$n()),g;if(d===6)Hd(c,S);else{if(R=c.current.alternate,(S&30)===0&&!Pte(R)&&(d=OC(c,S),d===2&&(O=so(c),O!==0&&(S=O,d=iP(c,O))),d===1))throw g=Mw,Wf(c,0),Hd(c,S),Ms(c,$n()),g;switch(c.finishedWork=R,c.finishedLanes=S,d){case 0:case 1:throw Error(t(345));case 2:qf(c,Ds,Qc);break;case 3:if(Hd(c,S),(S&130023424)===S&&(d=tP+500-$n(),10<d)){if(kf(c,0)!==0)break;if(R=c.suspendedLanes,(R&S)!==S){fs(),c.pingedLanes|=c.suspendedLanes&R;break}c.timeoutHandle=uk(qf.bind(null,c,Ds,Qc),d);break}qf(c,Ds,Qc);break;case 4:if(Hd(c,S),(S&4194240)===S)break;for(d=c.eventTimes,R=-1;0<S;){var W=31-us(S);O=1<<W,W=d[W],W>R&&(R=W),S&=~O}if(S=R,S=$n()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*kte(S/1960))-S,10<S){c.timeoutHandle=uk(qf.bind(null,c,Ds,Qc),S);break}qf(c,Ds,Qc);break;case 5:qf(c,Ds,Qc);break;default:throw Error(t(329))}}}return Ms(c,$n()),c.callbackNode===g?X4.bind(null,c):null}function iP(c,d){var g=Ow;return c.current.memoizedState.isDehydrated&&(Wf(c,d).flags|=256),c=OC(c,d),c!==2&&(d=Ds,Ds=g,d!==null&&sP(d)),c}function sP(c){Ds===null?Ds=c:Ds.push.apply(Ds,c)}function Pte(c){for(var d=c;;){if(d.flags&16384){var g=d.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var S=0;S<g.length;S++){var R=g[S],O=R.getSnapshot;R=R.value;try{if(!qa(O(),R))return!1}catch{return!1}}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Hd(c,d){for(d&=~eP,d&=~RC,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var g=31-us(d),S=1<<g;c[g]=-1,d&=~S}}function J4(c){if((nn&6)!==0)throw Error(t(327));Yg();var d=kf(c,0);if((d&1)===0)return Ms(c,$n()),null;var g=OC(c,d);if(c.tag!==0&&g===2){var S=so(c);S!==0&&(d=S,g=iP(c,S))}if(g===1)throw g=Mw,Wf(c,0),Hd(c,d),Ms(c,$n()),g;if(g===6)throw Error(t(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,qf(c,Ds,Qc),Ms(c,$n()),null}function oP(c,d){var g=nn;nn|=1;try{return c(d)}finally{nn=g,nn===0&&(Gg=$n()+500,aC&&Fd())}}function zf(c){Ud!==null&&Ud.tag===0&&(nn&6)===0&&Yg();var d=nn;nn|=1;var g=Jo.transition,S=Gt;try{if(Jo.transition=null,Gt=1,c)return c()}finally{Gt=S,Jo.transition=g,nn=d,(nn&6)===0&&Fd()}}function aP(){uo=qg.current,Gn(qg)}function Wf(c,d){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==-1&&(c.timeoutHandle=-1,ate(g)),$r!==null)for(g=$r.return;g!==null;){var S=g;switch(gk(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&sC();break;case 3:Hg(),Gn(Is),Gn(Ui),Ik();break;case 5:xk(S);break;case 4:Hg();break;case 13:Gn(ur);break;case 19:Gn(ur);break;case 10:Sk(S.type._context);break;case 22:case 23:aP()}g=g.return}if(hi=c,$r=c=zd(c.current,null),Ti=uo=d,Jr=0,Mw=null,eP=RC=Hf=0,Ds=Ow=null,jf!==null){for(d=0;d<jf.length;d++)if(g=jf[d],S=g.interleaved,S!==null){g.interleaved=null;var R=S.next,O=g.pending;if(O!==null){var W=O.next;O.next=R,S.next=W}g.pending=S}jf=null}return c}function Q4(c,d){do{var g=$r;try{if(_k(),yC.current=_C,vC){for(var S=dr.memoizedState;S!==null;){var R=S.queue;R!==null&&(R.pending=null),S=S.next}vC=!1}if(Vf=0,di=Xr=dr=null,xw=!1,Rw=0,Zk.current=null,g===null||g.return===null){Jr=1,Mw=d,$r=null;break}e:{var O=c,W=g.return,K=g,ee=d;if(d=Ti,K.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var he=ee,be=K,Ce=be.tag;if((be.mode&1)===0&&(Ce===0||Ce===11||Ce===15)){var we=be.alternate;we?(be.updateQueue=we.updateQueue,be.memoizedState=we.memoizedState,be.lanes=we.lanes):(be.updateQueue=null,be.memoizedState=null)}var $e=E4(W);if($e!==null){$e.flags&=-257,C4($e,W,K,O,d),$e.mode&1&&S4(O,he,d),d=$e,ee=he;var Ke=d.updateQueue;if(Ke===null){var Je=new Set;Je.add(ee),d.updateQueue=Je}else Ke.add(ee);break e}else{if((d&1)===0){S4(O,he,d),lP();break e}ee=Error(t(426))}}else if(tr&&K.mode&1){var Dr=E4(W);if(Dr!==null){(Dr.flags&65536)===0&&(Dr.flags|=256),C4(Dr,W,K,O,d),wk(zg(ee,K));break e}}O=ee=zg(ee,K),Jr!==4&&(Jr=2),Ow===null?Ow=[O]:Ow.push(O),O=W;do{switch(O.tag){case 3:O.flags|=65536,d&=-d,O.lanes|=d;var ae=b4(O,ee,d);GU(O,ae);break e;case 1:K=ee;var re=O.type,ue=O.stateNode;if((O.flags&128)===0&&(typeof re.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(jd===null||!jd.has(ue)))){O.flags|=65536,d&=-d,O.lanes|=d;var Ae=_4(O,K,d);GU(O,Ae);break e}}O=O.return}while(O!==null)}tV(g)}catch(Ze){d=Ze,$r===g&&g!==null&&($r=g=g.return);continue}break}while(!0)}function Z4(){var c=xC.current;return xC.current=_C,c===null?_C:c}function lP(){(Jr===0||Jr===3||Jr===2)&&(Jr=4),hi===null||(Hf&268435455)===0&&(RC&268435455)===0||Hd(hi,Ti)}function OC(c,d){var g=nn;nn|=2;var S=Z4();(hi!==c||Ti!==d)&&(Qc=null,Wf(c,d));do try{Dte();break}catch(R){Q4(c,R)}while(!0);if(_k(),nn=g,xC.current=S,$r!==null)throw Error(t(261));return hi=null,Ti=0,Jr}function Dte(){for(;$r!==null;)eV($r)}function Mte(){for(;$r!==null&&!P1();)eV($r)}function eV(c){var d=iV(c.alternate,c,uo);c.memoizedProps=c.pendingProps,d===null?tV(c):$r=d,Zk.current=null}function tV(c){var d=c;do{var g=d.alternate;if(c=d.return,(d.flags&32768)===0){if(g=Tte(g,d,uo),g!==null){$r=g;return}}else{if(g=Ate(g,d),g!==null){g.flags&=32767,$r=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Jr=6,$r=null;return}}if(d=d.sibling,d!==null){$r=d;return}$r=d=c}while(d!==null);Jr===0&&(Jr=5)}function qf(c,d,g){var S=Gt,R=Jo.transition;try{Jo.transition=null,Gt=1,Ote(c,d,g,S)}finally{Jo.transition=R,Gt=S}return null}function Ote(c,d,g,S){do Yg();while(Ud!==null);if((nn&6)!==0)throw Error(t(327));g=c.finishedWork;var R=c.finishedLanes;if(g===null)return null;if(c.finishedWork=null,c.finishedLanes=0,g===c.current)throw Error(t(177));c.callbackNode=null,c.callbackPriority=0;var O=g.lanes|g.childLanes;if(kn(c,O),c===hi&&($r=hi=null,Ti=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||kC||(kC=!0,sV(zo,function(){return Yg(),null})),O=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||O){O=Jo.transition,Jo.transition=null;var W=Gt;Gt=1;var K=nn;nn|=4,Zk.current=null,Rte(c,g),W4(g,c),ete(lk),kd=!!ak,lk=ak=null,c.current=g,Ite(g),WI(),nn=K,Gt=W,Jo.transition=O}else c.current=g;if(kC&&(kC=!1,Ud=c,PC=R),O=c.pendingLanes,O===0&&(jd=null),O1(g.stateNode),Ms(c,$n()),d!==null)for(S=c.onRecoverableError,g=0;g<d.length;g++)R=d[g],S(R.value,{componentStack:R.stack,digest:R.digest});if(IC)throw IC=!1,c=nP,nP=null,c;return(PC&1)!==0&&c.tag!==0&&Yg(),O=c.pendingLanes,(O&1)!==0?c===rP?Lw++:(Lw=0,rP=c):Lw=0,Fd(),null}function Yg(){if(Ud!==null){var c=Rd(PC),d=Jo.transition,g=Gt;try{if(Jo.transition=null,Gt=16>c?16:c,Ud===null)var S=!1;else{if(c=Ud,Ud=null,PC=0,(nn&6)!==0)throw Error(t(331));var R=nn;for(nn|=4,qe=c.current;qe!==null;){var O=qe,W=O.child;if((qe.flags&16)!==0){var K=O.deletions;if(K!==null){for(var ee=0;ee<K.length;ee++){var he=K[ee];for(qe=he;qe!==null;){var be=qe;switch(be.tag){case 0:case 11:case 15:Dw(8,be,O)}var Ce=be.child;if(Ce!==null)Ce.return=be,qe=Ce;else for(;qe!==null;){be=qe;var we=be.sibling,$e=be.return;if(j4(be),be===he){qe=null;break}if(we!==null){we.return=$e,qe=we;break}qe=$e}}}var Ke=O.alternate;if(Ke!==null){var Je=Ke.child;if(Je!==null){Ke.child=null;do{var Dr=Je.sibling;Je.sibling=null,Je=Dr}while(Je!==null)}}qe=O}}if((O.subtreeFlags&2064)!==0&&W!==null)W.return=O,qe=W;else e:for(;qe!==null;){if(O=qe,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:Dw(9,O,O.return)}var ae=O.sibling;if(ae!==null){ae.return=O.return,qe=ae;break e}qe=O.return}}var re=c.current;for(qe=re;qe!==null;){W=qe;var ue=W.child;if((W.subtreeFlags&2064)!==0&&ue!==null)ue.return=W,qe=ue;else e:for(W=re;qe!==null;){if(K=qe,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:AC(9,K)}}catch(Ze){vr(K,K.return,Ze)}if(K===W){qe=null;break e}var Ae=K.sibling;if(Ae!==null){Ae.return=K.return,qe=Ae;break e}qe=K.return}}if(nn=R,Fd(),io&&typeof io.onPostCommitFiberRoot=="function")try{io.onPostCommitFiberRoot(If,c)}catch{}S=!0}return S}finally{Gt=g,Jo.transition=d}}return!1}function nV(c,d,g){d=zg(g,d),d=b4(c,d,1),c=Bd(c,d,1),d=fs(),c!==null&&(Ad(c,1,d),Ms(c,d))}function vr(c,d,g){if(c.tag===3)nV(c,c,g);else for(;d!==null;){if(d.tag===3){nV(d,c,g);break}else if(d.tag===1){var S=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(jd===null||!jd.has(S))){c=zg(g,c),c=_4(d,c,1),d=Bd(d,c,1),c=fs(),d!==null&&(Ad(d,1,c),Ms(d,c));break}}d=d.return}}function Lte(c,d,g){var S=c.pingCache;S!==null&&S.delete(d),d=fs(),c.pingedLanes|=c.suspendedLanes&g,hi===c&&(Ti&g)===g&&(Jr===4||Jr===3&&(Ti&130023424)===Ti&&500>$n()-tP?Wf(c,0):eP|=g),Ms(c,d)}function rV(c,d){d===0&&((c.mode&1)===0?d=1:(d=yg,yg<<=1,(yg&130023424)===0&&(yg=4194304)));var g=fs();c=Kc(c,d),c!==null&&(Ad(c,d,g),Ms(c,g))}function Fte(c){var d=c.memoizedState,g=0;d!==null&&(g=d.retryLane),rV(c,g)}function Nte(c,d){var g=0;switch(c.tag){case 13:var S=c.stateNode,R=c.memoizedState;R!==null&&(g=R.retryLane);break;case 19:S=c.stateNode;break;default:throw Error(t(314))}S!==null&&S.delete(d),rV(c,g)}var iV;iV=function(c,d,g){if(c!==null)if(c.memoizedProps!==d.pendingProps||Is.current)Ps=!0;else{if((c.lanes&g)===0&&(d.flags&128)===0)return Ps=!1,Cte(c,d,g);Ps=(c.flags&131072)!==0}else Ps=!1,tr&&(d.flags&1048576)!==0&&NU(d,cC,d.index);switch(d.lanes=0,d.tag){case 2:var S=d.type;CC(c,d),c=d.pendingProps;var R=Fg(d,Ui.current);Vg(d,g),R=Dk(null,d,S,c,R,g);var O=Mk();return d.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,ks(S)?(O=!0,oC(d)):O=!1,d.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,Tk(d),R.updater=SC,d.stateNode=R,R._reactInternals=d,$k(d,S,c,g),d=Hk(null,d,S,!0,O,g)):(d.tag=0,tr&&O&&mk(d),hs(null,d,R,g),d=d.child),d;case 16:S=d.elementType;e:{switch(CC(c,d),c=d.pendingProps,R=S._init,S=R(S._payload),d.type=S,R=d.tag=$te(S),c=Ya(S,c),R){case 0:d=Vk(null,d,S,c,g);break e;case 1:d=k4(null,d,S,c,g);break e;case 11:d=T4(null,d,S,c,g);break e;case 14:d=A4(null,d,S,Ya(S.type,c),g);break e}throw Error(t(306,S,""))}return d;case 0:return S=d.type,R=d.pendingProps,R=d.elementType===S?R:Ya(S,R),Vk(c,d,S,R,g);case 1:return S=d.type,R=d.pendingProps,R=d.elementType===S?R:Ya(S,R),k4(c,d,S,R,g);case 3:e:{if(P4(d),c===null)throw Error(t(387));S=d.pendingProps,O=d.memoizedState,R=O.element,qU(c,d),mC(d,S,null,g);var W=d.memoizedState;if(S=W.element,O.isDehydrated)if(O={element:S,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},d.updateQueue.baseState=O,d.memoizedState=O,d.flags&256){R=zg(Error(t(423)),d),d=D4(c,d,S,g,R);break e}else if(S!==R){R=zg(Error(t(424)),d),d=D4(c,d,S,g,R);break e}else for(co=Md(d.stateNode.containerInfo.firstChild),lo=d,tr=!0,Ga=null,g=zU(d,null,S,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if($g(),S===R){d=Jc(c,d,g);break e}hs(c,d,S,g)}d=d.child}return d;case 5:return KU(d),c===null&&vk(d),S=d.type,R=d.pendingProps,O=c!==null?c.memoizedProps:null,W=R.children,ck(S,R)?W=null:O!==null&&ck(S,O)&&(d.flags|=32),I4(c,d),hs(c,d,W,g),d.child;case 6:return c===null&&vk(d),null;case 13:return M4(c,d,g);case 4:return Ak(d,d.stateNode.containerInfo),S=d.pendingProps,c===null?d.child=jg(d,null,S,g):hs(c,d,S,g),d.child;case 11:return S=d.type,R=d.pendingProps,R=d.elementType===S?R:Ya(S,R),T4(c,d,S,R,g);case 7:return hs(c,d,d.pendingProps,g),d.child;case 8:return hs(c,d,d.pendingProps.children,g),d.child;case 12:return hs(c,d,d.pendingProps.children,g),d.child;case 10:e:{if(S=d.type._context,R=d.pendingProps,O=d.memoizedProps,W=R.value,jn(hC,S._currentValue),S._currentValue=W,O!==null)if(qa(O.value,W)){if(O.children===R.children&&!Is.current){d=Jc(c,d,g);break e}}else for(O=d.child,O!==null&&(O.return=d);O!==null;){var K=O.dependencies;if(K!==null){W=O.child;for(var ee=K.firstContext;ee!==null;){if(ee.context===S){if(O.tag===1){ee=Xc(-1,g&-g),ee.tag=2;var he=O.updateQueue;if(he!==null){he=he.shared;var be=he.pending;be===null?ee.next=ee:(ee.next=be.next,be.next=ee),he.pending=ee}}O.lanes|=g,ee=O.alternate,ee!==null&&(ee.lanes|=g),Ek(O.return,g,d),K.lanes|=g;break}ee=ee.next}}else if(O.tag===10)W=O.type===d.type?null:O.child;else if(O.tag===18){if(W=O.return,W===null)throw Error(t(341));W.lanes|=g,K=W.alternate,K!==null&&(K.lanes|=g),Ek(W,g,d),W=O.sibling}else W=O.child;if(W!==null)W.return=O;else for(W=O;W!==null;){if(W===d){W=null;break}if(O=W.sibling,O!==null){O.return=W.return,W=O;break}W=W.return}O=W}hs(c,d,R.children,g),d=d.child}return d;case 9:return R=d.type,S=d.pendingProps.children,Vg(d,g),R=Ko(R),S=S(R),d.flags|=1,hs(c,d,S,g),d.child;case 14:return S=d.type,R=Ya(S,d.pendingProps),R=Ya(S.type,R),A4(c,d,S,R,g);case 15:return x4(c,d,d.type,d.pendingProps,g);case 17:return S=d.type,R=d.pendingProps,R=d.elementType===S?R:Ya(S,R),CC(c,d),d.tag=1,ks(S)?(c=!0,oC(d)):c=!1,Vg(d,g),v4(d,S,R),$k(d,S,R,g),Hk(null,d,S,!0,c,g);case 19:return L4(c,d,g);case 22:return R4(c,d,g)}throw Error(t(156,d.tag))};function sV(c,d){return mg(c,d)}function Bte(c,d,g,S){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qo(c,d,g,S){return new Bte(c,d,g,S)}function cP(c){return c=c.prototype,!(!c||!c.isReactComponent)}function $te(c){if(typeof c=="function")return cP(c)?1:0;if(c!=null){if(c=c.$$typeof,c===z)return 11;if(c===te)return 14}return 2}function zd(c,d){var g=c.alternate;return g===null?(g=Qo(c.tag,d,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=d,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,d=c.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function LC(c,d,g,S,R,O){var W=2;if(S=c,typeof c=="function")cP(c)&&(W=1);else if(typeof c=="string")W=5;else e:switch(c){case k:return Gf(g.children,R,O,d);case L:W=8,R|=8;break;case N:return c=Qo(12,g,d,R|2),c.elementType=N,c.lanes=O,c;case U:return c=Qo(13,g,d,R),c.elementType=U,c.lanes=O,c;case Q:return c=Qo(19,g,d,R),c.elementType=Q,c.lanes=O,c;case ne:return FC(g,R,O,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case A:W=10;break e;case B:W=9;break e;case z:W=11;break e;case te:W=14;break e;case X:W=16,S=null;break e}throw Error(t(130,c==null?c:typeof c,""))}return d=Qo(W,g,d,R),d.elementType=c,d.type=S,d.lanes=O,d}function Gf(c,d,g,S){return c=Qo(7,c,S,d),c.lanes=g,c}function FC(c,d,g,S){return c=Qo(22,c,S,d),c.elementType=ne,c.lanes=g,c.stateNode={isHidden:!1},c}function uP(c,d,g){return c=Qo(6,c,null,d),c.lanes=g,c}function dP(c,d,g){return d=Qo(4,c.children!==null?c.children:[],c.key,d),d.lanes=g,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function jte(c,d,g,S,R){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Td(0),this.expirationTimes=Td(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Td(0),this.identifierPrefix=S,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function hP(c,d,g,S,R,O,W,K,ee){return c=new jte(c,d,g,K,ee),d===1?(d=1,O===!0&&(d|=8)):d=0,O=Qo(3,null,null,d),c.current=O,O.stateNode=c,O.memoizedState={element:S,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tk(O),c}function Ute(c,d,g){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:S==null?null:""+S,children:c,containerInfo:d,implementation:g}}function oV(c){if(!c)return Ld;c=c._reactInternals;e:{if($a(c)!==c||c.tag!==1)throw Error(t(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(ks(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(t(171))}if(c.tag===1){var g=c.type;if(ks(g))return OU(c,g,d)}return d}function aV(c,d,g,S,R,O,W,K,ee){return c=hP(g,S,!0,c,R,O,W,K,ee),c.context=oV(null),g=c.current,S=fs(),R=Vd(g),O=Xc(S,R),O.callback=d??null,Bd(g,O,R),c.current.lanes=R,Ad(c,R,S),Ms(c,S),c}function NC(c,d,g,S){var R=d.current,O=fs(),W=Vd(R);return g=oV(g),d.context===null?d.context=g:d.pendingContext=g,d=Xc(O,W),d.payload={element:c},S=S===void 0?null:S,S!==null&&(d.callback=S),c=Bd(R,d,W),c!==null&&(Ja(c,R,W,O),pC(c,R,W)),W}function BC(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function lV(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<d?g:d}}function fP(c,d){lV(c,d),(c=c.alternate)&&lV(c,d)}function Vte(){return null}var cV=typeof reportError=="function"?reportError:function(c){console.error(c)};function pP(c){this._internalRoot=c}$C.prototype.render=pP.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(t(409));NC(c,d,null,null)},$C.prototype.unmount=pP.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;zf(function(){NC(null,c,null,null)}),d[Wc]=null}};function $C(c){this._internalRoot=c}$C.prototype.unstable_scheduleHydration=function(c){if(c){var d=$1();c={blockedOn:null,target:c,priority:d};for(var g=0;g<Pl.length&&d!==0&&d<Pl[g].priority;g++);Pl.splice(g,0,c),g===0&&V1(c)}};function mP(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function jC(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function uV(){}function Hte(c,d,g,S,R){if(R){if(typeof S=="function"){var O=S;S=function(){var he=BC(W);O.call(he)}}var W=aV(d,S,c,0,null,!1,!1,"",uV);return c._reactRootContainer=W,c[Wc]=W.current,ww(c.nodeType===8?c.parentNode:c),zf(),W}for(;R=c.lastChild;)c.removeChild(R);if(typeof S=="function"){var K=S;S=function(){var he=BC(ee);K.call(he)}}var ee=hP(c,0,!1,null,null,!1,!1,"",uV);return c._reactRootContainer=ee,c[Wc]=ee.current,ww(c.nodeType===8?c.parentNode:c),zf(function(){NC(d,ee,g,S)}),ee}function UC(c,d,g,S,R){var O=g._reactRootContainer;if(O){var W=O;if(typeof R=="function"){var K=R;R=function(){var ee=BC(W);K.call(ee)}}NC(d,W,c,R)}else W=Hte(g,d,c,R,S);return BC(W)}N1=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var g=Cd(d.pendingLanes);g!==0&&(xd(d,g|1),Ms(d,$n()),(nn&6)===0&&(Gg=$n()+500,Fd()))}break;case 13:zf(function(){var S=Kc(c,1);if(S!==null){var R=fs();Ja(S,c,1,R)}}),fP(c,1)}},vg=function(c){if(c.tag===13){var d=Kc(c,134217728);if(d!==null){var g=fs();Ja(d,c,134217728,g)}fP(c,134217728)}},B1=function(c){if(c.tag===13){var d=Vd(c),g=Kc(c,d);if(g!==null){var S=fs();Ja(g,c,d,S)}fP(c,d)}},$1=function(){return Gt},j1=function(c,d){var g=Gt;try{return Gt=c,d()}finally{Gt=g}},bd=function(c,d,g){switch(d){case"input":if(Fe(c,g),d=g.name,g.type==="radio"&&d!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<g.length;d++){var S=g[d];if(S!==c&&S.form===c.form){var R=iC(S);if(!R)throw Error(t(90));je(S),Fe(S,R)}}}break;case"textarea":Ht(c,g);break;case"select":d=g.value,d!=null&&pt(c,!!g.multiple,d,!1)}},$c=oP,mt=zf;var zte={usingClientEntryPoint:!1,Events:[Sw,Og,iC,Ho,Cf,oP]},Fw={findFiberByHostInstance:Ff,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wte={bundleType:Fw.bundleType,version:Fw.version,rendererPackageName:Fw.rendererPackageName,rendererConfig:Fw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=rw(c),c===null?null:c.stateNode},findFiberByHostInstance:Fw.findFiberByHostInstance||Vte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var VC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!VC.isDisabled&&VC.supportsFiber)try{If=VC.inject(Wte),io=VC}catch{}}return Os.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zte,Os.createPortal=function(c,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mP(d))throw Error(t(200));return Ute(c,d,null,g)},Os.createRoot=function(c,d){if(!mP(c))throw Error(t(299));var g=!1,S="",R=cV;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onRecoverableError!==void 0&&(R=d.onRecoverableError)),d=hP(c,1,!1,null,null,g,!1,S,R),c[Wc]=d.current,ww(c.nodeType===8?c.parentNode:c),new pP(d)},Os.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(t(188)):(c=Object.keys(c).join(","),Error(t(268,c)));return c=rw(d),c=c===null?null:c.stateNode,c},Os.flushSync=function(c){return zf(c)},Os.hydrate=function(c,d,g){if(!jC(d))throw Error(t(200));return UC(null,c,d,!0,g)},Os.hydrateRoot=function(c,d,g){if(!mP(c))throw Error(t(405));var S=g!=null&&g.hydratedSources||null,R=!1,O="",W=cV;if(g!=null&&(g.unstable_strictMode===!0&&(R=!0),g.identifierPrefix!==void 0&&(O=g.identifierPrefix),g.onRecoverableError!==void 0&&(W=g.onRecoverableError)),d=aV(d,null,c,1,g??null,R,!1,O,W),c[Wc]=d.current,ww(c),S)for(c=0;c<S.length;c++)g=S[c],R=g._getVersion,R=R(g._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[g,R]:d.mutableSourceEagerHydrationData.push(g,R);return new $C(d)},Os.render=function(c,d,g){if(!jC(d))throw Error(t(200));return UC(null,c,d,!1,g)},Os.unmountComponentAtNode=function(c){if(!jC(c))throw Error(t(40));return c._reactRootContainer?(zf(function(){UC(null,null,c,!1,function(){c._reactRootContainer=null,c[Wc]=null})}),!0):!1},Os.unstable_batchedUpdates=oP,Os.unstable_renderSubtreeIntoContainer=function(c,d,g,S){if(!jC(g))throw Error(t(200));if(c==null||c._reactInternals===void 0)throw Error(t(38));return UC(c,d,g,!1,S)},Os.version="18.3.1-next-f1338f8080-20240426",Os}var wV;function aG(){if(wV)return wP.exports;wV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wP.exports=tne(),wP.exports}var bV;function nne(){if(bV)return zC;bV=1;var n=aG();return zC.createRoot=n.createRoot,zC.hydrateRoot=n.hydrateRoot,zC}var rne=nne();function sd(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function ar(){return ar=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ar.apply(null,arguments)}function ine(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function sne(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var one=(function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(sne(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=ine(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n})(),Gi="-ms-",VA="-moz-",cn="-webkit-",lG="comm",zN="rule",WN="decl",ane="@import",cG="@keyframes",lne="@layer",cne=Math.abs,lR=String.fromCharCode,une=Object.assign;function dne(n,e){return Li(n,0)^45?(((e<<2^Li(n,0))<<2^Li(n,1))<<2^Li(n,2))<<2^Li(n,3):0}function uG(n){return n.trim()}function hne(n,e){return(n=e.exec(n))?n[0]:n}function dn(n,e,t){return n.replace(e,t)}function tL(n,e){return n.indexOf(e)}function Li(n,e){return n.charCodeAt(e)|0}function n_(n,e,t){return n.slice(e,t)}function mc(n){return n.length}function qN(n){return n.length}function WC(n,e){return e.push(n),n}function fne(n,e){return n.map(e).join("")}var cR=1,h0=1,dG=0,no=0,zr=0,D0="";function uR(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:cR,column:h0,length:o,return:""}}function Bw(n,e){return une(uR("",null,null,"",null,null,0),n,{length:-n.length},e)}function pne(){return zr}function mne(){return zr=no>0?Li(D0,--no):0,h0--,zr===10&&(h0=1,cR--),zr}function Fo(){return zr=no<dG?Li(D0,no++):0,h0++,zr===10&&(h0=1,cR++),zr}function bc(){return Li(D0,no)}function RT(){return no}function ME(n,e){return n_(D0,n,e)}function r_(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function hG(n){return cR=h0=1,dG=mc(D0=n),no=0,[]}function fG(n){return D0="",n}function IT(n){return uG(ME(no-1,nL(n===91?n+2:n===40?n+1:n)))}function gne(n){for(;(zr=bc())&&zr<33;)Fo();return r_(n)>2||r_(zr)>3?"":" "}function yne(n,e){for(;--e&&Fo()&&!(zr<48||zr>102||zr>57&&zr<65||zr>70&&zr<97););return ME(n,RT()+(e<6&&bc()==32&&Fo()==32))}function nL(n){for(;Fo();)switch(zr){case n:return no;case 34:case 39:n!==34&&n!==39&&nL(zr);break;case 40:n===41&&nL(n);break;case 92:Fo();break}return no}function vne(n,e){for(;Fo()&&n+zr!==57;)if(n+zr===84&&bc()===47)break;return"/*"+ME(e,no-1)+"*"+lR(n===47?n:Fo())}function wne(n){for(;!r_(bc());)Fo();return ME(n,no)}function bne(n){return fG(kT("",null,null,null,[""],n=hG(n),0,[0],n))}function kT(n,e,t,r,i,s,o,a,l){for(var u=0,h=0,p=o,m=0,y=0,b=0,w=1,_=1,E=1,T=0,C="",x=i,I=s,F=r,k=C;_;)switch(b=T,T=Fo()){case 40:if(b!=108&&Li(k,p-1)==58){tL(k+=dn(IT(T),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:k+=IT(T);break;case 9:case 10:case 13:case 32:k+=gne(b);break;case 92:k+=yne(RT()-1,7);continue;case 47:switch(bc()){case 42:case 47:WC(_ne(vne(Fo(),RT()),e,t),l);break;default:k+="/"}break;case 123*w:a[u++]=mc(k)*E;case 125*w:case 59:case 0:switch(T){case 0:case 125:_=0;case 59+h:E==-1&&(k=dn(k,/\f/g,"")),y>0&&mc(k)-p&&WC(y>32?SV(k+";",r,t,p-1):SV(dn(k," ","")+";",r,t,p-2),l);break;case 59:k+=";";default:if(WC(F=_V(k,e,t,u,h,i,a,C,x=[],I=[],p),s),T===123)if(h===0)kT(k,e,F,F,x,s,p,a,I);else switch(m===99&&Li(k,3)===110?100:m){case 100:case 108:case 109:case 115:kT(n,F,F,r&&WC(_V(n,F,F,0,0,i,a,C,i,x=[],p),I),i,I,p,a,r?x:I);break;default:kT(k,F,F,F,[""],I,0,a,I)}}u=h=y=0,w=E=1,C=k="",p=o;break;case 58:p=1+mc(k),y=b;default:if(w<1){if(T==123)--w;else if(T==125&&w++==0&&mne()==125)continue}switch(k+=lR(T),T*w){case 38:E=h>0?1:(k+="\f",-1);break;case 44:a[u++]=(mc(k)-1)*E,E=1;break;case 64:bc()===45&&(k+=IT(Fo())),m=bc(),h=p=mc(C=k+=wne(RT())),T++;break;case 45:b===45&&mc(k)==2&&(w=0)}}return s}function _V(n,e,t,r,i,s,o,a,l,u,h){for(var p=i-1,m=i===0?s:[""],y=qN(m),b=0,w=0,_=0;b<r;++b)for(var E=0,T=n_(n,p+1,p=cne(w=o[b])),C=n;E<y;++E)(C=uG(w>0?m[E]+" "+T:dn(T,/&\f/g,m[E])))&&(l[_++]=C);return uR(n,e,t,i===0?zN:a,l,u,h)}function _ne(n,e,t){return uR(n,e,t,lG,lR(pne()),n_(n,2,-2),0)}function SV(n,e,t,r){return uR(n,e,t,WN,n_(n,0,r),n_(n,r+1,-1),r)}function ky(n,e){for(var t="",r=qN(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function Sne(n,e,t,r){switch(n.type){case lne:if(n.children.length)break;case ane:case WN:return n.return=n.return||n.value;case lG:return"";case cG:return n.return=n.value+"{"+ky(n.children,r)+"}";case zN:n.value=n.props.join(",")}return mc(t=ky(n.children,r))?n.return=n.value+"{"+t+"}":""}function Ene(n){var e=qN(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function Cne(n){return function(e){e.root||(e=e.return)&&n(e)}}function pG(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var Tne=function(e,t,r){for(var i=0,s=0;i=s,s=bc(),i===38&&s===12&&(t[r]=1),!r_(s);)Fo();return ME(e,no)},Ane=function(e,t){var r=-1,i=44;do switch(r_(i)){case 0:i===38&&bc()===12&&(t[r]=1),e[r]+=Tne(no-1,t,r);break;case 2:e[r]+=IT(i);break;case 4:if(i===44){e[++r]=bc()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=lR(i)}while(i=Fo());return e},xne=function(e,t){return fG(Ane(hG(e),t))},EV=new WeakMap,Rne=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!EV.get(r))&&!i){EV.set(e,!0);for(var s=[],o=xne(t,s),a=r.props,l=0,u=0;l<o.length;l++)for(var h=0;h<a.length;h++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[h]):a[h]+" "+o[l]}}},Ine=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function mG(n,e){switch(dne(n,e)){case 5103:return cn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return cn+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return cn+n+VA+n+Gi+n+n;case 6828:case 4268:return cn+n+Gi+n+n;case 6165:return cn+n+Gi+"flex-"+n+n;case 5187:return cn+n+dn(n,/(\w+).+(:[^]+)/,cn+"box-$1$2"+Gi+"flex-$1$2")+n;case 5443:return cn+n+Gi+"flex-item-"+dn(n,/flex-|-self/,"")+n;case 4675:return cn+n+Gi+"flex-line-pack"+dn(n,/align-content|flex-|-self/,"")+n;case 5548:return cn+n+Gi+dn(n,"shrink","negative")+n;case 5292:return cn+n+Gi+dn(n,"basis","preferred-size")+n;case 6060:return cn+"box-"+dn(n,"-grow","")+cn+n+Gi+dn(n,"grow","positive")+n;case 4554:return cn+dn(n,/([^-])(transform)/g,"$1"+cn+"$2")+n;case 6187:return dn(dn(dn(n,/(zoom-|grab)/,cn+"$1"),/(image-set)/,cn+"$1"),n,"")+n;case 5495:case 3959:return dn(n,/(image-set\([^]*)/,cn+"$1$`$1");case 4968:return dn(dn(n,/(.+:)(flex-)?(.*)/,cn+"box-pack:$3"+Gi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+cn+n+n;case 4095:case 3583:case 4068:case 2532:return dn(n,/(.+)-inline(.+)/,cn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(mc(n)-1-e>6)switch(Li(n,e+1)){case 109:if(Li(n,e+4)!==45)break;case 102:return dn(n,/(.+:)(.+)-([^]+)/,"$1"+cn+"$2-$3$1"+VA+(Li(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~tL(n,"stretch")?mG(dn(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Li(n,e+1)!==115)break;case 6444:switch(Li(n,mc(n)-3-(~tL(n,"!important")&&10))){case 107:return dn(n,":",":"+cn)+n;case 101:return dn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+cn+(Li(n,14)===45?"inline-":"")+"box$3$1"+cn+"$2$3$1"+Gi+"$2box$3")+n}break;case 5936:switch(Li(n,e+11)){case 114:return cn+n+Gi+dn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return cn+n+Gi+dn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return cn+n+Gi+dn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return cn+n+Gi+n+n}return n}var kne=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case WN:e.return=mG(e.value,e.length);break;case cG:return ky([Bw(e,{value:dn(e.value,"@","@"+cn)})],i);case zN:if(e.length)return fne(e.props,function(s){switch(hne(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ky([Bw(e,{props:[dn(s,/:(read-\w+)/,":"+VA+"$1")]})],i);case"::placeholder":return ky([Bw(e,{props:[dn(s,/:(plac\w+)/,":"+cn+"input-$1")]}),Bw(e,{props:[dn(s,/:(plac\w+)/,":"+VA+"$1")]}),Bw(e,{props:[dn(s,/:(plac\w+)/,Gi+"input-$1")]})],i)}return""})}},Pne=[kne],Dne=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var _=w.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||Pne,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(w){for(var _=w.getAttribute("data-emotion").split(" "),E=1;E<_.length;E++)s[_[E]]=!0;a.push(w)});var l,u=[Rne,Ine];{var h,p=[Sne,Cne(function(w){h.insert(w)})],m=Ene(u.concat(i,p)),y=function(_){return ky(bne(_),m)};l=function(_,E,T,C){h=T,y(_?_+"{"+E.styles+"}":E.styles),C&&(b.inserted[E.name]=!0)}}var b={key:t,sheet:new one({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return b.sheet.hydrate(a),b},SP={exports:{}},hn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CV;function Mne(){if(CV)return hn;CV=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,o=n?Symbol.for("react.provider"):60109,a=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116,w=n?Symbol.for("react.block"):60121,_=n?Symbol.for("react.fundamental"):60117,E=n?Symbol.for("react.responder"):60118,T=n?Symbol.for("react.scope"):60119;function C(I){if(typeof I=="object"&&I!==null){var F=I.$$typeof;switch(F){case e:switch(I=I.type,I){case l:case u:case r:case s:case i:case p:return I;default:switch(I=I&&I.$$typeof,I){case a:case h:case b:case y:case o:return I;default:return F}}case t:return F}}}function x(I){return C(I)===u}return hn.AsyncMode=l,hn.ConcurrentMode=u,hn.ContextConsumer=a,hn.ContextProvider=o,hn.Element=e,hn.ForwardRef=h,hn.Fragment=r,hn.Lazy=b,hn.Memo=y,hn.Portal=t,hn.Profiler=s,hn.StrictMode=i,hn.Suspense=p,hn.isAsyncMode=function(I){return x(I)||C(I)===l},hn.isConcurrentMode=x,hn.isContextConsumer=function(I){return C(I)===a},hn.isContextProvider=function(I){return C(I)===o},hn.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===e},hn.isForwardRef=function(I){return C(I)===h},hn.isFragment=function(I){return C(I)===r},hn.isLazy=function(I){return C(I)===b},hn.isMemo=function(I){return C(I)===y},hn.isPortal=function(I){return C(I)===t},hn.isProfiler=function(I){return C(I)===s},hn.isStrictMode=function(I){return C(I)===i},hn.isSuspense=function(I){return C(I)===p},hn.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===r||I===u||I===s||I===i||I===p||I===m||typeof I=="object"&&I!==null&&(I.$$typeof===b||I.$$typeof===y||I.$$typeof===o||I.$$typeof===a||I.$$typeof===h||I.$$typeof===_||I.$$typeof===E||I.$$typeof===T||I.$$typeof===w)},hn.typeOf=C,hn}var TV;function One(){return TV||(TV=1,SP.exports=Mne()),SP.exports}var EP,AV;function Lne(){if(AV)return EP;AV=1;var n=One(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=r,s[n.Memo]=i;function o(b){return n.isMemo(b)?i:s[b.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;function y(b,w,_){if(typeof w!="string"){if(m){var E=p(w);E&&E!==m&&y(b,E,_)}var T=l(w);u&&(T=T.concat(u(w)));for(var C=o(b),x=o(w),I=0;I<T.length;++I){var F=T[I];if(!t[F]&&!(_&&_[F])&&!(x&&x[F])&&!(C&&C[F])){var k=h(w,F);try{a(b,F,k)}catch{}}}}return b}return EP=y,EP}Lne();var Fne=!0;function gG(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var GN=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||Fne===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},YN=function(e,t,r){GN(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Nne(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Bne={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},$ne=/[A-Z]|^ms/g,jne=/_EMO_([^_]+?)_([^]*?)_EMO_/g,yG=function(e){return e.charCodeAt(1)===45},xV=function(e){return e!=null&&typeof e!="boolean"},CP=pG(function(n){return yG(n)?n:n.replace($ne,"-$&").toLowerCase()}),RV=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(jne,function(r,i,s){return gc={name:i,styles:s,next:gc},i})}return Bne[e]!==1&&!yG(e)&&typeof t=="number"&&t!==0?t+"px":t};function i_(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return gc={name:i.name,styles:i.styles,next:gc},i.name;var s=t;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)gc={name:o.name,styles:o.styles,next:gc},o=o.next;var a=s.styles+";";return a}return Une(n,e,t)}case"function":{if(n!==void 0){var l=gc,u=t(n);return gc=l,i_(n,e,u)}break}}var h=t;if(e==null)return h;var p=e[h];return p!==void 0?p:h}function Une(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=i_(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":xV(a)&&(r+=CP(s)+":"+RV(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)xV(o[l])&&(r+=CP(s)+":"+RV(s,o[l])+";");else{var u=i_(n,e,o);switch(s){case"animation":case"animationName":{r+=CP(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var IV=/label:\s*([^\s;{]+)\s*(;|$)/g,gc;function OE(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";gc=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=i_(t,e,s);else{var o=s;i+=o[0]}for(var a=1;a<n.length;a++)if(i+=i_(t,e,n[a]),r){var l=s;i+=l[a]}IV.lastIndex=0;for(var u="",h;(h=IV.exec(i))!==null;)u+="-"+h[1];var p=Nne(i)+u;return{name:p,styles:i,next:gc}}var Vne=function(e){return e()},vG=UA.useInsertionEffect?UA.useInsertionEffect:!1,wG=vG||Vne,kV=vG||$.useLayoutEffect,bG=$.createContext(typeof HTMLElement<"u"?Dne({key:"css"}):null);bG.Provider;var KN=function(e){return $.forwardRef(function(t,r){var i=$.useContext(bG);return e(t,i,r)})},LE=$.createContext({}),XN={}.hasOwnProperty,rL="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Hne=function(e,t){var r={};for(var i in t)XN.call(t,i)&&(r[i]=t[i]);return r[rL]=e,r},zne=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return GN(t,r,i),wG(function(){return YN(t,r,i)}),null},Wne=KN(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=n[rL],s=[r],o="";typeof n.className=="string"?o=gG(e.registered,s,n.className):n.className!=null&&(o=n.className+" ");var a=OE(s,void 0,$.useContext(LE));o+=e.key+"-"+a.name;var l={};for(var u in n)XN.call(n,u)&&u!=="css"&&u!==rL&&(l[u]=n[u]);return l.className=o,t&&(l.ref=t),$.createElement($.Fragment,null,$.createElement(zne,{cache:e,serialized:a,isStringTag:typeof i=="string"}),$.createElement(i,l))}),qne=Wne,PV=function(e,t){var r=arguments;if(t==null||!XN.call(t,"css"))return $.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=qne,s[1]=Hne(e,t);for(var o=2;o<i;o++)s[o]=r[o];return $.createElement.apply(null,s)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(PV||(PV={}));var Gne=KN(function(n,e){var t=n.styles,r=OE([t],void 0,$.useContext(LE)),i=$.useRef();return kV(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),kV(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&YN(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function JN(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return OE(e)}function FE(){var n=JN.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Yne=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Kne=pG(function(n){return Yne.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),Xne=Kne,Jne=function(e){return e!=="theme"},DV=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Xne:Jne},MV=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Qne=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return GN(t,r,i),wG(function(){return YN(t,r,i)}),null},Zne=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var a=MV(e,t,r),l=a||DV(i),u=!l("as");return function(){var h=arguments,p=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&p.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)p.push.apply(p,h);else{var m=h[0];p.push(m[0]);for(var y=h.length,b=1;b<y;b++)p.push(h[b],m[b])}var w=KN(function(_,E,T){var C=u&&_.as||i,x="",I=[],F=_;if(_.theme==null){F={};for(var k in _)F[k]=_[k];F.theme=$.useContext(LE)}typeof _.className=="string"?x=gG(E.registered,I,_.className):_.className!=null&&(x=_.className+" ");var L=OE(p.concat(I),E.registered,F);x+=E.key+"-"+L.name,o!==void 0&&(x+=" "+o);var N=u&&a===void 0?DV(C):l,A={};for(var B in _)u&&B==="as"||N(B)&&(A[B]=_[B]);return A.className=x,T&&(A.ref=T),$.createElement($.Fragment,null,$.createElement(Qne,{cache:E,serialized:L,isStringTag:typeof C=="string"}),$.createElement(C,A))});return w.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",w.defaultProps=e.defaultProps,w.__emotion_real=w,w.__emotion_base=i,w.__emotion_styles=p,w.__emotion_forwardProp=a,Object.defineProperty(w,"toString",{value:function(){return"."+o}}),w.withComponent=function(_,E){var T=n(_,ar({},t,E,{shouldForwardProp:MV(w,E,!0)}));return T.apply(void 0,p)},w}},ere=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],iL=Zne.bind(null);ere.forEach(function(n){iL[n]=iL(n)});var TP={exports:{}},AP,OV;function tre(){if(OV)return AP;OV=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return AP=n,AP}var xP,LV;function nre(){if(LV)return xP;LV=1;var n=tre();function e(){}function t(){}return t.resetWarningCache=e,xP=function(){function r(o,a,l,u,h,p){if(p!==n){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},xP}var FV;function rre(){return FV||(FV=1,TP.exports=nre()()),TP.exports}var ire=rre();const Re=ro(ire);function sre(n){return n==null||Object.keys(n).length===0}function _G(n){const{styles:e,defaultTheme:t={}}=n,r=typeof e=="function"?i=>e(sre(i)?t:i):e;return M.jsx(Gne,{styles:r})}/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function SG(n,e){return iL(n,e)}function ore(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const NV=[];function BV(n){return NV[0]=n,OE(NV)}var RP={exports:{}},_n={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $V;function are(){if($V)return _n;$V=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),y=Symbol.for("react.client.reference");function b(w){if(typeof w=="object"&&w!==null){var _=w.$$typeof;switch(_){case n:switch(w=w.type,w){case t:case i:case r:case l:case u:return w;default:switch(w=w&&w.$$typeof,w){case o:case a:case p:case h:return w;case s:return w;default:return _}}case e:return _}}}return _n.ContextConsumer=s,_n.ContextProvider=o,_n.Element=n,_n.ForwardRef=a,_n.Fragment=t,_n.Lazy=p,_n.Memo=h,_n.Portal=e,_n.Profiler=i,_n.StrictMode=r,_n.Suspense=l,_n.SuspenseList=u,_n.isContextConsumer=function(w){return b(w)===s},_n.isContextProvider=function(w){return b(w)===o},_n.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===n},_n.isForwardRef=function(w){return b(w)===a},_n.isFragment=function(w){return b(w)===t},_n.isLazy=function(w){return b(w)===p},_n.isMemo=function(w){return b(w)===h},_n.isPortal=function(w){return b(w)===e},_n.isProfiler=function(w){return b(w)===i},_n.isStrictMode=function(w){return b(w)===r},_n.isSuspense=function(w){return b(w)===l},_n.isSuspenseList=function(w){return b(w)===u},_n.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===t||w===i||w===r||w===l||w===u||w===m||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===h||w.$$typeof===o||w.$$typeof===s||w.$$typeof===a||w.$$typeof===y||w.getModuleId!==void 0)},_n.typeOf=b,_n}var jV;function lre(){return jV||(jV=1,RP.exports=are()),RP.exports}var EG=lre();function yc(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function CG(n){if($.isValidElement(n)||EG.isValidElementType(n)||!yc(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=CG(n[t])}),e}function is(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return yc(n)&&yc(e)&&Object.keys(e).forEach(i=>{$.isValidElement(e[i])||EG.isValidElementType(e[i])?r[i]=e[i]:yc(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&yc(n[i])?r[i]=is(n[i],e[i],t):t.clone?r[i]=yc(e[i])?CG(e[i]):e[i]:r[i]=e[i]}),r}const cre=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function ure(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,s=cre(e),o=Object.keys(s);function a(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${t})`}function l(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${t})`}function u(m,y){const b=o.indexOf(y);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${t}) and (max-width:${(b!==-1&&typeof e[o[b]]=="number"?e[o[b]]:y)-r/100}${t})`}function h(m){return o.indexOf(m)+1<o.length?u(m,o[o.indexOf(m)+1]):a(m)}function p(m){const y=o.indexOf(m);return y===0?a(o[1]):y===o.length-1?l(o[y]):u(m,o[o.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:u,only:h,not:p,unit:t,...i}}function dre(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return t.length?t.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function hre(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function fre(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,s=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(s)}function pre(n){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function t(s,o){s.up=(...a)=>e(n.breakpoints.up(...a),o),s.down=(...a)=>e(n.breakpoints.down(...a),o),s.between=(...a)=>e(n.breakpoints.between(...a),o),s.only=(...a)=>e(n.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(n.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(t(r,s),r);return t(i),{...n,containerQueries:i}}const mre={borderRadius:4};function Ub(n,e){return e?is(n,e,{clone:!1}):n}const dR={xs:0,sm:600,md:900,lg:1200,xl:1536},UV={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${dR[n]}px)`},gre={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:dR[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function od(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||UV;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=t(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||UV;return Object.keys(e).reduce((o,a)=>{if(hre(s.keys,a)){const l=fre(r.containerQueries?r:gre,a);l&&(o[l]=t(e[a],a))}else if(Object.keys(s.values||dR).includes(a)){const l=s.up(a);o[l]=t(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return t(e)}function yre(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function vre(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Be(n){if(typeof n!="string")throw new Error(sd(7));return n.charAt(0).toUpperCase()+n.slice(1)}function qh(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function HA(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=qh(n,t)||r,e&&(i=e(i,r,n)),i}function Nr(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=qh(l,r)||{};return od(o,a,p=>{let m=HA(u,i,p);return p===m&&typeof p=="string"&&(m=HA(u,i,`${e}${p==="default"?"":Be(p)}`,p)),t===!1?m:{[t]:m}})};return s.propTypes={},s.filterProps=[e],s}function wre(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const bre={m:"margin",p:"padding"},_re={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},VV={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Sre=wre(n=>{if(n.length>2)if(VV[n])n=VV[n];else return[n];const[e,t]=n.split(""),r=bre[e],i=_re[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),QN=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ZN=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...QN,...ZN];function NE(n,e,t,r){const i=qh(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function eB(n){return NE(n,"spacing",8)}function BE(n,e){return typeof e=="string"||e==null?e:n(e)}function Ere(n,e){return t=>n.reduce((r,i)=>(r[i]=BE(e,t),r),{})}function Cre(n,e,t,r){if(!e.includes(t))return null;const i=Sre(t),s=Ere(i,r),o=n[t];return od(n,o,s)}function TG(n,e){const t=eB(n.theme);return Object.keys(n).map(r=>Cre(n,e,r,t)).reduce(Ub,{})}function wr(n){return TG(n,QN)}wr.propTypes={};wr.filterProps=QN;function br(n){return TG(n,ZN)}br.propTypes={};br.filterProps=ZN;function AG(n=8,e=eB({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function hR(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?Ub(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function pa(n){return typeof n!="number"?n:`${n}px solid`}function Pa(n,e){return Nr({prop:n,themeKey:"borders",transform:e})}const Tre=Pa("border",pa),Are=Pa("borderTop",pa),xre=Pa("borderRight",pa),Rre=Pa("borderBottom",pa),Ire=Pa("borderLeft",pa),kre=Pa("borderColor"),Pre=Pa("borderTopColor"),Dre=Pa("borderRightColor"),Mre=Pa("borderBottomColor"),Ore=Pa("borderLeftColor"),Lre=Pa("outline",pa),Fre=Pa("outlineColor"),fR=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=NE(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:BE(e,r)});return od(n,n.borderRadius,t)}return null};fR.propTypes={};fR.filterProps=["borderRadius"];hR(Tre,Are,xre,Rre,Ire,kre,Pre,Dre,Mre,Ore,fR,Lre,Fre);const pR=n=>{if(n.gap!==void 0&&n.gap!==null){const e=NE(n.theme,"spacing",8),t=r=>({gap:BE(e,r)});return od(n,n.gap,t)}return null};pR.propTypes={};pR.filterProps=["gap"];const mR=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=NE(n.theme,"spacing",8),t=r=>({columnGap:BE(e,r)});return od(n,n.columnGap,t)}return null};mR.propTypes={};mR.filterProps=["columnGap"];const gR=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=NE(n.theme,"spacing",8),t=r=>({rowGap:BE(e,r)});return od(n,n.rowGap,t)}return null};gR.propTypes={};gR.filterProps=["rowGap"];const Nre=Nr({prop:"gridColumn"}),Bre=Nr({prop:"gridRow"}),$re=Nr({prop:"gridAutoFlow"}),jre=Nr({prop:"gridAutoColumns"}),Ure=Nr({prop:"gridAutoRows"}),Vre=Nr({prop:"gridTemplateColumns"}),Hre=Nr({prop:"gridTemplateRows"}),zre=Nr({prop:"gridTemplateAreas"}),Wre=Nr({prop:"gridArea"});hR(pR,mR,gR,Nre,Bre,$re,jre,Ure,Vre,Hre,zre,Wre);function Py(n,e){return e==="grey"?e:n}const qre=Nr({prop:"color",themeKey:"palette",transform:Py}),Gre=Nr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Py}),Yre=Nr({prop:"backgroundColor",themeKey:"palette",transform:Py});hR(qre,Gre,Yre);function Oo(n){return n<=1&&n!==0?`${n*100}%`:n}const Kre=Nr({prop:"width",transform:Oo}),tB=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,s,o,a,l;const r=((o=(s=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[t])||dR[t];return r?((l=(a=n.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Oo(t)}};return od(n,n.maxWidth,e)}return null};tB.filterProps=["maxWidth"];const Xre=Nr({prop:"minWidth",transform:Oo}),Jre=Nr({prop:"height",transform:Oo}),Qre=Nr({prop:"maxHeight",transform:Oo}),Zre=Nr({prop:"minHeight",transform:Oo});Nr({prop:"size",cssProperty:"width",transform:Oo});Nr({prop:"size",cssProperty:"height",transform:Oo});const eie=Nr({prop:"boxSizing"});hR(Kre,tB,Xre,Jre,Qre,Zre,eie);const $E={border:{themeKey:"borders",transform:pa},borderTop:{themeKey:"borders",transform:pa},borderRight:{themeKey:"borders",transform:pa},borderBottom:{themeKey:"borders",transform:pa},borderLeft:{themeKey:"borders",transform:pa},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:pa},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:fR},color:{themeKey:"palette",transform:Py},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Py},backgroundColor:{themeKey:"palette",transform:Py},p:{style:br},pt:{style:br},pr:{style:br},pb:{style:br},pl:{style:br},px:{style:br},py:{style:br},padding:{style:br},paddingTop:{style:br},paddingRight:{style:br},paddingBottom:{style:br},paddingLeft:{style:br},paddingX:{style:br},paddingY:{style:br},paddingInline:{style:br},paddingInlineStart:{style:br},paddingInlineEnd:{style:br},paddingBlock:{style:br},paddingBlockStart:{style:br},paddingBlockEnd:{style:br},m:{style:wr},mt:{style:wr},mr:{style:wr},mb:{style:wr},ml:{style:wr},mx:{style:wr},my:{style:wr},margin:{style:wr},marginTop:{style:wr},marginRight:{style:wr},marginBottom:{style:wr},marginLeft:{style:wr},marginX:{style:wr},marginY:{style:wr},marginInline:{style:wr},marginInlineStart:{style:wr},marginInlineEnd:{style:wr},marginBlock:{style:wr},marginBlockStart:{style:wr},marginBlockEnd:{style:wr},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:pR},rowGap:{style:gR},columnGap:{style:mR},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Oo},maxWidth:{style:tB},minWidth:{transform:Oo},height:{transform:Oo},maxHeight:{transform:Oo},minHeight:{transform:Oo},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function tie(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function nie(n,e){return typeof n=="function"?n(e):n}function rie(){function n(t,r,i,s){const o={[t]:r,theme:i},a=s[t];if(!a)return{[t]:r};const{cssProperty:l=t,themeKey:u,transform:h,style:p}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[t]:r};const m=qh(i,u)||{};return p?p(o):od(o,r,b=>{let w=HA(m,h,b);return b===w&&typeof b=="string"&&(w=HA(m,h,`${t}${b==="default"?"":Be(b)}`,b)),l===!1?w:{[l]:w}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const s=i.unstable_sxConfig??$E;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const u=yre(i.breakpoints),h=Object.keys(u);let p=u;return Object.keys(l).forEach(m=>{const y=nie(l[m],i);if(y!=null)if(typeof y=="object")if(s[m])p=Ub(p,n(m,y,i,s));else{const b=od({theme:i},y,w=>({[m]:w}));tie(b,y)?p[m]=e({sx:y,theme:i}):p=Ub(p,b)}else p=Ub(p,n(m,y,i,s))}),dre(i,vre(h,p))}return Array.isArray(r)?r.map(o):o(r)}return e}const nf=rie();nf.filterProps=["sx"];function iie(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function nB(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={},...o}=n,a=ure(t),l=AG(i);let u=is({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...mre,...s}},o);return u=pre(u),u.applyStyles=iie,u=e.reduce((h,p)=>is(h,p),u),u.unstable_sxConfig={...$E,...o==null?void 0:o.unstable_sxConfig},u.unstable_sx=function(p){return nf({sx:p,theme:this})},u}function sie(n){return Object.keys(n).length===0}function rB(n=null){const e=$.useContext(LE);return!e||sie(e)?n:e}const oie=nB();function iB(n=oie){return rB(n)}function aie({styles:n,themeId:e,defaultTheme:t={}}){const r=iB(t),i=typeof n=="function"?n(e&&r[e]||r):n;return M.jsx(_G,{styles:i})}const lie=n=>{var r;const e={systemProps:{},otherProps:{}},t=((r=n==null?void 0:n.theme)==null?void 0:r.unstable_sxConfig)??$E;return Object.keys(n).forEach(i=>{t[i]?e.systemProps[i]=n[i]:e.otherProps[i]=n[i]}),e};function xG(n){const{sx:e,...t}=n,{systemProps:r,otherProps:i}=lie(t);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return yc(a)?{...r,...a}:r}:s={...r,...e},{...i,sx:s}}const HV=n=>n,cie=()=>{let n=HV;return{configure(e){n=e},generate(e){return n(e)},reset(){n=HV}}},RG=cie();function IG(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=IG(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function nt(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=IG(n))&&(r&&(r+=" "),r+=e);return r}function uie(n={}){const{themeId:e,defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:i}=n,s=SG("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(nf);return $.forwardRef(function(l,u){const h=iB(t),{className:p,component:m="div",...y}=xG(l);return M.jsx(s,{as:m,ref:u,className:nt(p,i?i(r):r),theme:e&&h[e]||h,...y})})}const die={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ot(n,e,t="Mui"){const r=die[e];return r?`${t}-${r}`:`${RG.generate(n)}-${e}`}function kt(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Ot(n,i,t)}),r}function kG(n){const{variants:e,...t}=n,r={variants:e,style:BV(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=BV(i.style))}),r}const hie=nB();function IP(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function fie(n){return n?(e,t)=>t[n]:null}function pie(n,e,t){n.theme=yie(n.theme)?t:n.theme[e]||n.theme}function PT(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>PT(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...s}=t;r=s}return PG(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function PG(n,e,t=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!o.props(r))continue}else for(const a in o.props)if(n[a]!==o.props[a]&&((i=n.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(o.style(r))):t.push(o.style)}return t}function mie(n={}){const{themeId:e,defaultTheme:t=hie,rootShouldForwardProp:r=IP,slotShouldForwardProp:i=IP}=n;function s(a){pie(a,e,t)}return(a,l={})=>{ore(a,I=>I.filter(F=>F!==nf));const{name:u,slot:h,skipVariantsResolver:p,skipSx:m,overridesResolver:y=fie(wie(h)),...b}=l,w=p!==void 0?p:h&&h!=="Root"&&h!=="root"||!1,_=m||!1;let E=IP;h==="Root"||h==="root"?E=r:h?E=i:vie(a)&&(E=void 0);const T=SG(a,{shouldForwardProp:E,label:gie(),...b}),C=I=>{if(typeof I=="function"&&I.__emotion_real!==I)return function(k){return PT(k,I)};if(yc(I)){const F=kG(I);return F.variants?function(L){return PT(L,F)}:F.style}return I},x=(...I)=>{const F=[],k=I.map(C),L=[];if(F.push(s),u&&y&&L.push(function(z){var X,ne;const Q=(ne=(X=z.theme.components)==null?void 0:X[u])==null?void 0:ne.styleOverrides;if(!Q)return null;const te={};for(const J in Q)te[J]=PT(z,Q[J]);return y(z,te)}),u&&!w&&L.push(function(z){var te,X;const U=z.theme,Q=(X=(te=U==null?void 0:U.components)==null?void 0:te[u])==null?void 0:X.variants;return Q?PG(z,Q):null}),_||L.push(nf),Array.isArray(k[0])){const B=k.shift(),z=new Array(F.length).fill(""),U=new Array(L.length).fill("");let Q;Q=[...z,...B,...U],Q.raw=[...z,...B.raw,...U],F.unshift(Q)}const N=[...F,...k,...L],A=T(...N);return a.muiName&&(A.muiName=a.muiName),A};return T.withConfig&&(x.withConfig=T.withConfig),x}}function gie(n,e){return void 0}function yie(n){for(const e in n)return!1;return!0}function vie(n){return typeof n=="string"&&n.charCodeAt(0)>96}function wie(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function f0(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const s=n[i],o=e[i];if(!o)t[i]=s||{};else if(!s)t[i]=o;else{t[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;t[i][l]=f0(s[l],o[l])}}}else t[i]===void 0&&(t[i]=n[i])}return t}function bie(n){const{theme:e,name:t,props:r}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?r:f0(e.components[t].defaultProps,r)}const Ca=typeof window<"u"?$.useLayoutEffect:$.useEffect;function _ie(n,e,t,r,i){const[s,o]=$.useState(()=>i&&t?t(n).matches:r?r(n).matches:e);return Ca(()=>{if(!t)return;const a=t(n),l=()=>{o(a.matches)};return l(),a.addEventListener("change",l),()=>{a.removeEventListener("change",l)}},[n,t]),s}const Sie={...UA},DG=Sie.useSyncExternalStore;function Eie(n,e,t,r,i){const s=$.useCallback(()=>e,[e]),o=$.useMemo(()=>{if(i&&t)return()=>t(n).matches;if(r!==null){const{matches:h}=r(n);return()=>h}return s},[s,n,r,i,t]),[a,l]=$.useMemo(()=>{if(t===null)return[s,()=>()=>{}];const h=t(n);return[()=>h.matches,p=>(h.addEventListener("change",p),()=>{h.removeEventListener("change",p)})]},[s,t,n]);return DG(l,a,o)}function MG(n={}){const{themeId:e}=n;return function(r,i={}){let s=rB();s&&e&&(s=s[e]||s);const o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:l=o?window.matchMedia:null,ssrMatchMedia:u=null,noSsr:h=!1}=bie({name:"MuiUseMediaQuery",props:i,theme:s});let p=typeof r=="function"?r(s):r;return p=p.replace(/^@media( ?)/m,""),(DG!==void 0?Eie:_ie)(p,a,l,u,h)}}MG();function Cie(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function sB(n,e=0,t=1){return Cie(n,e,t)}function Tie(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function rf(n){if(n.type)return n;if(n.charAt(0)==="#")return rf(Tie(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(sd(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(sd(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}const Aie=n=>{const e=rf(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},lb=(n,e)=>{try{return Aie(n)}catch{return n}};function yR(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function OG(n){n=rf(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,h=(u+t/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(a+="a",l.push(e[3])),yR({type:a,values:l})}function sL(n){n=rf(n);let e=n.type==="hsl"||n.type==="hsla"?rf(OG(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function xie(n,e){const t=sL(n),r=sL(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function Fn(n,e){return n=rf(n),e=sB(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,yR(n)}function qC(n,e,t){try{return Fn(n,e)}catch{return n}}function s_(n,e){if(n=rf(n),e=sB(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return yR(n)}function Pn(n,e,t){try{return s_(n,e)}catch{return n}}function o_(n,e){if(n=rf(n),e=sB(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return yR(n)}function Dn(n,e,t){try{return o_(n,e)}catch{return n}}function LG(n,e=.15){return sL(n)>.5?s_(n,e):o_(n,e)}function GC(n,e,t){try{return LG(n,e)}catch{return n}}function zV(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function oB(n,e=166){let t;function r(...i){const s=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(s,e)}return r.clear=()=>{clearTimeout(t)},r}function kP(n,e){var t,r,i;return $.isValidElement(n)&&e.indexOf(n.type.muiName??((i=(r=(t=n.type)==null?void 0:t._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function ss(n){return n&&n.ownerDocument||document}function bl(n){return ss(n).defaultView||window}function oL(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let WV=0;function Rie(n){const[e,t]=$.useState(n),r=n||e;return $.useEffect(()=>{e==null&&(WV+=1,t(`mui-${WV}`))},[e]),r}const Iie={...UA},qV=Iie.useId;function M0(n){if(qV!==void 0){const e=qV();return n??e}return Rie(n)}function aL({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=$.useRef(n!==void 0),[s,o]=$.useState(e),a=i?n:s,l=$.useCallback(u=>{i||o(u)},[]);return[a,l]}function yl(n){const e=$.useRef(n);return Ca(()=>{e.current=n}),$.useRef((...t)=>(0,e.current)(...t)).current}function Ir(...n){return $.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{oL(t,e)})},n)}const GV={};function FG(n,e){const t=$.useRef(GV);return t.current===GV&&(t.current=n(e)),t}const kie=[];function Pie(n){$.useEffect(n,kie)}class vR{constructor(){_e(this,"currentId",null);_e(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});_e(this,"disposeEffect",()=>this.clear)}static create(){return new vR}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function lp(){const n=FG(vR.create).current;return Pie(n.disposeEffect),n}function p0(n){try{return n.matches(":focus-visible")}catch{}return!1}function NG(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function Die(n){return $.Children.toArray(n).filter(e=>$.isValidElement(e))}function Lt(n,e,t=void 0){const r={};for(const i in n){const s=n[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const u=s[l];u&&(o+=(a===!0?"":" ")+e(u),a=!1,t&&t[u]&&(o+=" "+t[u]))}r[i]=o}return r}function Mie(n){return typeof n=="string"}function BG(n,e,t){return n===void 0||Mie(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function zA(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function YV(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function $G(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:s}=n;if(!e){const y=nt(t==null?void 0:t.className,s,i==null?void 0:i.className,r==null?void 0:r.className),b={...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},w={...t,...i,...r};return y.length>0&&(w.className=y),Object.keys(b).length>0&&(w.style=b),{props:w,internalRef:void 0}}const o=zA({...i,...r}),a=YV(r),l=YV(i),u=e(o),h=nt(u==null?void 0:u.className,t==null?void 0:t.className,s,i==null?void 0:i.className,r==null?void 0:r.className),p={...u==null?void 0:u.style,...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},m={...u,...t,...l,...a};return h.length>0&&(m.className=h),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:u.ref}}function jG(n,e,t){return typeof n=="function"?n(e,t):n}function WA(n){var p;const{elementType:e,externalSlotProps:t,ownerState:r,skipResolvingSlotProps:i=!1,...s}=n,o=i?{}:jG(t,r),{props:a,internalRef:l}=$G({...s,externalSlotProps:o}),u=Ir(l,o==null?void 0:o.ref,(p=n.additionalProps)==null?void 0:p.ref);return BG(e,{...a,ref:u},r)}function gf(n){var e;return parseInt($.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}const UG=$.createContext(null);function aB(){return $.useContext(UG)}const Oie=typeof Symbol=="function"&&Symbol.for,Lie=Oie?Symbol.for("mui.nested"):"__THEME_NESTED__";function Fie(n,e){return typeof e=="function"?e(n):{...n,...e}}function Nie(n){const{children:e,theme:t}=n,r=aB(),i=$.useMemo(()=>{const s=r===null?{...t}:Fie(r,t);return s!=null&&(s[Lie]=r!==null),s},[t,r]);return M.jsx(UG.Provider,{value:i,children:e})}const VG=$.createContext();function Bie({value:n,...e}){return M.jsx(VG.Provider,{value:n??!0,...e})}const wR=()=>$.useContext(VG)??!1,HG=$.createContext(void 0);function $ie({value:n,children:e}){return M.jsx(HG.Provider,{value:n,children:e})}function jie(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?f0(i.defaultProps,r):!i.styleOverrides&&!i.variants?f0(i,r):r}function Uie({props:n,name:e}){const t=$.useContext(HG);return jie({props:n,name:e,theme:{components:t}})}const KV={};function XV(n,e,t,r=!1){return $.useMemo(()=>{const i=n&&e[n]||e;if(typeof t=="function"){const s=t(i),o=n?{...e,[n]:s}:s;return r?()=>o:o}return n?{...e,[n]:t}:{...e,...t}},[n,e,t,r])}function zG(n){const{children:e,theme:t,themeId:r}=n,i=rB(KV),s=aB()||KV,o=XV(r,i,t),a=XV(r,s,t,!0),l=(r?o[r]:o).direction==="rtl";return M.jsx(Nie,{theme:a,children:M.jsx(LE.Provider,{value:o,children:M.jsx(Bie,{value:l,children:M.jsx($ie,{value:r?o[r].components:o.components,children:e})})})})}const JV={theme:void 0};function Vie(n){let e,t;return function(i){let s=e;return(s===void 0||i.theme!==t)&&(JV.theme=i.theme,s=kG(n(JV)),e=s,t=i.theme),s}}const lB="mode",cB="color-scheme",Hie="data-color-scheme";function zie(n){const{defaultMode:e="system",defaultLightColorScheme:t="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=lB,colorSchemeStorageKey:s=cB,attribute:o=Hie,colorSchemeNode:a="document.documentElement",nonce:l}=n||{};let u="",h=o;if(o==="class"&&(h=".%s"),o==="data"&&(h="[data-%s]"),h.startsWith(".")){const m=h.substring(1);u+=`${a}.classList.remove('${m}'.replace('%s', light), '${m}'.replace('%s', dark));
      ${a}.classList.add('${m}'.replace('%s', colorScheme));`}const p=h.match(/\[([^\]]+)\]/);if(p){const[m,y]=p[1].split("=");y||(u+=`${a}.removeAttribute('${m}'.replace('%s', light));
      ${a}.removeAttribute('${m}'.replace('%s', dark));`),u+=`
      ${a}.setAttribute('${m}'.replace('%s', colorScheme), ${y?`${y}.replace('%s', colorScheme)`:'""'});`}else u+=`${a}.setAttribute('${h}', colorScheme);`;return M.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${e}';
  const dark = localStorage.getItem('${s}-dark') || '${r}';
  const light = localStorage.getItem('${s}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${u}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function QV(n){if(typeof window<"u"&&typeof window.matchMedia=="function"&&n==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function WG(n,e){if(n.mode==="light"||n.mode==="system"&&n.systemMode==="light")return e("light");if(n.mode==="dark"||n.mode==="system"&&n.systemMode==="dark")return e("dark")}function Wie(n){return WG(n,e=>{if(e==="light")return n.lightColorScheme;if(e==="dark")return n.darkColorScheme})}function PP(n,e){if(typeof window>"u")return;let t;try{t=localStorage.getItem(n)||void 0,t||localStorage.setItem(n,e)}catch{}return t||e}function qie(n){const{defaultMode:e="light",defaultLightColorScheme:t,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:s=lB,colorSchemeStorageKey:o=cB,storageWindow:a=typeof window>"u"?void 0:window,noSsr:l=!1}=n,u=i.join(","),h=i.length>1,[p,m]=$.useState(()=>{const x=PP(s,e),I=PP(`${o}-light`,t),F=PP(`${o}-dark`,r);return{mode:x,systemMode:QV(x),lightColorScheme:I,darkColorScheme:F}}),[y,b]=$.useState(l||!h);$.useEffect(()=>{b(!0)},[]);const w=Wie(p),_=$.useCallback(x=>{m(I=>{if(x===I.mode)return I;const F=x??e;try{localStorage.setItem(s,F)}catch{}return{...I,mode:F,systemMode:QV(F)}})},[s,e]),E=$.useCallback(x=>{x?typeof x=="string"?x&&!u.includes(x)?console.error(`\`${x}\` does not exist in \`theme.colorSchemes\`.`):m(I=>{const F={...I};return WG(I,k=>{try{localStorage.setItem(`${o}-${k}`,x)}catch{}k==="light"&&(F.lightColorScheme=x),k==="dark"&&(F.darkColorScheme=x)}),F}):m(I=>{const F={...I},k=x.light===null?t:x.light,L=x.dark===null?r:x.dark;if(k)if(!u.includes(k))console.error(`\`${k}\` does not exist in \`theme.colorSchemes\`.`);else{F.lightColorScheme=k;try{localStorage.setItem(`${o}-light`,k)}catch{}}if(L)if(!u.includes(L))console.error(`\`${L}\` does not exist in \`theme.colorSchemes\`.`);else{F.darkColorScheme=L;try{localStorage.setItem(`${o}-dark`,L)}catch{}}return F}):m(I=>{try{localStorage.setItem(`${o}-light`,t),localStorage.setItem(`${o}-dark`,r)}catch{}return{...I,lightColorScheme:t,darkColorScheme:r}})},[u,o,t,r]),T=$.useCallback(x=>{p.mode==="system"&&m(I=>{const F=x!=null&&x.matches?"dark":"light";return I.systemMode===F?I:{...I,systemMode:F}})},[p.mode]),C=$.useRef(T);return C.current=T,$.useEffect(()=>{if(typeof window.matchMedia!="function"||!h)return;const x=(...F)=>C.current(...F),I=window.matchMedia("(prefers-color-scheme: dark)");return I.addListener(x),x(I),()=>{I.removeListener(x)}},[h]),$.useEffect(()=>{if(a&&h){const x=I=>{const F=I.newValue;typeof I.key=="string"&&I.key.startsWith(o)&&(!F||u.match(F))&&(I.key.endsWith("light")&&E({light:F}),I.key.endsWith("dark")&&E({dark:F})),I.key===s&&(!F||["light","dark","system"].includes(F))&&_(F||e)};return a.addEventListener("storage",x),()=>{a.removeEventListener("storage",x)}}},[E,_,s,o,u,e,a,h]),{...p,mode:y?p.mode:void 0,systemMode:y?p.systemMode:void 0,colorScheme:y?w:void 0,setMode:_,setColorScheme:E}}const Gie="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Yie(n){const{themeId:e,theme:t={},modeStorageKey:r=lB,colorSchemeStorageKey:i=cB,disableTransitionOnChange:s=!1,defaultColorScheme:o,resolveTheme:a}=n,l={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=$.createContext(void 0),h=()=>$.useContext(u)||l,p={},m={};function y(E){var Mt,Ht,zn,zt;const{children:T,theme:C,modeStorageKey:x=r,colorSchemeStorageKey:I=i,disableTransitionOnChange:F=s,storageWindow:k=typeof window>"u"?void 0:window,documentNode:L=typeof document>"u"?void 0:document,colorSchemeNode:N=typeof document>"u"?void 0:document.documentElement,disableNestedContext:A=!1,disableStyleSheetGeneration:B=!1,defaultMode:z="system",noSsr:U}=E,Q=$.useRef(!1),te=aB(),X=$.useContext(u),ne=!!X&&!A,J=$.useMemo(()=>C||(typeof t=="function"?t():t),[C]),se=J[e],de=se||J,{colorSchemes:q=p,components:Y=m,cssVarPrefix:Z}=de,le=Object.keys(q).filter(lt=>!!q[lt]).join(","),ce=$.useMemo(()=>le.split(","),[le]),ve=typeof o=="string"?o:o.light,ye=typeof o=="string"?o:o.dark,xe=q[ve]&&q[ye]?z:((Ht=(Mt=q[de.defaultColorScheme])==null?void 0:Mt.palette)==null?void 0:Ht.mode)||((zn=de.palette)==null?void 0:zn.mode),{mode:Oe,setMode:ke,systemMode:Xe,lightColorScheme:je,darkColorScheme:dt,colorScheme:Ye,setColorScheme:Ue}=qie({supportedColorSchemes:ce,defaultLightColorScheme:ve,defaultDarkColorScheme:ye,modeStorageKey:x,colorSchemeStorageKey:I,defaultMode:xe,storageWindow:k,noSsr:U});let Jt=Oe,Fe=Ye;ne&&(Jt=X.mode,Fe=X.colorScheme);const wt=$.useMemo(()=>{var mn;const lt=Fe||de.defaultColorScheme,bt=((mn=de.generateThemeVars)==null?void 0:mn.call(de))||de.vars,Wt={...de,components:Y,colorSchemes:q,cssVarPrefix:Z,vars:bt};if(typeof Wt.generateSpacing=="function"&&(Wt.spacing=Wt.generateSpacing()),lt){const et=q[lt];et&&typeof et=="object"&&Object.keys(et).forEach(tn=>{et[tn]&&typeof et[tn]=="object"?Wt[tn]={...Wt[tn],...et[tn]}:Wt[tn]=et[tn]})}return a?a(Wt):Wt},[de,Fe,Y,q,Z]),Ft=de.colorSchemeSelector;Ca(()=>{if(Fe&&N&&Ft&&Ft!=="media"){const lt=Ft;let bt=Ft;if(lt==="class"&&(bt=".%s"),lt==="data"&&(bt="[data-%s]"),lt!=null&&lt.startsWith("data-")&&!lt.includes("%s")&&(bt=`[${lt}="%s"]`),bt.startsWith("."))N.classList.remove(...ce.map(Wt=>bt.substring(1).replace("%s",Wt))),N.classList.add(bt.substring(1).replace("%s",Fe));else{const Wt=bt.replace("%s",Fe).match(/\[([^\]]+)\]/);if(Wt){const[mn,et]=Wt[1].split("=");et||ce.forEach(tn=>{N.removeAttribute(mn.replace(Fe,tn))}),N.setAttribute(mn,et?et.replace(/"|'/g,""):"")}else N.setAttribute(bt,Fe)}}},[Fe,Ft,N,ce]),$.useEffect(()=>{let lt;if(F&&Q.current&&L){const bt=L.createElement("style");bt.appendChild(L.createTextNode(Gie)),L.head.appendChild(bt),window.getComputedStyle(L.body),lt=setTimeout(()=>{L.head.removeChild(bt)},1)}return()=>{clearTimeout(lt)}},[Fe,F,L]),$.useEffect(()=>(Q.current=!0,()=>{Q.current=!1}),[]);const It=$.useMemo(()=>({allColorSchemes:ce,colorScheme:Fe,darkColorScheme:dt,lightColorScheme:je,mode:Jt,setColorScheme:Ue,setMode:ke,systemMode:Xe}),[ce,Fe,dt,je,Jt,Ue,ke,Xe,wt.colorSchemeSelector]);let pt=!0;(B||de.cssVariables===!1||ne&&(te==null?void 0:te.cssVarPrefix)===Z)&&(pt=!1);const Me=M.jsxs($.Fragment,{children:[M.jsx(zG,{themeId:se?e:void 0,theme:wt,children:T}),pt&&M.jsx(_G,{styles:((zt=wt.generateStyleSheets)==null?void 0:zt.call(wt))||[]})]});return ne?Me:M.jsx(u.Provider,{value:It,children:Me})}const b=typeof o=="string"?o:o.light,w=typeof o=="string"?o:o.dark;return{CssVarsProvider:y,useColorScheme:h,getInitColorSchemeScript:E=>zie({colorSchemeStorageKey:i,defaultLightColorScheme:b,defaultDarkColorScheme:w,modeStorageKey:r,...E})}}function Kie(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const ZV=(n,e,t,r=[])=>{let i=n;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=t:i&&typeof i=="object"&&(i[s]=t):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},Xie=(n,e,t)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!t||t&&!t([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(n)},Jie=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function DP(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return Xie(n,(a,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const h=`--${t?`${t}-`:""}${a.join("-")}`,p=Jie(a,l);Object.assign(i,{[h]:p}),ZV(s,a,`var(${h})`,u),ZV(o,a,`var(${h}, ${p})`,u)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function Qie(n,e={}){const{getSelector:t=_,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=n,{vars:u,css:h,varsWithDefaults:p}=DP(l,e);let m=p;const y={},{[a]:b,...w}=s;if(Object.entries(w||{}).forEach(([C,x])=>{const{vars:I,css:F,varsWithDefaults:k}=DP(x,e);m=is(m,k),y[C]={css:F,vars:I}}),b){const{css:C,vars:x,varsWithDefaults:I}=DP(b,e);m=is(m,I),y[a]={css:C,vars:x}}function _(C,x){var F,k;let I=i;if(i==="class"&&(I=".%s"),i==="data"&&(I="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(I=`[${i}="%s"]`),C){if(I==="media")return n.defaultColorScheme===C?":root":{[`@media (prefers-color-scheme: ${((k=(F=s[C])==null?void 0:F.palette)==null?void 0:k.mode)||C})`]:{":root":x}};if(I)return n.defaultColorScheme===C?`:root, ${I.replace("%s",String(C))}`:I.replace("%s",String(C))}return":root"}return{vars:m,generateThemeVars:()=>{let C={...u};return Object.entries(y).forEach(([,{vars:x}])=>{C=is(C,x)}),C},generateStyleSheets:()=>{var L,N;const C=[],x=n.defaultColorScheme||"light";function I(A,B){Object.keys(B).length&&C.push(typeof A=="string"?{[A]:{...B}}:A)}I(t(void 0,{...h}),h);const{[x]:F,...k}=y;if(F){const{css:A}=F,B=(N=(L=s[x])==null?void 0:L.palette)==null?void 0:N.mode,z=!r&&B?{colorScheme:B,...A}:{...A};I(t(x,{...z}),z)}return Object.entries(k).forEach(([A,{css:B}])=>{var Q,te;const z=(te=(Q=s[A])==null?void 0:Q.palette)==null?void 0:te.mode,U=!r&&z?{colorScheme:z,...B}:{...B};I(t(A,{...U}),U)}),C}}}function Zie(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const vl="$$material",a_={black:"#000",white:"#fff"},ese={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Kg={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Xg={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},$w={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Jg={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Qg={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Zg={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function qG(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:a_.white,default:a_.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const tse=qG();function GG(){return{text:{primary:a_.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:a_.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const e3=GG();function t3(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=o_(n.main,i):e==="dark"&&(n.dark=s_(n.main,s)))}function nse(n="light"){return n==="dark"?{main:Jg[200],light:Jg[50],dark:Jg[400]}:{main:Jg[700],light:Jg[400],dark:Jg[800]}}function rse(n="light"){return n==="dark"?{main:Kg[200],light:Kg[50],dark:Kg[400]}:{main:Kg[500],light:Kg[300],dark:Kg[700]}}function ise(n="light"){return n==="dark"?{main:Xg[500],light:Xg[300],dark:Xg[700]}:{main:Xg[700],light:Xg[400],dark:Xg[800]}}function sse(n="light"){return n==="dark"?{main:Qg[400],light:Qg[300],dark:Qg[700]}:{main:Qg[700],light:Qg[500],dark:Qg[900]}}function ose(n="light"){return n==="dark"?{main:Zg[400],light:Zg[300],dark:Zg[700]}:{main:Zg[800],light:Zg[500],dark:Zg[900]}}function ase(n="light"){return n==="dark"?{main:$w[400],light:$w[300],dark:$w[700]}:{main:"#ed6c02",light:$w[500],dark:$w[900]}}function uB(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,s=n.primary||nse(e),o=n.secondary||rse(e),a=n.error||ise(e),l=n.info||sse(e),u=n.success||ose(e),h=n.warning||ase(e);function p(w){return xie(w,e3.text.primary)>=t?e3.text.primary:tse.text.primary}const m=({color:w,name:_,mainShade:E=500,lightShade:T=300,darkShade:C=700})=>{if(w={...w},!w.main&&w[E]&&(w.main=w[E]),!w.hasOwnProperty("main"))throw new Error(sd(11,_?` (${_})`:"",E));if(typeof w.main!="string")throw new Error(sd(12,_?` (${_})`:"",JSON.stringify(w.main)));return t3(w,"light",T,r),t3(w,"dark",C,r),w.contrastText||(w.contrastText=p(w.main)),w};let y;return e==="light"?y=qG():e==="dark"&&(y=GG()),is({common:{...a_},mode:e,primary:m({color:s,name:"primary"}),secondary:m({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:a,name:"error"}),warning:m({color:h,name:"warning"}),info:m({color:l,name:"info"}),success:m({color:u,name:"success"}),grey:ese,contrastThreshold:t,getContrastText:p,augmentColor:m,tonalOffset:r,...y},i)}function lse(n){const e={};return Object.entries(n).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function cse(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function use(n){return Math.round(n*1e5)/1e5}const n3={textTransform:"uppercase"},r3='"Roboto", "Helvetica", "Arial", sans-serif';function YG(n,e){const{fontFamily:t=r3,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:u,pxToRem:h,...p}=typeof e=="function"?e(n):e,m=r/14,y=h||(_=>`${_/l*m}rem`),b=(_,E,T,C,x)=>({fontFamily:t,fontWeight:_,fontSize:y(E),lineHeight:T,...t===r3?{letterSpacing:`${use(C/E)}em`}:{},...x,...u}),w={h1:b(i,96,1.167,-1.5),h2:b(i,60,1.2,-.5),h3:b(s,48,1.167,0),h4:b(s,34,1.235,.25),h5:b(s,24,1.334,0),h6:b(o,20,1.6,.15),subtitle1:b(s,16,1.75,.15),subtitle2:b(o,14,1.57,.1),body1:b(s,16,1.5,.15),body2:b(s,14,1.43,.15),button:b(o,14,1.75,.4,n3),caption:b(s,12,1.66,.4),overline:b(s,12,2.66,1,n3),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return is({htmlFontSize:l,pxToRem:y,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...w},p,{clone:!1})}const dse=.2,hse=.14,fse=.12;function nr(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${dse})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${hse})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${fse})`].join(",")}const pse=["none",nr(0,2,1,-1,0,1,1,0,0,1,3,0),nr(0,3,1,-2,0,2,2,0,0,1,5,0),nr(0,3,3,-2,0,3,4,0,0,1,8,0),nr(0,2,4,-1,0,4,5,0,0,1,10,0),nr(0,3,5,-1,0,5,8,0,0,1,14,0),nr(0,3,5,-1,0,6,10,0,0,1,18,0),nr(0,4,5,-2,0,7,10,1,0,2,16,1),nr(0,5,5,-3,0,8,10,1,0,3,14,2),nr(0,5,6,-3,0,9,12,1,0,3,16,2),nr(0,6,6,-3,0,10,14,1,0,4,18,3),nr(0,6,7,-4,0,11,15,1,0,4,20,3),nr(0,7,8,-4,0,12,17,2,0,5,22,4),nr(0,7,8,-4,0,13,19,2,0,5,24,4),nr(0,7,9,-4,0,14,21,2,0,5,26,4),nr(0,8,9,-5,0,15,22,2,0,6,28,5),nr(0,8,10,-5,0,16,24,2,0,6,30,5),nr(0,8,11,-5,0,17,26,2,0,6,32,5),nr(0,9,11,-5,0,18,28,2,0,7,34,6),nr(0,9,12,-6,0,19,29,2,0,7,36,6),nr(0,10,13,-6,0,20,31,3,0,8,38,7),nr(0,10,13,-6,0,21,33,3,0,8,40,7),nr(0,10,14,-6,0,22,35,3,0,8,42,7),nr(0,11,14,-7,0,23,36,3,0,9,44,8),nr(0,11,15,-7,0,24,38,3,0,9,46,8)],mse={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},gse={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function i3(n){return`${Math.round(n)}ms`}function yse(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function vse(n){const e={...mse,...n.easing},t={...gse,...n.duration};return{getAutoHeightDuration:yse,create:(i=["all"],s={})=>{const{duration:o=t.standard,easing:a=e.easeInOut,delay:l=0,...u}=s;return(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof o=="string"?o:i3(o)} ${a} ${typeof l=="string"?l:i3(l)}`).join(",")},...n,easing:e,duration:t}}const wse={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function bse(n){return yc(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function KG(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!bse(a)||o.startsWith("unstable_")?delete r[o]:yc(a)&&(r[o]={...a},t(r[o]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function lL(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...u}=n;if(n.vars)throw new Error(sd(20));const h=uB(s),p=nB(n);let m=is(p,{mixins:cse(p.breakpoints,r),palette:h,shadows:pse.slice(),typography:YG(h,a),transitions:vse(o),zIndex:{...wse}});return m=is(m,u),m=e.reduce((y,b)=>is(y,b),m),m.unstable_sxConfig={...$E,...u==null?void 0:u.unstable_sxConfig},m.unstable_sx=function(b){return nf({sx:b,theme:this})},m.toRuntimeSource=KG,m}function cL(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const _se=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=cL(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function XG(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function JG(n){return n==="dark"?_se:[]}function Sse(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,s=uB(e);return{palette:s,opacity:{...XG(s.mode),...t},overlays:r||JG(s.mode),...i}}function Ese(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const Cse=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],Tse=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const o={};return Cse(n.cssVarPrefix).forEach(a=>{o[a]=t[a],delete t[a]}),s==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:t}:{[r]:{...t,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(s)return s.replace("%s",String(e))}return r};function Ase(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function me(n,e,t){!n[e]&&t&&(n[e]=t)}function cb(n){return typeof n!="string"||!n.startsWith("hsl")?n:OG(n)}function Zc(n,e){`${e}Channel`in n||(n[`${e}Channel`]=lb(cb(n[e])))}function xse(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const $l=n=>{try{return n()}catch{}},Rse=(n="mui")=>Kie(n);function MP(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=Sse({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=lL({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:s,opacity:{...XG(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||JG(i)},o}function Ise(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=Ese,colorSchemeSelector:a=t.light&&t.dark?"media":void 0,rootSelector:l=":root",...u}=n,h=Object.keys(t)[0],p=r||(t.light&&h!=="light"?"light":h),m=Rse(s),{[p]:y,light:b,dark:w,..._}=t,E={..._};let T=y;if((p==="dark"&&!("dark"in t)||p==="light"&&!("light"in t))&&(T=!0),!T)throw new Error(sd(21,p));const C=MP(E,T,u,p);b&&!E.light&&MP(E,b,void 0,"light"),w&&!E.dark&&MP(E,w,void 0,"dark");let x={defaultColorScheme:p,...C,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:m,colorSchemes:E,font:{...lse(C.typography),...C.font},spacing:xse(u.spacing)};Object.keys(x.colorSchemes).forEach(N=>{const A=x.colorSchemes[N].palette,B=z=>{const U=z.split("-"),Q=U[1],te=U[2];return m(z,A[Q][te])};if(A.mode==="light"&&(me(A.common,"background","#fff"),me(A.common,"onBackground","#000")),A.mode==="dark"&&(me(A.common,"background","#000"),me(A.common,"onBackground","#fff")),Ase(A,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),A.mode==="light"){me(A.Alert,"errorColor",Pn(A.error.light,.6)),me(A.Alert,"infoColor",Pn(A.info.light,.6)),me(A.Alert,"successColor",Pn(A.success.light,.6)),me(A.Alert,"warningColor",Pn(A.warning.light,.6)),me(A.Alert,"errorFilledBg",B("palette-error-main")),me(A.Alert,"infoFilledBg",B("palette-info-main")),me(A.Alert,"successFilledBg",B("palette-success-main")),me(A.Alert,"warningFilledBg",B("palette-warning-main")),me(A.Alert,"errorFilledColor",$l(()=>A.getContrastText(A.error.main))),me(A.Alert,"infoFilledColor",$l(()=>A.getContrastText(A.info.main))),me(A.Alert,"successFilledColor",$l(()=>A.getContrastText(A.success.main))),me(A.Alert,"warningFilledColor",$l(()=>A.getContrastText(A.warning.main))),me(A.Alert,"errorStandardBg",Dn(A.error.light,.9)),me(A.Alert,"infoStandardBg",Dn(A.info.light,.9)),me(A.Alert,"successStandardBg",Dn(A.success.light,.9)),me(A.Alert,"warningStandardBg",Dn(A.warning.light,.9)),me(A.Alert,"errorIconColor",B("palette-error-main")),me(A.Alert,"infoIconColor",B("palette-info-main")),me(A.Alert,"successIconColor",B("palette-success-main")),me(A.Alert,"warningIconColor",B("palette-warning-main")),me(A.AppBar,"defaultBg",B("palette-grey-100")),me(A.Avatar,"defaultBg",B("palette-grey-400")),me(A.Button,"inheritContainedBg",B("palette-grey-300")),me(A.Button,"inheritContainedHoverBg",B("palette-grey-A100")),me(A.Chip,"defaultBorder",B("palette-grey-400")),me(A.Chip,"defaultAvatarColor",B("palette-grey-700")),me(A.Chip,"defaultIconColor",B("palette-grey-700")),me(A.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),me(A.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),me(A.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),me(A.LinearProgress,"primaryBg",Dn(A.primary.main,.62)),me(A.LinearProgress,"secondaryBg",Dn(A.secondary.main,.62)),me(A.LinearProgress,"errorBg",Dn(A.error.main,.62)),me(A.LinearProgress,"infoBg",Dn(A.info.main,.62)),me(A.LinearProgress,"successBg",Dn(A.success.main,.62)),me(A.LinearProgress,"warningBg",Dn(A.warning.main,.62)),me(A.Skeleton,"bg",`rgba(${B("palette-text-primaryChannel")} / 0.11)`),me(A.Slider,"primaryTrack",Dn(A.primary.main,.62)),me(A.Slider,"secondaryTrack",Dn(A.secondary.main,.62)),me(A.Slider,"errorTrack",Dn(A.error.main,.62)),me(A.Slider,"infoTrack",Dn(A.info.main,.62)),me(A.Slider,"successTrack",Dn(A.success.main,.62)),me(A.Slider,"warningTrack",Dn(A.warning.main,.62));const z=GC(A.background.default,.8);me(A.SnackbarContent,"bg",z),me(A.SnackbarContent,"color",$l(()=>A.getContrastText(z))),me(A.SpeedDialAction,"fabHoverBg",GC(A.background.paper,.15)),me(A.StepConnector,"border",B("palette-grey-400")),me(A.StepContent,"border",B("palette-grey-400")),me(A.Switch,"defaultColor",B("palette-common-white")),me(A.Switch,"defaultDisabledColor",B("palette-grey-100")),me(A.Switch,"primaryDisabledColor",Dn(A.primary.main,.62)),me(A.Switch,"secondaryDisabledColor",Dn(A.secondary.main,.62)),me(A.Switch,"errorDisabledColor",Dn(A.error.main,.62)),me(A.Switch,"infoDisabledColor",Dn(A.info.main,.62)),me(A.Switch,"successDisabledColor",Dn(A.success.main,.62)),me(A.Switch,"warningDisabledColor",Dn(A.warning.main,.62)),me(A.TableCell,"border",Dn(qC(A.divider,1),.88)),me(A.Tooltip,"bg",qC(A.grey[700],.92))}if(A.mode==="dark"){me(A.Alert,"errorColor",Dn(A.error.light,.6)),me(A.Alert,"infoColor",Dn(A.info.light,.6)),me(A.Alert,"successColor",Dn(A.success.light,.6)),me(A.Alert,"warningColor",Dn(A.warning.light,.6)),me(A.Alert,"errorFilledBg",B("palette-error-dark")),me(A.Alert,"infoFilledBg",B("palette-info-dark")),me(A.Alert,"successFilledBg",B("palette-success-dark")),me(A.Alert,"warningFilledBg",B("palette-warning-dark")),me(A.Alert,"errorFilledColor",$l(()=>A.getContrastText(A.error.dark))),me(A.Alert,"infoFilledColor",$l(()=>A.getContrastText(A.info.dark))),me(A.Alert,"successFilledColor",$l(()=>A.getContrastText(A.success.dark))),me(A.Alert,"warningFilledColor",$l(()=>A.getContrastText(A.warning.dark))),me(A.Alert,"errorStandardBg",Pn(A.error.light,.9)),me(A.Alert,"infoStandardBg",Pn(A.info.light,.9)),me(A.Alert,"successStandardBg",Pn(A.success.light,.9)),me(A.Alert,"warningStandardBg",Pn(A.warning.light,.9)),me(A.Alert,"errorIconColor",B("palette-error-main")),me(A.Alert,"infoIconColor",B("palette-info-main")),me(A.Alert,"successIconColor",B("palette-success-main")),me(A.Alert,"warningIconColor",B("palette-warning-main")),me(A.AppBar,"defaultBg",B("palette-grey-900")),me(A.AppBar,"darkBg",B("palette-background-paper")),me(A.AppBar,"darkColor",B("palette-text-primary")),me(A.Avatar,"defaultBg",B("palette-grey-600")),me(A.Button,"inheritContainedBg",B("palette-grey-800")),me(A.Button,"inheritContainedHoverBg",B("palette-grey-700")),me(A.Chip,"defaultBorder",B("palette-grey-700")),me(A.Chip,"defaultAvatarColor",B("palette-grey-300")),me(A.Chip,"defaultIconColor",B("palette-grey-300")),me(A.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),me(A.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),me(A.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),me(A.LinearProgress,"primaryBg",Pn(A.primary.main,.5)),me(A.LinearProgress,"secondaryBg",Pn(A.secondary.main,.5)),me(A.LinearProgress,"errorBg",Pn(A.error.main,.5)),me(A.LinearProgress,"infoBg",Pn(A.info.main,.5)),me(A.LinearProgress,"successBg",Pn(A.success.main,.5)),me(A.LinearProgress,"warningBg",Pn(A.warning.main,.5)),me(A.Skeleton,"bg",`rgba(${B("palette-text-primaryChannel")} / 0.13)`),me(A.Slider,"primaryTrack",Pn(A.primary.main,.5)),me(A.Slider,"secondaryTrack",Pn(A.secondary.main,.5)),me(A.Slider,"errorTrack",Pn(A.error.main,.5)),me(A.Slider,"infoTrack",Pn(A.info.main,.5)),me(A.Slider,"successTrack",Pn(A.success.main,.5)),me(A.Slider,"warningTrack",Pn(A.warning.main,.5));const z=GC(A.background.default,.98);me(A.SnackbarContent,"bg",z),me(A.SnackbarContent,"color",$l(()=>A.getContrastText(z))),me(A.SpeedDialAction,"fabHoverBg",GC(A.background.paper,.15)),me(A.StepConnector,"border",B("palette-grey-600")),me(A.StepContent,"border",B("palette-grey-600")),me(A.Switch,"defaultColor",B("palette-grey-300")),me(A.Switch,"defaultDisabledColor",B("palette-grey-600")),me(A.Switch,"primaryDisabledColor",Pn(A.primary.main,.55)),me(A.Switch,"secondaryDisabledColor",Pn(A.secondary.main,.55)),me(A.Switch,"errorDisabledColor",Pn(A.error.main,.55)),me(A.Switch,"infoDisabledColor",Pn(A.info.main,.55)),me(A.Switch,"successDisabledColor",Pn(A.success.main,.55)),me(A.Switch,"warningDisabledColor",Pn(A.warning.main,.55)),me(A.TableCell,"border",Pn(qC(A.divider,1),.68)),me(A.Tooltip,"bg",qC(A.grey[700],.92))}Zc(A.background,"default"),Zc(A.background,"paper"),Zc(A.common,"background"),Zc(A.common,"onBackground"),Zc(A,"divider"),Object.keys(A).forEach(z=>{const U=A[z];z!=="tonalOffset"&&U&&typeof U=="object"&&(U.main&&me(A[z],"mainChannel",lb(cb(U.main))),U.light&&me(A[z],"lightChannel",lb(cb(U.light))),U.dark&&me(A[z],"darkChannel",lb(cb(U.dark))),U.contrastText&&me(A[z],"contrastTextChannel",lb(cb(U.contrastText))),z==="text"&&(Zc(A[z],"primary"),Zc(A[z],"secondary")),z==="action"&&(U.active&&Zc(A[z],"active"),U.selected&&Zc(A[z],"selected")))})}),x=e.reduce((N,A)=>is(N,A),x);const I={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:Tse(x)},{vars:F,generateThemeVars:k,generateStyleSheets:L}=Qie(x,I);return x.vars=F,Object.entries(x.colorSchemes[x.defaultColorScheme]).forEach(([N,A])=>{x[N]=A}),x.generateThemeVars=k,x.generateStyleSheets=L,x.generateSpacing=function(){return AG(u.spacing,eB(this))},x.getColorSchemeSelector=Zie(a),x.spacing=x.generateSpacing(),x.shouldSkipGeneratingVar=o,x.unstable_sxConfig={...$E,...u==null?void 0:u.unstable_sxConfig},x.unstable_sx=function(A){return nf({sx:A,theme:this})},x.toRuntimeSource=KG,x}function s3(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:uB({...t===!0?{}:t.palette,mode:e})})}function bR(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:s=t==null?void 0:t.mode,...o}=n,a=s||"light",l=i==null?void 0:i[a],u={...i,...t?{[a]:{...typeof l!="boolean"&&l,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return lL(n,...e);let h=t;"palette"in n||u[a]&&(u[a]!==!0?h=u[a].palette:a==="dark"&&(h={mode:"dark"}));const p=lL({...n,palette:h},...e);return p.defaultColorScheme=a,p.colorSchemes=u,p.palette.mode==="light"&&(p.colorSchemes.light={...u.light!==!0&&u.light,palette:p.palette},s3(p,"dark",u.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:p.palette},s3(p,"light",u.light)),p}return!t&&!("light"in u)&&a==="light"&&(u.light=!0),Ise({...o,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const dB=bR();function Da(){const n=iB(dB);return n[vl]||n}function QG(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const jo=n=>QG(n)&&n!=="classes",Pe=mie({themeId:vl,defaultTheme:dB,rootShouldForwardProp:jo});function o3({theme:n,...e}){const t=vl in n?n[vl]:void 0;return M.jsx(zG,{...e,themeId:t?vl:void 0,theme:t||n})}const YC={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:kse}=Yie({themeId:vl,theme:()=>bR({cssVariables:!0}),colorSchemeStorageKey:YC.colorSchemeStorageKey,modeStorageKey:YC.modeStorageKey,defaultColorScheme:{light:YC.defaultLightColorScheme,dark:YC.defaultDarkColorScheme},resolveTheme:n=>{const e={...n,typography:YG(n.palette,n.typography)};return e.unstable_sx=function(r){return nf({sx:r,theme:this})},e}}),Pse=kse;function Dse({theme:n,...e}){return typeof n=="function"?M.jsx(o3,{theme:n,...e}):"colorSchemes"in(vl in n?n[vl]:n)?M.jsx(Pse,{theme:n,...e}):M.jsx(o3,{theme:n,...e})}const Mse=kt("MuiBox",["root"]),Ose=bR(),Ee=uie({themeId:vl,defaultTheme:Ose,defaultClassName:Mse.root,generateClassName:RG.generate});/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var a3="popstate";function Lse(n={}){function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Zm(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),uL("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:l_(s))}function r(i,s){Ta(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return Nse(e,t,r,n)}function mr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ta(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Fse(){return Math.random().toString(36).substring(2,10)}function l3(n,e){return{usr:n.state,key:n.key,idx:e}}function uL(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Zm(e):e,state:t,key:e&&e.key||r||Fse()}}function l_({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Zm(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Nse(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function p(){a="POP";let _=h(),E=_==null?null:_-u;u=_,l&&l({action:a,location:w.location,delta:E})}function m(_,E){a="PUSH";let T=uL(w.location,_,E);t&&t(T,_),u=h()+1;let C=l3(T,u),x=w.createHref(T);try{o.pushState(C,"",x)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(x)}s&&l&&l({action:a,location:w.location,delta:1})}function y(_,E){a="REPLACE";let T=uL(w.location,_,E);t&&t(T,_),u=h();let C=l3(T,u),x=w.createHref(T);o.replaceState(C,"",x),s&&l&&l({action:a,location:w.location,delta:0})}function b(_){return Bse(_)}let w={get action(){return a},get location(){return n(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(a3,p),l=_,()=>{i.removeEventListener(a3,p),l=null}},createHref(_){return e(i,_)},createURL:b,encodeLocation(_){let E=b(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:y,go(_){return o.go(_)}};return w}function Bse(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mr(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:l_(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function ZG(n,e,t="/"){return $se(n,e,t,!1)}function $se(n,e,t,r){let i=typeof e=="string"?Zm(e):e,s=ad(i.pathname||"/",t);if(s==null)return null;let o=e8(n);jse(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Jse(s);a=Kse(o[l],u,r)}return a}function e8(n,e=[],t=[],r="",i=!1){let s=(o,a,l=i,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&l)return;mr(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=Qu([r,h.relativePath]),m=t.concat(h);o.children&&o.children.length>0&&(mr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),e8(o.children,e,m,p,l)),!(o.path==null&&!o.index)&&e.push({path:p,score:Gse(p,o.index),routesMeta:m})};return n.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of t8(o.path))s(o,a,!0,u)}),e}function t8(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=t8(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function jse(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Yse(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Use=/^:[\w-]+$/,Vse=3,Hse=2,zse=1,Wse=10,qse=-2,c3=n=>n==="*";function Gse(n,e){let t=n.split("/"),r=t.length;return t.some(c3)&&(r+=qse),e&&(r+=Hse),t.filter(i=>!c3(i)).reduce((i,s)=>i+(Use.test(s)?Vse:s===""?zse:Wse),r)}function Yse(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Kse(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=qA({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),m=l.route;if(!p&&u&&t&&!r[r.length-1].route.index&&(p=qA({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Qu([s,p.pathname]),pathnameBase:noe(Qu([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Qu([s,p.pathnameBase]))}return o}function qA(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Xse(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:p},m)=>{if(h==="*"){let b=a[m]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const y=a[m];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function Xse(n,e=!1,t=!0){Ta(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Jse(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ta(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ad(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var Qse=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zse=n=>Qse.test(n);function eoe(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Zm(n):n,s;if(t)if(Zse(t))s=t;else{if(t.includes("//")){let o=t;t=t.replace(/\/\/+/g,"/"),Ta(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${t}`)}t.startsWith("/")?s=u3(t.substring(1),"/"):s=u3(t,e)}else s=e;return{pathname:s,search:roe(r),hash:ioe(i)}}function u3(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function OP(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function toe(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function n8(n){let e=toe(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function r8(n,e,t,r=!1){let i;typeof n=="string"?i=Zm(n):(i={...n},mr(!i.pathname||!i.pathname.includes("?"),OP("?","pathname","search",i)),mr(!i.pathname||!i.pathname.includes("#"),OP("#","pathname","hash",i)),mr(!i.search||!i.search.includes("#"),OP("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?e[p]:"/"}let l=eoe(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var Qu=n=>n.join("/").replace(/\/\/+/g,"/"),noe=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),roe=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ioe=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function soe(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var i8=["POST","PUT","PATCH","DELETE"];new Set(i8);var ooe=["GET",...i8];new Set(ooe);var O0=$.createContext(null);O0.displayName="DataRouter";var _R=$.createContext(null);_R.displayName="DataRouterState";$.createContext(!1);var s8=$.createContext({isTransitioning:!1});s8.displayName="ViewTransition";var aoe=$.createContext(new Map);aoe.displayName="Fetchers";var loe=$.createContext(null);loe.displayName="Await";var Oc=$.createContext(null);Oc.displayName="Navigation";var jE=$.createContext(null);jE.displayName="Location";var Lc=$.createContext({outlet:null,matches:[],isDataRoute:!1});Lc.displayName="Route";var hB=$.createContext(null);hB.displayName="RouteError";function coe(n,{relative:e}={}){mr(UE(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=$.useContext(Oc),{hash:i,pathname:s,search:o}=VE(n,{relative:e}),a=s;return t!=="/"&&(a=s==="/"?t:Qu([t,s])),r.createHref({pathname:a,search:o,hash:i})}function UE(){return $.useContext(jE)!=null}function yf(){return mr(UE(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(jE).location}var o8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a8(n){$.useContext(Oc).static||$.useLayoutEffect(n)}function L0(){let{isDataRoute:n}=$.useContext(Lc);return n?Soe():uoe()}function uoe(){mr(UE(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(O0),{basename:e,navigator:t}=$.useContext(Oc),{matches:r}=$.useContext(Lc),{pathname:i}=yf(),s=JSON.stringify(n8(r)),o=$.useRef(!1);return a8(()=>{o.current=!0}),$.useCallback((l,u={})=>{if(Ta(o.current,o8),!o.current)return;if(typeof l=="number"){t.go(l);return}let h=r8(l,JSON.parse(s),i,u.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Qu([e,h.pathname])),(u.replace?t.replace:t.push)(h,u.state,u)},[e,t,s,i,n])}$.createContext(null);function l8(){let{matches:n}=$.useContext(Lc),e=n[n.length-1];return e?e.params:{}}function VE(n,{relative:e}={}){let{matches:t}=$.useContext(Lc),{pathname:r}=yf(),i=JSON.stringify(n8(t));return $.useMemo(()=>r8(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function doe(n,e){return c8(n,e)}function c8(n,e,t,r,i){var T;mr(UE(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=$.useContext(Oc),{matches:o}=$.useContext(Lc),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",h=a?a.pathnameBase:"/",p=a&&a.route;{let C=p&&p.path||"";u8(u,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let m=yf(),y;if(e){let C=typeof e=="string"?Zm(e):e;mr(h==="/"||((T=C.pathname)==null?void 0:T.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${C.pathname}" was given in the \`location\` prop.`),y=C}else y=m;let b=y.pathname||"/",w=b;if(h!=="/"){let C=h.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let _=ZG(n,{pathname:w});Ta(p||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ta(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=goe(_&&_.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Qu([h,s.encodeLocation?s.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:Qu([h,s.encodeLocation?s.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),o,t,r,i);return e&&E?$.createElement(jE.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},E):E}function hoe(){let n=_oe(),e=soe(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:s},"ErrorBoundary")," or"," ",$.createElement("code",{style:s},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:i},t):null,o)}var foe=$.createElement(hoe,null),poe=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?$.createElement(Lc.Provider,{value:this.props.routeContext},$.createElement(hB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function moe({routeContext:n,match:e,children:t}){let r=$.useContext(O0);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Lc.Provider,{value:n},t)}function goe(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let h=s.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);mr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let a=!1,l=-1;if(t)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=h),p.route.id){let{loaderData:m,errors:y}=t,b=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=t&&r?(h,p)=>{var m,y;r(h,{location:t.location,params:((y=(m=t.matches)==null?void 0:m[0])==null?void 0:y.params)??{},errorInfo:p})}:void 0;return s.reduceRight((h,p,m)=>{let y,b=!1,w=null,_=null;t&&(y=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||foe,a&&(l<0&&m===0?(u8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):l===m&&(b=!0,_=p.route.hydrateFallbackElement||null)));let E=e.concat(s.slice(0,m+1)),T=()=>{let C;return y?C=w:b?C=_:p.route.Component?C=$.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,$.createElement(moe,{match:p,routeContext:{outlet:h,matches:E,isDataRoute:t!=null},children:C})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?$.createElement(poe,{location:t.location,revalidation:t.revalidation,component:w,error:y,children:T(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:u}):T()},null)}function fB(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yoe(n){let e=$.useContext(O0);return mr(e,fB(n)),e}function voe(n){let e=$.useContext(_R);return mr(e,fB(n)),e}function woe(n){let e=$.useContext(Lc);return mr(e,fB(n)),e}function pB(n){let e=woe(n),t=e.matches[e.matches.length-1];return mr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function boe(){return pB("useRouteId")}function _oe(){var r;let n=$.useContext(hB),e=voe("useRouteError"),t=pB("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Soe(){let{router:n}=yoe("useNavigate"),e=pB("useNavigate"),t=$.useRef(!1);return a8(()=>{t.current=!0}),$.useCallback(async(i,s={})=>{Ta(t.current,o8),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var d3={};function u8(n,e,t){!e&&!d3[n]&&(d3[n]=!0,Ta(!1,t))}$.memo(Eoe);function Eoe({routes:n,future:e,state:t,unstable_onError:r}){return c8(n,void 0,t,r,e)}function Qa(n){mr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Coe({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){mr(!UE(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),a=$.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof t=="string"&&(t=Zm(t));let{pathname:l="/",search:u="",hash:h="",state:p=null,key:m="default"}=t,y=$.useMemo(()=>{let b=ad(l,o);return b==null?null:{location:{pathname:b,search:u,hash:h,state:p,key:m},navigationType:r}},[o,l,u,h,p,m,r]);return Ta(y!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:$.createElement(Oc.Provider,{value:a},$.createElement(jE.Provider,{children:e,value:y}))}function Toe({children:n,location:e}){return doe(dL(n),e)}function dL(n,e=[]){let t=[];return $.Children.forEach(n,(r,i)=>{if(!$.isValidElement(r))return;let s=[...e,i];if(r.type===$.Fragment){t.push.apply(t,dL(r.props.children,s));return}mr(r.type===Qa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=dL(r.props.children,s)),t.push(o)}),t}var DT="get",MT="application/x-www-form-urlencoded";function SR(n){return n!=null&&typeof n.tagName=="string"}function Aoe(n){return SR(n)&&n.tagName.toLowerCase()==="button"}function xoe(n){return SR(n)&&n.tagName.toLowerCase()==="form"}function Roe(n){return SR(n)&&n.tagName.toLowerCase()==="input"}function Ioe(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function koe(n,e){return n.button===0&&(!e||e==="_self")&&!Ioe(n)}var KC=null;function Poe(){if(KC===null)try{new FormData(document.createElement("form"),0),KC=!1}catch{KC=!0}return KC}var Doe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function LP(n){return n!=null&&!Doe.has(n)?(Ta(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${MT}"`),null):n}function Moe(n,e){let t,r,i,s,o;if(xoe(n)){let a=n.getAttribute("action");r=a?ad(a,e):null,t=n.getAttribute("method")||DT,i=LP(n.getAttribute("enctype"))||MT,s=new FormData(n)}else if(Aoe(n)||Roe(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||a.getAttribute("action");if(r=l?ad(l,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||DT,i=LP(n.getAttribute("formenctype"))||LP(a.getAttribute("enctype"))||MT,s=new FormData(a,n),!Poe()){let{name:u,type:h,value:p}=n;if(h==="image"){let m=u?`${u}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else u&&s.append(u,p)}}else{if(SR(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=DT,r=null,i=MT,o=n}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mB(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ooe(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&ad(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function Loe(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Foe(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Noe(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await Loe(s,t);return o.links?o.links():[]}return[]}));return Uoe(r.flat(1).filter(Foe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function h3(n,e,t,r,i,s){let o=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,a=(l,u)=>{var h;return t[u].pathname!==l.pathname||((h=t[u].route.path)==null?void 0:h.endsWith("*"))&&t[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var p;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=t[0])==null?void 0:p.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Boe(n,e,{includeHydrateFallback:t}={}){return $oe(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function $oe(n){return[...new Set(n)]}function joe(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Uoe(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(joe(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function d8(){let n=$.useContext(O0);return mB(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Voe(){let n=$.useContext(_R);return mB(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var gB=$.createContext(void 0);gB.displayName="FrameworkContext";function h8(){let n=$.useContext(gB);return mB(n,"You must render this element inside a <HydratedRouter> element"),n}function Hoe(n,e){let t=$.useContext(gB),[r,i]=$.useState(!1),[s,o]=$.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:p}=e,m=$.useRef(null);$.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let w=E=>{E.forEach(T=>{o(T.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return m.current&&_.observe(m.current),()=>{_.disconnect()}}},[n]),$.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{i(!0)},b=()=>{i(!1),o(!1)};return t?n!=="intent"?[s,m,{}]:[s,m,{onFocus:jw(a,y),onBlur:jw(l,b),onMouseEnter:jw(u,y),onMouseLeave:jw(h,b),onTouchStart:jw(p,y)}]:[!1,m,{}]}function jw(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function zoe({page:n,...e}){let{router:t}=d8(),r=$.useMemo(()=>ZG(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?$.createElement(qoe,{page:n,matches:r,...e}):null}function Woe(n){let{manifest:e,routeModules:t}=h8(),[r,i]=$.useState([]);return $.useEffect(()=>{let s=!1;return Noe(n,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[n,e,t]),r}function qoe({page:n,matches:e,...t}){let r=yf(),{manifest:i,routeModules:s}=h8(),{basename:o}=d8(),{loaderData:a,matches:l}=Voe(),u=$.useMemo(()=>h3(n,e,l,i,r,"data"),[n,e,l,i,r]),h=$.useMemo(()=>h3(n,e,l,i,r,"assets"),[n,e,l,i,r]),p=$.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,w=!1;if(e.forEach(E=>{var C;let T=i.routes[E.route.id];!T||!T.hasLoader||(!u.some(x=>x.route.id===E.route.id)&&E.route.id in a&&((C=s[E.route.id])!=null&&C.shouldRevalidate)||T.hasClientLoader?w=!0:b.add(E.route.id))}),b.size===0)return[];let _=Ooe(n,o,"data");return w&&b.size>0&&_.searchParams.set("_routes",e.filter(E=>b.has(E.route.id)).map(E=>E.route.id).join(",")),[_.pathname+_.search]},[o,a,r,i,u,e,n,s]),m=$.useMemo(()=>Boe(h,i),[h,i]),y=Woe(h);return $.createElement($.Fragment,null,p.map(b=>$.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),m.map(b=>$.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),y.map(({key:b,link:w})=>$.createElement("link",{key:b,nonce:t.nonce,...w})))}function Goe(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var f8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{f8&&(window.__reactRouterVersion="7.9.6")}catch{}function Yoe({basename:n,children:e,window:t}){let r=$.useRef();r.current==null&&(r.current=Lse({window:t,v5Compat:!0}));let i=r.current,[s,o]=$.useState({action:i.action,location:i.location}),a=$.useCallback(l=>{$.startTransition(()=>o(l))},[o]);return $.useLayoutEffect(()=>i.listen(a),[i,a]),$.createElement(Coe,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var p8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yB=$.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:p,...m},y){let{basename:b}=$.useContext(Oc),w=typeof u=="string"&&p8.test(u),_,E=!1;if(typeof u=="string"&&w&&(_=u,f8))try{let N=new URL(window.location.href),A=u.startsWith("//")?new URL(N.protocol+u):new URL(u),B=ad(A.pathname,b);A.origin===N.origin&&B!=null?u=B+A.search+A.hash:E=!0}catch{Ta(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=coe(u,{relative:i}),[C,x,I]=Hoe(r,m),F=Qoe(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:p});function k(N){e&&e(N),N.defaultPrevented||F(N)}let L=$.createElement("a",{...m,...I,href:_||T,onClick:E||s?e:k,ref:Goe(y,x),target:l,"data-discover":!w&&t==="render"?"true":void 0});return C&&!w?$.createElement($.Fragment,null,L,$.createElement(zoe,{page:T})):L});yB.displayName="Link";var Koe=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},h){let p=VE(o,{relative:u.relative}),m=yf(),y=$.useContext(_R),{navigator:b,basename:w}=$.useContext(Oc),_=y!=null&&rae(p)&&a===!0,E=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,T=m.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(T=T.toLowerCase(),C=C?C.toLowerCase():null,E=E.toLowerCase()),C&&w&&(C=ad(C,w)||C);const x=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let I=T===E||!i&&T.startsWith(E)&&T.charAt(x)==="/",F=C!=null&&(C===E||!i&&C.startsWith(E)&&C.charAt(E.length)==="/"),k={isActive:I,isPending:F,isTransitioning:_},L=I?e:void 0,N;typeof r=="function"?N=r(k):N=[r,I?"active":null,F?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let A=typeof s=="function"?s(k):s;return $.createElement(yB,{...u,"aria-current":L,className:N,ref:h,style:A,to:o,viewTransition:a},typeof l=="function"?l(k):l)});Koe.displayName="NavLink";var Xoe=$.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:o=DT,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:p,...m},y)=>{let b=tae(),w=nae(a,{relative:u}),_=o.toLowerCase()==="get"?"get":"post",E=typeof a=="string"&&p8.test(a),T=C=>{if(l&&l(C),C.defaultPrevented)return;C.preventDefault();let x=C.nativeEvent.submitter,I=(x==null?void 0:x.getAttribute("formmethod"))||o;b(x||C.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:i,state:s,relative:u,preventScrollReset:h,viewTransition:p})};return $.createElement("form",{ref:y,method:_,action:w,onSubmit:r?l:T,...m,"data-discover":!E&&n==="render"?"true":void 0})});Xoe.displayName="Form";function Joe(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m8(n){let e=$.useContext(O0);return mr(e,Joe(n)),e}function Qoe(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=L0(),l=yf(),u=VE(n,{relative:s});return $.useCallback(h=>{if(koe(h,e)){h.preventDefault();let p=t!==void 0?t:l_(l)===l_(u);a(n,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,t,r,e,n,i,s,o])}var Zoe=0,eae=()=>`__${String(++Zoe)}__`;function tae(){let{router:n}=m8("useSubmit"),{basename:e}=$.useContext(Oc),t=boe();return $.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=Moe(r,e);if(i.navigate===!1){let h=i.fetcherKey||eae();await n.fetch(h,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function nae(n,{relative:e}={}){let{basename:t}=$.useContext(Oc),r=$.useContext(Lc);mr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...VE(n||".",{relative:e})},o=yf();if(n==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(p=>p).forEach(p=>a.append("index",p));let h=a.toString();s.search=h?`?${h}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Qu([t,s.pathname])),l_(s)}function rae(n,{relative:e}={}){let t=$.useContext(s8);mr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=m8("useViewTransitionState"),i=VE(n,{relative:e});if(!t.isTransitioning)return!1;let s=ad(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=ad(t.nextLocation.pathname,r)||t.nextLocation.pathname;return qA(i.pathname,o)!=null||qA(i.pathname,s)!=null}var g8=aG();const _y=ro(g8),XC={contentContainer:{overflow:"hidden",paddingTop:{xs:8,md:4},paddingBottom:4,transition:"0.3s all ease-in-out",width:"100%"},regularPageContainers:{paddingRight:{xs:2,md:6},display:"flex",flexDirection:"column",gap:2,transition:"0.3s all ease-in-out"}},c_=()=>{const[n,e]=$.useState(null);return{anchorEl:n,setModalOpen:i=>{e(i.currentTarget)},setModalClosed:()=>{e(null)}}},iae=()=>{};var f3={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},sae=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},v8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4;let m=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(y8(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):sae(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const p=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||p==null)throw new oae;const m=s<<2|a>>4;if(r.push(m),u!==64){const y=a<<4&240|u>>2;if(r.push(y),p!==64){const b=u<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class oae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aae=function(n){const e=y8(n);return v8.encodeByteArray(e,!0)},GA=function(n){return aae(n).replace(/\./g,"")},w8=function(n){try{return v8.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cae=()=>lae().__FIREBASE_DEFAULTS__,uae=()=>{if(typeof process>"u"||typeof f3>"u")return;const n=f3.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dae=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&w8(n[1]);return e&&JSON.parse(e)},ER=()=>{try{return iae()||cae()||uae()||dae()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},b8=n=>{var e,t;return(t=(e=ER())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hae=n=>{const e=b8(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},_8=()=>{var n;return(n=ER())===null||n===void 0?void 0:n.config},S8=n=>{var e;return(e=ER())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pae(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[GA(JSON.stringify(t)),GA(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(as())}function gae(){var n;const e=(n=ER())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yae(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E8(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function vae(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wae(){const n=as();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bae(){return!gae()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C8(){try{return typeof indexedDB=="object"}catch{return!1}}function T8(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function _ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sae="FirebaseError";class Al extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Sae,Object.setPrototypeOf(this,Al.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eg.prototype.create)}}class eg{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Eae(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Al(i,a,r)}}function Eae(n,e){return n.replace(Cae,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Cae=/\{\$([^}]+)}/g;function Tae(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function sf(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(p3(s)&&p3(o)){if(!sf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function p3(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ub(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function db(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Aae(n,e){const t=new xae(n,e);return t.subscribe.bind(t)}class xae{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Rae(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=FP),i.error===void 0&&(i.error=FP),i.complete===void 0&&(i.complete=FP);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rae(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function FP(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iae=1e3,kae=2,Pae=14400*1e3,Dae=.5;function m3(n,e=Iae,t=kae){const r=e*Math.pow(t,n),i=Math.round(Dae*r*(Math.random()-.5)*2);return Math.min(Pae,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(n){return n&&n._delegate?n._delegate:n}class _l{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mae{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new fae;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Lae(e))try{this.getOrInitializeService({instanceIdentifier:Qf})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qf){return this.instances.has(e)}getOptions(e=Qf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Oae(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qf){return this.component?this.component.multipleInstances?e:Qf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Oae(n){return n===Qf?void 0:n}function Lae(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Mae(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Bt||(Bt={}));const Nae={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},Bae=Bt.INFO,$ae={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},jae=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=$ae[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class CR{constructor(e){this.name=e,this._logLevel=Bae,this._logHandler=jae,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Nae[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const Uae=(n,e)=>e.some(t=>n instanceof t);let g3,y3;function Vae(){return g3||(g3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Hae(){return y3||(y3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A8=new WeakMap,hL=new WeakMap,x8=new WeakMap,NP=new WeakMap,vB=new WeakMap;function zae(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Xh(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&A8.set(t,n)}).catch(()=>{}),vB.set(e,n),e}function Wae(n){if(hL.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});hL.set(n,e)}let fL={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return hL.get(n);if(e==="objectStoreNames")return n.objectStoreNames||x8.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xh(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function qae(n){fL=n(fL)}function Gae(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(BP(this),e,...t);return x8.set(r,e.sort?e.sort():[e]),Xh(r)}:Hae().includes(n)?function(...e){return n.apply(BP(this),e),Xh(A8.get(this))}:function(...e){return Xh(n.apply(BP(this),e))}}function Yae(n){return typeof n=="function"?Gae(n):(n instanceof IDBTransaction&&Wae(n),Uae(n,Vae())?new Proxy(n,fL):n)}function Xh(n){if(n instanceof IDBRequest)return zae(n);if(NP.has(n))return NP.get(n);const e=Yae(n);return e!==n&&(NP.set(n,e),vB.set(e,n)),e}const BP=n=>vB.get(n);function R8(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Xh(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Xh(o.result),l.oldVersion,l.newVersion,Xh(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Kae=["get","getKey","getAll","getAllKeys","count"],Xae=["put","add","delete","clear"],$P=new Map;function v3(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($P.get(e))return $P.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Xae.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Kae.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),i&&l.done]))[0]};return $P.set(e,s),s}qae(n=>({...n,get:(e,t,r)=>v3(e,t)||n.get(e,t,r),has:(e,t)=>!!v3(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Qae(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Qae(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pL="@firebase/app",w3="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new CR("@firebase/app"),Zae="@firebase/app-compat",ele="@firebase/analytics-compat",tle="@firebase/analytics",nle="@firebase/app-check-compat",rle="@firebase/app-check",ile="@firebase/auth",sle="@firebase/auth-compat",ole="@firebase/database",ale="@firebase/data-connect",lle="@firebase/database-compat",cle="@firebase/functions",ule="@firebase/functions-compat",dle="@firebase/installations",hle="@firebase/installations-compat",fle="@firebase/messaging",ple="@firebase/messaging-compat",mle="@firebase/performance",gle="@firebase/performance-compat",yle="@firebase/remote-config",vle="@firebase/remote-config-compat",wle="@firebase/storage",ble="@firebase/storage-compat",_le="@firebase/firestore",Sle="@firebase/vertexai",Ele="@firebase/firestore-compat",Cle="firebase",Tle="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="[DEFAULT]",Ale={[pL]:"fire-core",[Zae]:"fire-core-compat",[tle]:"fire-analytics",[ele]:"fire-analytics-compat",[rle]:"fire-app-check",[nle]:"fire-app-check-compat",[ile]:"fire-auth",[sle]:"fire-auth-compat",[ole]:"fire-rtdb",[ale]:"fire-data-connect",[lle]:"fire-rtdb-compat",[cle]:"fire-fn",[ule]:"fire-fn-compat",[dle]:"fire-iid",[hle]:"fire-iid-compat",[fle]:"fire-fcm",[ple]:"fire-fcm-compat",[mle]:"fire-perf",[gle]:"fire-perf-compat",[yle]:"fire-rc",[vle]:"fire-rc-compat",[wle]:"fire-gcs",[ble]:"fire-gcs-compat",[_le]:"fire-fst",[Ele]:"fire-fst-compat",[Sle]:"fire-vertex","fire-js":"fire-js",[Cle]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=new Map,xle=new Map,gL=new Map;function b3(n,e){try{n.container.addComponent(e)}catch(t){ld.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ac(n){const e=n.name;if(gL.has(e))return ld.debug(`There were multiple attempts to register component ${e}.`),!1;gL.set(e,n);for(const t of YA.values())b3(t,n);for(const t of xle.values())b3(t,n);return!0}function tg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Lo(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rle={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jh=new eg("app","Firebase",Rle);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ile{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=Tle;function I8(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mL,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Jh.create("bad-app-name",{appName:String(i)});if(t||(t=_8()),!t)throw Jh.create("no-options");const s=YA.get(i);if(s){if(sf(t,s.options)&&sf(r,s.config))return s;throw Jh.create("duplicate-app",{appName:i})}const o=new Fae(i);for(const l of gL.values())o.addComponent(l);const a=new Ile(t,r,o);return YA.set(i,a),a}function wB(n=mL){const e=YA.get(n);if(!e&&n===mL&&_8())return I8();if(!e)throw Jh.create("no-app",{appName:n});return e}function ba(n,e,t){var r;let i=(r=Ale[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ld.warn(a.join(" "));return}Ac(new _l(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kle="firebase-heartbeat-database",Ple=1,u_="firebase-heartbeat-store";let jP=null;function k8(){return jP||(jP=R8(kle,Ple,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(u_)}catch(t){console.warn(t)}}}}).catch(n=>{throw Jh.create("idb-open",{originalErrorMessage:n.message})})),jP}async function Dle(n){try{const t=(await k8()).transaction(u_),r=await t.objectStore(u_).get(P8(n));return await t.done,r}catch(e){if(e instanceof Al)ld.warn(e.message);else{const t=Jh.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ld.warn(t.message)}}}async function _3(n,e){try{const r=(await k8()).transaction(u_,"readwrite");await r.objectStore(u_).put(e,P8(n)),await r.done}catch(t){if(t instanceof Al)ld.warn(t.message);else{const r=Jh.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ld.warn(r.message)}}}function P8(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mle=1024,Ole=30;class Lle{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Nle(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=S3();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Ole){const o=Ble(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ld.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=S3(),{heartbeatsToSend:r,unsentEntries:i}=Fle(this._heartbeatsCache.heartbeats),s=GA(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return ld.warn(t),""}}}function S3(){return new Date().toISOString().substring(0,10)}function Fle(n,e=Mle){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),E3(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),E3(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Nle{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C8()?T8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Dle(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return _3(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return _3(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function E3(n){return GA(JSON.stringify({version:2,heartbeats:n})).length}function Ble(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $le(n){Ac(new _l("platform-logger",e=>new Jae(e),"PRIVATE")),Ac(new _l("heartbeat",e=>new Lle(e),"PRIVATE")),ba(pL,w3,n),ba(pL,w3,"esm2017"),ba("fire-js","")}$le("");function bB(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function D8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jle=D8,M8=new eg("auth","Firebase",D8()),ey={EMAIL_EXISTS:"auth/email-already-in-use",INVALID_EMAIL:"auth/invalid-email",INVALID_PASSWORD:"auth/wrong-password",NETWORK_REQUEST_FAILED:"auth/network-request-failed",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",WEAK_PASSWORD:"auth/weak-password"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=new CR("@firebase/auth");function Ule(n,...e){KA.logLevel<=Bt.WARN&&KA.warn(`Auth (${F0}): ${n}`,...e)}function OT(n,...e){KA.logLevel<=Bt.ERROR&&KA.error(`Auth (${F0}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(n,...e){throw SB(n,...e)}function wl(n,...e){return SB(n,...e)}function _B(n,e,t){const r=Object.assign(Object.assign({},jle()),{[e]:t});return new eg("auth","Firebase",r).create(e,{appName:n.name})}function Zu(n){return _B(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vle(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Aa(n,"argument-error"),_B(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function SB(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return M8.create(n,...e)}function ut(n,e,...t){if(!n)throw SB(e,...t)}function Gu(n){const e="INTERNAL ASSERTION FAILED: "+n;throw OT(e),new Error(e)}function cd(n,e){n||Gu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Hle(){return C3()==="http:"||C3()==="https:"}function C3(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zle(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hle()||E8()||"connection"in navigator)?navigator.onLine:!0}function Wle(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,t){this.shortDelay=e,this.longDelay=t,cd(t>e,"Short delay should be less than long delay!"),this.isMobile=mae()||vae()}get(){return zle()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(n,e){cd(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qle={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gle=new zE(3e4,6e4);function vf(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function wf(n,e,t,r,i={}){return L8(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=HE(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:l},s);return yae()||(u.referrerPolicy="no-referrer"),O8.fetch()(F8(n,n.config.apiHost,t,a),u)})}async function L8(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},qle),e);try{const i=new Kle(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw JC(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw JC(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw JC(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw JC(n,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw _B(n,h,u);Aa(n,h)}}catch(i){if(i instanceof Al)throw i;Aa(n,"network-request-failed",{message:String(i)})}}async function WE(n,e,t,r,i={}){const s=await wf(n,e,t,r,i);return"mfaPendingCredential"in s&&Aa(n,"multi-factor-auth-required",{_serverResponse:s}),s}function F8(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?EB(n.config,i):`${n.config.apiScheme}://${i}`}function Yle(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kle{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(wl(this.auth,"network-request-failed")),Gle.get())})}}function JC(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=wl(n,e,r);return i.customData._tokenResponse=t,i}function T3(n){return n!==void 0&&n.enterprise!==void 0}class Xle{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Yle(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Jle(n,e){return wf(n,"GET","/v2/recaptchaConfig",vf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qle(n,e){return wf(n,"POST","/v1/accounts:delete",e)}async function N8(n,e){return wf(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Zle(n,e=!1){const t=Cs(n),r=await t.getIdToken(e),i=CB(r);ut(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Vb(UP(i.auth_time)),issuedAtTime:Vb(UP(i.iat)),expirationTime:Vb(UP(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function UP(n){return Number(n)*1e3}function CB(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return OT("JWT malformed, contained fewer than 3 sections"),null;try{const i=w8(t);return i?JSON.parse(i):(OT("Failed to decode base64 JWT payload"),null)}catch(i){return OT("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function A3(n){const e=CB(n);return ut(e,"internal-error"),ut(typeof e.exp<"u","internal-error"),ut(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d_(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Al&&ece(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function ece({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tce{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vb(this.lastLoginAt),this.creationTime=Vb(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XA(n){var e;const t=n.auth,r=await n.getIdToken(),i=await d_(n,N8(t,{idToken:r}));ut(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?B8(s.providerUserInfo):[],a=rce(n.providerData,o),l=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vL(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,p)}async function nce(n){const e=Cs(n);await XA(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rce(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function B8(n){return n.map(e=>{var{providerId:t}=e,r=bB(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ice(n,e){const t=await L8(n,{},async()=>{const r=HE({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=F8(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",O8.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function sce(n,e){return wf(n,"POST","/v2/accounts:revokeToken",vf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ut(e.idToken,"internal-error"),ut(typeof e.idToken<"u","internal-error"),ut(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ut(e.length!==0,"internal-error");const t=A3(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ut(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await ice(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Dy;return r&&(ut(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ut(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ut(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dy,this.toJSON())}_performRefresh(){return Gu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(n,e){ut(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Yu{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=bB(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vL(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await d_(this,this.stsTokenManager.getToken(this.auth,e));return ut(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Zle(this,e)}reload(){return nce(this)}_assign(e){this!==e&&(ut(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await XA(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lo(this.auth.app))return Promise.reject(Zu(this.auth));const e=await this.getIdToken();return await d_(this,Qle(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,u,h;const p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=t.photoURL)!==null&&o!==void 0?o:void 0,w=(a=t.tenantId)!==null&&a!==void 0?a:void 0,_=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=t.createdAt)!==null&&u!==void 0?u:void 0,T=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:C,emailVerified:x,isAnonymous:I,providerData:F,stsTokenManager:k}=t;ut(C&&k,e,"internal-error");const L=Dy.fromJSON(this.name,k);ut(typeof C=="string",e,"internal-error"),qd(p,e.name),qd(m,e.name),ut(typeof x=="boolean",e,"internal-error"),ut(typeof I=="boolean",e,"internal-error"),qd(y,e.name),qd(b,e.name),qd(w,e.name),qd(_,e.name),qd(E,e.name),qd(T,e.name);const N=new Yu({uid:C,auth:e,email:m,emailVerified:x,displayName:p,isAnonymous:I,photoURL:b,phoneNumber:y,tenantId:w,stsTokenManager:L,createdAt:E,lastLoginAt:T});return F&&Array.isArray(F)&&(N.providerData=F.map(A=>Object.assign({},A))),_&&(N._redirectEventId=_),N}static async _fromIdTokenResponse(e,t,r=!1){const i=new Dy;i.updateFromServerResponse(t);const s=new Yu({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await XA(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];ut(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?B8(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Dy;a.updateFromIdToken(r);const l=new Yu({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new vL(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=new Map;function Ku(n){cd(n instanceof Function,"Expected a class definition");let e=x3.get(n);return e?(cd(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,x3.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$8.type="NONE";const R3=$8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(n,e,t){return`firebase:${n}:${e}:${t}`}class My{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=LT(this.userKey,i.apiKey,s),this.fullPersistenceKey=LT("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new My(Ku(R3),e,r);const i=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ku(R3);const o=LT(r,e.config.apiKey,e.name);let a=null;for(const u of t)try{const h=await u._get(o);if(h){const p=Yu._fromJSON(e,h);u!==s&&(a=p),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new My(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new My(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H8(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(j8(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(W8(e))return"Blackberry";if(q8(e))return"Webos";if(U8(e))return"Safari";if((e.includes("chrome/")||V8(e))&&!e.includes("edge/"))return"Chrome";if(z8(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function j8(n=as()){return/firefox\//i.test(n)}function U8(n=as()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V8(n=as()){return/crios\//i.test(n)}function H8(n=as()){return/iemobile/i.test(n)}function z8(n=as()){return/android/i.test(n)}function W8(n=as()){return/blackberry/i.test(n)}function q8(n=as()){return/webos/i.test(n)}function TB(n=as()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function oce(n=as()){var e;return TB(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ace(){return wae()&&document.documentMode===10}function G8(n=as()){return TB(n)||z8(n)||q8(n)||W8(n)||/windows phone/i.test(n)||H8(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(n,e=[]){let t;switch(n){case"Browser":t=I3(as());break;case"Worker":t=`${I3(as())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${F0}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lce{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cce(n,e={}){return wf(n,"GET","/v2/passwordPolicy",vf(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uce=6;class dce{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:uce,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hce{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k3(this),this.idTokenSubscription=new k3(this),this.beforeStateQueue=new lce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=M8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ku(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await My.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await N8(this,{idToken:e}),r=await Yu._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Lo(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await XA(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Wle()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lo(this.app))return Promise.reject(Zu(this));const t=e?Cs(e):null;return t&&ut(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ut(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lo(this.app)?Promise.reject(Zu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lo(this.app)?Promise.reject(Zu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ku(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cce(this),t=new dce(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eg("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await sce(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ku(e)||this._popupRedirectResolver;ut(t,this,"argument-error"),this.redirectPersistenceManager=await My.create(this,[Ku(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ut(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Y8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Lo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Ule(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function bf(n){return Cs(n)}class k3{constructor(e){this.auth=e,this.observer=null,this.addObserver=Aae(t=>this.observer=t)}get next(){return ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TR={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fce(n){TR=n}function K8(n){return TR.loadJS(n)}function pce(){return TR.recaptchaEnterpriseScript}function mce(){return TR.gapiScript}function gce(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class yce{constructor(){this.enterprise=new vce}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class vce{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const wce="recaptcha-enterprise",X8="NO_RECAPTCHA";class bce{constructor(e){this.type=wce,this.auth=bf(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Jle(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Xle(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;T3(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(X8)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yce().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&T3(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=pce();l.length!==0&&(l+=a),K8(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function P3(n,e,t,r=!1,i=!1){const s=new bce(n);let o;if(i)o=X8;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function wL(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await P3(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await P3(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ce(n,e){const t=tg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(sf(s,e??{}))return i;Aa(i,"already-initialized")}return t.initialize({options:e})}function Sce(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ku);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Ece(n,e,t){const r=bf(n);ut(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=J8(e),{host:o,port:a}=Cce(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ut(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ut(sf(u,r.config.emulator)&&sf(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Tce()}function J8(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Cce(n){const e=J8(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:D3(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:D3(o)}}}function D3(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Tce(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gu("not implemented")}_getIdTokenResponse(e){return Gu("not implemented")}_linkToIdToken(e,t){return Gu("not implemented")}_getReauthenticationResolver(e){return Gu("not implemented")}}async function Ace(n,e){return wf(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xce(n,e){return WE(n,"POST","/v1/accounts:signInWithPassword",vf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rce(n,e){return WE(n,"POST","/v1/accounts:signInWithEmailLink",vf(n,e))}async function Ice(n,e){return WE(n,"POST","/v1/accounts:signInWithEmailLink",vf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_ extends AB{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new h_(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new h_(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wL(e,t,"signInWithPassword",xce);case"emailLink":return Rce(e,{email:this._email,oobCode:this._password});default:Aa(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wL(e,r,"signUpPassword",Ace);case"emailLink":return Ice(e,{idToken:t,email:this._email,oobCode:this._password});default:Aa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oy(n,e){return WE(n,"POST","/v1/accounts:signInWithIdp",vf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kce="http://localhost";class Fm extends AB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fm(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Aa("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=bB(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Fm(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Oy(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Oy(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Oy(e,t)}buildRequest(){const e={requestUri:kce,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=HE(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pce(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Dce(n){const e=ub(db(n)).link,t=e?ub(db(e)).deep_link_id:null,r=ub(db(n)).deep_link_id;return(r?ub(db(r)).link:null)||r||t||e||n}class xB{constructor(e){var t,r,i,s,o,a;const l=ub(db(e)),u=(t=l.apiKey)!==null&&t!==void 0?t:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,p=Pce((i=l.mode)!==null&&i!==void 0?i:null);ut(u&&h&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=Dce(e);try{return new xB(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.providerId=N0.PROVIDER_ID}static credential(e,t){return h_._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=xB.parseLink(t);return ut(r,"argument-error"),h_._fromEmailAndCode(e,r.code,r.tenantId)}}N0.PROVIDER_ID="password";N0.EMAIL_PASSWORD_SIGN_IN_METHOD="password";N0.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE extends RB{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends qE{constructor(){super("facebook.com")}static credential(e){return Fm._fromParams({providerId:Jd.PROVIDER_ID,signInMethod:Jd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jd.credentialFromTaggedObject(e)}static credentialFromError(e){return Jd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jd.credential(e.oauthAccessToken)}catch{return null}}}Jd.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends qE{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fm._fromParams({providerId:Wu.PROVIDER_ID,signInMethod:Wu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wu.credentialFromTaggedObject(e)}static credentialFromError(e){return Wu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Wu.credential(t,r)}catch{return null}}}Wu.GOOGLE_SIGN_IN_METHOD="google.com";Wu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends qE{constructor(){super("github.com")}static credential(e){return Fm._fromParams({providerId:Qd.PROVIDER_ID,signInMethod:Qd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qd.credentialFromTaggedObject(e)}static credentialFromError(e){return Qd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qd.credential(e.oauthAccessToken)}catch{return null}}}Qd.GITHUB_SIGN_IN_METHOD="github.com";Qd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd extends qE{constructor(){super("twitter.com")}static credential(e,t){return Fm._fromParams({providerId:Zd.PROVIDER_ID,signInMethod:Zd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Zd.credentialFromTaggedObject(e)}static credentialFromError(e){return Zd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Zd.credential(t,r)}catch{return null}}}Zd.TWITTER_SIGN_IN_METHOD="twitter.com";Zd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mce(n,e){return WE(n,"POST","/v1/accounts:signUp",vf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Yu._fromIdTokenResponse(e,r,i),o=M3(r);return new Nm({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=M3(r);return new Nm({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function M3(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA extends Al{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,JA.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new JA(e,t,r,i)}}function Q8(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?JA._fromErrorAndOperation(n,s,e,r):s})}async function Oce(n,e,t=!1){const r=await d_(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Nm._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lce(n,e,t=!1){const{auth:r}=n;if(Lo(r.app))return Promise.reject(Zu(r));const i="reauthenticate";try{const s=await d_(n,Q8(r,i,e,n),t);ut(s.idToken,r,"internal-error");const o=CB(s.idToken);ut(o,r,"internal-error");const{sub:a}=o;return ut(n.uid===a,r,"user-mismatch"),Nm._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Aa(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z8(n,e,t=!1){if(Lo(n.app))return Promise.reject(Zu(n));const r="signIn",i=await Q8(n,r,e),s=await Nm._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function Fce(n,e){return Z8(bf(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e7(n){const e=bf(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Nce(n,e,t){if(Lo(n.app))return Promise.reject(Zu(n));const r=bf(n),o=await wL(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mce).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&e7(n),l}),a=await Nm._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Bce(n,e,t){return Lo(n.app)?Promise.reject(Zu(n)):Fce(Cs(n),N0.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&e7(n),r})}function $ce(n,e,t,r){return Cs(n).onIdTokenChanged(e,t,r)}function jce(n,e,t){return Cs(n).beforeAuthStateChanged(e,t)}function Uce(n){return Cs(n).signOut()}const QA="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(QA,"1"),this.storage.removeItem(QA),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vce=1e3,Hce=10;class n7 extends t7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G8(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);ace()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Hce):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Vce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}n7.type="LOCAL";const zce=n7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7 extends t7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}r7.type="SESSION";const i7=r7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wce(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new AR(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(t.origin,s)),l=await Wce(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}AR.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qce{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=IB("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(){return window}function Gce(n){_c().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(){return typeof _c().WorkerGlobalScope<"u"&&typeof _c().importScripts=="function"}async function Yce(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kce(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Xce(){return s7()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7="firebaseLocalStorageDb",Jce=1,ZA="firebaseLocalStorage",a7="fbase_key";class GE{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xR(n,e){return n.transaction([ZA],e?"readwrite":"readonly").objectStore(ZA)}function Qce(){const n=indexedDB.deleteDatabase(o7);return new GE(n).toPromise()}function bL(){const n=indexedDB.open(o7,Jce);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ZA,{keyPath:a7})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(ZA)?e(r):(r.close(),await Qce(),e(await bL()))})})}async function O3(n,e,t){const r=xR(n,!0).put({[a7]:e,value:t});return new GE(r).toPromise()}async function Zce(n,e){const t=xR(n,!1).get(e),r=await new GE(t).toPromise();return r===void 0?null:r.value}function L3(n,e){const t=xR(n,!0).delete(e);return new GE(t).toPromise()}const eue=800,tue=3;class l7{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bL(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>tue)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s7()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=AR._getInstance(Xce()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Yce(),!this.activeServiceWorker)return;this.sender=new qce(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Kce()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bL();return await O3(e,QA,"1"),await L3(e,QA),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>O3(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Zce(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>L3(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=xR(i,!1).getAll();return new GE(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eue)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l7.type="LOCAL";const nue=l7;new zE(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(n,e){return e?Ku(e):(ut(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB extends AB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oy(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Oy(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Oy(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function rue(n){return Z8(n.auth,new kB(n),n.bypassAuthState)}function iue(n){const{auth:e,user:t}=n;return ut(t,e,"internal-error"),Lce(t,new kB(n),n.bypassAuthState)}async function sue(n){const{auth:e,user:t}=n;return ut(t,e,"internal-error"),Oce(t,new kB(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rue;case"linkViaPopup":case"linkViaRedirect":return sue;case"reauthViaPopup":case"reauthViaRedirect":return iue;default:Aa(this.auth,"internal-error")}}resolve(e){cd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oue=new zE(2e3,1e4);async function aue(n,e,t){if(Lo(n.app))return Promise.reject(wl(n,"operation-not-supported-in-this-environment"));const r=bf(n);Vle(n,e,RB);const i=c7(r,t);return new cp(r,"signInViaPopup",e,i).executeNotNull()}class cp extends u7{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,cp.currentPopupAction&&cp.currentPopupAction.cancel(),cp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ut(e,this.auth,"internal-error"),e}async onExecution(){cd(this.filter.length===1,"Popup operations only handle one event");const e=IB();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(wl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oue.get())};e()}}cp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lue="pendingRedirect",FT=new Map;class cue extends u7{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=FT.get(this.auth._key());if(!e){try{const r=await uue(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}FT.set(this.auth._key(),e)}return this.bypassAuthState||FT.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uue(n,e){const t=fue(e),r=hue(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function due(n,e){FT.set(n._key(),e)}function hue(n){return Ku(n._redirectPersistence)}function fue(n){return LT(lue,n.config.apiKey,n.name)}async function pue(n,e,t=!1){if(Lo(n.app))return Promise.reject(Zu(n));const r=bf(n),i=c7(r,e),o=await new cue(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mue=600*1e3;class gue{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yue(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!d7(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(wl(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mue&&this.cachedEventUids.clear(),this.cachedEventUids.has(F3(e))}saveEventToCache(e){this.cachedEventUids.add(F3(e)),this.lastProcessedEventTime=Date.now()}}function F3(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function d7({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yue(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d7(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vue(n,e={}){return wf(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wue=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bue=/^https?/;async function _ue(n){if(n.config.emulator)return;const{authorizedDomains:e}=await vue(n);for(const t of e)try{if(Sue(t))return}catch{}Aa(n,"unauthorized-domain")}function Sue(n){const e=yL(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!bue.test(t))return!1;if(wue.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eue=new zE(3e4,6e4);function N3(){const n=_c().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Cue(n){return new Promise((e,t)=>{var r,i,s;function o(){N3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N3(),t(wl(n,"network-request-failed"))},timeout:Eue.get()})}if(!((i=(r=_c().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_c().gapi)===null||s===void 0)&&s.load)o();else{const a=gce("iframefcb");return _c()[a]=()=>{gapi.load?o():t(wl(n,"network-request-failed"))},K8(`${mce()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw NT=null,e})}let NT=null;function Tue(n){return NT=NT||Cue(n),NT}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aue=new zE(5e3,15e3),xue="__/auth/iframe",Rue="emulator/auth/iframe",Iue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kue=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pue(n){const e=n.config;ut(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?EB(e,Rue):`https://${n.config.authDomain}/${xue}`,r={apiKey:e.apiKey,appName:n.name,v:F0},i=kue.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${HE(r).slice(1)}`}async function Due(n){const e=await Tue(n),t=_c().gapi;return ut(t,n,"internal-error"),e.open({where:document.body,url:Pue(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Iue,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=wl(n,"network-request-failed"),a=_c().setTimeout(()=>{s(o)},Aue.get());function l(){_c().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Oue=500,Lue=600,Fue="_blank",Nue="http://localhost";class B3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bue(n,e,t,r=Oue,i=Lue){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Mue),{width:r.toString(),height:i.toString(),top:s,left:o}),u=as().toLowerCase();t&&(a=V8(u)?Fue:t),j8(u)&&(e=e||Nue,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[y,b])=>`${m}${y}=${b},`,"");if(oce(u)&&a!=="_self")return $ue(e||"",a),new B3(null);const p=window.open(e||"",a,h);ut(p,n,"popup-blocked");try{p.focus()}catch{}return new B3(p)}function $ue(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jue="__/auth/handler",Uue="emulator/auth/handler",Vue=encodeURIComponent("fac");async function $3(n,e,t,r,i,s){ut(n.config.authDomain,n,"auth-domain-config-required"),ut(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:F0,eventId:i};if(e instanceof RB){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Tae(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof qE){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await n._getAppCheckToken(),u=l?`#${Vue}=${encodeURIComponent(l)}`:"";return`${Hue(n)}?${HE(a).slice(1)}${u}`}function Hue({config:n}){return n.emulator?EB(n,Uue):`https://${n.authDomain}/${jue}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="webStorageSupport";class zue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i7,this._completeRedirectFn=pue,this._overrideRedirectResult=due}async _openPopup(e,t,r,i){var s;cd((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await $3(e,t,r,yL(),i);return Bue(e,o,IB())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await $3(e,t,r,yL(),i);return Gce(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(cd(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Due(e),r=new gue(e);return t.register("authEvent",i=>(ut(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(VP,{type:VP},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[VP];o!==void 0&&t(!!o),Aa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_ue(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return G8()||U8()||TB()}}const Wue=zue;var j3="@firebase/auth",U3="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class que{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gue(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yue(n){Ac(new _l("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ut(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y8(n)},u=new hce(r,i,s,l);return Sce(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ac(new _l("auth-internal",e=>{const t=bf(e.getProvider("auth").getImmediate());return(r=>new que(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ba(j3,U3,Gue(n)),ba(j3,U3,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kue=300,Xue=S8("authIdTokenMaxAge")||Kue;let V3=null;const Jue=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Xue)return;const i=t==null?void 0:t.token;V3!==i&&(V3=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Que(n=wB()){const e=tg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=_ce(n,{popupRedirectResolver:Wue,persistence:[nue,zce,i7]}),r=S8("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Jue(s.toString());jce(t,o,()=>o(t.currentUser)),$ce(t,a=>o(a))}}const i=b8("auth");return i&&Ece(t,`http://${i}`),t}function Zue(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}fce({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=wl("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",Zue().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yue("Browser");const h7="@firebase/installations",PB="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7=1e4,p7=`w:${PB}`,m7="FIS_v2",ede="https://firebaseinstallations.googleapis.com/v1",tde=3600*1e3,nde="installations",rde="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ide={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Bm=new eg(nde,rde,ide);function g7(n){return n instanceof Al&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7({projectId:n}){return`${ede}/projects/${n}/installations`}function v7(n){return{token:n.token,requestStatus:2,expiresIn:ode(n.expiresIn),creationTime:Date.now()}}async function w7(n,e){const r=(await e.json()).error;return Bm.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function b7({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function sde(n,{refreshToken:e}){const t=b7(n);return t.append("Authorization",ade(e)),t}async function _7(n){const e=await n();return e.status>=500&&e.status<600?n():e}function ode(n){return Number(n.replace("s","000"))}function ade(n){return`${m7} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lde({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=y7(n),i=b7(n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:t,authVersion:m7,appId:n.appId,sdkVersion:p7},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await _7(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||t,registrationStatus:2,refreshToken:u.refreshToken,authToken:v7(u.authToken)}}else throw await w7("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cde(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ude=/^[cdef][\w-]{21}$/,_L="";function dde(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=hde(n);return ude.test(t)?t:_L}catch{return _L}}function hde(n){return cde(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7=new Map;function C7(n,e){const t=RR(n);T7(t,e),fde(t,e)}function T7(n,e){const t=E7.get(n);if(t)for(const r of t)r(e)}function fde(n,e){const t=pde();t&&t.postMessage({key:n,fid:e}),mde()}let up=null;function pde(){return!up&&"BroadcastChannel"in self&&(up=new BroadcastChannel("[Firebase] FID Change"),up.onmessage=n=>{T7(n.data.key,n.data.fid)}),up}function mde(){E7.size===0&&up&&(up.close(),up=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gde="firebase-installations-database",yde=1,$m="firebase-installations-store";let HP=null;function DB(){return HP||(HP=R8(gde,yde,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore($m)}}})),HP}async function ex(n,e){const t=RR(n),i=(await DB()).transaction($m,"readwrite"),s=i.objectStore($m),o=await s.get(t);return await s.put(e,t),await i.done,(!o||o.fid!==e.fid)&&C7(n,e.fid),e}async function A7(n){const e=RR(n),r=(await DB()).transaction($m,"readwrite");await r.objectStore($m).delete(e),await r.done}async function IR(n,e){const t=RR(n),i=(await DB()).transaction($m,"readwrite"),s=i.objectStore($m),o=await s.get(t),a=e(o);return a===void 0?await s.delete(t):await s.put(a,t),await i.done,a&&(!o||o.fid!==a.fid)&&C7(n,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MB(n){let e;const t=await IR(n.appConfig,r=>{const i=vde(r),s=wde(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===_L?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function vde(n){const e=n||{fid:dde(),registrationStatus:0};return x7(e)}function wde(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Bm.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=bde(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:_de(n)}:{installationEntry:e}}async function bde(n,e){try{const t=await lde(n,e);return ex(n.appConfig,t)}catch(t){throw g7(t)&&t.customData.serverCode===409?await A7(n.appConfig):await ex(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function _de(n){let e=await H3(n.appConfig);for(;e.registrationStatus===1;)await S7(100),e=await H3(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await MB(n);return r||t}return e}function H3(n){return IR(n,e=>{if(!e)throw Bm.create("installation-not-found");return x7(e)})}function x7(n){return Sde(n)?{fid:n.fid,registrationStatus:0}:n}function Sde(n){return n.registrationStatus===1&&n.registrationTime+f7<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ede({appConfig:n,heartbeatServiceProvider:e},t){const r=Cde(n,t),i=sde(n,t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:p7,appId:n.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await _7(()=>fetch(r,a));if(l.ok){const u=await l.json();return v7(u)}else throw await w7("Generate Auth Token",l)}function Cde(n,{fid:e}){return`${y7(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OB(n,e=!1){let t;const r=await IR(n.appConfig,s=>{if(!R7(s))throw Bm.create("not-registered");const o=s.authToken;if(!e&&xde(o))return s;if(o.requestStatus===1)return t=Tde(n,e),s;{if(!navigator.onLine)throw Bm.create("app-offline");const a=Ide(s);return t=Ade(n,a),a}});return t?await t:r.authToken}async function Tde(n,e){let t=await z3(n.appConfig);for(;t.authToken.requestStatus===1;)await S7(100),t=await z3(n.appConfig);const r=t.authToken;return r.requestStatus===0?OB(n,e):r}function z3(n){return IR(n,e=>{if(!R7(e))throw Bm.create("not-registered");const t=e.authToken;return kde(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Ade(n,e){try{const t=await Ede(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await ex(n.appConfig,r),t}catch(t){if(g7(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await A7(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ex(n.appConfig,r)}throw t}}function R7(n){return n!==void 0&&n.registrationStatus===2}function xde(n){return n.requestStatus===2&&!Rde(n)}function Rde(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+tde}function Ide(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function kde(n){return n.requestStatus===1&&n.requestTime+f7<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pde(n){const e=n,{installationEntry:t,registrationPromise:r}=await MB(e);return r?r.catch(console.error):OB(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dde(n,e=!1){const t=n;return await Mde(t),(await OB(t,e)).token}async function Mde(n){const{registrationPromise:e}=await MB(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ode(n){if(!n||!n.options)throw zP("App Configuration");if(!n.name)throw zP("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw zP(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function zP(n){return Bm.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7="installations",Lde="installations-internal",Fde=n=>{const e=n.getProvider("app").getImmediate(),t=Ode(e),r=tg(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Nde=n=>{const e=n.getProvider("app").getImmediate(),t=tg(e,I7).getImmediate();return{getId:()=>Pde(t),getToken:i=>Dde(t,i)}};function Bde(){Ac(new _l(I7,Fde,"PUBLIC")),Ac(new _l(Lde,Nde,"PRIVATE"))}Bde();ba(h7,PB);ba(h7,PB,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="analytics",$de="firebase_id",jde="origin",Ude=60*1e3,Vde="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",LB="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new CR("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hde={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},No=new eg("analytics","Analytics",Hde);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zde(n){if(!n.startsWith(LB)){const e=No.create("invalid-gtag-resource",{gtagURL:n});return Ys.warn(e.message),""}return n}function k7(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Wde(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function qde(n,e){const t=Wde("firebase-js-sdk-policy",{createScriptURL:zde}),r=document.createElement("script"),i=`${LB}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Gde(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Yde(n,e,t,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await k7(t)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Ys.error(a)}n("config",i,s)}async function Kde(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await k7(t);for(const l of o){const u=a.find(p=>p.measurementId===l),h=u&&e[u.appId];if(h)s.push(h);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",r,i||{})}catch(s){Ys.error(s)}}function Xde(n,e,t,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await Kde(n,e,t,a,l)}else if(s==="config"){const[a,l]=o;await Yde(n,e,t,r,a,l)}else if(s==="consent"){const[a,l]=o;n("consent",a,l)}else if(s==="get"){const[a,l,u]=o;n("get",a,l,u)}else if(s==="set"){const[a]=o;n("set",a)}else n(s,...o)}catch(a){Ys.error(a)}}return i}function Jde(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Xde(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}function Qde(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(LB)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zde=30,ehe=1e3;class the{constructor(e={},t=ehe){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const P7=new the;function nhe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function rhe(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:nhe(r)},s=Vde.replace("{app-id}",t),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw No.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function ihe(n,e=P7,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw No.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw No.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ahe;return setTimeout(async()=>{a.abort()},Ude),D7({appId:r,apiKey:i,measurementId:s},o,a,e)}async function D7(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=P7){var s;const{appId:o,measurementId:a}=n;try{await she(r,e)}catch(l){if(a)return Ys.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await rhe(n);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!ohe(u)){if(i.deleteThrottleMetadata(o),a)return Ys.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const h=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?m3(t,i.intervalMillis,Zde):m3(t,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:t+1};return i.setThrottleMetadata(o,p),Ys.debug(`Calling attemptFetch again in ${h} millis`),D7(n,p,r,i)}}function she(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(No.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ohe(n){if(!(n instanceof Al)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class ahe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function lhe(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});n("event",t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function che(){if(C8())try{await T8()}catch(n){return Ys.warn(No.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Ys.warn(No.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function uhe(n,e,t,r,i,s,o){var a;const l=ihe(n);l.then(y=>{t[y.measurementId]=y.appId,n.options.measurementId&&y.measurementId!==n.options.measurementId&&Ys.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Ys.error(y)),e.push(l);const u=che().then(y=>{if(y)return r.getId()}),[h,p]=await Promise.all([l,u]);Qde(s)||qde(s,h.measurementId),i("js",new Date);const m=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return m[jde]="firebase",m.update=!0,p!=null&&(m[$de]=p),i("config",h.measurementId,m),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dhe{constructor(e){this.app=e}_delete(){return delete Hb[this.app.options.appId],Promise.resolve()}}let Hb={},W3=[];const q3={};let WP="dataLayer",hhe="gtag",G3,M7,Y3=!1;function fhe(){const n=[];if(E8()&&n.push("This is a browser extension environment."),_ae()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=No.create("invalid-analytics-context",{errorInfo:e});Ys.warn(t.message)}}function phe(n,e,t){fhe();const r=n.options.appId;if(!r)throw No.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Ys.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw No.create("no-api-key");if(Hb[r]!=null)throw No.create("already-exists",{id:r});if(!Y3){Gde(WP);const{wrappedGtag:s,gtagCore:o}=Jde(Hb,W3,q3,WP,hhe);M7=s,G3=o,Y3=!0}return Hb[r]=uhe(n,W3,q3,e,G3,WP,t),new dhe(n)}function mhe(n=wB()){n=Cs(n);const e=tg(n,tx);return e.isInitialized()?e.getImmediate():ghe(n)}function ghe(n,e={}){const t=tg(n,tx);if(t.isInitialized()){const i=t.getImmediate();if(sf(e,t.getOptions()))return i;throw No.create("already-initialized")}return t.initialize({options:e})}function yhe(n,e,t,r){n=Cs(n),lhe(M7,Hb[n.app.options.appId],e,t,r).catch(i=>Ys.error(i))}const K3="@firebase/analytics",X3="0.10.12";function vhe(){Ac(new _l(tx,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return phe(r,i,t)},"PUBLIC")),Ac(new _l("analytics-internal",n,"PRIVATE")),ba(K3,X3),ba(K3,X3,"esm2017");function n(e){try{const t=e.getProvider(tx).getImmediate();return{logEvent:(r,i,s)=>yhe(t,r,i,s)}}catch(t){throw No.create("interop-component-reg-failed",{reason:t})}}}vhe();var whe="firebase",bhe="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ba(whe,bhe,"app");const _he={apiKey:"AIzaSyApLZqqKvPiH6Wsb7Bw7MLLBhAY6cM9QUE",authDomain:"oregano-e2f9a.firebaseapp.com",projectId:"oregano-e2f9a",storageBucket:"oregano-e2f9a.firebasestorage.app",messagingSenderId:"933042277427",appId:"1:933042277427:web:411a5233d90f4021d1a746",measurementId:"G-0K90E47D14"},FB=I8(_he);mhe(FB);const YE=Que(FB),She=new Wu,Ehe=async()=>aue(YE,She),Che=async(n,e)=>{try{await Bce(YE,n,e)}catch(t){return console.log(t),O7(t)}},The=async(n,e)=>{try{await Nce(YE,n,e)}catch(t){return console.log(t),O7(t)}},O7=n=>n.code==ey.INVALID_PASSWORD?{field:"password",message:"Invalid Password"}:n.code==ey.INVALID_EMAIL?{field:"email",message:"Invalid Email"}:n.code==ey.EMAIL_EXISTS?{field:"email",message:"Email already in use"}:n.code==ey.NETWORK_REQUEST_FAILED?{field:"",message:"Network error, try again later"}:n.code==ey.TOO_MANY_ATTEMPTS_TRY_LATER?{field:"",message:"Too many attempts, try again later"}:n.code==ey.WEAK_PASSWORD?{field:"password",message:"Password is too weak"}:{field:"",message:n.message},Ahe=async()=>{Uce(YE)},KE=()=>{const[n,e]=$.useState(null);return $.useEffect(()=>{const t=YE.onAuthStateChanged(r=>{e(r)});return()=>t()},[]),{currentUser:n}};function xhe(n){return M.jsx(aie,{...n,defaultTheme:dB,themeId:vl})}function Rhe(n){return function(t){return M.jsx(xhe,{styles:typeof n=="function"?r=>n({theme:r,...t}):n})}}function Ihe(){return xG}const Ut=Vie;function Vt(n){return Uie(n)}function khe(n){return typeof n.main=="string"}function Phe(n,e=[]){if(!khe(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function Ks(n=[]){return([,e])=>e&&Phe(e,n)}function Dhe(n){return Ot("MuiTypography",n)}const J3=kt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),Mhe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Ohe=Ihe(),Lhe=n=>{const{align:e,gutterBottom:t,noWrap:r,paragraph:i,variant:s,classes:o}=n,a={root:["root",s,n.align!=="inherit"&&`align${Be(e)}`,t&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Lt(a,Dhe,o)},Fhe=Pe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${Be(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(Ut(({theme:n})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([t,r])=>t!=="inherit"&&r&&typeof r=="object").map(([t,r])=>({props:{variant:t},style:r})),...Object.entries(n.palette).filter(Ks()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(((e=n.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${Be(t)}`},style:{color:(n.vars||n).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),Q3={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ne=$.forwardRef(function(e,t){const{color:r,...i}=Vt({props:e,name:"MuiTypography"}),s=!Mhe[r],o=Ohe({...i,...s&&{color:r}}),{align:a="inherit",className:l,component:u,gutterBottom:h=!1,noWrap:p=!1,paragraph:m=!1,variant:y="body1",variantMapping:b=Q3,...w}=o,_={...o,align:a,color:r,className:l,component:u,gutterBottom:h,noWrap:p,paragraph:m,variant:y,variantMapping:b},E=u||(m?"p":b[y]||Q3[y])||"span",T=Lhe(_);return M.jsx(Fhe,{as:E,ref:t,className:nt(T.root,l),...w,ownerState:_,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...w.style}})}),Uw={subtitle:{color:"#797979",marginBottom:"-8px"},title:{fontSize:"1.9rem",color:"#3E753B"},container:{display:"flex",flexDirection:"row",gap:1.5,alignItems:"center",flexShrink:0},logo:{height:"44px",flexShrink:0},words:{flexShrink:0}},L7="/assets/OreganoLogo-BNopk5K4.svg",Nhe=()=>{const n=L0();return M.jsxs(Ee,{sx:{...Uw.container,cursor:"pointer"},onClick:()=>n("/"),children:[M.jsx(Ee,{sx:Uw.logo,component:"img",src:L7}),M.jsxs(Ee,{sx:Uw.words,children:[M.jsx(Ne,{sx:Uw.subtitle,variant:"body2",children:"stay in the know"}),M.jsx(Ne,{sx:Uw.title,variant:"h1",children:"oregano"})]})]})},QC={container:{display:"flex",flexDirection:"row",justifyContent:"space-between"},rightSection:{display:"flex",flexDirection:"row",gap:2,alignItems:"center"},logout:{display:"flex",flexDirection:"row",gap:2,alignItems:"center"},emailText:{color:"rgba(0, 0, 0, 0.6)"}};function Bhe(n){return Ot("MuiSvgIcon",n)}kt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const $he=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Be(e)}`,`fontSize${Be(t)}`]};return Lt(i,Bhe,r)},jhe=Pe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Be(t.color)}`],e[`fontSize${Be(t.fontSize)}`]]}})(Ut(({theme:n})=>{var e,t,r,i,s,o,a,l,u,h,p,m,y,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:w=>!w.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=n.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=n.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(u=n.typography)==null?void 0:u.pxToRem)==null?void 0:h.call(u,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,w])=>w&&w.main).map(([w])=>{var _,E;return{props:{color:w},style:{color:(E=(_=(n.vars??n).palette)==null?void 0:_[w])==null?void 0:E.main}}}),{props:{color:"action"},style:{color:(m=(p=(n.vars??n).palette)==null?void 0:p.action)==null?void 0:m.active}},{props:{color:"disabled"},style:{color:(b=(y=(n.vars??n).palette)==null?void 0:y.action)==null?void 0:b.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),SL=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:h=!1,titleAccess:p,viewBox:m="0 0 24 24",...y}=r,b=$.isValidElement(i)&&i.type==="svg",w={...r,color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:m,hasSvgAsChild:b},_={};h||(_.viewBox=m);const E=$he(w);return M.jsxs(jhe,{as:a,className:nt(E.root,s),focusable:"false",color:u,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:t,..._,...y,...b&&i.props,ownerState:w,children:[b?i.props.children:i,p?M.jsx("title",{children:p}):null]})});SL.muiName="SvgIcon";function Gr(n,e){function t(r,i){return M.jsx(SL,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=SL.muiName,$.memo($.forwardRef(t))}class nx{constructor(){_e(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new nx}static use(){const e=FG(nx.create).current,[t,r]=$.useState(!1);return e.shouldMount=t,e.setShouldMount=r,$.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=Vhe(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function Uhe(){return nx.use()}function Vhe(){let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t}function B0(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function rx(n,e){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},rx(n,e)}function NB(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,rx(n,e)}function Hhe(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function zhe(n,e){n.classList?n.classList.add(e):Hhe(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function Z3(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Whe(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=Z3(n.className,e):n.setAttribute("class",Z3(n.className&&n.className.baseVal||"",e))}const e5={disabled:!1},ix=ie.createContext(null);var qhe=function(e){return e.scrollTop},hb="unmounted",Zf="exited",ep="entering",oy="entered",EL="exiting",xl=(function(n){NB(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Zf,s.appearStatus=ep):l=oy:r.unmountOnExit||r.mountOnEnter?l=hb:l=Zf,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===hb?{status:Zf}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==ep&&o!==oy&&(s=ep):(o===ep||o===oy)&&(s=EL)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},t.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===ep){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:_y.findDOMNode(this);o&&qhe(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Zf&&this.setState({status:hb})},t.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[_y.findDOMNode(this),a],u=l[0],h=l[1],p=this.getTimeouts(),m=a?p.appear:p.enter;if(!i&&!o||e5.disabled){this.safeSetState({status:oy},function(){s.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:ep},function(){s.props.onEntering(u,h),s.onTransitionEnd(m,function(){s.safeSetState({status:oy},function(){s.props.onEntered(u,h)})})})},t.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:_y.findDOMNode(this);if(!s||e5.disabled){this.safeSetState({status:Zf},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:EL},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Zf},function(){i.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},t.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:_y.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],h=l[1];this.props.addEndListener(u,h)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===hb)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=B0(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ie.createElement(ix.Provider,{value:null},typeof o=="function"?o(i,a):ie.cloneElement(ie.Children.only(o),a))},e})(ie.Component);xl.contextType=ix;xl.propTypes={};function ty(){}xl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ty,onEntering:ty,onEntered:ty,onExit:ty,onExiting:ty,onExited:ty};xl.UNMOUNTED=hb;xl.EXITED=Zf;xl.ENTERING=ep;xl.ENTERED=oy;xl.EXITING=EL;function F7(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function BB(n,e){var t=function(s){return e&&$.isValidElement(s)?e(s):s},r=Object.create(null);return n&&$.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function Ghe(n,e){n=n||{},e=e||{};function t(h){return h in e?e[h]:n[h]}var r=Object.create(null),i=[];for(var s in n)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=t(u)}a[l]=t(l)}for(o=0;o<i.length;o++)a[i[o]]=t(i[o]);return a}function dp(n,e,t){return t[e]!=null?t[e]:n.props[e]}function Yhe(n,e){return BB(n.children,function(t){return $.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:dp(t,"appear",n),enter:dp(t,"enter",n),exit:dp(t,"exit",n)})})}function Khe(n,e,t){var r=BB(n.children),i=Ghe(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if($.isValidElement(o)){var a=s in e,l=s in r,u=e[s],h=$.isValidElement(u)&&!u.props.in;l&&(!a||h)?i[s]=$.cloneElement(o,{onExited:t.bind(null,o),in:!0,exit:dp(o,"exit",n),enter:dp(o,"enter",n)}):!l&&a&&!h?i[s]=$.cloneElement(o,{in:!1}):l&&a&&$.isValidElement(u)&&(i[s]=$.cloneElement(o,{onExited:t.bind(null,o),in:u.props.in,exit:dp(o,"exit",n),enter:dp(o,"enter",n)}))}}),i}var Xhe=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},Jhe={component:"div",childFactory:function(e){return e}},$B=(function(n){NB(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=s.handleExited.bind(F7(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?Yhe(i,a):Khe(i,o,a),firstRender:!1}},t.handleExited=function(i,s){var o=BB(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=ar({},a.children);return delete l[i.key],{children:l}}))},t.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=B0(i,["component","childFactory"]),l=this.state.contextValue,u=Xhe(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?ie.createElement(ix.Provider,{value:l},u):ie.createElement(ix.Provider,{value:l},ie.createElement(s,a,u))},e})(ie.Component);$B.propTypes={};$B.defaultProps=Jhe;function Qhe(n){const{className:e,classes:t,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=n,[h,p]=$.useState(!1),m=nt(e,t.ripple,t.rippleVisible,r&&t.ripplePulsate),y={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},b=nt(t.child,h&&t.childLeaving,r&&t.childPulsate);return!a&&!h&&p(!0),$.useEffect(()=>{if(!a&&l!=null){const w=setTimeout(l,u);return()=>{clearTimeout(w)}}},[l,a,u]),M.jsx("span",{className:m,style:y,children:M.jsx("span",{className:b})})}const fa=kt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),CL=550,Zhe=80,efe=FE`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,tfe=FE`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,nfe=FE`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,rfe=Pe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),ife=Pe(Qhe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${fa.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${efe};
    animation-duration: ${CL}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${fa.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${fa.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${fa.childLeaving} {
    opacity: 0;
    animation-name: ${tfe};
    animation-duration: ${CL}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${fa.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${nfe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,sfe=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o,...a}=r,[l,u]=$.useState([]),h=$.useRef(0),p=$.useRef(null);$.useEffect(()=>{p.current&&(p.current(),p.current=null)},[l]);const m=$.useRef(!1),y=lp(),b=$.useRef(null),w=$.useRef(null),_=$.useCallback(x=>{const{pulsate:I,rippleX:F,rippleY:k,rippleSize:L,cb:N}=x;u(A=>[...A,M.jsx(ife,{classes:{ripple:nt(s.ripple,fa.ripple),rippleVisible:nt(s.rippleVisible,fa.rippleVisible),ripplePulsate:nt(s.ripplePulsate,fa.ripplePulsate),child:nt(s.child,fa.child),childLeaving:nt(s.childLeaving,fa.childLeaving),childPulsate:nt(s.childPulsate,fa.childPulsate)},timeout:CL,pulsate:I,rippleX:F,rippleY:k,rippleSize:L},h.current)]),h.current+=1,p.current=N},[s]),E=$.useCallback((x={},I={},F=()=>{})=>{const{pulsate:k=!1,center:L=i||I.pulsate,fakeElement:N=!1}=I;if((x==null?void 0:x.type)==="mousedown"&&m.current){m.current=!1;return}(x==null?void 0:x.type)==="touchstart"&&(m.current=!0);const A=N?null:w.current,B=A?A.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,U,Q;if(L||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)z=Math.round(B.width/2),U=Math.round(B.height/2);else{const{clientX:te,clientY:X}=x.touches&&x.touches.length>0?x.touches[0]:x;z=Math.round(te-B.left),U=Math.round(X-B.top)}if(L)Q=Math.sqrt((2*B.width**2+B.height**2)/3),Q%2===0&&(Q+=1);else{const te=Math.max(Math.abs((A?A.clientWidth:0)-z),z)*2+2,X=Math.max(Math.abs((A?A.clientHeight:0)-U),U)*2+2;Q=Math.sqrt(te**2+X**2)}x!=null&&x.touches?b.current===null&&(b.current=()=>{_({pulsate:k,rippleX:z,rippleY:U,rippleSize:Q,cb:F})},y.start(Zhe,()=>{b.current&&(b.current(),b.current=null)})):_({pulsate:k,rippleX:z,rippleY:U,rippleSize:Q,cb:F})},[i,_,y]),T=$.useCallback(()=>{E({},{pulsate:!0})},[E]),C=$.useCallback((x,I)=>{if(y.clear(),(x==null?void 0:x.type)==="touchend"&&b.current){b.current(),b.current=null,y.start(0,()=>{C(x,I)});return}b.current=null,u(F=>F.length>0?F.slice(1):F),p.current=I},[y]);return $.useImperativeHandle(t,()=>({pulsate:T,start:E,stop:C}),[T,E,C]),M.jsx(rfe,{className:nt(fa.root,s.root,o),ref:w,...a,children:M.jsx($B,{component:null,exit:!0,children:l})})});function ofe(n){return Ot("MuiButtonBase",n)}const afe=kt("MuiButtonBase",["root","disabled","focusVisible"]),lfe=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:r,classes:i}=n,o=Lt({root:["root",e&&"disabled",t&&"focusVisible"]},ofe,i);return t&&r&&(o.root+=` ${r}`),o},cfe=Pe("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${afe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),kR=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:m=!1,focusVisibleClassName:y,LinkComponent:b="a",onBlur:w,onClick:_,onContextMenu:E,onDragLeave:T,onFocus:C,onFocusVisible:x,onKeyDown:I,onKeyUp:F,onMouseDown:k,onMouseLeave:L,onMouseUp:N,onTouchEnd:A,onTouchMove:B,onTouchStart:z,tabIndex:U=0,TouchRippleProps:Q,touchRippleRef:te,type:X,...ne}=r,J=$.useRef(null),se=Uhe(),de=Ir(se.ref,te),[q,Y]=$.useState(!1);u&&q&&Y(!1),$.useImperativeHandle(i,()=>({focusVisible:()=>{Y(!0),J.current.focus()}}),[]);const Z=se.shouldMount&&!h&&!u;$.useEffect(()=>{q&&m&&!h&&se.pulsate()},[h,m,q,se]);const le=eu(se,"start",k,p),ce=eu(se,"stop",E,p),ve=eu(se,"stop",T,p),ye=eu(se,"stop",N,p),xe=eu(se,"stop",Me=>{q&&Me.preventDefault(),L&&L(Me)},p),Oe=eu(se,"start",z,p),ke=eu(se,"stop",A,p),Xe=eu(se,"stop",B,p),je=eu(se,"stop",Me=>{p0(Me.target)||Y(!1),w&&w(Me)},!1),dt=yl(Me=>{J.current||(J.current=Me.currentTarget),p0(Me.target)&&(Y(!0),x&&x(Me)),C&&C(Me)}),Ye=()=>{const Me=J.current;return l&&l!=="button"&&!(Me.tagName==="A"&&Me.href)},Ue=yl(Me=>{m&&!Me.repeat&&q&&Me.key===" "&&se.stop(Me,()=>{se.start(Me)}),Me.target===Me.currentTarget&&Ye()&&Me.key===" "&&Me.preventDefault(),I&&I(Me),Me.target===Me.currentTarget&&Ye()&&Me.key==="Enter"&&!u&&(Me.preventDefault(),_&&_(Me))}),Jt=yl(Me=>{m&&Me.key===" "&&q&&!Me.defaultPrevented&&se.stop(Me,()=>{se.pulsate(Me)}),F&&F(Me),_&&Me.target===Me.currentTarget&&Ye()&&Me.key===" "&&!Me.defaultPrevented&&_(Me)});let Fe=l;Fe==="button"&&(ne.href||ne.to)&&(Fe=b);const wt={};Fe==="button"?(wt.type=X===void 0?"button":X,wt.disabled=u):(!ne.href&&!ne.to&&(wt.role="button"),u&&(wt["aria-disabled"]=u));const Ft=Ir(t,J),It={...r,centerRipple:s,component:l,disabled:u,disableRipple:h,disableTouchRipple:p,focusRipple:m,tabIndex:U,focusVisible:q},pt=lfe(It);return M.jsxs(cfe,{as:Fe,className:nt(pt.root,a),ownerState:It,onBlur:je,onClick:_,onContextMenu:ce,onFocus:dt,onKeyDown:Ue,onKeyUp:Jt,onMouseDown:le,onMouseLeave:xe,onMouseUp:ye,onDragLeave:ve,onTouchEnd:ke,onTouchMove:Xe,onTouchStart:Oe,ref:Ft,tabIndex:u?-1:U,type:X,...wt,...ne,children:[o,Z?M.jsx(sfe,{ref:de,center:s,...Q}):null]})});function eu(n,e,t,r=!1){return yl(i=>(t&&t(i),r||n[e](i),!0))}function ufe(n){return Ot("MuiCircularProgress",n)}kt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Gd=44,TL=FE`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,AL=FE`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,dfe=typeof TL!="string"?JN`
        animation: ${TL} 1.4s linear infinite;
      `:null,hfe=typeof AL!="string"?JN`
        animation: ${AL} 1.4s ease-in-out infinite;
      `:null,ffe=n=>{const{classes:e,variant:t,color:r,disableShrink:i}=n,s={root:["root",t,`color${Be(r)}`],svg:["svg"],circle:["circle",`circle${Be(t)}`,i&&"circleDisableShrink"]};return Lt(s,ufe,e)},pfe=Pe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${Be(t.color)}`]]}})(Ut(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:dfe||{animation:`${TL} 1.4s linear infinite`}},...Object.entries(n.palette).filter(Ks()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),mfe=Pe("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(n,e)=>e.svg})({display:"block"}),gfe=Pe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${Be(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(Ut(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:hfe||{animation:`${AL} 1.4s ease-in-out infinite`}}]}))),PR=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:h=0,variant:p="indeterminate",...m}=r,y={...r,color:s,disableShrink:o,size:a,thickness:u,value:h,variant:p},b=ffe(y),w={},_={},E={};if(p==="determinate"){const T=2*Math.PI*((Gd-u)/2);w.strokeDasharray=T.toFixed(3),E["aria-valuenow"]=Math.round(h),w.strokeDashoffset=`${((100-h)/100*T).toFixed(3)}px`,_.transform="rotate(-90deg)"}return M.jsx(pfe,{className:nt(b.root,i),style:{width:a,height:a,..._,...l},ownerState:y,ref:t,role:"progressbar",...E,...m,children:M.jsx(mfe,{className:b.svg,ownerState:y,viewBox:`${Gd/2} ${Gd/2} ${Gd} ${Gd}`,children:M.jsx(gfe,{className:b.circle,style:w,ownerState:y,cx:Gd,cy:Gd,r:(Gd-u)/2,fill:"none",strokeWidth:u})})})});function yfe(n){return Ot("MuiButton",n)}const Yf=kt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),vfe=$.createContext({}),wfe=$.createContext(void 0),bfe=n=>{const{color:e,disableElevation:t,fullWidth:r,size:i,variant:s,loading:o,loadingPosition:a,classes:l}=n,u={root:["root",o&&"loading",s,`${s}${Be(e)}`,`size${Be(i)}`,`${s}Size${Be(i)}`,`color${Be(e)}`,t&&"disableElevation",r&&"fullWidth",o&&`loadingPosition${Be(a)}`],startIcon:["icon","startIcon",`iconSize${Be(i)}`],endIcon:["icon","endIcon",`iconSize${Be(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=Lt(u,yfe,l);return{...l,...h}},N7=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],_fe=Pe(kR,{shouldForwardProp:n=>jo(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${Be(t.color)}`],e[`size${Be(t.size)}`],e[`${t.variant}Size${Be(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth,t.loading&&e.loading]}})(Ut(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Yf.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${Yf.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${Yf.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Yf.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(Ks()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(n.vars||n).palette[r].main,"--variant-outlinedColor":(n.vars||n).palette[r].main,"--variant-outlinedBorder":n.vars?`rgba(${n.vars.palette[r].mainChannel} / 0.5)`:Fn(n.palette[r].main,.5),"--variant-containedColor":(n.vars||n).palette[r].contrastText,"--variant-containedBg":(n.vars||n).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[r].dark,"--variant-textBg":n.vars?`rgba(${n.vars.palette[r].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Fn(n.palette[r].main,n.palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[r].main,"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette[r].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Fn(n.palette[r].main,n.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Fn(n.palette.text.primary,n.palette.action.hoverOpacity),"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Fn(n.palette.text.primary,n.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Yf.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Yf.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${Yf.loading}`]:{color:"transparent"}}}]}})),Sfe=Pe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,t.loading&&e.startIconLoadingStart,e[`iconSize${Be(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...N7]})),Efe=Pe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,t.loading&&e.endIconLoadingEnd,e[`iconSize${Be(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...N7]})),Cfe=Pe("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(n,e)=>e.loadingIndicator})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),t5=Pe("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(n,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Wr=$.forwardRef(function(e,t){const r=$.useContext(vfe),i=$.useContext(wfe),s=f0(r,e),o=Vt({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:h,disabled:p=!1,disableElevation:m=!1,disableFocusRipple:y=!1,endIcon:b,focusVisibleClassName:w,fullWidth:_=!1,id:E,loading:T=null,loadingIndicator:C,loadingPosition:x="center",size:I="medium",startIcon:F,type:k,variant:L="text",...N}=o,A=M0(E),B=C??M.jsx(PR,{"aria-labelledby":A,color:"inherit",size:16}),z={...o,color:l,component:u,disabled:p,disableElevation:m,disableFocusRipple:y,fullWidth:_,loading:T,loadingIndicator:B,loadingPosition:x,size:I,type:k,variant:L},U=bfe(z),Q=(F||T&&x==="start")&&M.jsx(Sfe,{className:U.startIcon,ownerState:z,children:F||M.jsx(t5,{className:U.loadingIconPlaceholder,ownerState:z})}),te=(b||T&&x==="end")&&M.jsx(Efe,{className:U.endIcon,ownerState:z,children:b||M.jsx(t5,{className:U.loadingIconPlaceholder,ownerState:z})}),X=i||"",ne=typeof T=="boolean"?M.jsx("span",{className:U.loadingWrapper,style:{display:"contents"},children:T&&M.jsx(Cfe,{className:U.loadingIndicator,ownerState:z,children:B})}):null;return M.jsxs(_fe,{ownerState:z,className:nt(r.className,U.root,h,X),component:u,disabled:p||T,focusRipple:!y,focusVisibleClassName:nt(U.focusVisible,w),ref:t,type:k,id:T?A:E,...N,classes:U,children:[Q,x!=="end"&&ne,a,x==="end"&&ne,te]})});function xL(n){return typeof n=="string"}const jB=n=>n.scrollTop;function m0(n,e){const{timeout:t,easing:r,style:i={}}=n;return{duration:i.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function RL(n){return`scale(${n}, ${n**2})`}const Tfe={entering:{opacity:1,transform:RL(1)},entered:{opacity:1,transform:"none"}},qP=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),f_=$.forwardRef(function(e,t){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:h,onExit:p,onExited:m,onExiting:y,style:b,timeout:w="auto",TransitionComponent:_=xl,...E}=e,T=lp(),C=$.useRef(),x=Da(),I=$.useRef(null),F=Ir(I,gf(s),t),k=te=>X=>{if(te){const ne=I.current;X===void 0?te(ne):te(ne,X)}},L=k(h),N=k((te,X)=>{jB(te);const{duration:ne,delay:J,easing:se}=m0({style:b,timeout:w,easing:o},{mode:"enter"});let de;w==="auto"?(de=x.transitions.getAutoHeightDuration(te.clientHeight),C.current=de):de=ne,te.style.transition=[x.transitions.create("opacity",{duration:de,delay:J}),x.transitions.create("transform",{duration:qP?de:de*.666,delay:J,easing:se})].join(","),l&&l(te,X)}),A=k(u),B=k(y),z=k(te=>{const{duration:X,delay:ne,easing:J}=m0({style:b,timeout:w,easing:o},{mode:"exit"});let se;w==="auto"?(se=x.transitions.getAutoHeightDuration(te.clientHeight),C.current=se):se=X,te.style.transition=[x.transitions.create("opacity",{duration:se,delay:ne}),x.transitions.create("transform",{duration:qP?se:se*.666,delay:qP?ne:ne||se*.333,easing:J})].join(","),te.style.opacity=0,te.style.transform=RL(.75),p&&p(te)}),U=k(m),Q=te=>{w==="auto"&&T.start(C.current||0,te),r&&r(I.current,te)};return M.jsx(_,{appear:i,in:a,nodeRef:I,onEnter:N,onEntered:A,onEntering:L,onExit:z,onExited:U,onExiting:B,addEndListener:Q,timeout:w==="auto"?null:w,...E,children:(te,{ownerState:X,...ne})=>$.cloneElement(s,{style:{opacity:0,transform:RL(.75),visibility:te==="exited"&&!a?"hidden":void 0,...Tfe[te],...b,...s.props.style},ref:F,...ne})})});f_&&(f_.muiSupportAuto=!0);function Afe(n){const e=ss(n);return e.body===n?bl(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function zb(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function n5(n){return parseInt(bl(n).getComputedStyle(n).paddingRight,10)||0}function xfe(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),r=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||r}function r5(n,e,t,r,i){const s=[e,t,...r];[].forEach.call(n.children,o=>{const a=!s.includes(o),l=!xfe(o);a&&l&&zb(o,i)})}function GP(n,e){let t=-1;return n.some((r,i)=>e(r)?(t=i,!0):!1),t}function Rfe(n,e){const t=[],r=n.container;if(!e.disableScrollLock){if(Afe(r)){const o=NG(bl(r));t.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${n5(r)+o}px`;const a=ss(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{t.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${n5(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=ss(r).body;else{const o=r.parentElement,a=bl(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}t.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{t.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function Ife(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class kfe{constructor(){this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&zb(e.modalRef,!1);const i=Ife(t);r5(t,e.mount,e.modalRef,i,!0);const s=GP(this.containers,o=>o.container===t);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),r)}mount(e,t){const r=GP(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=Rfe(i,t))}remove(e,t=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=GP(this.containers,o=>o.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&zb(e.modalRef,t),r5(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&zb(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Pfe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Dfe(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function Mfe(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=r=>n.ownerDocument.querySelector(`input[type="radio"]${r}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function Ofe(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||Mfe(n))}function Lfe(n){const e=[],t=[];return Array.from(n.querySelectorAll(Pfe)).forEach((r,i)=>{const s=Dfe(r);s===-1||!Ofe(r)||(s===0?e.push(r):t.push({documentOrder:i,tabIndex:s,node:r}))}),t.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function Ffe(){return!0}function Nfe(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=Lfe,isEnabled:o=Ffe,open:a}=n,l=$.useRef(!1),u=$.useRef(null),h=$.useRef(null),p=$.useRef(null),m=$.useRef(null),y=$.useRef(!1),b=$.useRef(null),w=Ir(gf(e),b),_=$.useRef(null);$.useEffect(()=>{!a||!b.current||(y.current=!t)},[t,a]),$.useEffect(()=>{if(!a||!b.current)return;const C=ss(b.current);return b.current.contains(C.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex","-1"),y.current&&b.current.focus()),()=>{i||(p.current&&p.current.focus&&(l.current=!0,p.current.focus()),p.current=null)}},[a]),$.useEffect(()=>{if(!a||!b.current)return;const C=ss(b.current),x=k=>{_.current=k,!(r||!o()||k.key!=="Tab")&&C.activeElement===b.current&&k.shiftKey&&(l.current=!0,h.current&&h.current.focus())},I=()=>{var N,A;const k=b.current;if(k===null)return;if(!C.hasFocus()||!o()||l.current){l.current=!1;return}if(k.contains(C.activeElement)||r&&C.activeElement!==u.current&&C.activeElement!==h.current)return;if(C.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!y.current)return;let L=[];if((C.activeElement===u.current||C.activeElement===h.current)&&(L=s(b.current)),L.length>0){const B=!!((N=_.current)!=null&&N.shiftKey&&((A=_.current)==null?void 0:A.key)==="Tab"),z=L[0],U=L[L.length-1];typeof z!="string"&&typeof U!="string"&&(B?U.focus():z.focus())}else k.focus()};C.addEventListener("focusin",I),C.addEventListener("keydown",x,!0);const F=setInterval(()=>{C.activeElement&&C.activeElement.tagName==="BODY"&&I()},50);return()=>{clearInterval(F),C.removeEventListener("focusin",I),C.removeEventListener("keydown",x,!0)}},[t,r,i,o,a,s]);const E=C=>{p.current===null&&(p.current=C.relatedTarget),y.current=!0,m.current=C.target;const x=e.props.onFocus;x&&x(C)},T=C=>{p.current===null&&(p.current=C.relatedTarget),y.current=!0};return M.jsxs($.Fragment,{children:[M.jsx("div",{tabIndex:a?0:-1,onFocus:T,ref:u,"data-testid":"sentinelStart"}),$.cloneElement(e,{ref:w,onFocus:E}),M.jsx("div",{tabIndex:a?0:-1,onFocus:T,ref:h,"data-testid":"sentinelEnd"})]})}function Bfe(n){return typeof n=="function"?n():n}const B7=$.forwardRef(function(e,t){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=$.useState(null),l=Ir($.isValidElement(r)?gf(r):null,t);if(Ca(()=>{s||a(Bfe(i)||document.body)},[i,s]),Ca(()=>{if(o&&!s)return oL(t,o),()=>{oL(t,null)}},[t,o,s]),s){if($.isValidElement(r)){const u={ref:l};return $.cloneElement(r,u)}return r}return o&&g8.createPortal(r,o)});function Rn(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:o,shouldForwardComponentProp:a=!1,...l}=e,{component:u,slots:h={[n]:void 0},slotProps:p={[n]:void 0},...m}=s,y=h[n]||r,b=jG(p[n],i),{props:{component:w,..._},internalRef:E}=$G({className:t,...l,externalForwardedProps:n==="root"?m:void 0,externalSlotProps:b}),T=Ir(E,b==null?void 0:b.ref,e.ref),C=n==="root"?w||u:w,x=BG(y,{...n==="root"&&!u&&!h[n]&&o,...n!=="root"&&!h[n]&&o,..._,...C&&!a&&{as:C},...C&&a&&{component:C},ref:T},i);return[y,x]}const $fe={entering:{opacity:1},entered:{opacity:1}},IL=$.forwardRef(function(e,t){const r=Da(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:h,onEntered:p,onEntering:m,onExit:y,onExited:b,onExiting:w,style:_,timeout:E=i,TransitionComponent:T=xl,...C}=e,x=$.useRef(null),I=Ir(x,gf(a),t),F=Q=>te=>{if(Q){const X=x.current;te===void 0?Q(X):Q(X,te)}},k=F(m),L=F((Q,te)=>{jB(Q);const X=m0({style:_,timeout:E,easing:l},{mode:"enter"});Q.style.webkitTransition=r.transitions.create("opacity",X),Q.style.transition=r.transitions.create("opacity",X),h&&h(Q,te)}),N=F(p),A=F(w),B=F(Q=>{const te=m0({style:_,timeout:E,easing:l},{mode:"exit"});Q.style.webkitTransition=r.transitions.create("opacity",te),Q.style.transition=r.transitions.create("opacity",te),y&&y(Q)}),z=F(b),U=Q=>{s&&s(x.current,Q)};return M.jsx(T,{appear:o,in:u,nodeRef:x,onEnter:L,onEntered:N,onEntering:k,onExit:B,onExited:z,onExiting:A,addEndListener:U,timeout:E,...C,children:(Q,{ownerState:te,...X})=>$.cloneElement(a,{style:{opacity:0,visibility:Q==="exited"&&!u?"hidden":void 0,...$fe[Q],..._,...a.props.style},ref:I,...X})})});function jfe(n){return Ot("MuiBackdrop",n)}kt("MuiBackdrop",["root","invisible"]);const Ufe=n=>{const{classes:e,invisible:t}=n;return Lt({root:["root",t&&"invisible"]},jfe,e)},Vfe=Pe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),$7=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:a=!1,open:l,components:u={},componentsProps:h={},slotProps:p={},slots:m={},TransitionComponent:y,transitionDuration:b,...w}=r,_={...r,component:o,invisible:a},E=Ufe(_),T={transition:y,root:u.Root,...m},C={...h,...p},x={slots:T,slotProps:C},[I,F]=Rn("root",{elementType:Vfe,externalForwardedProps:x,className:nt(E.root,s),ownerState:_}),[k,L]=Rn("transition",{elementType:IL,externalForwardedProps:x,ownerState:_});return M.jsx(k,{in:l,timeout:b,...w,...L,children:M.jsx(I,{"aria-hidden":!0,...F,classes:E,ref:t,children:i})})});function Hfe(n){return typeof n=="function"?n():n}function zfe(n){return n?n.props.hasOwnProperty("in"):!1}const i5=()=>{},ZC=new kfe;function Wfe(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:a,onClose:l,open:u,rootRef:h}=n,p=$.useRef({}),m=$.useRef(null),y=$.useRef(null),b=Ir(y,h),[w,_]=$.useState(!u),E=zfe(a);let T=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(T=!1);const C=()=>ss(m.current),x=()=>(p.current.modalRef=y.current,p.current.mount=m.current,p.current),I=()=>{ZC.mount(x(),{disableScrollLock:r}),y.current&&(y.current.scrollTop=0)},F=yl(()=>{const te=Hfe(e)||C().body;ZC.add(x(),te),y.current&&I()}),k=()=>ZC.isTopModal(x()),L=yl(te=>{m.current=te,te&&(u&&k()?I():y.current&&zb(y.current,T))}),N=$.useCallback(()=>{ZC.remove(x(),T)},[T]);$.useEffect(()=>()=>{N()},[N]),$.useEffect(()=>{u?F():(!E||!i)&&N()},[u,N,E,i,F]);const A=te=>X=>{var ne;(ne=te.onKeyDown)==null||ne.call(te,X),!(X.key!=="Escape"||X.which===229||!k())&&(t||(X.stopPropagation(),l&&l(X,"escapeKeyDown")))},B=te=>X=>{var ne;(ne=te.onClick)==null||ne.call(te,X),X.target===X.currentTarget&&l&&l(X,"backdropClick")};return{getRootProps:(te={})=>{const X=zA(n);delete X.onTransitionEnter,delete X.onTransitionExited;const ne={...X,...te};return{role:"presentation",...ne,onKeyDown:A(ne),ref:b}},getBackdropProps:(te={})=>{const X=te;return{"aria-hidden":!0,...X,onClick:B(X),open:u}},getTransitionProps:()=>{const te=()=>{_(!1),s&&s()},X=()=>{_(!0),o&&o(),i&&N()};return{onEnter:zV(te,(a==null?void 0:a.props.onEnter)??i5),onExited:zV(X,(a==null?void 0:a.props.onExited)??i5)}},rootRef:b,portalRef:L,isTopModal:k,exited:w,hasTransition:E}}function qfe(n){return Ot("MuiModal",n)}kt("MuiModal",["root","hidden","backdrop"]);const Gfe=n=>{const{open:e,exited:t,classes:r}=n;return Lt({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},qfe,r)},Yfe=Pe("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(Ut(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),Kfe=Pe($7,{name:"MuiModal",slot:"Backdrop",overridesResolver:(n,e)=>e.backdrop})({zIndex:-1}),UB=$.forwardRef(function(e,t){const r=Vt({name:"MuiModal",props:e}),{BackdropComponent:i=Kfe,BackdropProps:s,classes:o,className:a,closeAfterTransition:l=!1,children:u,container:h,component:p,components:m={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:_=!1,disablePortal:E=!1,disableRestoreFocus:T=!1,disableScrollLock:C=!1,hideBackdrop:x=!1,keepMounted:I=!1,onBackdropClick:F,onClose:k,onTransitionEnter:L,onTransitionExited:N,open:A,slotProps:B={},slots:z={},theme:U,...Q}=r,te={...r,closeAfterTransition:l,disableAutoFocus:b,disableEnforceFocus:w,disableEscapeKeyDown:_,disablePortal:E,disableRestoreFocus:T,disableScrollLock:C,hideBackdrop:x,keepMounted:I},{getRootProps:X,getBackdropProps:ne,getTransitionProps:J,portalRef:se,isTopModal:de,exited:q,hasTransition:Y}=Wfe({...te,rootRef:t}),Z={...te,exited:q},le=Gfe(Z),ce={};if(u.props.tabIndex===void 0&&(ce.tabIndex="-1"),Y){const{onEnter:je,onExited:dt}=J();ce.onEnter=je,ce.onExited=dt}const ve={...Q,slots:{root:m.Root,backdrop:m.Backdrop,...z},slotProps:{...y,...B}},[ye,xe]=Rn("root",{elementType:Yfe,externalForwardedProps:ve,getSlotProps:X,additionalProps:{ref:t,as:p},ownerState:Z,className:nt(a,le==null?void 0:le.root,!Z.open&&Z.exited&&(le==null?void 0:le.hidden))}),[Oe,ke]=Rn("backdrop",{elementType:i,externalForwardedProps:ve,additionalProps:s,getSlotProps:je=>ne({...je,onClick:dt=>{F&&F(dt),je!=null&&je.onClick&&je.onClick(dt)}}),className:nt(s==null?void 0:s.className,le==null?void 0:le.backdrop),ownerState:Z}),Xe=Ir(s==null?void 0:s.ref,ke.ref);return!I&&!A&&(!Y||q)?null:M.jsx(B7,{ref:se,container:h,disablePortal:E,children:M.jsxs(ye,{...xe,children:[!x&&i?M.jsx(Oe,{...ke,ref:Xe}):null,M.jsx(Nfe,{disableEnforceFocus:w,disableAutoFocus:b,disableRestoreFocus:T,isEnabled:de,open:A,children:$.cloneElement(u,ce)})]})})});function Xfe(n){return Ot("MuiPaper",n)}kt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Jfe=n=>{const{square:e,elevation:t,variant:r,classes:i}=n,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${t}`]};return Lt(s,Xfe,i)},Qfe=Pe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(Ut(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),$0=$.forwardRef(function(e,t){var y;const r=Vt({props:e,name:"MuiPaper"}),i=Da(),{className:s,component:o="div",elevation:a=1,square:l=!1,variant:u="elevation",...h}=r,p={...r,component:o,elevation:a,square:l,variant:u},m=Jfe(p);return M.jsx(Qfe,{as:o,ownerState:p,className:nt(m.root,s),ref:t,...h,style:{...u==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(y=i.vars.overlays)==null?void 0:y[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Fn("#fff",cL(a))}, ${Fn("#fff",cL(a))})`}},...h.style}})});function Zfe(n){return Ot("MuiPopover",n)}kt("MuiPopover",["root","paper"]);function s5(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function o5(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function a5(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function YP(n){return typeof n=="function"?n():n}const epe=n=>{const{classes:e}=n;return Lt({root:["root"],paper:["paper"]},Zfe,e)},tpe=Pe(UB,{name:"MuiPopover",slot:"Root",overridesResolver:(n,e)=>e.root})({}),j7=Pe($0,{name:"MuiPopover",slot:"Paper",overridesResolver:(n,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),XE=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:u,className:h,container:p,elevation:m=8,marginThreshold:y=16,open:b,PaperProps:w={},slots:_={},slotProps:E={},transformOrigin:T={vertical:"top",horizontal:"left"},TransitionComponent:C=f_,transitionDuration:x="auto",TransitionProps:{onEntering:I,...F}={},disableScrollLock:k=!1,...L}=r,N=(E==null?void 0:E.paper)??w,A=$.useRef(),B={...r,anchorOrigin:o,anchorReference:l,elevation:m,marginThreshold:y,externalPaperSlotProps:N,transformOrigin:T,TransitionComponent:C,transitionDuration:x,TransitionProps:F},z=epe(B),U=$.useCallback(()=>{if(l==="anchorPosition")return a;const ke=YP(s),je=(ke&&ke.nodeType===1?ke:ss(A.current).body).getBoundingClientRect();return{top:je.top+s5(je,o.vertical),left:je.left+o5(je,o.horizontal)}},[s,o.horizontal,o.vertical,a,l]),Q=$.useCallback(ke=>({vertical:s5(ke,T.vertical),horizontal:o5(ke,T.horizontal)}),[T.horizontal,T.vertical]),te=$.useCallback(ke=>{const Xe={width:ke.offsetWidth,height:ke.offsetHeight},je=Q(Xe);if(l==="none")return{top:null,left:null,transformOrigin:a5(je)};const dt=U();let Ye=dt.top-je.vertical,Ue=dt.left-je.horizontal;const Jt=Ye+Xe.height,Fe=Ue+Xe.width,wt=bl(YP(s)),Ft=wt.innerHeight-y,It=wt.innerWidth-y;if(y!==null&&Ye<y){const pt=Ye-y;Ye-=pt,je.vertical+=pt}else if(y!==null&&Jt>Ft){const pt=Jt-Ft;Ye-=pt,je.vertical+=pt}if(y!==null&&Ue<y){const pt=Ue-y;Ue-=pt,je.horizontal+=pt}else if(Fe>It){const pt=Fe-It;Ue-=pt,je.horizontal+=pt}return{top:`${Math.round(Ye)}px`,left:`${Math.round(Ue)}px`,transformOrigin:a5(je)}},[s,l,U,Q,y]),[X,ne]=$.useState(b),J=$.useCallback(()=>{const ke=A.current;if(!ke)return;const Xe=te(ke);Xe.top!==null&&ke.style.setProperty("top",Xe.top),Xe.left!==null&&(ke.style.left=Xe.left),ke.style.transformOrigin=Xe.transformOrigin,ne(!0)},[te]);$.useEffect(()=>(k&&window.addEventListener("scroll",J),()=>window.removeEventListener("scroll",J)),[s,k,J]);const se=(ke,Xe)=>{I&&I(ke,Xe),J()},de=()=>{ne(!1)};$.useEffect(()=>{b&&J()}),$.useImperativeHandle(i,()=>b?{updatePosition:()=>{J()}}:null,[b,J]),$.useEffect(()=>{if(!b)return;const ke=oB(()=>{J()}),Xe=bl(s);return Xe.addEventListener("resize",ke),()=>{ke.clear(),Xe.removeEventListener("resize",ke)}},[s,b,J]);let q=x;x==="auto"&&!C.muiSupportAuto&&(q=void 0);const Y=p||(s?ss(YP(s)).body:void 0),Z={slots:_,slotProps:{...E,paper:N}},[le,ce]=Rn("paper",{elementType:j7,externalForwardedProps:Z,additionalProps:{elevation:m,className:nt(z.paper,N==null?void 0:N.className),style:X?N.style:{...N.style,opacity:0}},ownerState:B}),[ve,{slotProps:ye,...xe}]=Rn("root",{elementType:tpe,externalForwardedProps:Z,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:Y,open:b},ownerState:B,className:nt(z.root,h)}),Oe=Ir(A,ce.ref);return M.jsx(ve,{...xe,...!xL(ve)&&{slotProps:ye,disableScrollLock:k},...L,ref:t,children:M.jsx(C,{appear:!0,in:b,onEntering:se,onExited:de,timeout:q,...F,children:M.jsx(le,{...ce,ref:Oe,children:u})})})}),l5={container:{padding:4,display:"flex",flexDirection:"column",gap:2},buttons:{display:"flex",flexDirection:"row",gap:2,justifyContent:"flex-end"}};function npe(n){return Ot("MuiAlert",n)}const c5=kt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function rpe(n){return Ot("MuiIconButton",n)}const u5=kt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),ipe=n=>{const{classes:e,disabled:t,color:r,edge:i,size:s,loading:o}=n,a={root:["root",o&&"loading",t&&"disabled",r!=="default"&&`color${Be(r)}`,i&&`edge${Be(i)}`,`size${Be(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Lt(a,rpe,e)},spe=Pe(kR,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${Be(t.color)}`],t.edge&&e[`edge${Be(t.edge)}`],e[`size${Be(t.size)}`]]}})(Ut(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Fn(n.palette.action.active,n.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Ut(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(Ks()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(Ks()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.vars?`rgba(${(n.vars||n).palette[e].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Fn((n.vars||n).palette[e].main,n.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${u5.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${u5.loading}`]:{color:"transparent"}}))),ope=Pe("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(n,e)=>e.loadingIndicator})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Ts=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:h="medium",id:p,loading:m=null,loadingIndicator:y,...b}=r,w=M0(p),_=y??M.jsx(PR,{"aria-labelledby":w,color:"inherit",size:16}),E={...r,edge:i,color:a,disabled:l,disableFocusRipple:u,loading:m,loadingIndicator:_,size:h},T=ipe(E);return M.jsxs(spe,{id:m?w:p,className:nt(T.root,o),centerRipple:!0,focusRipple:!u,disabled:l||m,ref:t,...b,ownerState:E,children:[typeof m=="boolean"&&M.jsx("span",{className:T.loadingWrapper,style:{display:"contents"},children:M.jsx(ope,{className:T.loadingIndicator,ownerState:E,children:m&&_})}),s]})}),ape=Gr(M.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),lpe=Gr(M.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),cpe=Gr(M.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),upe=Gr(M.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),dpe=Gr(M.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),hpe=n=>{const{variant:e,color:t,severity:r,classes:i}=n,s={root:["root",`color${Be(t||r)}`,`${e}${Be(t||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Lt(s,npe,i)},fpe=Pe($0,{name:"MuiAlert",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${Be(t.color||t.severity)}`]]}})(Ut(({theme:n})=>{const e=n.palette.mode==="light"?s_:o_,t=n.palette.mode==="light"?o_:s_;return{...n.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(n.palette).filter(Ks(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:n.vars?n.vars.palette.Alert[`${r}Color`]:e(n.palette[r].light,.6),backgroundColor:n.vars?n.vars.palette.Alert[`${r}StandardBg`]:t(n.palette[r].light,.9),[`& .${c5.icon}`]:n.vars?{color:n.vars.palette.Alert[`${r}IconColor`]}:{color:n.palette[r].main}}})),...Object.entries(n.palette).filter(Ks(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:n.vars?n.vars.palette.Alert[`${r}Color`]:e(n.palette[r].light,.6),border:`1px solid ${(n.vars||n).palette[r].light}`,[`& .${c5.icon}`]:n.vars?{color:n.vars.palette.Alert[`${r}IconColor`]}:{color:n.palette[r].main}}})),...Object.entries(n.palette).filter(Ks(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:n.typography.fontWeightMedium,...n.vars?{color:n.vars.palette.Alert[`${r}FilledColor`],backgroundColor:n.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:n.palette.mode==="dark"?n.palette[r].dark:n.palette[r].main,color:n.palette.getContrastText(n.palette[r].main)}}}))]}})),ppe=Pe("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(n,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),mpe=Pe("div",{name:"MuiAlert",slot:"Message",overridesResolver:(n,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),gpe=Pe("div",{name:"MuiAlert",slot:"Action",overridesResolver:(n,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),d5={success:M.jsx(ape,{fontSize:"inherit"}),warning:M.jsx(lpe,{fontSize:"inherit"}),error:M.jsx(cpe,{fontSize:"inherit"}),info:M.jsx(upe,{fontSize:"inherit"})},ype=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiAlert"}),{action:i,children:s,className:o,closeText:a="Close",color:l,components:u={},componentsProps:h={},icon:p,iconMapping:m=d5,onClose:y,role:b="alert",severity:w="success",slotProps:_={},slots:E={},variant:T="standard",...C}=r,x={...r,color:l,severity:w,variant:T,colorSeverity:l||w},I=hpe(x),F={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...E},slotProps:{...h,..._}},[k,L]=Rn("root",{ref:t,shouldForwardComponentProp:!0,className:nt(I.root,o),elementType:fpe,externalForwardedProps:{...F,...C},ownerState:x,additionalProps:{role:b,elevation:0}}),[N,A]=Rn("icon",{className:I.icon,elementType:ppe,externalForwardedProps:F,ownerState:x}),[B,z]=Rn("message",{className:I.message,elementType:mpe,externalForwardedProps:F,ownerState:x}),[U,Q]=Rn("action",{className:I.action,elementType:gpe,externalForwardedProps:F,ownerState:x}),[te,X]=Rn("closeButton",{elementType:Ts,externalForwardedProps:F,ownerState:x}),[ne,J]=Rn("closeIcon",{elementType:dpe,externalForwardedProps:F,ownerState:x});return M.jsxs(k,{...L,children:[p!==!1?M.jsx(N,{...A,children:p||m[w]||d5[w]}):null,M.jsx(B,{...z,children:s}),i!=null?M.jsx(U,{...Q,children:i}):null,i==null&&y?M.jsx(U,{...Q,children:M.jsx(te,{size:"small","aria-label":a,title:a,color:"inherit",onClick:y,...X,children:M.jsx(ne,{fontSize:"small",...J})})}):null]})});var Xs="top",xa="bottom",Ra="right",Js="left",VB="auto",JE=[Xs,xa,Ra,Js],g0="start",p_="end",vpe="clippingParents",U7="viewport",Vw="popper",wpe="reference",h5=JE.reduce(function(n,e){return n.concat([e+"-"+g0,e+"-"+p_])},[]),HB=[].concat(JE,[VB]).reduce(function(n,e){return n.concat([e,e+"-"+g0,e+"-"+p_])},[]),bpe="beforeRead",_pe="read",Spe="afterRead",Epe="beforeMain",Cpe="main",Tpe="afterMain",Ape="beforeWrite",xpe="write",Rpe="afterWrite",Ipe=[bpe,_pe,Spe,Epe,Cpe,Tpe,Ape,xpe,Rpe];function xc(n){return n?(n.nodeName||"").toLowerCase():null}function $o(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function jm(n){var e=$o(n).Element;return n instanceof e||n instanceof Element}function _a(n){var e=$o(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function zB(n){if(typeof ShadowRoot>"u")return!1;var e=$o(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function kpe(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!_a(s)||!xc(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Ppe(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!_a(i)||!xc(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const Dpe={name:"applyStyles",enabled:!0,phase:"write",fn:kpe,effect:Ppe,requires:["computeStyles"]};function Sc(n){return n.split("-")[0]}var Pm=Math.max,sx=Math.min,y0=Math.round;function kL(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function V7(){return!/^((?!chrome|android).)*safari/i.test(kL())}function v0(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&_a(n)&&(i=n.offsetWidth>0&&y0(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&y0(r.height)/n.offsetHeight||1);var o=jm(n)?$o(n):window,a=o.visualViewport,l=!V7()&&t,u=(r.left+(l&&a?a.offsetLeft:0))/i,h=(r.top+(l&&a?a.offsetTop:0))/s,p=r.width/i,m=r.height/s;return{width:p,height:m,top:h,right:u+p,bottom:h+m,left:u,x:u,y:h}}function WB(n){var e=v0(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function H7(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&zB(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ud(n){return $o(n).getComputedStyle(n)}function Mpe(n){return["table","td","th"].indexOf(xc(n))>=0}function _f(n){return((jm(n)?n.ownerDocument:n.document)||window.document).documentElement}function DR(n){return xc(n)==="html"?n:n.assignedSlot||n.parentNode||(zB(n)?n.host:null)||_f(n)}function f5(n){return!_a(n)||ud(n).position==="fixed"?null:n.offsetParent}function Ope(n){var e=/firefox/i.test(kL()),t=/Trident/i.test(kL());if(t&&_a(n)){var r=ud(n);if(r.position==="fixed")return null}var i=DR(n);for(zB(i)&&(i=i.host);_a(i)&&["html","body"].indexOf(xc(i))<0;){var s=ud(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function QE(n){for(var e=$o(n),t=f5(n);t&&Mpe(t)&&ud(t).position==="static";)t=f5(t);return t&&(xc(t)==="html"||xc(t)==="body"&&ud(t).position==="static")?e:t||Ope(n)||e}function qB(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Wb(n,e,t){return Pm(n,sx(e,t))}function Lpe(n,e,t){var r=Wb(n,e,t);return r>t?t:r}function z7(){return{top:0,right:0,bottom:0,left:0}}function W7(n){return Object.assign({},z7(),n)}function q7(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var Fpe=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,W7(typeof e!="number"?e:q7(e,JE))};function Npe(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,a=Sc(t.placement),l=qB(a),u=[Js,Ra].indexOf(a)>=0,h=u?"height":"width";if(!(!s||!o)){var p=Fpe(i.padding,t),m=WB(s),y=l==="y"?Xs:Js,b=l==="y"?xa:Ra,w=t.rects.reference[h]+t.rects.reference[l]-o[l]-t.rects.popper[h],_=o[l]-t.rects.reference[l],E=QE(s),T=E?l==="y"?E.clientHeight||0:E.clientWidth||0:0,C=w/2-_/2,x=p[y],I=T-m[h]-p[b],F=T/2-m[h]/2+C,k=Wb(x,F,I),L=l;t.modifiersData[r]=(e={},e[L]=k,e.centerOffset=k-F,e)}}function Bpe(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||H7(e.elements.popper,i)&&(e.elements.arrow=i))}const G7={name:"arrow",enabled:!0,phase:"main",fn:Npe,effect:Bpe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function w0(n){return n.split("-")[1]}var $pe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jpe(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:y0(t*i)/i||0,y:y0(r*i)/i||0}}function p5(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,u=n.adaptive,h=n.roundOffsets,p=n.isFixed,m=o.x,y=m===void 0?0:m,b=o.y,w=b===void 0?0:b,_=typeof h=="function"?h({x:y,y:w}):{x:y,y:w};y=_.x,w=_.y;var E=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),C=Js,x=Xs,I=window;if(u){var F=QE(t),k="clientHeight",L="clientWidth";if(F===$o(t)&&(F=_f(t),ud(F).position!=="static"&&a==="absolute"&&(k="scrollHeight",L="scrollWidth")),F=F,i===Xs||(i===Js||i===Ra)&&s===p_){x=xa;var N=p&&F===I&&I.visualViewport?I.visualViewport.height:F[k];w-=N-r.height,w*=l?1:-1}if(i===Js||(i===Xs||i===xa)&&s===p_){C=Ra;var A=p&&F===I&&I.visualViewport?I.visualViewport.width:F[L];y-=A-r.width,y*=l?1:-1}}var B=Object.assign({position:a},u&&$pe),z=h===!0?jpe({x:y,y:w},$o(t)):{x:y,y:w};if(y=z.x,w=z.y,l){var U;return Object.assign({},B,(U={},U[x]=T?"0":"",U[C]=E?"0":"",U.transform=(I.devicePixelRatio||1)<=1?"translate("+y+"px, "+w+"px)":"translate3d("+y+"px, "+w+"px, 0)",U))}return Object.assign({},B,(e={},e[x]=T?w+"px":"",e[C]=E?y+"px":"",e.transform="",e))}function Upe(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,o=s===void 0?!0:s,a=t.roundOffsets,l=a===void 0?!0:a,u={placement:Sc(e.placement),variation:w0(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,p5(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,p5(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Y7={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Upe,data:{}};var eT={passive:!0};function Vpe(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=$o(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(h){h.addEventListener("scroll",t.update,eT)}),a&&l.addEventListener("resize",t.update,eT),function(){s&&u.forEach(function(h){h.removeEventListener("scroll",t.update,eT)}),a&&l.removeEventListener("resize",t.update,eT)}}const K7={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Vpe,data:{}};var Hpe={left:"right",right:"left",bottom:"top",top:"bottom"};function BT(n){return n.replace(/left|right|bottom|top/g,function(e){return Hpe[e]})}var zpe={start:"end",end:"start"};function m5(n){return n.replace(/start|end/g,function(e){return zpe[e]})}function GB(n){var e=$o(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function YB(n){return v0(_f(n)).left+GB(n).scrollLeft}function Wpe(n,e){var t=$o(n),r=_f(n),i=t.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=V7();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+YB(n),y:l}}function qpe(n){var e,t=_f(n),r=GB(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=Pm(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Pm(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+YB(n),l=-r.scrollTop;return ud(i||t).direction==="rtl"&&(a+=Pm(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function KB(n){var e=ud(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function X7(n){return["html","body","#document"].indexOf(xc(n))>=0?n.ownerDocument.body:_a(n)&&KB(n)?n:X7(DR(n))}function qb(n,e){var t;e===void 0&&(e=[]);var r=X7(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=$o(r),o=i?[s].concat(s.visualViewport||[],KB(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(qb(DR(o)))}function PL(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Gpe(n,e){var t=v0(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function g5(n,e,t){return e===U7?PL(Wpe(n,t)):jm(e)?Gpe(e,t):PL(qpe(_f(n)))}function Ype(n){var e=qb(DR(n)),t=["absolute","fixed"].indexOf(ud(n).position)>=0,r=t&&_a(n)?QE(n):n;return jm(r)?e.filter(function(i){return jm(i)&&H7(i,r)&&xc(i)!=="body"}):[]}function Kpe(n,e,t,r){var i=e==="clippingParents"?Ype(n):[].concat(e),s=[].concat(i,[t]),o=s[0],a=s.reduce(function(l,u){var h=g5(n,u,r);return l.top=Pm(h.top,l.top),l.right=sx(h.right,l.right),l.bottom=sx(h.bottom,l.bottom),l.left=Pm(h.left,l.left),l},g5(n,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function J7(n){var e=n.reference,t=n.element,r=n.placement,i=r?Sc(r):null,s=r?w0(r):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(i){case Xs:l={x:o,y:e.y-t.height};break;case xa:l={x:o,y:e.y+e.height};break;case Ra:l={x:e.x+e.width,y:a};break;case Js:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?qB(i):null;if(u!=null){var h=u==="y"?"height":"width";switch(s){case g0:l[u]=l[u]-(e[h]/2-t[h]/2);break;case p_:l[u]=l[u]+(e[h]/2-t[h]/2);break}}return l}function m_(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,o=s===void 0?n.strategy:s,a=t.boundary,l=a===void 0?vpe:a,u=t.rootBoundary,h=u===void 0?U7:u,p=t.elementContext,m=p===void 0?Vw:p,y=t.altBoundary,b=y===void 0?!1:y,w=t.padding,_=w===void 0?0:w,E=W7(typeof _!="number"?_:q7(_,JE)),T=m===Vw?wpe:Vw,C=n.rects.popper,x=n.elements[b?T:m],I=Kpe(jm(x)?x:x.contextElement||_f(n.elements.popper),l,h,o),F=v0(n.elements.reference),k=J7({reference:F,element:C,placement:i}),L=PL(Object.assign({},C,k)),N=m===Vw?L:F,A={top:I.top-N.top+E.top,bottom:N.bottom-I.bottom+E.bottom,left:I.left-N.left+E.left,right:N.right-I.right+E.right},B=n.modifiersData.offset;if(m===Vw&&B){var z=B[i];Object.keys(A).forEach(function(U){var Q=[Ra,xa].indexOf(U)>=0?1:-1,te=[Xs,xa].indexOf(U)>=0?"y":"x";A[U]+=z[te]*Q})}return A}function Xpe(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?HB:l,h=w0(r),p=h?a?h5:h5.filter(function(b){return w0(b)===h}):JE,m=p.filter(function(b){return u.indexOf(b)>=0});m.length===0&&(m=p);var y=m.reduce(function(b,w){return b[w]=m_(n,{placement:w,boundary:i,rootBoundary:s,padding:o})[Sc(w)],b},{});return Object.keys(y).sort(function(b,w){return y[b]-y[w]})}function Jpe(n){if(Sc(n)===VB)return[];var e=BT(n);return[m5(n),e,m5(e)]}function Qpe(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,u=t.padding,h=t.boundary,p=t.rootBoundary,m=t.altBoundary,y=t.flipVariations,b=y===void 0?!0:y,w=t.allowedAutoPlacements,_=e.options.placement,E=Sc(_),T=E===_,C=l||(T||!b?[BT(_)]:Jpe(_)),x=[_].concat(C).reduce(function(le,ce){return le.concat(Sc(ce)===VB?Xpe(e,{placement:ce,boundary:h,rootBoundary:p,padding:u,flipVariations:b,allowedAutoPlacements:w}):ce)},[]),I=e.rects.reference,F=e.rects.popper,k=new Map,L=!0,N=x[0],A=0;A<x.length;A++){var B=x[A],z=Sc(B),U=w0(B)===g0,Q=[Xs,xa].indexOf(z)>=0,te=Q?"width":"height",X=m_(e,{placement:B,boundary:h,rootBoundary:p,altBoundary:m,padding:u}),ne=Q?U?Ra:Js:U?xa:Xs;I[te]>F[te]&&(ne=BT(ne));var J=BT(ne),se=[];if(s&&se.push(X[z]<=0),a&&se.push(X[ne]<=0,X[J]<=0),se.every(function(le){return le})){N=B,L=!1;break}k.set(B,se)}if(L)for(var de=b?3:1,q=function(ce){var ve=x.find(function(ye){var xe=k.get(ye);if(xe)return xe.slice(0,ce).every(function(Oe){return Oe})});if(ve)return N=ve,"break"},Y=de;Y>0;Y--){var Z=q(Y);if(Z==="break")break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}}const Q7={name:"flip",enabled:!0,phase:"main",fn:Qpe,requiresIfExists:["offset"],data:{_skip:!1}};function y5(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function v5(n){return[Xs,Ra,xa,Js].some(function(e){return n[e]>=0})}function Zpe(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=m_(e,{elementContext:"reference"}),a=m_(e,{altBoundary:!0}),l=y5(o,r),u=y5(a,i,s),h=v5(l),p=v5(u);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}const Z7={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zpe};function eme(n,e,t){var r=Sc(n),i=[Js,Xs].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Js,Ra].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function tme(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,o=HB.reduce(function(h,p){return h[p]=eme(p,e.rects,s),h},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const eY={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tme};function nme(n){var e=n.state,t=n.name;e.modifiersData[t]=J7({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const tY={name:"popperOffsets",enabled:!0,phase:"read",fn:nme,data:{}};function rme(n){return n==="x"?"y":"x"}function ime(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,u=t.rootBoundary,h=t.altBoundary,p=t.padding,m=t.tether,y=m===void 0?!0:m,b=t.tetherOffset,w=b===void 0?0:b,_=m_(e,{boundary:l,rootBoundary:u,padding:p,altBoundary:h}),E=Sc(e.placement),T=w0(e.placement),C=!T,x=qB(E),I=rme(x),F=e.modifiersData.popperOffsets,k=e.rects.reference,L=e.rects.popper,N=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,A=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,z={x:0,y:0};if(F){if(s){var U,Q=x==="y"?Xs:Js,te=x==="y"?xa:Ra,X=x==="y"?"height":"width",ne=F[x],J=ne+_[Q],se=ne-_[te],de=y?-L[X]/2:0,q=T===g0?k[X]:L[X],Y=T===g0?-L[X]:-k[X],Z=e.elements.arrow,le=y&&Z?WB(Z):{width:0,height:0},ce=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:z7(),ve=ce[Q],ye=ce[te],xe=Wb(0,k[X],le[X]),Oe=C?k[X]/2-de-xe-ve-A.mainAxis:q-xe-ve-A.mainAxis,ke=C?-k[X]/2+de+xe+ye+A.mainAxis:Y+xe+ye+A.mainAxis,Xe=e.elements.arrow&&QE(e.elements.arrow),je=Xe?x==="y"?Xe.clientTop||0:Xe.clientLeft||0:0,dt=(U=B==null?void 0:B[x])!=null?U:0,Ye=ne+Oe-dt-je,Ue=ne+ke-dt,Jt=Wb(y?sx(J,Ye):J,ne,y?Pm(se,Ue):se);F[x]=Jt,z[x]=Jt-ne}if(a){var Fe,wt=x==="x"?Xs:Js,Ft=x==="x"?xa:Ra,It=F[I],pt=I==="y"?"height":"width",Me=It+_[wt],Mt=It-_[Ft],Ht=[Xs,Js].indexOf(E)!==-1,zn=(Fe=B==null?void 0:B[I])!=null?Fe:0,zt=Ht?Me:It-k[pt]-L[pt]-zn+A.altAxis,lt=Ht?It+k[pt]+L[pt]-zn-A.altAxis:Mt,bt=y&&Ht?Lpe(zt,It,lt):Wb(y?zt:Me,It,y?lt:Mt);F[I]=bt,z[I]=bt-It}e.modifiersData[r]=z}}const nY={name:"preventOverflow",enabled:!0,phase:"main",fn:ime,requiresIfExists:["offset"]};function sme(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function ome(n){return n===$o(n)||!_a(n)?GB(n):sme(n)}function ame(n){var e=n.getBoundingClientRect(),t=y0(e.width)/n.offsetWidth||1,r=y0(e.height)/n.offsetHeight||1;return t!==1||r!==1}function lme(n,e,t){t===void 0&&(t=!1);var r=_a(e),i=_a(e)&&ame(e),s=_f(e),o=v0(n,i,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&((xc(e)!=="body"||KB(s))&&(a=ome(e)),_a(e)?(l=v0(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=YB(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function cme(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function ume(n){var e=cme(n);return Ipe.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function dme(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function hme(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var w5={placement:"bottom",modifiers:[],strategy:"absolute"};function b5(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function rY(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?w5:i;return function(a,l,u){u===void 0&&(u=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},w5,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},p=[],m=!1,y={state:h,setOptions:function(E){var T=typeof E=="function"?E(h.options):E;w(),h.options=Object.assign({},s,h.options,T),h.scrollParents={reference:jm(a)?qb(a):a.contextElement?qb(a.contextElement):[],popper:qb(l)};var C=ume(hme([].concat(r,h.options.modifiers)));return h.orderedModifiers=C.filter(function(x){return x.enabled}),b(),y.update()},forceUpdate:function(){if(!m){var E=h.elements,T=E.reference,C=E.popper;if(b5(T,C)){h.rects={reference:lme(T,QE(C),h.options.strategy==="fixed"),popper:WB(C)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(A){return h.modifiersData[A.name]=Object.assign({},A.data)});for(var x=0;x<h.orderedModifiers.length;x++){if(h.reset===!0){h.reset=!1,x=-1;continue}var I=h.orderedModifiers[x],F=I.fn,k=I.options,L=k===void 0?{}:k,N=I.name;typeof F=="function"&&(h=F({state:h,options:L,name:N,instance:y})||h)}}}},update:dme(function(){return new Promise(function(_){y.forceUpdate(),_(h)})}),destroy:function(){w(),m=!0}};if(!b5(a,l))return y;y.setOptions(u).then(function(_){!m&&u.onFirstUpdate&&u.onFirstUpdate(_)});function b(){h.orderedModifiers.forEach(function(_){var E=_.name,T=_.options,C=T===void 0?{}:T,x=_.effect;if(typeof x=="function"){var I=x({state:h,name:E,instance:y,options:C}),F=function(){};p.push(I||F)}})}function w(){p.forEach(function(_){return _()}),p=[]}return y}}var fme=[K7,tY,Y7,Dpe,eY,Q7,nY,G7,Z7],pme=rY({defaultModifiers:fme});function mme(n){return Ot("MuiPopper",n)}kt("MuiPopper",["root"]);function gme(n,e){if(e==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function DL(n){return typeof n=="function"?n():n}function yme(n){return n.nodeType!==void 0}const vme=n=>{const{classes:e}=n;return Lt({root:["root"]},mme,e)},wme={},bme=$.forwardRef(function(e,t){const{anchorEl:r,children:i,direction:s,disablePortal:o,modifiers:a,open:l,placement:u,popperOptions:h,popperRef:p,slotProps:m={},slots:y={},TransitionProps:b,ownerState:w,..._}=e,E=$.useRef(null),T=Ir(E,t),C=$.useRef(null),x=Ir(C,p),I=$.useRef(x);Ca(()=>{I.current=x},[x]),$.useImperativeHandle(p,()=>C.current,[]);const F=gme(u,s),[k,L]=$.useState(F),[N,A]=$.useState(DL(r));$.useEffect(()=>{C.current&&C.current.forceUpdate()}),$.useEffect(()=>{r&&A(DL(r))},[r]),Ca(()=>{if(!N||!l)return;const te=J=>{L(J.placement)};let X=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:J})=>{te(J)}}];a!=null&&(X=X.concat(a)),h&&h.modifiers!=null&&(X=X.concat(h.modifiers));const ne=pme(N,E.current,{placement:F,...h,modifiers:X});return I.current(ne),()=>{ne.destroy(),I.current(null)}},[N,o,a,l,h,F]);const B={placement:k};b!==null&&(B.TransitionProps=b);const z=vme(e),U=y.root??"div",Q=WA({elementType:U,externalSlotProps:m.root,externalForwardedProps:_,additionalProps:{role:"tooltip",ref:T},ownerState:e,className:z.root});return M.jsx(U,{...Q,children:typeof i=="function"?i(B):i})}),_me=$.forwardRef(function(e,t){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:h,placement:p="bottom",popperOptions:m=wme,popperRef:y,style:b,transition:w=!1,slotProps:_={},slots:E={},...T}=e,[C,x]=$.useState(!0),I=()=>{x(!1)},F=()=>{x(!0)};if(!l&&!h&&(!w||C))return null;let k;if(s)k=s;else if(r){const A=DL(r);k=A&&yme(A)?ss(A).body:ss(null).body}const L=!h&&l&&(!w||C)?"none":void 0,N=w?{in:h,onEnter:I,onExited:F}:void 0;return M.jsx(B7,{disablePortal:a,container:k,children:M.jsx(bme,{anchorEl:r,direction:o,disablePortal:a,modifiers:u,ref:t,open:w?!C:h,placement:p,popperOptions:m,popperRef:y,slotProps:_,slots:E,...T,style:{position:"fixed",top:0,left:0,display:L,...b},TransitionProps:N,children:i})})}),Sme=Pe(_me,{name:"MuiPopper",slot:"Root",overridesResolver:(n,e)=>e.root})({}),iY=$.forwardRef(function(e,t){const r=wR(),i=Vt({props:e,name:"MuiPopper"}),{anchorEl:s,component:o,components:a,componentsProps:l,container:u,disablePortal:h,keepMounted:p,modifiers:m,open:y,placement:b,popperOptions:w,popperRef:_,transition:E,slots:T,slotProps:C,...x}=i,I=(T==null?void 0:T.root)??(a==null?void 0:a.Root),F={anchorEl:s,container:u,disablePortal:h,keepMounted:p,modifiers:m,open:y,placement:b,popperOptions:w,popperRef:_,transition:E,...x};return M.jsx(Sme,{as:o,direction:r?"rtl":"ltr",slots:{root:I},slotProps:C??l,...F,ref:t})});function tT(n){return parseInt(n,10)||0}const Eme={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Cme(n){for(const e in n)return!1;return!0}function Tme(n){return Cme(n)||n.outerHeightStyle===0&&!n.overflowing}const Ame=$.forwardRef(function(e,t){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a,...l}=e,{current:u}=$.useRef(a!=null),h=$.useRef(null),p=Ir(t,h),m=$.useRef(null),y=$.useRef(null),b=$.useCallback(()=>{const T=h.current,C=y.current;if(!T||!C)return;const I=bl(T).getComputedStyle(T);if(I.width==="0px")return{outerHeightStyle:0,overflowing:!1};C.style.width=I.width,C.value=T.value||e.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const F=I.boxSizing,k=tT(I.paddingBottom)+tT(I.paddingTop),L=tT(I.borderBottomWidth)+tT(I.borderTopWidth),N=C.scrollHeight;C.value="x";const A=C.scrollHeight;let B=N;s&&(B=Math.max(Number(s)*A,B)),i&&(B=Math.min(Number(i)*A,B)),B=Math.max(B,A);const z=B+(F==="border-box"?k+L:0),U=Math.abs(B-N)<=1;return{outerHeightStyle:z,overflowing:U}},[i,s,e.placeholder]),w=$.useCallback(()=>{const T=h.current,C=b();if(!T||!C||Tme(C))return;const x=C.outerHeightStyle;m.current!==x&&(m.current=x,T.style.height=`${x}px`),T.style.overflow=C.overflowing?"hidden":""},[b]),_=$.useRef(-1);Ca(()=>{const T=oB(()=>w()),C=h==null?void 0:h.current;if(!C)return;const x=bl(C);x.addEventListener("resize",T);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(()=>{I.unobserve(C),cancelAnimationFrame(_.current),w(),_.current=requestAnimationFrame(()=>{I.observe(C)})}),I.observe(C)),()=>{T.clear(),cancelAnimationFrame(_.current),x.removeEventListener("resize",T),I&&I.disconnect()}},[b,w]),Ca(()=>{w()});const E=T=>{u||w(),r&&r(T)};return M.jsxs($.Fragment,{children:[M.jsx("textarea",{value:a,onChange:E,ref:p,rows:s,style:o,...l}),M.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:y,tabIndex:-1,style:{...Eme.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function j0({props:n,states:e,muiFormControl:t}){return e.reduce((r,i)=>(r[i]=n[i],t&&typeof n[i]>"u"&&(r[i]=t[i]),r),{})}const XB=$.createContext(void 0);function U0(){return $.useContext(XB)}function _5(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function ox(n,e=!1){return n&&(_5(n.value)&&n.value!==""||e&&_5(n.defaultValue)&&n.defaultValue!=="")}function xme(n){return n.startAdornment}function Rme(n){return Ot("MuiInputBase",n)}const b0=kt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var S5;const MR=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${Be(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},OR=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},Ime=n=>{const{classes:e,color:t,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:h,readOnly:p,size:m,startAdornment:y,type:b}=n,w={root:["root",`color${Be(t)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",m&&m!=="medium"&&`size${Be(m)}`,h&&"multiline",y&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled",b==="search"&&"inputTypeSearch",h&&"inputMultiline",m==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",y&&"inputAdornedStart",s&&"inputAdornedEnd",p&&"readOnly"]};return Lt(w,Rme,e)},LR=Pe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:MR})(Ut(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${b0.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),FR=Pe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:OR})(Ut(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},r={opacity:"0 !important"},i=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${b0.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${b0.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),E5=Rhe({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),JB=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:o,className:a,color:l,components:u={},componentsProps:h={},defaultValue:p,disabled:m,disableInjectingGlobalStyles:y,endAdornment:b,error:w,fullWidth:_=!1,id:E,inputComponent:T="input",inputProps:C={},inputRef:x,margin:I,maxRows:F,minRows:k,multiline:L=!1,name:N,onBlur:A,onChange:B,onClick:z,onFocus:U,onKeyDown:Q,onKeyUp:te,placeholder:X,readOnly:ne,renderSuffix:J,rows:se,size:de,slotProps:q={},slots:Y={},startAdornment:Z,type:le="text",value:ce,...ve}=r,ye=C.value!=null?C.value:ce,{current:xe}=$.useRef(ye!=null),Oe=$.useRef(),ke=$.useCallback(et=>{},[]),Xe=Ir(Oe,x,C.ref,ke),[je,dt]=$.useState(!1),Ye=U0(),Ue=j0({props:r,muiFormControl:Ye,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ue.focused=Ye?Ye.focused:je,$.useEffect(()=>{!Ye&&m&&je&&(dt(!1),A&&A())},[Ye,m,je,A]);const Jt=Ye&&Ye.onFilled,Fe=Ye&&Ye.onEmpty,wt=$.useCallback(et=>{ox(et)?Jt&&Jt():Fe&&Fe()},[Jt,Fe]);Ca(()=>{xe&&wt({value:ye})},[ye,wt,xe]);const Ft=et=>{U&&U(et),C.onFocus&&C.onFocus(et),Ye&&Ye.onFocus?Ye.onFocus(et):dt(!0)},It=et=>{A&&A(et),C.onBlur&&C.onBlur(et),Ye&&Ye.onBlur?Ye.onBlur(et):dt(!1)},pt=(et,...tn)=>{if(!xe){const wn=et.target||Oe.current;if(wn==null)throw new Error(sd(1));wt({value:wn.value})}C.onChange&&C.onChange(et,...tn),B&&B(et,...tn)};$.useEffect(()=>{wt(Oe.current)},[]);const Me=et=>{Oe.current&&et.currentTarget===et.target&&Oe.current.focus(),z&&z(et)};let Mt=T,Ht=C;L&&Mt==="input"&&(se?Ht={type:void 0,minRows:se,maxRows:se,...Ht}:Ht={type:void 0,maxRows:F,minRows:k,...Ht},Mt=Ame);const zn=et=>{wt(et.animationName==="mui-auto-fill-cancel"?Oe.current:{value:"x"})};$.useEffect(()=>{Ye&&Ye.setAdornedStart(!!Z)},[Ye,Z]);const zt={...r,color:Ue.color||"primary",disabled:Ue.disabled,endAdornment:b,error:Ue.error,focused:Ue.focused,formControl:Ye,fullWidth:_,hiddenLabel:Ue.hiddenLabel,multiline:L,size:Ue.size,startAdornment:Z,type:le},lt=Ime(zt),bt=Y.root||u.Root||LR,Wt=q.root||h.root||{},mn=Y.input||u.Input||FR;return Ht={...Ht,...q.input??h.input},M.jsxs($.Fragment,{children:[!y&&typeof E5=="function"&&(S5||(S5=M.jsx(E5,{}))),M.jsxs(bt,{...Wt,ref:t,onClick:Me,...ve,...!xL(bt)&&{ownerState:{...zt,...Wt.ownerState}},className:nt(lt.root,Wt.className,a,ne&&"MuiInputBase-readOnly"),children:[Z,M.jsx(XB.Provider,{value:null,children:M.jsx(mn,{"aria-invalid":Ue.error,"aria-describedby":i,autoComplete:s,autoFocus:o,defaultValue:p,disabled:Ue.disabled,id:E,onAnimationStart:zn,name:N,placeholder:X,readOnly:ne,required:Ue.required,rows:se,value:ye,onKeyDown:Q,onKeyUp:te,type:le,...Ht,...!xL(mn)&&{as:Mt,ownerState:{...zt,...Ht.ownerState}},ref:Xe,className:nt(lt.input,Ht.className,ne&&"MuiInputBase-readOnly"),onBlur:It,onChange:pt,onFocus:Ft})}),b,J?J({...Ue,startAdornment:Z}):null]})]})});function kme(n){return Ot("MuiInput",n)}const Hw={...b0,...kt("MuiInput",["root","underline","input"])};function Pme(n){return Ot("MuiOutlinedInput",n)}const jl={...b0,...kt("MuiOutlinedInput",["root","notchedOutline","input"])};function Dme(n){return Ot("MuiFilledInput",n)}const Kf={...b0,...kt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},Mme=Gr(M.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function C5(n){return n.substring(2).toLowerCase()}function Ome(n,e){return e.documentElement.clientWidth<n.clientX||e.documentElement.clientHeight<n.clientY}function Lme(n){const{children:e,disableReactTree:t=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=n,o=$.useRef(!1),a=$.useRef(null),l=$.useRef(!1),u=$.useRef(!1);$.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const h=Ir(gf(e),a),p=yl(b=>{const w=u.current;u.current=!1;const _=ss(a.current);if(!l.current||!a.current||"clientX"in b&&Ome(b,_))return;if(o.current){o.current=!1;return}let E;b.composedPath?E=b.composedPath().includes(a.current):E=!_.documentElement.contains(b.target)||a.current.contains(b.target),!E&&(t||!w)&&i(b)}),m=b=>w=>{u.current=!0;const _=e.props[b];_&&_(w)},y={ref:h};return s!==!1&&(y[s]=m(s)),$.useEffect(()=>{if(s!==!1){const b=C5(s),w=ss(a.current),_=()=>{o.current=!0};return w.addEventListener(b,p),w.addEventListener("touchmove",_),()=>{w.removeEventListener(b,p),w.removeEventListener("touchmove",_)}}},[p,s]),r!==!1&&(y[r]=m(r)),$.useEffect(()=>{if(r!==!1){const b=C5(r),w=ss(a.current);return w.addEventListener(b,p),()=>{w.removeEventListener(b,p)}}},[p,r]),$.cloneElement(e,y)}function Fme(n){return Ot("MuiDialog",n)}const KP=kt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Nme=$.createContext({}),Bme=Pe($7,{name:"MuiDialog",slot:"Backdrop",overrides:(n,e)=>e.backdrop})({zIndex:-1}),$me=n=>{const{classes:e,scroll:t,maxWidth:r,fullWidth:i,fullScreen:s}=n,o={root:["root"],container:["container",`scroll${Be(t)}`],paper:["paper",`paperScroll${Be(t)}`,`paperWidth${Be(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return Lt(o,Fme,e)},jme=Pe(UB,{name:"MuiDialog",slot:"Root",overridesResolver:(n,e)=>e.root})({"@media print":{position:"absolute !important"}}),Ume=Pe("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.container,e[`scroll${Be(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Vme=Pe($0,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`scrollPaper${Be(t.scroll)}`],e[`paperWidth${Be(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(Ut(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${KP.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${n.breakpoints.values[e]}${n.breakpoints.unit}`,[`&.${KP.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${KP.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),QB=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiDialog"}),i=Da(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:u,BackdropProps:h,children:p,className:m,disableEscapeKeyDown:y=!1,fullScreen:b=!1,fullWidth:w=!1,maxWidth:_="sm",onBackdropClick:E,onClick:T,onClose:C,open:x,PaperComponent:I=$0,PaperProps:F={},scroll:k="paper",slots:L={},slotProps:N={},TransitionComponent:A=IL,transitionDuration:B=s,TransitionProps:z,...U}=r,Q={...r,disableEscapeKeyDown:y,fullScreen:b,fullWidth:w,maxWidth:_,scroll:k},te=$me(Q),X=$.useRef(),ne=Ye=>{X.current=Ye.target===Ye.currentTarget},J=Ye=>{T&&T(Ye),X.current&&(X.current=null,E&&E(Ye),C&&C(Ye,"backdropClick"))},se=M0(a),de=$.useMemo(()=>({titleId:se}),[se]),q={transition:A,...L},Y={transition:z,paper:F,backdrop:h,...N},Z={slots:q,slotProps:Y},[le,ce]=Rn("root",{elementType:jme,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:Q,className:nt(te.root,m),ref:t}),[ve,ye]=Rn("backdrop",{elementType:Bme,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:Q}),[xe,Oe]=Rn("paper",{elementType:Vme,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:Q,className:nt(te.paper,F.className)}),[ke,Xe]=Rn("container",{elementType:Ume,externalForwardedProps:Z,ownerState:Q,className:nt(te.container)}),[je,dt]=Rn("transition",{elementType:IL,externalForwardedProps:Z,ownerState:Q,additionalProps:{appear:!0,in:x,timeout:B,role:"presentation"}});return M.jsx(le,{closeAfterTransition:!0,slots:{backdrop:ve},slotProps:{backdrop:{transitionDuration:B,as:u,...ye}},disableEscapeKeyDown:y,onClose:C,open:x,onClick:J,...ce,...U,children:M.jsx(je,{...dt,children:M.jsx(ke,{onMouseDown:ne,...Xe,children:M.jsx(xe,{as:I,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":se,"aria-modal":l,...Oe,children:M.jsx(Nme.Provider,{value:de,children:p})})})})})}),T5=kt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function Hme(n,e,t){const r=e.getBoundingClientRect(),i=t&&t.getBoundingClientRect(),s=bl(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const u=s.getComputedStyle(e);o=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const u=o.split("(")[1].split(")")[0].split(",");a=parseInt(u[4],10),l=parseInt(u[5],10)}return n==="left"?i?`translateX(${i.right+a-r.left}px)`:`translateX(${s.innerWidth+a-r.left}px)`:n==="right"?i?`translateX(-${r.right-i.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:n==="up"?i?`translateY(${i.bottom+l-r.top}px)`:`translateY(${s.innerHeight+l-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function zme(n){return typeof n=="function"?n():n}function nT(n,e,t){const r=zme(t),i=Hme(n,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const Wme=$.forwardRef(function(e,t){const r=Da(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:u,direction:h="down",easing:p=i,in:m,onEnter:y,onEntered:b,onEntering:w,onExit:_,onExited:E,onExiting:T,style:C,timeout:x=s,TransitionComponent:I=xl,...F}=e,k=$.useRef(null),L=Ir(gf(l),k,t),N=J=>se=>{J&&(se===void 0?J(k.current):J(k.current,se))},A=N((J,se)=>{nT(h,J,u),jB(J),y&&y(J,se)}),B=N((J,se)=>{const de=m0({timeout:x,style:C,easing:p},{mode:"enter"});J.style.webkitTransition=r.transitions.create("-webkit-transform",{...de}),J.style.transition=r.transitions.create("transform",{...de}),J.style.webkitTransform="none",J.style.transform="none",w&&w(J,se)}),z=N(b),U=N(T),Q=N(J=>{const se=m0({timeout:x,style:C,easing:p},{mode:"exit"});J.style.webkitTransition=r.transitions.create("-webkit-transform",se),J.style.transition=r.transitions.create("transform",se),nT(h,J,u),_&&_(J)}),te=N(J=>{J.style.webkitTransition="",J.style.transition="",E&&E(J)}),X=J=>{o&&o(k.current,J)},ne=$.useCallback(()=>{k.current&&nT(h,k.current,u)},[h,u]);return $.useEffect(()=>{if(m||h==="down"||h==="right")return;const J=oB(()=>{k.current&&nT(h,k.current,u)}),se=bl(k.current);return se.addEventListener("resize",J),()=>{J.clear(),se.removeEventListener("resize",J)}},[h,m,u]),$.useEffect(()=>{m||ne()},[m,ne]),M.jsx(I,{nodeRef:k,onEnter:A,onEntered:z,onEntering:B,onExit:Q,onExited:te,onExiting:U,addEndListener:X,appear:a,in:m,timeout:x,...F,children:(J,{ownerState:se,...de})=>$.cloneElement(l,{ref:L,style:{visibility:J==="exited"&&!m?"hidden":void 0,...C,...l.props.style},...de})})});function qme(n){return Ot("MuiDrawer",n)}kt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const sY=(n,e)=>{const{ownerState:t}=n;return[e.root,(t.variant==="permanent"||t.variant==="persistent")&&e.docked,e.modal]},Gme=n=>{const{classes:e,anchor:t,variant:r}=n,i={root:["root",`anchor${Be(t)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Be(t)}`,r!=="temporary"&&`paperAnchorDocked${Be(t)}`]};return Lt(i,qme,e)},Yme=Pe(UB,{name:"MuiDrawer",slot:"Root",overridesResolver:sY})(Ut(({theme:n})=>({zIndex:(n.vars||n).zIndex.drawer}))),A5=Pe("div",{shouldForwardProp:jo,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:sY})({flex:"0 0 auto"}),Kme=Pe($0,{name:"MuiDrawer",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`paperAnchor${Be(t.anchor)}`],t.variant!=="temporary"&&e[`paperAnchorDocked${Be(t.anchor)}`]]}})(Ut(({theme:n})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(n.vars||n).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(n.vars||n).palette.divider}`}}]}))),oY={left:"right",right:"left",top:"down",bottom:"up"};function Xme(n){return["left","right"].includes(n)}function Jme({direction:n},e){return n==="rtl"&&Xme(e)?oY[e]:e}const Qme=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiDrawer"}),i=Da(),s=wR(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:u,className:h,elevation:p=16,hideBackdrop:m=!1,ModalProps:{BackdropProps:y,...b}={},onClose:w,open:_=!1,PaperProps:E={},SlideProps:T,TransitionComponent:C=Wme,transitionDuration:x=o,variant:I="temporary",...F}=r,k=$.useRef(!1);$.useEffect(()=>{k.current=!0},[]);const L=Jme({direction:s?"rtl":"ltr"},a),A={...r,anchor:a,elevation:p,open:_,variant:I,...F},B=Gme(A),z=M.jsx(Kme,{elevation:I==="temporary"?p:0,square:!0,...E,className:nt(B.paper,E.className),ownerState:A,children:u});if(I==="permanent")return M.jsx(A5,{className:nt(B.root,B.docked,h),ownerState:A,ref:t,...F,children:z});const U=M.jsx(C,{in:_,direction:oY[L],timeout:x,appear:k.current,...T,children:z});return I==="persistent"?M.jsx(A5,{className:nt(B.root,B.docked,h),ownerState:A,ref:t,...F,children:U}):M.jsx(Yme,{BackdropProps:{...l,...y,transitionDuration:x},className:nt(B.root,B.modal,h),open:_,ownerState:A,onClose:w,hideBackdrop:m,ref:t,...F,...b,children:U})}),Zme=n=>{const{classes:e,disableUnderline:t,startAdornment:r,endAdornment:i,size:s,hiddenLabel:o,multiline:a}=n,l={root:["root",!t&&"underline",r&&"adornedStart",i&&"adornedEnd",s==="small"&&`size${Be(s)}`,o&&"hiddenLabel",a&&"multiline"],input:["input"]},u=Lt(l,Dme,e);return{...e,...u}},ege=Pe(LR,{shouldForwardProp:n=>jo(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...MR(n,e),!t.disableUnderline&&e.underline]}})(Ut(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r}},[`&.${Kf.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r},[`&.${Kf.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Kf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Kf.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Kf.disabled}, .${Kf.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Kf.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Ks()).map(([o])=>{var a;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(a=(n.vars||n).palette[o])==null?void 0:a.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:a})=>o.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),tge=Pe(FR,{name:"MuiFilledInput",slot:"Input",overridesResolver:OR})(Ut(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),ZB=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:a=!1,hiddenLabel:l,inputComponent:u="input",multiline:h=!1,slotProps:p,slots:m={},type:y="text",...b}=r,w={...r,disableUnderline:i,fullWidth:a,inputComponent:u,multiline:h,type:y},_=Zme(r),E={root:{ownerState:w},input:{ownerState:w}},T=p??o?is(E,p??o):E,C=m.root??s.Root??ege,x=m.input??s.Input??tge;return M.jsx(JB,{slots:{root:C,input:x},slotProps:T,fullWidth:a,inputComponent:u,multiline:h,ref:t,type:y,...b,classes:_})});ZB.muiName="Input";function nge(n){return Ot("MuiFormControl",n)}kt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const rge=n=>{const{classes:e,margin:t,fullWidth:r}=n,i={root:["root",t!=="none"&&`margin${Be(t)}`,r&&"fullWidth"]};return Lt(i,nge,e)},ige=Pe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${Be(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),sge=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:h,fullWidth:p=!1,hiddenLabel:m=!1,margin:y="none",required:b=!1,size:w="medium",variant:_="outlined",...E}=r,T={...r,color:o,component:a,disabled:l,error:u,fullWidth:p,hiddenLabel:m,margin:y,required:b,size:w,variant:_},C=rge(T),[x,I]=$.useState(()=>{let te=!1;return i&&$.Children.forEach(i,X=>{if(!kP(X,["Input","Select"]))return;const ne=kP(X,["Select"])?X.props.input:X;ne&&xme(ne.props)&&(te=!0)}),te}),[F,k]=$.useState(()=>{let te=!1;return i&&$.Children.forEach(i,X=>{kP(X,["Input","Select"])&&(ox(X.props,!0)||ox(X.props.inputProps,!0))&&(te=!0)}),te}),[L,N]=$.useState(!1);l&&L&&N(!1);const A=h!==void 0&&!l?h:L;let B;$.useRef(!1);const z=$.useCallback(()=>{k(!0)},[]),U=$.useCallback(()=>{k(!1)},[]),Q=$.useMemo(()=>({adornedStart:x,setAdornedStart:I,color:o,disabled:l,error:u,filled:F,focused:A,fullWidth:p,hiddenLabel:m,size:w,onBlur:()=>{N(!1)},onFocus:()=>{N(!0)},onEmpty:U,onFilled:z,registerEffect:B,required:b,variant:_}),[x,o,l,u,F,A,p,m,B,U,z,b,w,_]);return M.jsx(XB.Provider,{value:Q,children:M.jsx(ige,{as:a,ownerState:T,className:nt(C.root,s),ref:t,...E,children:i})})});function oge(n){return Ot("MuiFormHelperText",n)}const x5=kt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var R5;const age=n=>{const{classes:e,contained:t,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=n,u={root:["root",i&&"disabled",s&&"error",r&&`size${Be(r)}`,t&&"contained",a&&"focused",o&&"filled",l&&"required"]};return Lt(u,oge,e)},lge=Pe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${Be(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(Ut(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${x5.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${x5.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),cge=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p",disabled:a,error:l,filled:u,focused:h,margin:p,required:m,variant:y,...b}=r,w=U0(),_=j0({props:r,muiFormControl:w,states:["variant","size","disabled","error","filled","focused","required"]}),E={...r,component:o,contained:_.variant==="filled"||_.variant==="outlined",variant:_.variant,size:_.size,disabled:_.disabled,error:_.error,filled:_.filled,focused:_.focused,required:_.required};delete E.ownerState;const T=age(E);return M.jsx(lge,{as:o,className:nt(T.root,s),ref:t,...b,ownerState:E,children:i===" "?R5||(R5=M.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function uge(n){return Ot("MuiFormLabel",n)}const Gb=kt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),dge=n=>{const{classes:e,color:t,focused:r,disabled:i,error:s,filled:o,required:a}=n,l={root:["root",`color${Be(t)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return Lt(l,uge,e)},hge=Pe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(Ut(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(Ks()).map(([e])=>({props:{color:e},style:{[`&.${Gb.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${Gb.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${Gb.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),fge=Pe("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(n,e)=>e.asterisk})(Ut(({theme:n})=>({[`&.${Gb.error}`]:{color:(n.vars||n).palette.error.main}}))),pge=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiFormLabel"}),{children:i,className:s,color:o,component:a="label",disabled:l,error:u,filled:h,focused:p,required:m,...y}=r,b=U0(),w=j0({props:r,muiFormControl:b,states:["color","required","focused","disabled","error","filled"]}),_={...r,color:w.color||"primary",component:a,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required},E=dge(_);return M.jsxs(hge,{as:a,ownerState:_,className:nt(E.root,s),ref:t,...y,children:[i,w.required&&M.jsxs(fge,{ownerState:_,"aria-hidden":!0,className:E.asterisk,children:["","*"]})]})}),e$=MG({themeId:vl}),mge=n=>{const{classes:e,disableUnderline:t}=n,i=Lt({root:["root",!t&&"underline"],input:["input"]},kme,e);return{...e,...i}},gge=Pe(LR,{shouldForwardProp:n=>jo(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...MR(n,e),!t.disableUnderline&&e.underline]}})(Ut(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Hw.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Hw.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Hw.disabled}, .${Hw.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${Hw.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Ks()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[r].main}`}}}))]}})),yge=Pe(FR,{name:"MuiInput",slot:"Input",overridesResolver:OR})({}),t$=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:a=!1,inputComponent:l="input",multiline:u=!1,slotProps:h,slots:p={},type:m="text",...y}=r,b=mge(r),_={root:{ownerState:{disableUnderline:i}}},E=h??o?is(h??o,_):_,T=p.root??s.Root??gge,C=p.input??s.Input??yge;return M.jsx(JB,{slots:{root:T,input:C},slotProps:E,fullWidth:a,inputComponent:l,multiline:u,ref:t,type:m,...y,classes:b})});t$.muiName="Input";function vge(n){return Ot("MuiInputLabel",n)}kt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const wge=n=>{const{classes:e,formControl:t,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=n,l={root:["root",t&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Be(r)}`,o],asterisk:[a&&"asterisk"]},u=Lt(l,vge,e);return{...e,...u}},bge=Pe(pge,{shouldForwardProp:n=>jo(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Gb.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(Ut(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:r})=>e==="filled"&&t.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),_ge=$.forwardRef(function(e,t){const r=Vt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:s,shrink:o,variant:a,className:l,...u}=r,h=U0();let p=o;typeof p>"u"&&h&&(p=h.filled||h.focused||h.adornedStart);const m=j0({props:r,muiFormControl:h,states:["size","variant","required","focused"]}),y={...r,disableAnimation:i,formControl:h,shrink:p,size:m.size,variant:m.variant,required:m.required,focused:m.focused},b=wge(y);return M.jsx(bge,{"data-shrink":p,ref:t,className:nt(b.root,l),...u,ownerState:y,classes:b})});function Sge(n){return Ot("MuiLink",n)}const Ege=kt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Cge=({theme:n,ownerState:e})=>{const t=e.color,r=qh(n,`palette.${t}.main`,!1)||qh(n,`palette.${t}`,!1)||e.color,i=qh(n,`palette.${t}.mainChannel`)||qh(n,`palette.${t}Channel`);return"vars"in n&&i?`rgba(${i} / 0.4)`:Fn(r,.4)},I5={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Tge=n=>{const{classes:e,component:t,focusVisible:r,underline:i}=n,s={root:["root",`underline${Be(i)}`,t==="button"&&"button",r&&"focusVisible"]};return Lt(s,Sge,e)},Age=Pe(Ne,{name:"MuiLink",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`underline${Be(t.underline)}`],t.component==="button"&&e.button]}})(Ut(({theme:n})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:t})=>e==="always"&&t.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(n.palette).filter(Ks()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette[e].mainChannel} / 0.4)`:Fn(n.palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.4)`:Fn(n.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.secondaryChannel} / 0.4)`:Fn(n.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(n.vars||n).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Ege.focusVisible}`]:{outline:"auto"}}}]}))),XP=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiLink"}),i=Da(),{className:s,color:o="primary",component:a="a",onBlur:l,onFocus:u,TypographyClasses:h,underline:p="always",variant:m="inherit",sx:y,...b}=r,[w,_]=$.useState(!1),E=I=>{p0(I.target)||_(!1),l&&l(I)},T=I=>{p0(I.target)&&_(!0),u&&u(I)},C={...r,color:o,component:a,focusVisible:w,underline:p,variant:m},x=Tge(C);return M.jsx(Age,{color:o,className:nt(x.root,s),classes:h,component:a,onBlur:E,onFocus:T,ref:t,ownerState:C,variant:m,...b,sx:[...I5[o]===void 0?[{color:o}]:[],...Array.isArray(y)?y:[y]],style:{...b.style,...p==="always"&&o!=="inherit"&&!I5[o]&&{"--Link-underlineColor":Cge({theme:i,ownerState:C})}}})}),g_=$.createContext({});function xge(n){return Ot("MuiList",n)}kt("MuiList",["root","padding","dense","subheader"]);const Rge=n=>{const{classes:e,disablePadding:t,dense:r,subheader:i}=n;return Lt({root:["root",!t&&"padding",r&&"dense",i&&"subheader"]},xge,e)},Ige=Pe("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),kge=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u,...h}=r,p=$.useMemo(()=>({dense:a}),[a]),m={...r,component:o,dense:a,disablePadding:l},y=Rge(m);return M.jsx(g_.Provider,{value:p,children:M.jsxs(Ige,{as:o,className:nt(y.root,s),ref:t,ownerState:m,...h,children:[u,i]})})});function Pge(n){return Ot("MuiListItemIcon",n)}const k5=kt("MuiListItemIcon",["root","alignItemsFlexStart"]),Dge=n=>{const{alignItems:e,classes:t}=n;return Lt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},Pge,t)},Mge=Pe("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(Ut(({theme:n})=>({minWidth:56,color:(n.vars||n).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Oge=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiListItemIcon"}),{className:i,...s}=r,o=$.useContext(g_),a={...r,alignItems:o.alignItems},l=Dge(a);return M.jsx(Mge,{className:nt(l.root,i),ownerState:a,ref:t,...s})});function Lge(n){return Ot("MuiListItemText",n)}const Sy=kt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Fge=n=>{const{classes:e,inset:t,primary:r,secondary:i,dense:s}=n;return Lt({root:["root",t&&"inset",s&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},Lge,e)},Nge=Pe("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Sy.primary}`]:e.primary},{[`& .${Sy.secondary}`]:e.secondary},e.root,t.inset&&e.inset,t.primary&&t.secondary&&e.multiline,t.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${J3.root}:where(& .${Sy.primary})`]:{display:"block"},[`.${J3.root}:where(& .${Sy.secondary})`]:{display:"block"},variants:[{props:({ownerState:n})=>n.primary&&n.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:n})=>n.inset,style:{paddingLeft:56}}]}),P5=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiListItemText"}),{children:i,className:s,disableTypography:o=!1,inset:a=!1,primary:l,primaryTypographyProps:u,secondary:h,secondaryTypographyProps:p,slots:m={},slotProps:y={},...b}=r,{dense:w}=$.useContext(g_);let _=l??i,E=h;const T={...r,disableTypography:o,inset:a,primary:!!_,secondary:!!E,dense:w},C=Fge(T),x={slots:m,slotProps:{primary:u,secondary:p,...y}},[I,F]=Rn("primary",{className:C.primary,elementType:Ne,externalForwardedProps:x,ownerState:T}),[k,L]=Rn("secondary",{className:C.secondary,elementType:Ne,externalForwardedProps:x,ownerState:T});return _!=null&&_.type!==Ne&&!o&&(_=M.jsx(I,{variant:w?"body2":"body1",component:F!=null&&F.variant?void 0:"span",...F,children:_})),E!=null&&E.type!==Ne&&!o&&(E=M.jsx(k,{variant:"body2",color:"textSecondary",...L,children:E})),M.jsxs(Nge,{className:nt(C.root,s),ownerState:T,ref:t,...b,children:[_,E]})});function JP(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function D5(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function aY(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function zw(n,e,t,r,i,s){let o=!1,a=i(n,e,e?t:!1);for(;a;){if(a===n.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!aY(a,s)||l)a=i(n,a,t);else return a.focus(),!0}return!1}const Bge=$.forwardRef(function(e,t){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:h,variant:p="selectedMenu",...m}=e,y=$.useRef(null),b=$.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ca(()=>{i&&y.current.focus()},[i]),$.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(C,{direction:x})=>{const I=!y.current.style.width;if(C.clientHeight<y.current.clientHeight&&I){const F=`${NG(bl(C))}px`;y.current.style[x==="rtl"?"paddingLeft":"paddingRight"]=F,y.current.style.width=`calc(100% + ${F})`}return y.current}}),[]);const w=C=>{const x=y.current,I=C.key;if(C.ctrlKey||C.metaKey||C.altKey){h&&h(C);return}const k=ss(x).activeElement;if(I==="ArrowDown")C.preventDefault(),zw(x,k,u,l,JP);else if(I==="ArrowUp")C.preventDefault(),zw(x,k,u,l,D5);else if(I==="Home")C.preventDefault(),zw(x,null,u,l,JP);else if(I==="End")C.preventDefault(),zw(x,null,u,l,D5);else if(I.length===1){const L=b.current,N=I.toLowerCase(),A=performance.now();L.keys.length>0&&(A-L.lastTime>500?(L.keys=[],L.repeating=!0,L.previousKeyMatched=!0):L.repeating&&N!==L.keys[0]&&(L.repeating=!1)),L.lastTime=A,L.keys.push(N);const B=k&&!L.repeating&&aY(k,L);L.previousKeyMatched&&(B||zw(x,k,!1,l,JP,L))?C.preventDefault():L.previousKeyMatched=!1}h&&h(C)},_=Ir(y,t);let E=-1;$.Children.forEach(o,(C,x)=>{if(!$.isValidElement(C)){E===x&&(E+=1,E>=o.length&&(E=-1));return}C.props.disabled||(p==="selectedMenu"&&C.props.selected||E===-1)&&(E=x),E===x&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(E+=1,E>=o.length&&(E=-1))});const T=$.Children.map(o,(C,x)=>{if(x===E){const I={};return s&&(I.autoFocus=!0),C.props.tabIndex===void 0&&p==="selectedMenu"&&(I.tabIndex=0),$.cloneElement(C,I)}return C});return M.jsx(kge,{role:"menu",ref:_,className:a,onKeyDown:w,tabIndex:i?0:-1,...m,children:T})});function $ge(n){return Ot("MuiMenu",n)}kt("MuiMenu",["root","paper","list"]);const jge={vertical:"top",horizontal:"right"},Uge={vertical:"top",horizontal:"left"},Vge=n=>{const{classes:e}=n;return Lt({root:["root"],paper:["paper"],list:["list"]},$ge,e)},Hge=Pe(XE,{shouldForwardProp:n=>jo(n)||n==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(n,e)=>e.root})({}),zge=Pe(j7,{name:"MuiMenu",slot:"Paper",overridesResolver:(n,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Wge=Pe(Bge,{name:"MuiMenu",slot:"List",overridesResolver:(n,e)=>e.list})({outline:0}),lY=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,className:o,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:u,open:h,PaperProps:p={},PopoverClasses:m,transitionDuration:y="auto",TransitionProps:{onEntering:b,...w}={},variant:_="selectedMenu",slots:E={},slotProps:T={},...C}=r,x=wR(),I={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:l,onEntering:b,PaperProps:p,transitionDuration:y,TransitionProps:w,variant:_},F=Vge(I),k=i&&!a&&h,L=$.useRef(null),N=(X,ne)=>{L.current&&L.current.adjustStyleForScrollbar(X,{direction:x?"rtl":"ltr"}),b&&b(X,ne)},A=X=>{X.key==="Tab"&&(X.preventDefault(),u&&u(X,"tabKeyDown"))};let B=-1;$.Children.map(s,(X,ne)=>{$.isValidElement(X)&&(X.props.disabled||(_==="selectedMenu"&&X.props.selected||B===-1)&&(B=ne))});const z=E.paper??zge,U=T.paper??p,Q=WA({elementType:E.root,externalSlotProps:T.root,ownerState:I,className:[F.root,o]}),te=WA({elementType:z,externalSlotProps:U,ownerState:I,className:F.paper});return M.jsx(Hge,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:x?"right":"left"},transformOrigin:x?jge:Uge,slots:{paper:z,root:E.root},slotProps:{root:Q,paper:te},open:h,ref:t,transitionDuration:y,TransitionProps:{onEntering:N,...w},ownerState:I,...C,classes:m,children:M.jsx(Wge,{onKeyDown:A,actions:L,autoFocus:i&&(B===-1||a),autoFocusItem:k,variant:_,...l,className:nt(F.list,l.className),children:s})})});function qge(n){return Ot("MuiMenuItem",n)}const Ww=kt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Gge=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.divider&&e.divider,!t.disableGutters&&e.gutters]},Yge=n=>{const{disabled:e,dense:t,divider:r,disableGutters:i,selected:s,classes:o}=n,l=Lt({root:["root",t&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},qge,o);return{...o,...l}},Kge=Pe(kR,{shouldForwardProp:n=>jo(n)||n==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Gge})(Ut(({theme:n})=>({...n.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ww.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Fn(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${Ww.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:Fn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${Ww.selected}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Fn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Fn(n.palette.primary.main,n.palette.action.selectedOpacity)}},[`&.${Ww.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${Ww.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`& + .${T5.root}`]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},[`& + .${T5.inset}`]:{marginLeft:52},[`& .${Sy.root}`]:{marginTop:0,marginBottom:0},[`& .${Sy.inset}`]:{paddingLeft:36},[`& .${k5.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[n.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...n.typography.body2,[`& .${k5.root} svg`]:{fontSize:"1.25rem"}}}]}))),QP=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:u,role:h="menuitem",tabIndex:p,className:m,...y}=r,b=$.useContext(g_),w=$.useMemo(()=>({dense:o||b.dense||!1,disableGutters:l}),[b.dense,o,l]),_=$.useRef(null);Ca(()=>{i&&_.current&&_.current.focus()},[i]);const E={...r,dense:w.dense,divider:a,disableGutters:l},T=Yge(r),C=Ir(_,t);let x;return r.disabled||(x=p!==void 0?p:-1),M.jsx(g_.Provider,{value:w,children:M.jsx(Kge,{ref:C,role:h,tabIndex:x,component:s,focusVisibleClassName:nt(T.focusVisible,u),className:nt(T.root,m),...y,ownerState:E,classes:T})})});function Xge(n){return Ot("MuiNativeSelect",n)}const n$=kt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Jge=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:s,error:o}=n,a={select:["select",t,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Be(t)}`,s&&"iconOpen",r&&"disabled"]};return Lt(a,Xge,e)},cY=Pe("select")(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${n$.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Qge=Pe(cY,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:jo,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${n$.multiple}`]:e.multiple}]}})({}),uY=Pe("svg")(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${n$.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Zge=Pe(uY,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Be(t.variant)}`],t.open&&e.iconOpen]}})({}),eye=$.forwardRef(function(e,t){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard",...u}=e,h={...e,disabled:i,variant:l,error:s},p=Jge(h);return M.jsxs($.Fragment,{children:[M.jsx(Qge,{ownerState:h,className:nt(p.select,r),disabled:i,ref:a||t,...u}),e.multiple?null:M.jsx(Zge,{as:o,ownerState:h,className:p.icon})]})});var M5;const tye=Pe("fieldset",{shouldForwardProp:jo})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),nye=Pe("legend",{shouldForwardProp:jo})(Ut(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function rye(n){const{children:e,classes:t,className:r,label:i,notched:s,...o}=n,a=i!=null&&i!=="",l={...n,notched:s,withLabel:a};return M.jsx(tye,{"aria-hidden":!0,className:r,ownerState:l,...o,children:M.jsx(nye,{ownerState:l,children:a?M.jsx("span",{children:i}):M5||(M5=M.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const iye=n=>{const{classes:e}=n,r=Lt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Pme,e);return{...e,...r}},sye=Pe(LR,{shouldForwardProp:n=>jo(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:MR})(Ut(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${jl.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${jl.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${jl.focused} .${jl.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(Ks()).map(([t])=>({props:{color:t},style:{[`&.${jl.focused} .${jl.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${jl.error} .${jl.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${jl.disabled} .${jl.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:r})=>t.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),oye=Pe(rye,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(n,e)=>e.notchedOutline})(Ut(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),aye=Pe(FR,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:OR})(Ut(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),r$=$.forwardRef(function(e,t){var r;const i=Vt({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:o=!1,inputComponent:a="input",label:l,multiline:u=!1,notched:h,slots:p={},type:m="text",...y}=i,b=iye(i),w=U0(),_=j0({props:i,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),E={...i,color:_.color||"primary",disabled:_.disabled,error:_.error,focused:_.focused,formControl:w,fullWidth:o,hiddenLabel:_.hiddenLabel,multiline:u,size:_.size,type:m},T=p.root??s.Root??sye,C=p.input??s.Input??aye;return M.jsx(JB,{slots:{root:T,input:C},renderSuffix:x=>M.jsx(oye,{ownerState:E,className:b.notchedOutline,label:l!=null&&l!==""&&_.required?r||(r=M.jsxs($.Fragment,{children:[l,"","*"]})):l,notched:typeof h<"u"?h:!!(x.startAdornment||x.filled||x.focused)}),fullWidth:o,inputComponent:a,multiline:u,ref:t,type:m,...y,classes:{...b,notchedOutline:null}})});r$.muiName="Input";function dY(n){return Ot("MuiSelect",n)}const qw=kt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var O5;const lye=Pe(cY,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${qw.select}`]:e.select},{[`&.${qw.select}`]:e[t.variant]},{[`&.${qw.error}`]:e.error},{[`&.${qw.multiple}`]:e.multiple}]}})({[`&.${qw.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),cye=Pe(uY,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Be(t.variant)}`],t.open&&e.iconOpen]}})({}),uye=Pe("input",{shouldForwardProp:n=>QG(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(n,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function L5(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function dye(n){return n==null||typeof n=="string"&&!n.trim()}const hye=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:s,error:o}=n,a={select:["select",t,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Be(t)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Lt(a,dY,e)},fye=$.forwardRef(function(e,t){var bn;const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:o,children:a,className:l,defaultOpen:u,defaultValue:h,disabled:p,displayEmpty:m,error:y=!1,IconComponent:b,inputRef:w,labelId:_,MenuProps:E={},multiple:T,name:C,onBlur:x,onChange:I,onClose:F,onFocus:k,onOpen:L,open:N,readOnly:A,renderValue:B,required:z,SelectDisplayProps:U={},tabIndex:Q,type:te,value:X,variant:ne="standard",...J}=e,[se,de]=aL({controlled:X,default:h,name:"Select"}),[q,Y]=aL({controlled:N,default:u,name:"Select"}),Z=$.useRef(null),le=$.useRef(null),[ce,ve]=$.useState(null),{current:ye}=$.useRef(N!=null),[xe,Oe]=$.useState(),ke=Ir(t,w),Xe=$.useCallback(tt=>{le.current=tt,tt&&ve(tt)},[]),je=ce==null?void 0:ce.parentNode;$.useImperativeHandle(ke,()=>({focus:()=>{le.current.focus()},node:Z.current,value:se}),[se]),$.useEffect(()=>{u&&q&&ce&&!ye&&(Oe(o?null:je.clientWidth),le.current.focus())},[ce,o]),$.useEffect(()=>{s&&le.current.focus()},[s]),$.useEffect(()=>{if(!_)return;const tt=ss(le.current).getElementById(_);if(tt){const qt=()=>{getSelection().isCollapsed&&le.current.focus()};return tt.addEventListener("click",qt),()=>{tt.removeEventListener("click",qt)}}},[_]);const dt=(tt,qt)=>{tt?L&&L(qt):F&&F(qt),ye||(Oe(o?null:je.clientWidth),Y(tt))},Ye=tt=>{tt.button===0&&(tt.preventDefault(),le.current.focus(),dt(!0,tt))},Ue=tt=>{dt(!1,tt)},Jt=$.Children.toArray(a),Fe=tt=>{const qt=Jt.find(Wn=>Wn.props.value===tt.target.value);qt!==void 0&&(de(qt.props.value),I&&I(tt,qt))},wt=tt=>qt=>{let Wn;if(qt.currentTarget.hasAttribute("tabindex")){if(T){Wn=Array.isArray(se)?se.slice():[];const Yr=se.indexOf(tt.props.value);Yr===-1?Wn.push(tt.props.value):Wn.splice(Yr,1)}else Wn=tt.props.value;if(tt.props.onClick&&tt.props.onClick(qt),se!==Wn&&(de(Wn),I)){const Yr=qt.nativeEvent||qt,Fa=new Yr.constructor(Yr.type,Yr);Object.defineProperty(Fa,"target",{writable:!0,value:{value:Wn,name:C}}),I(Fa,tt)}T||dt(!1,qt)}},Ft=tt=>{A||[" ","ArrowUp","ArrowDown","Enter"].includes(tt.key)&&(tt.preventDefault(),dt(!0,tt))},It=ce!==null&&q,pt=tt=>{!It&&x&&(Object.defineProperty(tt,"target",{writable:!0,value:{value:se,name:C}}),x(tt))};delete J["aria-invalid"];let Me,Mt;const Ht=[];let zn=!1;(ox({value:se})||m)&&(B?Me=B(se):zn=!0);const zt=Jt.map(tt=>{if(!$.isValidElement(tt))return null;let qt;if(T){if(!Array.isArray(se))throw new Error(sd(2));qt=se.some(Wn=>L5(Wn,tt.props.value)),qt&&zn&&Ht.push(tt.props.children)}else qt=L5(se,tt.props.value),qt&&zn&&(Mt=tt.props.children);return $.cloneElement(tt,{"aria-selected":qt?"true":"false",onClick:wt(tt),onKeyUp:Wn=>{Wn.key===" "&&Wn.preventDefault(),tt.props.onKeyUp&&tt.props.onKeyUp(Wn)},role:"option",selected:qt,value:void 0,"data-value":tt.props.value})});zn&&(T?Ht.length===0?Me=null:Me=Ht.reduce((tt,qt,Wn)=>(tt.push(qt),Wn<Ht.length-1&&tt.push(", "),tt),[]):Me=Mt);let lt=xe;!o&&ye&&ce&&(lt=je.clientWidth);let bt;typeof Q<"u"?bt=Q:bt=p?null:0;const Wt=U.id||(C?`mui-component-select-${C}`:void 0),mn={...e,variant:ne,value:se,open:It,error:y},et=hye(mn),tn={...E.PaperProps,...(bn=E.slotProps)==null?void 0:bn.paper},wn=M0();return M.jsxs($.Fragment,{children:[M.jsx(lye,{as:"div",ref:Xe,tabIndex:bt,role:"combobox","aria-controls":It?wn:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":It?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[_,Wt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":z?"true":void 0,"aria-invalid":y?"true":void 0,onKeyDown:Ft,onMouseDown:p||A?null:Ye,onBlur:pt,onFocus:k,...U,ownerState:mn,className:nt(U.className,et.select,l),id:Wt,children:dye(Me)?O5||(O5=M.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Me}),M.jsx(uye,{"aria-invalid":y,value:Array.isArray(se)?se.join(","):se,name:C,ref:Z,"aria-hidden":!0,onChange:Fe,tabIndex:-1,disabled:p,className:et.nativeInput,autoFocus:s,required:z,...J,ownerState:mn}),M.jsx(cye,{as:b,className:et.icon,ownerState:mn}),M.jsx(lY,{id:`menu-${C||""}`,anchorEl:je,open:It,onClose:Ue,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...E,MenuListProps:{"aria-labelledby":_,role:"listbox","aria-multiselectable":T?"true":void 0,disableListWrap:!0,id:wn,...E.MenuListProps},slotProps:{...E.slotProps,paper:{...tn,style:{minWidth:lt,...tn!=null?tn.style:null}}},children:zt})]})}),pye=n=>{const{classes:e}=n,r=Lt({root:["root"]},dY,e);return{...e,...r}},i$={name:"MuiSelect",overridesResolver:(n,e)=>e.root,shouldForwardProp:n=>jo(n)&&n!=="variant",slot:"Root"},mye=Pe(t$,i$)(""),gye=Pe(r$,i$)(""),yye=Pe(ZB,i$)(""),hY=$.forwardRef(function(e,t){const r=Vt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:h=Mme,id:p,input:m,inputProps:y,label:b,labelId:w,MenuProps:_,multiple:E=!1,native:T=!1,onClose:C,onOpen:x,open:I,renderValue:F,SelectDisplayProps:k,variant:L="outlined",...N}=r,A=T?eye:fye,B=U0(),z=j0({props:r,muiFormControl:B,states:["variant","error"]}),U=z.variant||L,Q={...r,variant:U,classes:o},te=pye(Q),{root:X,...ne}=te,J=m||{standard:M.jsx(mye,{ownerState:Q}),outlined:M.jsx(gye,{label:b,ownerState:Q}),filled:M.jsx(yye,{ownerState:Q})}[U],se=Ir(t,gf(J));return M.jsx($.Fragment,{children:$.cloneElement(J,{inputComponent:A,inputProps:{children:s,error:z.error,IconComponent:h,variant:U,type:void 0,multiple:E,...T?{id:p}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:w,MenuProps:_,onClose:C,onOpen:x,open:I,renderValue:F,SelectDisplayProps:{id:p,...k}},...y,classes:y?is(ne,y.classes):ne,...m?m.props.inputProps:{}},...(E&&T||u)&&U==="outlined"?{notched:!0}:{},ref:se,className:nt(J.props.className,a,te.root),...!m&&{variant:U},...N})})});hY.muiName="Select";function vye(n={}){const{autoHideDuration:e=null,disableWindowBlurListener:t=!1,onClose:r,open:i,resumeHideDuration:s}=n,o=lp();$.useEffect(()=>{if(!i)return;function E(T){T.defaultPrevented||T.key==="Escape"&&(r==null||r(T,"escapeKeyDown"))}return document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E)}},[i,r]);const a=yl((E,T)=>{r==null||r(E,T)}),l=yl(E=>{!r||E==null||o.start(E,()=>{a(null,"timeout")})});$.useEffect(()=>(i&&l(e),o.clear),[i,e,l,o]);const u=E=>{r==null||r(E,"clickaway")},h=o.clear,p=$.useCallback(()=>{e!=null&&l(s??e*.5)},[e,s,l]),m=E=>T=>{const C=E.onBlur;C==null||C(T),p()},y=E=>T=>{const C=E.onFocus;C==null||C(T),h()},b=E=>T=>{const C=E.onMouseEnter;C==null||C(T),h()},w=E=>T=>{const C=E.onMouseLeave;C==null||C(T),p()};return $.useEffect(()=>{if(!t&&i)return window.addEventListener("focus",p),window.addEventListener("blur",h),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",h)}},[t,i,p,h]),{getRootProps:(E={})=>{const T={...zA(n),...zA(E)};return{role:"presentation",...E,...T,onBlur:m(T),onFocus:y(T),onMouseEnter:b(T),onMouseLeave:w(T)}},onClickAway:u}}function wye(n){return Ot("MuiSnackbarContent",n)}kt("MuiSnackbarContent",["root","message","action"]);const bye=n=>{const{classes:e}=n;return Lt({root:["root"],action:["action"],message:["message"]},wye,e)},_ye=Pe($0,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(n,e)=>e.root})(Ut(({theme:n})=>{const e=n.palette.mode==="light"?.8:.98,t=LG(n.palette.background.default,e);return{...n.typography.body2,color:n.vars?n.vars.palette.SnackbarContent.color:n.palette.getContrastText(t),backgroundColor:n.vars?n.vars.palette.SnackbarContent.bg:t,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(n.vars||n).shape.borderRadius,flexGrow:1,[n.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),Sye=Pe("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(n,e)=>e.message})({padding:"8px 0"}),Eye=Pe("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(n,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Cye=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiSnackbarContent"}),{action:i,className:s,message:o,role:a="alert",...l}=r,u=r,h=bye(u);return M.jsxs(_ye,{role:a,square:!0,elevation:6,className:nt(h.root,s),ownerState:u,ref:t,...l,children:[M.jsx(Sye,{className:h.message,ownerState:u,children:o}),i?M.jsx(Eye,{className:h.action,ownerState:u,children:i}):null]})});function Tye(n){return Ot("MuiSnackbar",n)}kt("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Aye=n=>{const{classes:e,anchorOrigin:t}=n,r={root:["root",`anchorOrigin${Be(t.vertical)}${Be(t.horizontal)}`]};return Lt(r,Tye,e)},F5=Pe("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`anchorOrigin${Be(t.anchorOrigin.vertical)}${Be(t.anchorOrigin.horizontal)}`]]}})(Ut(({theme:n})=>({zIndex:(n.vars||n).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:e})=>e.anchorOrigin.vertical==="top",style:{top:8,[n.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:e})=>e.anchorOrigin.vertical!=="top",style:{bottom:8,[n.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[n.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[n.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="center",style:{[n.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),xye=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiSnackbar"}),i=Da(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:h,className:p,ClickAwayListenerProps:m,ContentProps:y,disableWindowBlurListener:b=!1,message:w,onBlur:_,onClose:E,onFocus:T,onMouseEnter:C,onMouseLeave:x,open:I,resumeHideDuration:F,TransitionComponent:k=f_,transitionDuration:L=s,TransitionProps:{onEnter:N,onExited:A,...B}={},...z}=r,U={...r,anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:u,disableWindowBlurListener:b,TransitionComponent:k,transitionDuration:L},Q=Aye(U),{getRootProps:te,onClickAway:X}=vye({...U}),[ne,J]=$.useState(!0),se=WA({elementType:F5,getSlotProps:te,externalForwardedProps:z,ownerState:U,additionalProps:{ref:t},className:[Q.root,p]}),de=Y=>{J(!0),A&&A(Y)},q=(Y,Z)=>{J(!1),N&&N(Y,Z)};return!I&&ne?null:M.jsx(Lme,{onClickAway:X,...m,children:M.jsx(F5,{...se,children:M.jsx(k,{appear:!0,in:I,timeout:L,direction:a==="top"?"down":"up",onEnter:q,onExited:de,...B,children:h||M.jsx(Cye,{message:w,action:o,...y})})})})});function Rye(n){return Ot("MuiTooltip",n)}const Tr=kt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function Iye(n){return Math.round(n*1e5)/1e5}const kye=n=>{const{classes:e,disableInteractive:t,arrow:r,touch:i,placement:s}=n,o={popper:["popper",!t&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${Be(s.split("-")[0])}`],arrow:["arrow"]};return Lt(o,Rye,e)},Pye=Pe(iY,{name:"MuiTooltip",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.popper,!t.disableInteractive&&e.popperInteractive,t.arrow&&e.popperArrow,!t.open&&e.popperClose]}})(Ut(({theme:n})=>({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Tr.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Tr.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Tr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Tr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Tr.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Tr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Tr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Tr.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),Dye=Pe("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.tooltip,t.touch&&e.touch,t.arrow&&e.tooltipArrow,e[`tooltipPlacement${Be(t.placement.split("-")[0])}`]]}})(Ut(({theme:n})=>({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:Fn(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium,[`.${Tr.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Tr.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Tr.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Tr.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:`${Iye(16/14)}em`,fontWeight:n.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Tr.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Tr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Tr.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Tr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Tr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Tr.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Tr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Tr.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Tr.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Tr.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Mye=Pe("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(n,e)=>e.arrow})(Ut(({theme:n})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:n.vars?n.vars.palette.Tooltip.bg:Fn(n.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let rT=!1;const N5=new vR;let Gw={x:0,y:0};function iT(n,e){return(t,...r)=>{e&&e(t,...r),n(t,...r)}}const Qs=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:s,classes:o,components:a={},componentsProps:l={},describeChild:u=!1,disableFocusListener:h=!1,disableHoverListener:p=!1,disableInteractive:m=!1,disableTouchListener:y=!1,enterDelay:b=100,enterNextDelay:w=0,enterTouchDelay:_=700,followCursor:E=!1,id:T,leaveDelay:C=0,leaveTouchDelay:x=1500,onClose:I,onOpen:F,open:k,placement:L="bottom",PopperComponent:N,PopperProps:A={},slotProps:B={},slots:z={},title:U,TransitionComponent:Q,TransitionProps:te,...X}=r,ne=$.isValidElement(s)?s:M.jsx("span",{children:s}),J=Da(),se=wR(),[de,q]=$.useState(),[Y,Z]=$.useState(null),le=$.useRef(!1),ce=m||E,ve=lp(),ye=lp(),xe=lp(),Oe=lp(),[ke,Xe]=aL({controlled:k,default:!1,name:"Tooltip",state:"open"});let je=ke;const dt=M0(T),Ye=$.useRef(),Ue=yl(()=>{Ye.current!==void 0&&(document.body.style.WebkitUserSelect=Ye.current,Ye.current=void 0),Oe.clear()});$.useEffect(()=>Ue,[Ue]);const Jt=mt=>{N5.clear(),rT=!0,Xe(!0),F&&!je&&F(mt)},Fe=yl(mt=>{N5.start(800+C,()=>{rT=!1}),Xe(!1),I&&je&&I(mt),ve.start(J.transitions.duration.shortest,()=>{le.current=!1})}),wt=mt=>{le.current&&mt.type!=="touchstart"||(de&&de.removeAttribute("title"),ye.clear(),xe.clear(),b||rT&&w?ye.start(rT?w:b,()=>{Jt(mt)}):Jt(mt))},Ft=mt=>{ye.clear(),xe.start(C,()=>{Fe(mt)})},[,It]=$.useState(!1),pt=mt=>{p0(mt.target)||(It(!1),Ft(mt))},Me=mt=>{de||q(mt.currentTarget),p0(mt.target)&&(It(!0),wt(mt))},Mt=mt=>{le.current=!0;const kr=ne.props;kr.onTouchStart&&kr.onTouchStart(mt)},Ht=mt=>{Mt(mt),xe.clear(),ve.clear(),Ue(),Ye.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Oe.start(_,()=>{document.body.style.WebkitUserSelect=Ye.current,wt(mt)})},zn=mt=>{ne.props.onTouchEnd&&ne.props.onTouchEnd(mt),Ue(),xe.start(x,()=>{Fe(mt)})};$.useEffect(()=>{if(!je)return;function mt(kr){kr.key==="Escape"&&Fe(kr)}return document.addEventListener("keydown",mt),()=>{document.removeEventListener("keydown",mt)}},[Fe,je]);const zt=Ir(gf(ne),q,t);!U&&U!==0&&(je=!1);const lt=$.useRef(),bt=mt=>{const kr=ne.props;kr.onMouseMove&&kr.onMouseMove(mt),Gw={x:mt.clientX,y:mt.clientY},lt.current&&lt.current.update()},Wt={},mn=typeof U=="string";u?(Wt.title=!je&&mn&&!p?U:null,Wt["aria-describedby"]=je?dt:null):(Wt["aria-label"]=mn?U:null,Wt["aria-labelledby"]=je&&!mn?dt:null);const et={...Wt,...X,...ne.props,className:nt(X.className,ne.props.className),onTouchStart:Mt,ref:zt,...E?{onMouseMove:bt}:{}},tn={};y||(et.onTouchStart=Ht,et.onTouchEnd=zn),p||(et.onMouseOver=iT(wt,et.onMouseOver),et.onMouseLeave=iT(Ft,et.onMouseLeave),ce||(tn.onMouseOver=wt,tn.onMouseLeave=Ft)),h||(et.onFocus=iT(Me,et.onFocus),et.onBlur=iT(pt,et.onBlur),ce||(tn.onFocus=Me,tn.onBlur=pt));const wn={...r,isRtl:se,arrow:i,disableInteractive:ce,placement:L,PopperComponentProp:N,touch:le.current},bn=typeof B.popper=="function"?B.popper(wn):B.popper,tt=$.useMemo(()=>{var kr,Sd;let mt=[{name:"arrow",enabled:!!Y,options:{element:Y,padding:4}}];return(kr=A.popperOptions)!=null&&kr.modifiers&&(mt=mt.concat(A.popperOptions.modifiers)),(Sd=bn==null?void 0:bn.popperOptions)!=null&&Sd.modifiers&&(mt=mt.concat(bn.popperOptions.modifiers)),{...A.popperOptions,...bn==null?void 0:bn.popperOptions,modifiers:mt}},[Y,A.popperOptions,bn==null?void 0:bn.popperOptions]),qt=kye(wn),Wn=typeof B.transition=="function"?B.transition(wn):B.transition,Yr={slots:{popper:a.Popper,transition:a.Transition??Q,tooltip:a.Tooltip,arrow:a.Arrow,...z},slotProps:{arrow:B.arrow??l.arrow,popper:{...A,...bn??l.popper},tooltip:B.tooltip??l.tooltip,transition:{...te,...Wn??l.transition}}},[Fa,bd]=Rn("popper",{elementType:Pye,externalForwardedProps:Yr,ownerState:wn,className:nt(qt.popper,A==null?void 0:A.className)}),[As,Vo]=Rn("transition",{elementType:f_,externalForwardedProps:Yr,ownerState:wn}),[_d,Ho]=Rn("tooltip",{elementType:Dye,className:qt.tooltip,externalForwardedProps:Yr,ownerState:wn}),[Cf,$c]=Rn("arrow",{elementType:Mye,className:qt.arrow,externalForwardedProps:Yr,ownerState:wn,ref:Z});return M.jsxs($.Fragment,{children:[$.cloneElement(ne,et),M.jsx(Fa,{as:N??iY,placement:L,anchorEl:E?{getBoundingClientRect:()=>({top:Gw.y,left:Gw.x,right:Gw.x,bottom:Gw.y,width:0,height:0})}:de,popperRef:lt,open:de?je:!1,id:dt,transition:!0,...tn,...bd,popperOptions:tt,children:({TransitionProps:mt})=>M.jsx(As,{timeout:J.transitions.duration.shorter,...mt,...Vo,children:M.jsxs(_d,{...Ho,children:[U,i?M.jsx(Cf,{...$c}):null]})})})]})});function Oye(n){return Ot("MuiTextField",n)}kt("MuiTextField",["root"]);const Lye={standard:t$,filled:ZB,outlined:r$},Fye=n=>{const{classes:e}=n;return Lt({root:["root"]},Oye,e)},Nye=Pe(sge,{name:"MuiTextField",slot:"Root",overridesResolver:(n,e)=>e.root})({}),Dm=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:h=!1,error:p=!1,FormHelperTextProps:m,fullWidth:y=!1,helperText:b,id:w,InputLabelProps:_,inputProps:E,InputProps:T,inputRef:C,label:x,maxRows:I,minRows:F,multiline:k=!1,name:L,onBlur:N,onChange:A,onFocus:B,placeholder:z,required:U=!1,rows:Q,select:te=!1,SelectProps:X,slots:ne={},slotProps:J={},type:se,value:de,variant:q="outlined",...Y}=r,Z={...r,autoFocus:s,color:l,disabled:h,error:p,fullWidth:y,multiline:k,required:U,select:te,variant:q},le=Fye(Z),ce=M0(w),ve=b&&ce?`${ce}-helper-text`:void 0,ye=x&&ce?`${ce}-label`:void 0,xe=Lye[q],Oe={slots:ne,slotProps:{input:T,inputLabel:_,htmlInput:E,formHelperText:m,select:X,...J}},ke={},Xe=Oe.slotProps.inputLabel;q==="outlined"&&(Xe&&typeof Xe.shrink<"u"&&(ke.notched=Xe.shrink),ke.label=x),te&&((!X||!X.native)&&(ke.id=void 0),ke["aria-describedby"]=void 0);const[je,dt]=Rn("input",{elementType:xe,externalForwardedProps:Oe,additionalProps:ke,ownerState:Z}),[Ye,Ue]=Rn("inputLabel",{elementType:_ge,externalForwardedProps:Oe,ownerState:Z}),[Jt,Fe]=Rn("htmlInput",{elementType:"input",externalForwardedProps:Oe,ownerState:Z}),[wt,Ft]=Rn("formHelperText",{elementType:cge,externalForwardedProps:Oe,ownerState:Z}),[It,pt]=Rn("select",{elementType:hY,externalForwardedProps:Oe,ownerState:Z}),Me=M.jsx(je,{"aria-describedby":ve,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:y,multiline:k,name:L,rows:Q,maxRows:I,minRows:F,type:se,value:de,id:ce,inputRef:C,onBlur:N,onChange:A,onFocus:B,placeholder:z,inputProps:Fe,slots:{input:ne.htmlInput?Jt:void 0},...dt});return M.jsxs(Nye,{className:nt(le.root,a),disabled:h,error:p,fullWidth:y,ref:t,required:U,color:l,variant:q,ownerState:Z,...Y,children:[x!=null&&x!==""&&M.jsx(Ye,{htmlFor:ce,id:ye,...Ue,children:x}),te?M.jsx(It,{"aria-describedby":ve,id:ce,labelId:ye,value:de,input:Me,...pt,children:o}):Me,b&&M.jsx(wt,{id:ve,...Ft,children:b})]})});function Bye(n){return Ot("MuiToggleButton",n)}const hp=kt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),fY=$.createContext({}),pY=$.createContext(void 0);function $ye(n,e){return e===void 0||n===void 0?!1:Array.isArray(e)?e.includes(n):n===e}const jye=n=>{const{classes:e,fullWidth:t,selected:r,disabled:i,size:s,color:o}=n,a={root:["root",r&&"selected",i&&"disabled",t&&"fullWidth",`size${Be(s)}`,o]};return Lt(a,Bye,e)},Uye=Pe(kR,{name:"MuiToggleButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`size${Be(t.size)}`]]}})(Ut(({theme:n})=>({...n.typography.button,borderRadius:(n.vars||n).shape.borderRadius,padding:11,border:`1px solid ${(n.vars||n).palette.divider}`,color:(n.vars||n).palette.action.active,[`&.${hp.disabled}`]:{color:(n.vars||n).palette.action.disabled,border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Fn(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${hp.selected}`]:{color:(n.vars||n).palette.text.primary,backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.selectedOpacity})`:Fn(n.palette.text.primary,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Fn(n.palette.text.primary,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.selectedOpacity})`:Fn(n.palette.text.primary,n.palette.action.selectedOpacity)}}}}},...Object.entries(n.palette).filter(Ks()).map(([e])=>({props:{color:e},style:{[`&.${hp.selected}`]:{color:(n.vars||n).palette[e].main,backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Fn(n.palette[e].main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Fn(n.palette[e].main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Fn(n.palette[e].main,n.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:n.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:n.typography.pxToRem(15)}}]}))),B5=$.forwardRef(function(e,t){const{value:r,...i}=$.useContext(fY),s=$.useContext(pY),o=f0({...i,selected:$ye(e.value,r)},e),a=Vt({props:o,name:"MuiToggleButton"}),{children:l,className:u,color:h="standard",disabled:p=!1,disableFocusRipple:m=!1,fullWidth:y=!1,onChange:b,onClick:w,selected:_,size:E="medium",value:T,...C}=a,x={...a,color:h,disabled:p,disableFocusRipple:m,fullWidth:y,size:E},I=jye(x),F=L=>{w&&(w(L,T),L.defaultPrevented)||b&&b(L,T)},k=s||"";return M.jsx(Uye,{className:nt(i.className,I.root,u,k),disabled:p,focusRipple:!m,ref:t,onClick:F,onChange:b,value:T,ownerState:x,"aria-pressed":_,...C,children:l})});function Vye(n){return Ot("MuiToggleButtonGroup",n)}const Yn=kt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Hye=n=>{const{classes:e,orientation:t,fullWidth:r,disabled:i}=n,s={root:["root",t,r&&"fullWidth"],grouped:["grouped",`grouped${Be(t)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Lt(s,Vye,e)},zye=Pe("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Yn.grouped}`]:e.grouped},{[`& .${Yn.grouped}`]:e[`grouped${Be(t.orientation)}`]},{[`& .${Yn.firstButton}`]:e.firstButton},{[`& .${Yn.lastButton}`]:e.lastButton},{[`& .${Yn.middleButton}`]:e.middleButton},e.root,t.orientation==="vertical"&&e.vertical,t.fullWidth&&e.fullWidth]}})(Ut(({theme:n})=>({display:"inline-flex",borderRadius:(n.vars||n).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${Yn.grouped}`]:{[`&.${Yn.selected} + .${Yn.grouped}.${Yn.selected}`]:{borderTop:0,marginTop:0}},[`& .${Yn.firstButton},& .${Yn.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${Yn.lastButton},& .${Yn.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${Yn.lastButton}.${hp.disabled},& .${Yn.middleButton}.${hp.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${Yn.grouped}`]:{[`&.${Yn.selected} + .${Yn.grouped}.${Yn.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${Yn.firstButton},& .${Yn.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${Yn.lastButton},& .${Yn.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${Yn.lastButton}.${hp.disabled},& .${Yn.middleButton}.${hp.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),Wye=$.forwardRef(function(e,t){const r=Vt({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:s,color:o="standard",disabled:a=!1,exclusive:l=!1,fullWidth:u=!1,onChange:h,orientation:p="horizontal",size:m="medium",value:y,...b}=r,w={...r,disabled:a,fullWidth:u,orientation:p,size:m},_=Hye(w),E=$.useCallback((k,L)=>{if(!h)return;const N=y&&y.indexOf(L);let A;y&&N>=0?(A=y.slice(),A.splice(N,1)):A=y?y.concat(L):[L],h(k,A)},[h,y]),T=$.useCallback((k,L)=>{h&&h(k,y===L?null:L)},[h,y]),C=$.useMemo(()=>({className:_.grouped,onChange:l?T:E,value:y,size:m,fullWidth:u,color:o,disabled:a}),[_.grouped,l,T,E,y,m,u,o,a]),x=Die(i),I=x.length,F=k=>{const L=k===0,N=k===I-1;return L&&N?"":L?_.firstButton:N?_.lastButton:_.middleButton};return M.jsx(zye,{role:"group",className:nt(_.root,s),ref:t,ownerState:w,...b,children:M.jsx(fY.Provider,{value:C,children:x.map((k,L)=>M.jsx(pY.Provider,{value:F(L),children:k},L))})})}),$5=({anchorEl:n,onClose:e})=>M.jsx(XE,{open:!!n,anchorEl:n,onClose:()=>setTimeout(e,0),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:M.jsxs(Ee,{sx:l5.container,children:[M.jsx(Ne,{children:"Are you sure you want to logout?"}),M.jsxs(Ee,{sx:l5.buttons,children:[M.jsx(Wr,{variant:"text",onClick:e,children:"Cancel"}),M.jsx(Wr,{variant:"filled",onClick:Ahe,children:"Logout"})]})]})}),j5={popover:{},container:{padding:4}},qye="data:image/svg+xml,%3c?xml%20version='1.0'%20?%3e%3csvg%20id='Apple'%20viewBox='0%200%20512%20512'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23f0432c;}.cls-2{fill:%23ffbf00;}.cls-3{fill:%2324aa49;}.cls-4{fill:%233384fc;}%3c/style%3e%3c/defs%3e%3ctitle/%3e%3cpath%20class='cls-1'%20d='M90,93.25l65.06,65.06a140.31,140.31,0,0,1,201-1v0l65-65.09a232.33,232.33,0,0,0-331,1Z'/%3e%3cpath%20class='cls-2'%20d='M90.85,419.76l65-65a140.34,140.34,0,0,1,1-198.71L91.81,91a232.35,232.35,0,0,0-1,328.8Z'/%3e%3cpolygon%20class='cls-3'%20points='301.98%20301.84%20301.98%20302.8%20302.94%20302.8%20301.98%20301.84'/%3e%3cpath%20class='cls-3'%20d='M255.5,488.21a231.65,231.65,0,0,0,164.55-68.3L355,354.84a140.3,140.3,0,0,1-199,0l-65,65A231.65,231.65,0,0,0,255.5,488.21Z'/%3e%3cpath%20class='cls-4'%20d='M484.36,210.33l-181.42.25V302.8h85.84a140.7,140.7,0,0,1-33.69,52.91l65.05,65.06a232.65,232.65,0,0,0,64.22-210.44Z'/%3e%3c/svg%3e",tu={container:{display:"flex",flexDirection:"column",gap:2,width:"300px"},formFields:{display:"flex",flexDirection:"column",gap:2,alignItems:"center"},field:{width:"100%"},google:{height:"24px"},googleButton:{display:"flex",flexDirection:"row",gap:1.5,paddingLeft:2.5,paddingRight:3,borderRadius:"20px"},title:{display:"flex",flexDirection:"row",gap:1,alignItems:"center"},logo:{height:"36px"}},Gye=()=>{const[n,e]=$.useState(!1),[t,r]=$.useState(""),[i,s]=$.useState(""),[o,a]=$.useState(""),[l,u]=$.useState(void 0),h=()=>{n?i===o?The(t,i).then(T=>u(T)):u({field:"password2",message:"Passwords do not match"}):Che(t,i).then(T=>u(T))},p=M.jsx(Dm,{sx:tu.field,value:t,type:"text",variant:"outlined",placeholder:"Email",autoFocus:!0,error:l&&l.field==="email",helperText:l&&l.field==="email"?l.message:null,onChange:T=>r(T.target.value)}),m=M.jsx(Dm,{sx:tu.field,value:i,type:"password",variant:"outlined",placeholder:"Password",error:l&&l.field==="password",helperText:l&&l.field==="password"?l.message:null,autoFocus:!0,onChange:T=>s(T.target.value)}),y=M.jsx(Dm,{sx:tu.field,value:o,type:"password",variant:"outlined",placeholder:"Confirm Password",autoFocus:!0,autoComplete:"off",error:l&&l.field==="password2",helperText:l&&l.field==="password2"?l.message:null,onChange:T=>a(T.target.value)}),b=M.jsx(Wr,{disabled:!t||!i,variant:"filled",onClick:h,children:n?"Sign Up":"Sign In"}),w=M.jsxs(Wr,{sx:tu.googleButton,onClick:Ehe,variant:"outlined",children:[M.jsx(Ee,{src:qye,sx:tu.google,component:"img",alt:"google logo"}),"Sign in with Google"]}),_=()=>{const T=n?"Already have an account?":"Don't have an account?",C=n?"Sign In":"Sign Up";return M.jsxs(M.Fragment,{children:[M.jsx(Ne,{children:T}),M.jsx(Wr,{variant:"text",onClick:()=>e(!n),children:C})]})},E=l&&!["password2","password","email"].includes(l.field)&&M.jsx("div",{className:"error-message",children:M.jsx("p",{children:l==null?void 0:l.message})});return M.jsxs(Ee,{sx:tu.container,children:[M.jsxs(Ee,{sx:tu.title,children:[M.jsx(Ne,{variant:"h1",children:"Welcome"}),M.jsx(Ee,{sx:tu.logo,src:L7,component:"img"})]}),M.jsx(Ne,{children:"Sign in to customize the list of bills you're tracking"}),M.jsxs(Ee,{sx:tu.formFields,children:[p,m,n&&y,E,b,"or",w,_()]})]})},U5=({anchorEl:n,onClose:e})=>M.jsx(XE,{open:!!n,anchorEl:n,sx:j5.popover,onClose:()=>setTimeout(e,0),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:M.jsx(Ee,{sx:j5.container,children:M.jsx(Gye,{})})}),V5=Gr(M.jsx("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"}),"BugReport"),Yye=Gr(M.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),H5=({})=>{const{setModalClosed:n,anchorEl:e,setModalOpen:t}=c_(),r=L0(),{currentUser:i}=KE(),s=Da(),o=e$(s.breakpoints.down("md")),[a,l]=$.useState(null),u=!!a;$.useEffect(()=>{n()},[i]);const h=y=>{l(y.currentTarget)},p=()=>{l(null)},m=()=>{r("/feedback"),p()};return M.jsxs(Ee,{sx:QC.container,children:[M.jsx(Nhe,{}),M.jsxs(Ee,{sx:QC.rightSection,children:[!o&&M.jsxs(M.Fragment,{children:[i&&M.jsxs(Ee,{sx:QC.logout,children:[M.jsx(Ne,{sx:QC.emailText,children:i.email}),M.jsx(Wr,{variant:"text",onClick:t,children:"Logout"}),M.jsx($5,{anchorEl:e,onClose:n})]}),!i&&M.jsxs(M.Fragment,{children:[M.jsx(Wr,{variant:"filled",onClick:t,children:"Login"}),M.jsx(U5,{anchorEl:e,onClose:n})]}),M.jsx(Qs,{title:"Submit Feedback",children:M.jsx(Ts,{onClick:()=>r("/feedback"),children:M.jsx(V5,{})})})]}),o&&M.jsxs(M.Fragment,{children:[M.jsx(Ts,{onClick:h,children:M.jsx(Yye,{})}),M.jsxs(lY,{anchorEl:a,open:u,onClose:p,children:[i&&M.jsxs(M.Fragment,{children:[M.jsx(QP,{onClick:y=>{t(y),p()},children:M.jsx(P5,{primary:"Logout",secondary:i.email})}),M.jsx($5,{anchorEl:e,onClose:n})]}),!i&&M.jsxs(M.Fragment,{children:[M.jsx(QP,{onClick:y=>{t(y),p()},children:"Login"}),M.jsx(U5,{anchorEl:e,onClose:n})]}),M.jsxs(QP,{onClick:m,children:[M.jsx(P5,{children:"Submit Feedback"}),M.jsx(Oge,{sx:{justifyContent:"flex-end"},children:M.jsx(V5,{fontSize:"small"})})]})]})]})]})]})},Yw={buttonRow:{display:"flex",flexDirection:"row",gap:2},tabButton:{paddingTop:1,paddingBottom:1,paddingLeft:3,paddingRight:3,backgroundColor:"#f7f7f7",boxShadow:"none","&:hover":{filter:"brightness(80%)",boxShadow:"none"}},activeTabButton:{color:"#3E753B",backgroundColor:"#D4ECD4"},tabText:{color:"#A7A7A7 !important"},activeText:{color:"#3E753B !important"}},mY=({value:n,children:e})=>localStorage.getItem(n)!=="true"?null:M.jsx(M.Fragment,{children:e}),z5=()=>{const n=yf().pathname,e=L0(),t=$.useMemo(()=>{if(n.includes("/bill/"))return"bill";if(n.includes("/calendar"))return"calendar";if(n.includes("/updates"))return"updates";if(n.includes("/location"))return"location";if(n.includes("/votes"))return"votes";if(n.includes("/"))return"updates"},[n]),r=$.useCallback(s=>{s==="updates"&&e("/updates"),s==="calendar"&&e("/calendar"),s==="location"&&e("/location"),s==="votes"&&e("/votes")},[e]),i=({label:s,path:o})=>M.jsx(Wr,{variant:"contained",sx:[Yw.tabButton,...t===o?[Yw.activeTabButton]:[]],onClick:()=>r(o),children:M.jsx(Ne,{sx:{...Yw.tabText,...t===o?Yw.activeText:{}},variant:"button",children:s})});return M.jsxs(Ee,{sx:Yw.buttonRow,children:[M.jsx(i,{label:"Updates",path:"updates"}),M.jsx(i,{label:"Location",path:"location"}),M.jsx(i,{label:"Calendar",path:"calendar"}),M.jsx(mY,{value:"votes",children:M.jsx(i,{label:"Votes",path:"votes"})})]})},ML={RED:"#C94754",SALMON:"#F18D7E",PINK:"#FDC0C7",ORANGE:"#FFA86A",GOLD:"#CFA044",SAGE:"#7FAD7F",PEACH:"#F6C388",LIME:"#DCDE73",TEAL:"#3F7880",PURPLE:"#7C3361",BLUE:"#57A5BB",VIOLET:"#A391B7"},Kye={square:{width:"20px",height:"20px",borderRadius:"4px",boxSizing:"border-box"}},s$=({color:n="#fff",filled:e=!0})=>{const t={backgroundColor:e?n:"transparent",border:`2px solid ${n}`};return M.jsx(Ee,{sx:{...Kye.square,...t}})},gY=Gr(M.jsx("path",{d:"M8.12 9.29 12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41 0s.39 1.02 0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41 0L6.7 10.7a.996.996 0 0 1 0-1.41c.39-.38 1.03-.39 1.42 0"}),"KeyboardArrowDownRounded"),ny={container:{padding:3,borderRadius:"8px",display:"flex",flexDirection:"column",gap:2,alignItems:"flex-end"},title:{width:"100%"},form:{display:"flex",flexDirection:"row",gap:2},billNumber:{width:"140px"},sessionKey:{width:"100%"},color:{display:"flex",flexDirection:"row",padding:"0px 16px",backgroundColor:"#EFEFEF",gap:2,alignItems:"center",borderRadius:"8px",position:"relative"}},W5={popover:{marginTop:1},colorsContainer:{padding:2,display:"flex",flexDirection:"row",width:"144px",flexWrap:"wrap"}},Xye=({anchorEl:n,onClose:e,updateColor:t})=>M.jsx(XE,{open:!!n,anchorEl:n,sx:W5.popover,onClose:()=>setTimeout(e,0),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:M.jsx(Ee,{sx:W5.colorsContainer,children:Object.values(ML).map(r=>M.jsx(Ts,{onClick:()=>{t(r),setTimeout(e,0)},children:M.jsx(s$,{color:r})}))})}),Jye=Gr(M.jsx("path",{d:"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1"}),"AddRounded"),q5=n=>{let e;const t=new Set,r=(u,h)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const m=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(y=>y(e,m))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(t.add(u),()=>t.delete(u))},l=e=n(r,i,a);return a},Qye=n=>n?q5(n):q5,Zye=n=>n;function eve(n,e=Zye){const t=ie.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return ie.useDebugValue(t),t}const G5=n=>{const e=Qye(n),t=r=>eve(e,r);return Object.assign(t,e),t},ng=n=>n?G5(n):G5,tve="348px",Ly={MeasureModal:"View measure details",DeleteMeasure:"Remove bill from tracking",ToggleVisibility:"Toggle Measure Visibility"},nve="2025R1",Jn=n=>{const{MeasurePrefix:e,MeasureNumber:t,SessionKey:r}=n;return`${e}-${t}-${r}`},Yb=n=>{const{MeasurePrefix:e,MeasureNumber:t}=n;return`${e} ${t}`},Kb=n=>{const[e,t,r]=n.split("-");return{MeasurePrefix:e,MeasureNumber:Number(t),SessionKey:r}},yY=n=>{const{MeasurePrefix:e,MeasureNumber:t,SessionKey:r}=Kb(n);return encodeURIComponent(`MeasureNumber eq ${t} and MeasurePrefix eq '${e}' and SessionKey eq '${r}'`)},vY=()=>encodeURIComponent(`SessionKey eq '${nve}'`),wa=ng((n,e)=>({userTrackedMeasures:void 0,areUserMeasuresLoading:!0,getSafeUserTrackedMeasures:()=>e().userTrackedMeasures?e().userTrackedMeasures:[],setUserTrackedMeasures:t=>n({userTrackedMeasures:t}),setAreUserMeasuresLoading:t=>n({areUserMeasuresLoading:t}),addUserTrackedMeasure:t=>n({userTrackedMeasures:[...e().getSafeUserTrackedMeasures(),t]}),getUserTrackedMeasureUniqueIds:()=>e().getSafeUserTrackedMeasures().map(t=>Jn(t)),removeTrackedMeasureById:t=>n({userTrackedMeasures:e().getSafeUserTrackedMeasures().filter(r=>Jn(r)!=t)}),getUserTrackedMeasurePositionById:t=>{var r;return(r=e().getSafeUserTrackedMeasures().find(i=>Jn(i)===t))==null?void 0:r.position},getUserMeasureMetadataById:t=>e().getSafeUserTrackedMeasures().find(r=>Jn(r)===t),getUserMeasureColorById:t=>{var r;return(r=e().getUserMeasureMetadataById(t))==null?void 0:r.color},setUserTrackedMeasureFilterStatusById:(t,r)=>n({userTrackedMeasures:ive(e().getSafeUserTrackedMeasures(),t,r)}),toggleAllUserTrackedFilterStatusesBasedOnAnId:t=>n({userTrackedMeasures:rve(e().getSafeUserTrackedMeasures(),t)})})),rve=(n,e)=>{let t=[];const r=n.filter(i=>i.isDisplayed);return r.length===1&&Jn(r[0])===e?n.forEach(i=>{t.push({...i,isDisplayed:!0})}):n.forEach(i=>{Jn(i)===e?t.push({...i,isDisplayed:!0}):t.push({...i,isDisplayed:!1})}),t},ive=(n,e,t)=>{let r=[];return n.forEach(i=>{Jn(i)===e?r.push({...i,isDisplayed:t}):r.push(i)}),r};var Y5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qh,wY;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,L){function N(){}N.prototype=L.prototype,k.D=L.prototype,k.prototype=new N,k.prototype.constructor=k,k.C=function(A,B,z){for(var U=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)U[Q-2]=arguments[Q];return L.prototype[B].apply(A,U)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,L,N){N||(N=0);var A=Array(16);if(typeof L=="string")for(var B=0;16>B;++B)A[B]=L.charCodeAt(N++)|L.charCodeAt(N++)<<8|L.charCodeAt(N++)<<16|L.charCodeAt(N++)<<24;else for(B=0;16>B;++B)A[B]=L[N++]|L[N++]<<8|L[N++]<<16|L[N++]<<24;L=k.g[0],N=k.g[1],B=k.g[2];var z=k.g[3],U=L+(z^N&(B^z))+A[0]+3614090360&4294967295;L=N+(U<<7&4294967295|U>>>25),U=z+(B^L&(N^B))+A[1]+3905402710&4294967295,z=L+(U<<12&4294967295|U>>>20),U=B+(N^z&(L^N))+A[2]+606105819&4294967295,B=z+(U<<17&4294967295|U>>>15),U=N+(L^B&(z^L))+A[3]+3250441966&4294967295,N=B+(U<<22&4294967295|U>>>10),U=L+(z^N&(B^z))+A[4]+4118548399&4294967295,L=N+(U<<7&4294967295|U>>>25),U=z+(B^L&(N^B))+A[5]+1200080426&4294967295,z=L+(U<<12&4294967295|U>>>20),U=B+(N^z&(L^N))+A[6]+2821735955&4294967295,B=z+(U<<17&4294967295|U>>>15),U=N+(L^B&(z^L))+A[7]+4249261313&4294967295,N=B+(U<<22&4294967295|U>>>10),U=L+(z^N&(B^z))+A[8]+1770035416&4294967295,L=N+(U<<7&4294967295|U>>>25),U=z+(B^L&(N^B))+A[9]+2336552879&4294967295,z=L+(U<<12&4294967295|U>>>20),U=B+(N^z&(L^N))+A[10]+4294925233&4294967295,B=z+(U<<17&4294967295|U>>>15),U=N+(L^B&(z^L))+A[11]+2304563134&4294967295,N=B+(U<<22&4294967295|U>>>10),U=L+(z^N&(B^z))+A[12]+1804603682&4294967295,L=N+(U<<7&4294967295|U>>>25),U=z+(B^L&(N^B))+A[13]+4254626195&4294967295,z=L+(U<<12&4294967295|U>>>20),U=B+(N^z&(L^N))+A[14]+2792965006&4294967295,B=z+(U<<17&4294967295|U>>>15),U=N+(L^B&(z^L))+A[15]+1236535329&4294967295,N=B+(U<<22&4294967295|U>>>10),U=L+(B^z&(N^B))+A[1]+4129170786&4294967295,L=N+(U<<5&4294967295|U>>>27),U=z+(N^B&(L^N))+A[6]+3225465664&4294967295,z=L+(U<<9&4294967295|U>>>23),U=B+(L^N&(z^L))+A[11]+643717713&4294967295,B=z+(U<<14&4294967295|U>>>18),U=N+(z^L&(B^z))+A[0]+3921069994&4294967295,N=B+(U<<20&4294967295|U>>>12),U=L+(B^z&(N^B))+A[5]+3593408605&4294967295,L=N+(U<<5&4294967295|U>>>27),U=z+(N^B&(L^N))+A[10]+38016083&4294967295,z=L+(U<<9&4294967295|U>>>23),U=B+(L^N&(z^L))+A[15]+3634488961&4294967295,B=z+(U<<14&4294967295|U>>>18),U=N+(z^L&(B^z))+A[4]+3889429448&4294967295,N=B+(U<<20&4294967295|U>>>12),U=L+(B^z&(N^B))+A[9]+568446438&4294967295,L=N+(U<<5&4294967295|U>>>27),U=z+(N^B&(L^N))+A[14]+3275163606&4294967295,z=L+(U<<9&4294967295|U>>>23),U=B+(L^N&(z^L))+A[3]+4107603335&4294967295,B=z+(U<<14&4294967295|U>>>18),U=N+(z^L&(B^z))+A[8]+1163531501&4294967295,N=B+(U<<20&4294967295|U>>>12),U=L+(B^z&(N^B))+A[13]+2850285829&4294967295,L=N+(U<<5&4294967295|U>>>27),U=z+(N^B&(L^N))+A[2]+4243563512&4294967295,z=L+(U<<9&4294967295|U>>>23),U=B+(L^N&(z^L))+A[7]+1735328473&4294967295,B=z+(U<<14&4294967295|U>>>18),U=N+(z^L&(B^z))+A[12]+2368359562&4294967295,N=B+(U<<20&4294967295|U>>>12),U=L+(N^B^z)+A[5]+4294588738&4294967295,L=N+(U<<4&4294967295|U>>>28),U=z+(L^N^B)+A[8]+2272392833&4294967295,z=L+(U<<11&4294967295|U>>>21),U=B+(z^L^N)+A[11]+1839030562&4294967295,B=z+(U<<16&4294967295|U>>>16),U=N+(B^z^L)+A[14]+4259657740&4294967295,N=B+(U<<23&4294967295|U>>>9),U=L+(N^B^z)+A[1]+2763975236&4294967295,L=N+(U<<4&4294967295|U>>>28),U=z+(L^N^B)+A[4]+1272893353&4294967295,z=L+(U<<11&4294967295|U>>>21),U=B+(z^L^N)+A[7]+4139469664&4294967295,B=z+(U<<16&4294967295|U>>>16),U=N+(B^z^L)+A[10]+3200236656&4294967295,N=B+(U<<23&4294967295|U>>>9),U=L+(N^B^z)+A[13]+681279174&4294967295,L=N+(U<<4&4294967295|U>>>28),U=z+(L^N^B)+A[0]+3936430074&4294967295,z=L+(U<<11&4294967295|U>>>21),U=B+(z^L^N)+A[3]+3572445317&4294967295,B=z+(U<<16&4294967295|U>>>16),U=N+(B^z^L)+A[6]+76029189&4294967295,N=B+(U<<23&4294967295|U>>>9),U=L+(N^B^z)+A[9]+3654602809&4294967295,L=N+(U<<4&4294967295|U>>>28),U=z+(L^N^B)+A[12]+3873151461&4294967295,z=L+(U<<11&4294967295|U>>>21),U=B+(z^L^N)+A[15]+530742520&4294967295,B=z+(U<<16&4294967295|U>>>16),U=N+(B^z^L)+A[2]+3299628645&4294967295,N=B+(U<<23&4294967295|U>>>9),U=L+(B^(N|~z))+A[0]+4096336452&4294967295,L=N+(U<<6&4294967295|U>>>26),U=z+(N^(L|~B))+A[7]+1126891415&4294967295,z=L+(U<<10&4294967295|U>>>22),U=B+(L^(z|~N))+A[14]+2878612391&4294967295,B=z+(U<<15&4294967295|U>>>17),U=N+(z^(B|~L))+A[5]+4237533241&4294967295,N=B+(U<<21&4294967295|U>>>11),U=L+(B^(N|~z))+A[12]+1700485571&4294967295,L=N+(U<<6&4294967295|U>>>26),U=z+(N^(L|~B))+A[3]+2399980690&4294967295,z=L+(U<<10&4294967295|U>>>22),U=B+(L^(z|~N))+A[10]+4293915773&4294967295,B=z+(U<<15&4294967295|U>>>17),U=N+(z^(B|~L))+A[1]+2240044497&4294967295,N=B+(U<<21&4294967295|U>>>11),U=L+(B^(N|~z))+A[8]+1873313359&4294967295,L=N+(U<<6&4294967295|U>>>26),U=z+(N^(L|~B))+A[15]+4264355552&4294967295,z=L+(U<<10&4294967295|U>>>22),U=B+(L^(z|~N))+A[6]+2734768916&4294967295,B=z+(U<<15&4294967295|U>>>17),U=N+(z^(B|~L))+A[13]+1309151649&4294967295,N=B+(U<<21&4294967295|U>>>11),U=L+(B^(N|~z))+A[4]+4149444226&4294967295,L=N+(U<<6&4294967295|U>>>26),U=z+(N^(L|~B))+A[11]+3174756917&4294967295,z=L+(U<<10&4294967295|U>>>22),U=B+(L^(z|~N))+A[2]+718787259&4294967295,B=z+(U<<15&4294967295|U>>>17),U=N+(z^(B|~L))+A[9]+3951481745&4294967295,k.g[0]=k.g[0]+L&4294967295,k.g[1]=k.g[1]+(B+(U<<21&4294967295|U>>>11))&4294967295,k.g[2]=k.g[2]+B&4294967295,k.g[3]=k.g[3]+z&4294967295}r.prototype.u=function(k,L){L===void 0&&(L=k.length);for(var N=L-this.blockSize,A=this.B,B=this.h,z=0;z<L;){if(B==0)for(;z<=N;)i(this,k,z),z+=this.blockSize;if(typeof k=="string"){for(;z<L;)if(A[B++]=k.charCodeAt(z++),B==this.blockSize){i(this,A),B=0;break}}else for(;z<L;)if(A[B++]=k[z++],B==this.blockSize){i(this,A),B=0;break}}this.h=B,this.o+=L},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var L=1;L<k.length-8;++L)k[L]=0;var N=8*this.o;for(L=k.length-8;L<k.length;++L)k[L]=N&255,N/=256;for(this.u(k),k=Array(16),L=N=0;4>L;++L)for(var A=0;32>A;A+=8)k[N++]=this.g[L]>>>A&255;return k};function s(k,L){var N=a;return Object.prototype.hasOwnProperty.call(N,k)?N[k]:N[k]=L(k)}function o(k,L){this.h=L;for(var N=[],A=!0,B=k.length-1;0<=B;B--){var z=k[B]|0;A&&z==L||(N[B]=z,A=!1)}this.g=N}var a={};function l(k){return-128<=k&&128>k?s(k,function(L){return new o([L|0],0>L?-1:0)}):new o([k|0],0>k?-1:0)}function u(k){if(isNaN(k)||!isFinite(k))return p;if(0>k)return _(u(-k));for(var L=[],N=1,A=0;k>=N;A++)L[A]=k/N|0,N*=4294967296;return new o(L,0)}function h(k,L){if(k.length==0)throw Error("number format error: empty string");if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(k.charAt(0)=="-")return _(h(k.substring(1),L));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(L,8)),A=p,B=0;B<k.length;B+=8){var z=Math.min(8,k.length-B),U=parseInt(k.substring(B,B+z),L);8>z?(z=u(Math.pow(L,z)),A=A.j(z).add(u(U))):(A=A.j(N),A=A.add(u(U)))}return A}var p=l(0),m=l(1),y=l(16777216);n=o.prototype,n.m=function(){if(w(this))return-_(this).m();for(var k=0,L=1,N=0;N<this.g.length;N++){var A=this.i(N);k+=(0<=A?A:4294967296+A)*L,L*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(b(this))return"0";if(w(this))return"-"+_(this).toString(k);for(var L=u(Math.pow(k,6)),N=this,A="";;){var B=x(N,L).g;N=E(N,B.j(L));var z=((0<N.g.length?N.g[0]:N.h)>>>0).toString(k);if(N=B,b(N))return z+A;for(;6>z.length;)z="0"+z;A=z+A}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function b(k){if(k.h!=0)return!1;for(var L=0;L<k.g.length;L++)if(k.g[L]!=0)return!1;return!0}function w(k){return k.h==-1}n.l=function(k){return k=E(this,k),w(k)?-1:b(k)?0:1};function _(k){for(var L=k.g.length,N=[],A=0;A<L;A++)N[A]=~k.g[A];return new o(N,~k.h).add(m)}n.abs=function(){return w(this)?_(this):this},n.add=function(k){for(var L=Math.max(this.g.length,k.g.length),N=[],A=0,B=0;B<=L;B++){var z=A+(this.i(B)&65535)+(k.i(B)&65535),U=(z>>>16)+(this.i(B)>>>16)+(k.i(B)>>>16);A=U>>>16,z&=65535,U&=65535,N[B]=U<<16|z}return new o(N,N[N.length-1]&-2147483648?-1:0)};function E(k,L){return k.add(_(L))}n.j=function(k){if(b(this)||b(k))return p;if(w(this))return w(k)?_(this).j(_(k)):_(_(this).j(k));if(w(k))return _(this.j(_(k)));if(0>this.l(y)&&0>k.l(y))return u(this.m()*k.m());for(var L=this.g.length+k.g.length,N=[],A=0;A<2*L;A++)N[A]=0;for(A=0;A<this.g.length;A++)for(var B=0;B<k.g.length;B++){var z=this.i(A)>>>16,U=this.i(A)&65535,Q=k.i(B)>>>16,te=k.i(B)&65535;N[2*A+2*B]+=U*te,T(N,2*A+2*B),N[2*A+2*B+1]+=z*te,T(N,2*A+2*B+1),N[2*A+2*B+1]+=U*Q,T(N,2*A+2*B+1),N[2*A+2*B+2]+=z*Q,T(N,2*A+2*B+2)}for(A=0;A<L;A++)N[A]=N[2*A+1]<<16|N[2*A];for(A=L;A<2*L;A++)N[A]=0;return new o(N,0)};function T(k,L){for(;(k[L]&65535)!=k[L];)k[L+1]+=k[L]>>>16,k[L]&=65535,L++}function C(k,L){this.g=k,this.h=L}function x(k,L){if(b(L))throw Error("division by zero");if(b(k))return new C(p,p);if(w(k))return L=x(_(k),L),new C(_(L.g),_(L.h));if(w(L))return L=x(k,_(L)),new C(_(L.g),L.h);if(30<k.g.length){if(w(k)||w(L))throw Error("slowDivide_ only works with positive integers.");for(var N=m,A=L;0>=A.l(k);)N=I(N),A=I(A);var B=F(N,1),z=F(A,1);for(A=F(A,2),N=F(N,2);!b(A);){var U=z.add(A);0>=U.l(k)&&(B=B.add(N),z=U),A=F(A,1),N=F(N,1)}return L=E(k,B.j(L)),new C(B,L)}for(B=p;0<=k.l(L);){for(N=Math.max(1,Math.floor(k.m()/L.m())),A=Math.ceil(Math.log(N)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),z=u(N),U=z.j(L);w(U)||0<U.l(k);)N-=A,z=u(N),U=z.j(L);b(z)&&(z=m),B=B.add(z),k=E(k,U)}return new C(B,k)}n.A=function(k){return x(this,k).h},n.and=function(k){for(var L=Math.max(this.g.length,k.g.length),N=[],A=0;A<L;A++)N[A]=this.i(A)&k.i(A);return new o(N,this.h&k.h)},n.or=function(k){for(var L=Math.max(this.g.length,k.g.length),N=[],A=0;A<L;A++)N[A]=this.i(A)|k.i(A);return new o(N,this.h|k.h)},n.xor=function(k){for(var L=Math.max(this.g.length,k.g.length),N=[],A=0;A<L;A++)N[A]=this.i(A)^k.i(A);return new o(N,this.h^k.h)};function I(k){for(var L=k.g.length+1,N=[],A=0;A<L;A++)N[A]=k.i(A)<<1|k.i(A-1)>>>31;return new o(N,k.h)}function F(k,L){var N=L>>5;L%=32;for(var A=k.g.length-N,B=[],z=0;z<A;z++)B[z]=0<L?k.i(z+N)>>>L|k.i(z+N+1)<<32-L:k.i(z+N);return new o(B,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wY=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Qh=o}).apply(typeof Y5<"u"?Y5:typeof self<"u"?self:typeof window<"u"?window:{});var sT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bY,fb,_Y,$T,OL,SY,EY,CY;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,P,V){return v==Array.prototype||v==Object.prototype||(v[P]=V.value),v};function t(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof sT=="object"&&sT];for(var P=0;P<v.length;++P){var V=v[P];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var r=t(this);function i(v,P){if(P)e:{var V=r;v=v.split(".");for(var G=0;G<v.length-1;G++){var oe=v[G];if(!(oe in V))break e;V=V[oe]}v=v[v.length-1],G=V[v],P=P(G),P!=G&&P!=null&&e(V,v,{configurable:!0,writable:!0,value:P})}}function s(v,P){v instanceof String&&(v+="");var V=0,G=!1,oe={next:function(){if(!G&&V<v.length){var pe=V++;return{value:P(pe,v[pe]),done:!1}}return G=!0,{done:!0,value:void 0}}};return oe[Symbol.iterator]=function(){return oe},oe}i("Array.prototype.values",function(v){return v||function(){return s(this,function(P,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(v){var P=typeof v;return P=P!="object"?P:v?Array.isArray(v)?"array":P:"null",P=="array"||P=="object"&&typeof v.length=="number"}function u(v){var P=typeof v;return P=="object"&&v!=null||P=="function"}function h(v,P,V){return v.call.apply(v.bind,arguments)}function p(v,P,V){if(!v)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(oe,G),v.apply(P,oe)}}return function(){return v.apply(P,arguments)}}function m(v,P,V){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(v,P){var V=Array.prototype.slice.call(arguments,1);return function(){var G=V.slice();return G.push.apply(G,arguments),v.apply(this,G)}}function b(v,P){function V(){}V.prototype=P.prototype,v.aa=P.prototype,v.prototype=new V,v.prototype.constructor=v,v.Qb=function(G,oe,pe){for(var Ie=Array(arguments.length-2),gn=2;gn<arguments.length;gn++)Ie[gn-2]=arguments[gn];return P.prototype[oe].apply(G,Ie)}}function w(v){const P=v.length;if(0<P){const V=Array(P);for(let G=0;G<P;G++)V[G]=v[G];return V}return[]}function _(v,P){for(let V=1;V<arguments.length;V++){const G=arguments[V];if(l(G)){const oe=v.length||0,pe=G.length||0;v.length=oe+pe;for(let Ie=0;Ie<pe;Ie++)v[oe+Ie]=G[Ie]}else v.push(G)}}class E{constructor(P,V){this.i=P,this.j=V,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function T(v){return/^[\s\xa0]*$/.test(v)}function C(){var v=a.navigator;return v&&(v=v.userAgent)?v:""}function x(v){return x[" "](v),v}x[" "]=function(){};var I=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function F(v,P,V){for(const G in v)P.call(V,v[G],G,v)}function k(v,P){for(const V in v)P.call(void 0,v[V],V,v)}function L(v){const P={};for(const V in v)P[V]=v[V];return P}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(v,P){let V,G;for(let oe=1;oe<arguments.length;oe++){G=arguments[oe];for(V in G)v[V]=G[V];for(let pe=0;pe<N.length;pe++)V=N[pe],Object.prototype.hasOwnProperty.call(G,V)&&(v[V]=G[V])}}function B(v){var P=1;v=v.split(":");const V=[];for(;0<P&&v.length;)V.push(v.shift()),P--;return v.length&&V.push(v.join(":")),V}function z(v){a.setTimeout(()=>{throw v},0)}function U(){var v=se;let P=null;return v.g&&(P=v.g,v.g=v.g.next,v.g||(v.h=null),P.next=null),P}class Q{constructor(){this.h=this.g=null}add(P,V){const G=te.get();G.set(P,V),this.h?this.h.next=G:this.g=G,this.h=G}}var te=new E(()=>new X,v=>v.reset());class X{constructor(){this.next=this.g=this.h=null}set(P,V){this.h=P,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,J=!1,se=new Q,de=()=>{const v=a.Promise.resolve(void 0);ne=()=>{v.then(q)}};var q=()=>{for(var v;v=U();){try{v.h.call(v.g)}catch(V){z(V)}var P=te;P.j(v),100>P.h&&(P.h++,v.next=P.g,P.g=v)}J=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(v,P){this.type=v,this.g=this.target=P,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var le=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var v=!1,P=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const V=()=>{};a.addEventListener("test",V,P),a.removeEventListener("test",V,P)}catch{}return v})();function ce(v,P){if(Z.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var V=this.type=v.type,G=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=P,P=v.relatedTarget){if(I){e:{try{x(P.nodeName);var oe=!0;break e}catch{}oe=!1}oe||(P=null)}}else V=="mouseover"?P=v.fromElement:V=="mouseout"&&(P=v.toElement);this.relatedTarget=P,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:ve[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&ce.aa.h.call(this)}}b(ce,Z);var ve={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Oe(v,P,V,G,oe){this.listener=v,this.proxy=null,this.src=P,this.type=V,this.capture=!!G,this.ha=oe,this.key=++xe,this.da=this.fa=!1}function ke(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Xe(v){this.src=v,this.g={},this.h=0}Xe.prototype.add=function(v,P,V,G,oe){var pe=v.toString();v=this.g[pe],v||(v=this.g[pe]=[],this.h++);var Ie=dt(v,P,G,oe);return-1<Ie?(P=v[Ie],V||(P.fa=!1)):(P=new Oe(P,this.src,pe,!!G,oe),P.fa=V,v.push(P)),P};function je(v,P){var V=P.type;if(V in v.g){var G=v.g[V],oe=Array.prototype.indexOf.call(G,P,void 0),pe;(pe=0<=oe)&&Array.prototype.splice.call(G,oe,1),pe&&(ke(P),v.g[V].length==0&&(delete v.g[V],v.h--))}}function dt(v,P,V,G){for(var oe=0;oe<v.length;++oe){var pe=v[oe];if(!pe.da&&pe.listener==P&&pe.capture==!!V&&pe.ha==G)return oe}return-1}var Ye="closure_lm_"+(1e6*Math.random()|0),Ue={};function Jt(v,P,V,G,oe){if(Array.isArray(P)){for(var pe=0;pe<P.length;pe++)Jt(v,P[pe],V,G,oe);return null}return V=zn(V),v&&v[ye]?v.K(P,V,u(G)?!!G.capture:!1,oe):Fe(v,P,V,!1,G,oe)}function Fe(v,P,V,G,oe,pe){if(!P)throw Error("Invalid event type");var Ie=u(oe)?!!oe.capture:!!oe,gn=Mt(v);if(gn||(v[Ye]=gn=new Xe(v)),V=gn.add(P,V,G,Ie,pe),V.proxy)return V;if(G=wt(),V.proxy=G,G.src=v,G.listener=V,v.addEventListener)le||(oe=Ie),oe===void 0&&(oe=!1),v.addEventListener(P.toString(),G,oe);else if(v.attachEvent)v.attachEvent(pt(P.toString()),G);else if(v.addListener&&v.removeListener)v.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return V}function wt(){function v(V){return P.call(v.src,v.listener,V)}const P=Me;return v}function Ft(v,P,V,G,oe){if(Array.isArray(P))for(var pe=0;pe<P.length;pe++)Ft(v,P[pe],V,G,oe);else G=u(G)?!!G.capture:!!G,V=zn(V),v&&v[ye]?(v=v.i,P=String(P).toString(),P in v.g&&(pe=v.g[P],V=dt(pe,V,G,oe),-1<V&&(ke(pe[V]),Array.prototype.splice.call(pe,V,1),pe.length==0&&(delete v.g[P],v.h--)))):v&&(v=Mt(v))&&(P=v.g[P.toString()],v=-1,P&&(v=dt(P,V,G,oe)),(V=-1<v?P[v]:null)&&It(V))}function It(v){if(typeof v!="number"&&v&&!v.da){var P=v.src;if(P&&P[ye])je(P.i,v);else{var V=v.type,G=v.proxy;P.removeEventListener?P.removeEventListener(V,G,v.capture):P.detachEvent?P.detachEvent(pt(V),G):P.addListener&&P.removeListener&&P.removeListener(G),(V=Mt(P))?(je(V,v),V.h==0&&(V.src=null,P[Ye]=null)):ke(v)}}}function pt(v){return v in Ue?Ue[v]:Ue[v]="on"+v}function Me(v,P){if(v.da)v=!0;else{P=new ce(P,this);var V=v.listener,G=v.ha||v.src;v.fa&&It(v),v=V.call(G,P)}return v}function Mt(v){return v=v[Ye],v instanceof Xe?v:null}var Ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function zn(v){return typeof v=="function"?v:(v[Ht]||(v[Ht]=function(P){return v.handleEvent(P)}),v[Ht])}function zt(){Y.call(this),this.i=new Xe(this),this.M=this,this.F=null}b(zt,Y),zt.prototype[ye]=!0,zt.prototype.removeEventListener=function(v,P,V,G){Ft(this,v,P,V,G)};function lt(v,P){var V,G=v.F;if(G)for(V=[];G;G=G.F)V.push(G);if(v=v.M,G=P.type||P,typeof P=="string")P=new Z(P,v);else if(P instanceof Z)P.target=P.target||v;else{var oe=P;P=new Z(G,v),A(P,oe)}if(oe=!0,V)for(var pe=V.length-1;0<=pe;pe--){var Ie=P.g=V[pe];oe=bt(Ie,G,!0,P)&&oe}if(Ie=P.g=v,oe=bt(Ie,G,!0,P)&&oe,oe=bt(Ie,G,!1,P)&&oe,V)for(pe=0;pe<V.length;pe++)Ie=P.g=V[pe],oe=bt(Ie,G,!1,P)&&oe}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var v=this.i,P;for(P in v.g){for(var V=v.g[P],G=0;G<V.length;G++)ke(V[G]);delete v.g[P],v.h--}}this.F=null},zt.prototype.K=function(v,P,V,G){return this.i.add(String(v),P,!1,V,G)},zt.prototype.L=function(v,P,V,G){return this.i.add(String(v),P,!0,V,G)};function bt(v,P,V,G){if(P=v.i.g[String(P)],!P)return!0;P=P.concat();for(var oe=!0,pe=0;pe<P.length;++pe){var Ie=P[pe];if(Ie&&!Ie.da&&Ie.capture==V){var gn=Ie.listener,Kr=Ie.ha||Ie.src;Ie.fa&&je(v.i,Ie),oe=gn.call(Kr,G)!==!1&&oe}}return oe&&!G.defaultPrevented}function Wt(v,P,V){if(typeof v=="function")V&&(v=m(v,V));else if(v&&typeof v.handleEvent=="function")v=m(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:a.setTimeout(v,P||0)}function mn(v){v.g=Wt(()=>{v.g=null,v.i&&(v.i=!1,mn(v))},v.l);const P=v.h;v.h=null,v.m.apply(null,P)}class et extends Y{constructor(P,V){super(),this.m=P,this.l=V,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:mn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tn(v){Y.call(this),this.h=v,this.g={}}b(tn,Y);var wn=[];function bn(v){F(v.g,function(P,V){this.g.hasOwnProperty(V)&&It(P)},v),v.g={}}tn.prototype.N=function(){tn.aa.N.call(this),bn(this)},tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tt=a.JSON.stringify,qt=a.JSON.parse,Wn=class{stringify(v){return a.JSON.stringify(v,void 0)}parse(v){return a.JSON.parse(v,void 0)}};function Yr(){}Yr.prototype.h=null;function Fa(v){return v.h||(v.h=v.i())}function bd(){}var As={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vo(){Z.call(this,"d")}b(Vo,Z);function _d(){Z.call(this,"c")}b(_d,Z);var Ho={},Cf=null;function $c(){return Cf=Cf||new zt}Ho.La="serverreachability";function mt(v){Z.call(this,Ho.La,v)}b(mt,Z);function kr(v){const P=$c();lt(P,new mt(P))}Ho.STAT_EVENT="statevent";function Sd(v,P){Z.call(this,Ho.STAT_EVENT,v),this.stat=P}b(Sd,Z);function Pr(v){const P=$c();lt(P,new Sd(P,v))}Ho.Ma="timingevent";function dg(v,P){Z.call(this,Ho.Ma,v),this.size=P}b(dg,Z);function Na(v,P){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){v()},P)}function Tf(){this.g=!0}Tf.prototype.xa=function(){this.g=!1};function Af(v,P,V,G,oe,pe){v.info(function(){if(v.g)if(pe)for(var Ie="",gn=pe.split("&"),Kr=0;Kr<gn.length;Kr++){var Qt=gn[Kr].split("=");if(1<Qt.length){var ui=Qt[0];Qt=Qt[1];var Br=ui.split("_");Ie=2<=Br.length&&Br[1]=="type"?Ie+(ui+"="+Qt+"&"):Ie+(ui+"=redacted&")}}else Ie=null;else Ie=pe;return"XMLHTTP REQ ("+G+") [attempt "+oe+"]: "+P+`
`+V+`
`+Ie})}function hg(v,P,V,G,oe,pe,Ie){v.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+oe+"]: "+P+`
`+V+`
`+pe+" "+Ie})}function Ba(v,P,V,G){v.info(function(){return"XMLHTTP TEXT ("+P+"): "+zI(v,V)+(G?" "+G:"")})}function nw(v,P){v.info(function(){return"TIMEOUT: "+P})}Tf.prototype.info=function(){};function zI(v,P){if(!v.g)return P;if(!P)return null;try{var V=JSON.parse(P);if(V){for(v=0;v<V.length;v++)if(Array.isArray(V[v])){var G=V[v];if(!(2>G.length)){var oe=G[1];if(Array.isArray(oe)&&!(1>oe.length)){var pe=oe[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var Ie=1;Ie<oe.length;Ie++)oe[Ie]=""}}}}return tt(V)}catch{return P}}var fg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},I1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$a;function xf(){}b(xf,Yr),xf.prototype.g=function(){return new XMLHttpRequest},xf.prototype.i=function(){return{}},$a=new xf;function ja(v,P,V,G){this.j=v,this.i=P,this.l=V,this.R=G||1,this.U=new tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new k1}function k1(){this.i=null,this.g="",this.h=!1}var rw={},pg={};function mg(v,P,V){v.L=1,v.v=xd(so(P)),v.m=V,v.P=!0,iw(v,null)}function iw(v,P){v.F=Date.now(),$n(v),v.A=so(v.v);var V=v.A,G=v.R;Array.isArray(G)||(G=[String(G)]),Id(V.i,"t",G),v.C=0,V=v.j.J,v.h=new k1,v.g=Y1(v.j,V?P:null,!v.m),0<v.O&&(v.M=new et(m(v.Y,v,v.g),v.O)),P=v.U,V=v.g,G=v.ca;var oe="readystatechange";Array.isArray(oe)||(oe&&(wn[0]=oe.toString()),oe=wn);for(var pe=0;pe<oe.length;pe++){var Ie=Jt(V,oe[pe],G||P.handleEvent,!1,P.h||P);if(!Ie)break;P.g[Ie.key]=Ie}P=v.H?L(v.H):{},v.m?(v.u||(v.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,P)):(v.u="GET",v.g.ea(v.A,v.u,null,P)),kr(),Af(v.i,v.u,v.A,v.l,v.R,v.m)}ja.prototype.ca=function(v){v=v.target;const P=this.M;P&&Rs(v)==3?P.j():this.Y(v)},ja.prototype.Y=function(v){try{if(v==this.g)e:{const Br=Rs(this.g);var P=this.g.Ba();const qo=this.g.Z();if(!(3>Br)&&(Br!=3||this.g&&(this.h.h||this.g.oa()||uw(this.g)))){this.J||Br!=4||P==7||(P==8||0>=qo?kr(3):kr(2)),Rf(this);var V=this.g.Z();this.X=V;t:if(P1(this)){var G=uw(this.g);v="";var oe=G.length,pe=Rs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zo(this),Ed(this);var Ie="";break t}this.h.i=new a.TextDecoder}for(P=0;P<oe;P++)this.h.h=!0,v+=this.h.i.decode(G[P],{stream:!(pe&&P==oe-1)});G.length=0,this.h.g+=v,this.C=0,Ie=this.h.g}else Ie=this.g.oa();if(this.o=V==200,hg(this.i,this.u,this.A,this.l,this.R,Br,V),this.o){if(this.T&&!this.K){t:{if(this.g){var gn,Kr=this.g;if((gn=Kr.g?Kr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(gn)){var Qt=gn;break t}}Qt=null}if(V=Qt)Ba(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sw(this,V);else{this.o=!1,this.s=3,Pr(12),zo(this),Ed(this);break e}}if(this.P){V=!0;let ao;for(;!this.J&&this.C<Ie.length;)if(ao=WI(this,Ie),ao==pg){Br==4&&(this.s=4,Pr(14),V=!1),Ba(this.i,this.l,null,"[Incomplete Response]");break}else if(ao==rw){this.s=4,Pr(15),Ba(this.i,this.l,Ie,"[Invalid Chunk]"),V=!1;break}else Ba(this.i,this.l,ao,null),sw(this,ao);if(P1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Br!=4||Ie.length!=0||this.h.h||(this.s=1,Pr(16),V=!1),this.o=this.o&&V,!V)Ba(this.i,this.l,Ie,"[Invalid Chunked Response]"),zo(this),Ed(this);else if(0<Ie.length&&!this.W){this.W=!0;var ui=this.j;ui.g==this&&ui.ba&&!ui.M&&(ui.j.info("Great, no buffering proxy detected. Bytes received: "+Ie.length),hw(ui),ui.M=!0,Pr(11))}}else Ba(this.i,this.l,Ie,null),sw(this,Ie);Br==4&&zo(this),this.o&&!this.J&&(Br==4?Ag(this.j,this):(this.o=!1,$n(this)))}else _g(this.g),V==400&&0<Ie.indexOf("Unknown SID")?(this.s=3,Pr(12)):(this.s=0,Pr(13)),zo(this),Ed(this)}}}catch{}finally{}};function P1(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function WI(v,P){var V=v.C,G=P.indexOf(`
`,V);return G==-1?pg:(V=Number(P.substring(V,G)),isNaN(V)?rw:(G+=1,G+V>P.length?pg:(P=P.slice(G,G+V),v.C=G+V,P)))}ja.prototype.cancel=function(){this.J=!0,zo(this)};function $n(v){v.S=Date.now()+v.I,D1(v,v.I)}function D1(v,P){if(v.B!=null)throw Error("WatchDog timer not null");v.B=Na(m(v.ba,v),P)}function Rf(v){v.B&&(a.clearTimeout(v.B),v.B=null)}ja.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(nw(this.i,this.A),this.L!=2&&(kr(),Pr(17)),zo(this),this.s=2,Ed(this)):D1(this,this.S-v)};function Ed(v){v.j.G==0||v.J||Ag(v.j,v)}function zo(v){Rf(v);var P=v.M;P&&typeof P.ma=="function"&&P.ma(),v.M=null,bn(v.U),v.g&&(P=v.g,v.g=null,P.abort(),P.ma())}function sw(v,P){try{var V=v.j;if(V.G!=0&&(V.g==v||us(V.h,v))){if(!v.K&&us(V.h,v)&&V.G==3){try{var G=V.Da.g.parse(P)}catch{G=null}if(Array.isArray(G)&&G.length==3){var oe=G;if(oe[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<v.F)Tg(V),Wa(V);else break e;Cg(V),Pr(18)}}else V.za=oe[1],0<V.za-V.T&&37500>oe[2]&&V.F&&V.v==0&&!V.C&&(V.C=Na(m(V.Za,V),6e3));if(1>=O1(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else zc(V,11)}else if((v.K||V.g==v)&&Tg(V),!T(P))for(oe=V.Da.g.parse(P),P=0;P<oe.length;P++){let Qt=oe[P];if(V.T=Qt[0],Qt=Qt[1],V.G==2)if(Qt[0]=="c"){V.K=Qt[1],V.ia=Qt[2];const ui=Qt[3];ui!=null&&(V.la=ui,V.j.info("VER="+V.la));const Br=Qt[4];Br!=null&&(V.Aa=Br,V.j.info("SVER="+V.Aa));const qo=Qt[5];qo!=null&&typeof qo=="number"&&0<qo&&(G=1.5*qo,V.L=G,V.j.info("backChannelRequestTimeoutMs_="+G)),G=V;const ao=v.g;if(ao){const Lf=ao.g?ao.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lf){var pe=G.h;pe.g||Lf.indexOf("spdy")==-1&&Lf.indexOf("quic")==-1&&Lf.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(ow(pe,pe.h),pe.h=null))}if(G.D){const Rg=ao.g?ao.g.getResponseHeader("X-HTTP-Session-Id"):null;Rg&&(G.ya=Rg,kn(G.I,G.D,Rg))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-v.F,V.j.info("Handshake RTT: "+V.R+"ms")),G=V;var Ie=v;if(G.qa=G1(G,G.J?G.ia:null,G.W),Ie.K){L1(G.h,Ie);var gn=Ie,Kr=G.L;Kr&&(gn.I=Kr),gn.B&&(Rf(gn),$n(gn)),G.g=Ie}else Of(G);0<V.i.length&&Ml(V)}else Qt[0]!="stop"&&Qt[0]!="close"||zc(V,7);else V.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?zc(V,7):Ei(V):Qt[0]!="noop"&&V.l&&V.l.ta(Qt),V.v=0)}}kr(4)}catch{}}var M1=class{constructor(v,P){this.g=v,this.map=P}};function If(v){this.l=v||10,a.PerformanceNavigationTiming?(v=a.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function io(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function O1(v){return v.h?1:v.g?v.g.size:0}function us(v,P){return v.h?v.h==P:v.g?v.g.has(P):!1}function ow(v,P){v.g?v.g.add(P):v.h=P}function L1(v,P){v.h&&v.h==P?v.h=null:v.g&&v.g.has(P)&&v.g.delete(P)}If.prototype.cancel=function(){if(this.i=F1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function F1(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let P=v.i;for(const V of v.g.values())P=P.concat(V.D);return P}return w(v.i)}function gg(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(l(v)){for(var P=[],V=v.length,G=0;G<V;G++)P.push(v[G]);return P}P=[],V=0;for(G in v)P[V++]=v[G];return P}function yg(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(l(v)||typeof v=="string"){var P=[];v=v.length;for(var V=0;V<v;V++)P.push(V);return P}P=[],V=0;for(const G in v)P[V++]=G;return P}}}function Cd(v,P){if(v.forEach&&typeof v.forEach=="function")v.forEach(P,void 0);else if(l(v)||typeof v=="string")Array.prototype.forEach.call(v,P,void 0);else for(var V=yg(v),G=gg(v),oe=G.length,pe=0;pe<oe;pe++)P.call(void 0,G[pe],V&&V[pe],v)}var kf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qI(v,P){if(v){v=v.split("&");for(var V=0;V<v.length;V++){var G=v[V].indexOf("="),oe=null;if(0<=G){var pe=v[V].substring(0,G);oe=v[V].substring(G+1)}else pe=v[V];P(pe,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function jc(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof jc){this.h=v.h,Pf(this,v.j),this.o=v.o,this.g=v.g,Td(this,v.s),this.l=v.l;var P=v.i,V=new kl;V.i=P.i,P.g&&(V.g=new Map(P.g),V.h=P.h),Ad(this,V),this.m=v.m}else v&&(P=String(v).match(kf))?(this.h=!1,Pf(this,P[1]||"",!0),this.o=Gt(P[2]||""),this.g=Gt(P[3]||"",!0),Td(this,P[4]),this.l=Gt(P[5]||"",!0),Ad(this,P[6]||"",!0),this.m=Gt(P[7]||"")):(this.h=!1,this.i=new kl(null,this.h))}jc.prototype.toString=function(){var v=[],P=this.j;P&&v.push(Rd(P,vg,!0),":");var V=this.g;return(V||P=="file")&&(v.push("//"),(P=this.o)&&v.push(Rd(P,vg,!0),"@"),v.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&v.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&v.push("/"),v.push(Rd(V,V.charAt(0)=="/"?$1:B1,!0))),(V=this.i.toString())&&v.push("?",V),(V=this.m)&&v.push("#",Rd(V,aw)),v.join("")};function so(v){return new jc(v)}function Pf(v,P,V){v.j=V?Gt(P,!0):P,v.j&&(v.j=v.j.replace(/:$/,""))}function Td(v,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);v.s=P}else v.s=null}function Ad(v,P,V){P instanceof kl?(v.i=P,Pl(v.i,v.h)):(V||(P=Rd(P,j1)),v.i=new kl(P,v.h))}function kn(v,P,V){v.i.set(P,V)}function xd(v){return kn(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Gt(v,P){return v?P?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Rd(v,P,V){return typeof v=="string"?(v=encodeURI(v).replace(P,N1),V&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function N1(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var vg=/[#\/\?@]/g,B1=/[#\?:]/g,$1=/[#\?]/g,j1=/[#\?@]/g,aw=/#/g;function kl(v,P){this.h=this.g=null,this.i=v||null,this.j=!!P}function Si(v){v.g||(v.g=new Map,v.h=0,v.i&&qI(v.i,function(P,V){v.add(decodeURIComponent(P.replace(/\+/g," ")),V)}))}n=kl.prototype,n.add=function(v,P){Si(this),this.i=null,v=Wo(this,v);var V=this.g.get(v);return V||this.g.set(v,V=[]),V.push(P),this.h+=1,this};function Ua(v,P){Si(v),P=Wo(v,P),v.g.has(P)&&(v.i=null,v.h-=v.g.get(P).length,v.g.delete(P))}function Va(v,P){return Si(v),P=Wo(v,P),v.g.has(P)}n.forEach=function(v,P){Si(this),this.g.forEach(function(V,G){V.forEach(function(oe){v.call(P,oe,G,this)},this)},this)},n.na=function(){Si(this);const v=Array.from(this.g.values()),P=Array.from(this.g.keys()),V=[];for(let G=0;G<P.length;G++){const oe=v[G];for(let pe=0;pe<oe.length;pe++)V.push(P[G])}return V},n.V=function(v){Si(this);let P=[];if(typeof v=="string")Va(this,v)&&(P=P.concat(this.g.get(Wo(this,v))));else{v=Array.from(this.g.values());for(let V=0;V<v.length;V++)P=P.concat(v[V])}return P},n.set=function(v,P){return Si(this),this.i=null,v=Wo(this,v),Va(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[P]),this.h+=1,this},n.get=function(v,P){return v?(v=this.V(v),0<v.length?String(v[0]):P):P};function Id(v,P,V){Ua(v,P),0<V.length&&(v.i=null,v.g.set(Wo(v,P),w(V)),v.h+=V.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],P=Array.from(this.g.keys());for(var V=0;V<P.length;V++){var G=P[V];const pe=encodeURIComponent(String(G)),Ie=this.V(G);for(G=0;G<Ie.length;G++){var oe=pe;Ie[G]!==""&&(oe+="="+encodeURIComponent(String(Ie[G]))),v.push(oe)}}return this.i=v.join("&")};function Wo(v,P){return P=String(P),v.j&&(P=P.toLowerCase()),P}function Pl(v,P){P&&!v.j&&(Si(v),v.i=null,v.g.forEach(function(V,G){var oe=G.toLowerCase();G!=oe&&(Ua(this,G),Id(this,oe,V))},v)),v.j=P}function GI(v,P){const V=new Tf;if(a.Image){const G=new Image;G.onload=y(xs,V,"TestLoadImage: loaded",!0,P,G),G.onerror=y(xs,V,"TestLoadImage: error",!1,P,G),G.onabort=y(xs,V,"TestLoadImage: abort",!1,P,G),G.ontimeout=y(xs,V,"TestLoadImage: timeout",!1,P,G),a.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=v}else P(!1)}function U1(v,P){const V=new Tf,G=new AbortController,oe=setTimeout(()=>{G.abort(),xs(V,"TestPingServer: timeout",!1,P)},1e4);fetch(v,{signal:G.signal}).then(pe=>{clearTimeout(oe),pe.ok?xs(V,"TestPingServer: ok",!0,P):xs(V,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(oe),xs(V,"TestPingServer: error",!1,P)})}function xs(v,P,V,G,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),G(V)}catch{}}function YI(){this.g=new Wn}function V1(v,P,V){const G=V||"";try{Cd(v,function(oe,pe){let Ie=oe;u(oe)&&(Ie=tt(oe)),P.push(G+pe+"="+encodeURIComponent(Ie))})}catch(oe){throw P.push(G+"type="+encodeURIComponent("_badmap")),oe}}function Uc(v){this.l=v.Ub||null,this.j=v.eb||!1}b(Uc,Yr),Uc.prototype.g=function(){return new Df(this.l,this.j)},Uc.prototype.i=(function(v){return function(){return v}})({});function Df(v,P){zt.call(this),this.D=v,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Df,zt),n=Df.prototype,n.open=function(v,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=P,this.readyState=1,za(this)},n.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(P.body=v),(this.D||a).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ha(this)),this.readyState=0},n.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,za(this)),this.g&&(this.readyState=3,za(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;H1(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function H1(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}n.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var P=v.value?v.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!v.done}))&&(this.response=this.responseText+=P)}v.done?Ha(this):za(this),this.readyState==3&&H1(this)}},n.Ra=function(v){this.g&&(this.response=this.responseText=v,Ha(this))},n.Qa=function(v){this.g&&(this.response=v,Ha(this))},n.ga=function(){this.g&&Ha(this)};function Ha(v){v.readyState=4,v.l=null,v.j=null,v.v=null,za(v)}n.setRequestHeader=function(v,P){this.u.append(v,P)},n.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],P=this.h.entries();for(var V=P.next();!V.done;)V=V.value,v.push(V[0]+": "+V[1]),V=P.next();return v.join(`\r
`)};function za(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Df.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Vc(v){let P="";return F(v,function(V,G){P+=G,P+=":",P+=V,P+=`\r
`}),P}function kd(v,P,V){e:{for(G in V){var G=!1;break e}G=!0}G||(V=Vc(V),typeof v=="string"?V!=null&&encodeURIComponent(String(V)):kn(v,P,V))}function er(v){zt.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(er,zt);var KI=/^https?$/i,lw=["POST","PUT"];n=er.prototype,n.Ha=function(v){this.J=v},n.ea=function(v,P,V,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);P=P?P.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$a.g(),this.v=this.o?Fa(this.o):Fa($a),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(P,String(v),!0),this.B=!1}catch(pe){Mf(this,pe);return}if(v=V||"",V=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var oe in G)V.set(oe,G[oe]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const pe of G.keys())V.set(pe,G.get(pe));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(V.keys()).find(pe=>pe.toLowerCase()=="content-type"),oe=a.FormData&&v instanceof a.FormData,!(0<=Array.prototype.indexOf.call(lw,P,void 0))||G||oe||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Ie]of V)this.g.setRequestHeader(pe,Ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bg(this),this.u=!0,this.g.send(v),this.u=!1}catch(pe){Mf(this,pe)}};function Mf(v,P){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=P,v.m=5,wg(v),oo(v)}function wg(v){v.A||(v.A=!0,lt(v,"complete"),lt(v,"error"))}n.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,lt(this,"complete"),lt(this,"abort"),oo(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oo(this,!0)),er.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?cw(this):this.bb())},n.bb=function(){cw(this)};function cw(v){if(v.h&&typeof o<"u"&&(!v.v[1]||Rs(v)!=4||v.Z()!=2)){if(v.u&&Rs(v)==4)Wt(v.Ea,0,v);else if(lt(v,"readystatechange"),Rs(v)==4){v.h=!1;try{const Ie=v.Z();e:switch(Ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var V;if(!(V=P)){var G;if(G=Ie===0){var oe=String(v.D).match(kf)[1]||null;!oe&&a.self&&a.self.location&&(oe=a.self.location.protocol.slice(0,-1)),G=!KI.test(oe?oe.toLowerCase():"")}V=G}if(V)lt(v,"complete"),lt(v,"success");else{v.m=6;try{var pe=2<Rs(v)?v.g.statusText:""}catch{pe=""}v.l=pe+" ["+v.Z()+"]",wg(v)}}finally{oo(v)}}}}function oo(v,P){if(v.g){bg(v);const V=v.g,G=v.v[0]?()=>{}:null;v.g=null,v.v=null,P||lt(v,"ready");try{V.onreadystatechange=G}catch{}}}function bg(v){v.I&&(a.clearTimeout(v.I),v.I=null)}n.isActive=function(){return!!this.g};function Rs(v){return v.g?v.g.readyState:0}n.Z=function(){try{return 2<Rs(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(v){if(this.g){var P=this.g.responseText;return v&&P.indexOf(v)==0&&(P=P.substring(v.length)),qt(P)}};function uw(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function _g(v){const P={};v=(v.g&&2<=Rs(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<v.length;G++){if(T(v[G]))continue;var V=B(v[G]);const oe=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const pe=P[oe]||[];P[oe]=pe,pe.push(V)}k(P,function(G){return G.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dl(v,P,V){return V&&V.internalChannelParams&&V.internalChannelParams[v]||P}function dw(v){this.Aa=0,this.i=[],this.j=new Tf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dl("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dl("baseRetryDelayMs",5e3,v),this.cb=Dl("retryDelaySeedMs",1e4,v),this.Wa=Dl("forwardChannelMaxRetries",2,v),this.wa=Dl("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new If(v&&v.concurrentRequestLimit),this.Da=new YI,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=dw.prototype,n.la=8,n.G=1,n.connect=function(v,P,V,G){Pr(0),this.W=v,this.H=P||{},V&&G!==void 0&&(this.H.OSID=V,this.H.OAID=G),this.F=this.X,this.I=G1(this,null,this.W),Ml(this)};function Ei(v){if(Sg(v),v.G==3){var P=v.U++,V=so(v.I);if(kn(V,"SID",v.K),kn(V,"RID",P),kn(V,"TYPE","terminate"),Hc(v,V),P=new ja(v,v.j,P),P.L=2,P.v=xd(so(V)),V=!1,a.navigator&&a.navigator.sendBeacon)try{V=a.navigator.sendBeacon(P.v.toString(),"")}catch{}!V&&a.Image&&(new Image().src=P.v,V=!0),V||(P.g=Y1(P.j,null),P.g.ea(P.v)),P.F=Date.now(),$n(P)}q1(v)}function Wa(v){v.g&&(hw(v),v.g.cancel(),v.g=null)}function Sg(v){Wa(v),v.u&&(a.clearTimeout(v.u),v.u=null),Tg(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&a.clearTimeout(v.s),v.s=null)}function Ml(v){if(!io(v.h)&&!v.s){v.s=!0;var P=v.Ga;ne||de(),J||(ne(),J=!0),se.add(P,v),v.B=0}}function XI(v,P){return O1(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=P.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=Na(m(v.Ga,v,P),W1(v,v.B)),v.B++,!0)}n.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const oe=new ja(this,this.j,v);let pe=this.o;if(this.S&&(pe?(pe=L(pe),A(pe,this.S)):pe=this.S),this.m!==null||this.O||(oe.H=pe,pe=null),this.P)e:{for(var P=0,V=0;V<this.i.length;V++){t:{var G=this.i[V];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(P+=G,4096<P){P=V;break e}if(P===4096||V===this.i.length-1){P=V+1;break e}}P=1e3}else P=1e3;P=Pd(this,oe,P),V=so(this.I),kn(V,"RID",v),kn(V,"CVER",22),this.D&&kn(V,"X-HTTP-Session-Id",this.D),Hc(this,V),pe&&(this.O?P="headers="+encodeURIComponent(String(Vc(pe)))+"&"+P:this.m&&kd(V,this.m,pe)),ow(this.h,oe),this.Ua&&kn(V,"TYPE","init"),this.P?(kn(V,"$req",P),kn(V,"SID","null"),oe.T=!0,mg(oe,V,null)):mg(oe,V,P),this.G=2}}else this.G==3&&(v?Eg(this,v):this.i.length==0||io(this.h)||Eg(this))};function Eg(v,P){var V;P?V=P.l:V=v.U++;const G=so(v.I);kn(G,"SID",v.K),kn(G,"RID",V),kn(G,"AID",v.T),Hc(v,G),v.m&&v.o&&kd(G,v.m,v.o),V=new ja(v,v.j,V,v.B+1),v.m===null&&(V.H=v.o),P&&(v.i=P.D.concat(v.i)),P=Pd(v,V,1e3),V.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),ow(v.h,V),mg(V,G,P)}function Hc(v,P){v.H&&F(v.H,function(V,G){kn(P,G,V)}),v.l&&Cd({},function(V,G){kn(P,G,V)})}function Pd(v,P,V){V=Math.min(v.i.length,V);var G=v.l?m(v.l.Na,v.l,v):null;e:{var oe=v.i;let pe=-1;for(;;){const Ie=["count="+V];pe==-1?0<V?(pe=oe[0].g,Ie.push("ofs="+pe)):pe=0:Ie.push("ofs="+pe);let gn=!0;for(let Kr=0;Kr<V;Kr++){let Qt=oe[Kr].g;const ui=oe[Kr].map;if(Qt-=pe,0>Qt)pe=Math.max(0,oe[Kr].g-100),gn=!1;else try{V1(ui,Ie,"req"+Qt+"_")}catch{G&&G(ui)}}if(gn){G=Ie.join("&");break e}}}return v=v.i.splice(0,V),P.D=v,G}function Of(v){if(!v.g&&!v.u){v.Y=1;var P=v.Fa;ne||de(),J||(ne(),J=!0),se.add(P,v),v.v=0}}function Cg(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=Na(m(v.Fa,v),W1(v,v.v)),v.v++,!0)}n.Fa=function(){if(this.u=null,z1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Na(m(this.ab,this),v)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pr(10),Wa(this),z1(this))};function hw(v){v.A!=null&&(a.clearTimeout(v.A),v.A=null)}function z1(v){v.g=new ja(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var P=so(v.qa);kn(P,"RID","rpc"),kn(P,"SID",v.K),kn(P,"AID",v.T),kn(P,"CI",v.F?"0":"1"),!v.F&&v.ja&&kn(P,"TO",v.ja),kn(P,"TYPE","xmlhttp"),Hc(v,P),v.m&&v.o&&kd(P,v.m,v.o),v.L&&(v.g.I=v.L);var V=v.g;v=v.ia,V.L=1,V.v=xd(so(P)),V.m=null,V.P=!0,iw(V,v)}n.Za=function(){this.C!=null&&(this.C=null,Wa(this),Cg(this),Pr(19))};function Tg(v){v.C!=null&&(a.clearTimeout(v.C),v.C=null)}function Ag(v,P){var V=null;if(v.g==P){Tg(v),hw(v),v.g=null;var G=2}else if(us(v.h,P))V=P.D,L1(v.h,P),G=1;else return;if(v.G!=0){if(P.o)if(G==1){V=P.m?P.m.length:0,P=Date.now()-P.F;var oe=v.B;G=$c(),lt(G,new dg(G,V)),Ml(v)}else Of(v);else if(oe=P.s,oe==3||oe==0&&0<P.X||!(G==1&&XI(v,P)||G==2&&Cg(v)))switch(V&&0<V.length&&(P=v.h,P.i=P.i.concat(V)),oe){case 1:zc(v,5);break;case 4:zc(v,10);break;case 3:zc(v,6);break;default:zc(v,2)}}}function W1(v,P){let V=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(V*=2),V*P}function zc(v,P){if(v.j.info("Error code "+P),P==2){var V=m(v.fb,v),G=v.Xa;const oe=!G;G=new jc(G||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Pf(G,"https"),xd(G),oe?GI(G.toString(),V):U1(G.toString(),V)}else Pr(2);v.G=0,v.l&&v.l.sa(P),q1(v),Sg(v)}n.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Pr(2)):(this.j.info("Failed to ping google.com"),Pr(1))};function q1(v){if(v.G=0,v.ka=[],v.l){const P=F1(v.h);(P.length!=0||v.i.length!=0)&&(_(v.ka,P),_(v.ka,v.i),v.h.i.length=0,w(v.i),v.i.length=0),v.l.ra()}}function G1(v,P,V){var G=V instanceof jc?so(V):new jc(V);if(G.g!="")P&&(G.g=P+"."+G.g),Td(G,G.s);else{var oe=a.location;G=oe.protocol,P=P?P+"."+oe.hostname:oe.hostname,oe=+oe.port;var pe=new jc(null);G&&Pf(pe,G),P&&(pe.g=P),oe&&Td(pe,oe),V&&(pe.l=V),G=pe}return V=v.D,P=v.ya,V&&P&&kn(G,V,P),kn(G,"VER",v.la),Hc(v,G),G}function Y1(v,P,V){if(P&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=v.Ca&&!v.pa?new er(new Uc({eb:V})):new er(v.pa),P.Ha(v.J),P}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fw(){}n=fw.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xg(){}xg.prototype.g=function(v,P){return new ds(v,P)};function ds(v,P){zt.call(this),this.g=new dw(P),this.l=v,this.h=P&&P.messageUrlParams||null,v=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(v?v["X-WebChannel-Content-Type"]=P.messageContentType:v={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(v?v["X-WebChannel-Client-Profile"]=P.va:v={"X-WebChannel-Client-Profile":P.va}),this.g.S=v,(v=P&&P.Sb)&&!T(v)&&(this.g.m=v),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!T(P)&&(this.g.D=P,v=this.h,v!==null&&P in v&&(v=this.h,P in v&&delete v[P])),this.j=new Ol(this)}b(ds,zt),ds.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ds.prototype.close=function(){Ei(this.g)},ds.prototype.o=function(v){var P=this.g;if(typeof v=="string"){var V={};V.__data__=v,v=V}else this.u&&(V={},V.__data__=tt(v),v=V);P.i.push(new M1(P.Ya++,v)),P.G==3&&Ml(P)},ds.prototype.N=function(){this.g.l=null,delete this.j,Ei(this.g),delete this.g,ds.aa.N.call(this)};function K1(v){Vo.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var P=v.__sm__;if(P){e:{for(const V in P){v=V;break e}v=void 0}(this.i=v)&&(v=this.i,P=P!==null&&v in P?P[v]:void 0),this.data=P}else this.data=v}b(K1,Vo);function X1(){_d.call(this),this.status=1}b(X1,_d);function Ol(v){this.g=v}b(Ol,fw),Ol.prototype.ua=function(){lt(this.g,"a")},Ol.prototype.ta=function(v){lt(this.g,new K1(v))},Ol.prototype.sa=function(v){lt(this.g,new X1)},Ol.prototype.ra=function(){lt(this.g,"b")},xg.prototype.createWebChannel=xg.prototype.g,ds.prototype.send=ds.prototype.o,ds.prototype.open=ds.prototype.m,ds.prototype.close=ds.prototype.close,CY=function(){return new xg},EY=function(){return $c()},SY=Ho,OL={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fg.NO_ERROR=0,fg.TIMEOUT=8,fg.HTTP_ERROR=6,$T=fg,I1.COMPLETE="complete",_Y=I1,bd.EventType=As,As.OPEN="a",As.CLOSE="b",As.ERROR="c",As.MESSAGE="d",zt.prototype.listen=zt.prototype.K,fb=bd,er.prototype.listenOnce=er.prototype.L,er.prototype.getLastError=er.prototype.Ka,er.prototype.getLastErrorCode=er.prototype.Ba,er.prototype.getStatus=er.prototype.Z,er.prototype.getResponseJson=er.prototype.Oa,er.prototype.getResponseText=er.prototype.oa,er.prototype.send=er.prototype.ea,er.prototype.setWithCredentials=er.prototype.Ha,bY=er}).apply(typeof sT<"u"?sT:typeof self<"u"?self:typeof window<"u"?window:{});const K5="@firebase/firestore",X5="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ts.UNAUTHENTICATED=new ts(null),ts.GOOGLE_CREDENTIALS=new ts("google-credentials-uid"),ts.FIRST_PARTY=new ts("first-party-uid"),ts.MOCK_USER=new ts("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V0="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=new CR("@firebase/firestore");function ay(){return Um.logLevel}function Ve(n,...e){if(Um.logLevel<=Bt.DEBUG){const t=e.map(o$);Um.debug(`Firestore (${V0}): ${n}`,...t)}}function dd(n,...e){if(Um.logLevel<=Bt.ERROR){const t=e.map(o$);Um.error(`Firestore (${V0}): ${n}`,...t)}}function _0(n,...e){if(Um.logLevel<=Bt.WARN){const t=e.map(o$);Um.warn(`Firestore (${V0}): ${n}`,...t)}}function o$(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(n="Unexpected state"){const e=`FIRESTORE (${V0}) INTERNAL ASSERTION FAILED: `+n;throw dd(e),new Error(e)}function fn(n,e){n||ht()}function vt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Al{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TY{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sve{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ts.UNAUTHENTICATED)))}shutdown(){}}class ove{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ave{constructor(e){this.t=e,this.currentUser=ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){fn(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new Zh;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zh,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const l=s;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},a=l=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zh)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fn(typeof r.accessToken=="string"),new TY(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fn(e===null||typeof e=="string"),new ts(e)}}class lve{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ts.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class cve{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new lve(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ts.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class J5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uve{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Lo(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){fn(this.o===void 0);const r=s=>{s.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new J5(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(fn(typeof t.token=="string"),this.R=t.token,new J5(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dve(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=dve(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function Xt(n,e){return n<e?-1:n>e?1:0}function S0(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=-62135596800,Z5=1e6;class oi{static now(){return oi.fromMillis(Date.now())}static fromDate(e){return oi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Z5);return new oi(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new it(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new it(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Q5)throw new it(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z5}_compareTo(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Q5;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(e){return new gt(e)}static min(){return new gt(new oi(0,0))}static max(){return new gt(new oi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH="__name__";class ql{constructor(e,t,r){t===void 0?t=0:t>e.length&&ht(),r===void 0?r=e.length-t:r>e.length-t&&ht(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ql.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ql?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=ql.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=ql.isNumericId(e),i=ql.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ql.extractNumericId(e).compare(ql.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qh.fromString(e.substring(4,e.length-2))}}class lr extends ql{construct(e,t,r){return new lr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new it(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new lr(t)}static emptyPath(){return new lr([])}}const hve=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fi extends ql{construct(e,t,r){return new Fi(e,t,r)}static isValidIdentifier(e){return hve.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eH}static keyField(){return new Fi([eH])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new it(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new it(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new it(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new it(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fi(t)}static emptyPath(){return new Fi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.path=e}static fromPath(e){return new at(lr.fromString(e))}static fromName(e){return new at(lr.fromString(e).popFirst(5))}static empty(){return new at(lr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new lr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=-1;function fve(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=gt.fromTimestamp(r===1e9?new oi(t+1,0):new oi(t,r));return new of(i,at.empty(),e)}function pve(n){return new of(n.readTime,n.key,y_)}class of{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new of(gt.min(),at.empty(),y_)}static max(){return new of(gt.max(),at.empty(),y_)}}function mve(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=at.comparator(n.documentKey,e.documentKey),t!==0?t:Xt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gve="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yve{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H0(n){if(n.code!==Se.FAILED_PRECONDITION||n.message!==gve)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ge.reject(t)}static resolve(e){return new ge(((t,r)=>{t(e)}))}static reject(e){return new ge(((t,r)=>{r(e)}))}static waitFor(e){return new ge(((t,r)=>{let i=0,s=0,o=!1;e.forEach((a=>{++i,a.next((()=>{++s,o&&s===i&&t()}),(l=>r(l)))})),o=!0,s===i&&t()}))}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next((i=>i?ge.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,s)=>{r.push(t.call(this,i,s))})),this.waitFor(r)}static mapArray(e,t){return new ge(((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;t(e[u]).next((h=>{o[u]=h,++a,a===s&&r(o)}),(h=>i(h)))}}))}static doWhile(e,t){return new ge(((r,i)=>{const s=()=>{e()===!0?t().next((()=>{s()}),i):r()};s()}))}}function vve(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function z0(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}NR.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=-1;function BR(n){return n==null}function ax(n){return n===0&&1/n==-1/0}function wve(n){return typeof n=="number"&&Number.isInteger(n)&&!ax(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xY="";function bve(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=tH(e)),e=_ve(n.get(t),e);return tH(e)}function _ve(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case xY:t+="";break;default:t+=s}}return t}function tH(n){return n+xY+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nH(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rg(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function RY(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,t){this.comparator=e,this.root=t||Di.EMPTY}insert(e,t){return new yr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Di.BLACK,null,null))}remove(e){return new yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Di.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oT(this.root,e,this.comparator,!1)}getReverseIterator(){return new oT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oT(this.root,e,this.comparator,!0)}}class oT{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Di{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Di.RED,this.left=i??Di.EMPTY,this.right=s??Di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Di(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Di.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const e=this.left.check();if(e!==this.right.check())throw ht();return e+(this.isRed()?0:1)}}Di.EMPTY=null,Di.RED=!0,Di.BLACK=!1;Di.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Di(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.comparator=e,this.data=new yr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rH(this.data.getIterator())}getIteratorFrom(e){return new rH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof ai)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ai(this.comparator);return t.data=e,t}}class rH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.fields=e,e.sort(Fi.comparator)}static empty(){return new pl([])}unionWith(e){let t=new ai(Fi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new pl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return S0(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new IY("Invalid base64 string: "+s):s}})(e);return new $i(t)}static fromUint8Array(e){const t=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new $i(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$i.EMPTY_BYTE_STRING=new $i("");const Sve=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function af(n){if(fn(!!n),typeof n=="string"){let e=0;const t=Sve.exec(n);if(fn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fr(n.seconds),nanos:Fr(n.nanos)}}function Fr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function lf(n){return typeof n=="string"?$i.fromBase64String(n):$i.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY="server_timestamp",PY="__type__",DY="__previous_value__",MY="__local_write_time__";function l$(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[PY])===null||t===void 0?void 0:t.stringValue)===kY}function $R(n){const e=n.mapValue.fields[DY];return l$(e)?$R(e):e}function v_(n){const e=af(n.mapValue.fields[MY].timestampValue);return new oi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eve{constructor(e,t,r,i,s,o,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}const lx="(default)";class w_{constructor(e,t){this.projectId=e,this.database=t||lx}static empty(){return new w_("","")}get isDefaultDatabase(){return this.database===lx}isEqual(e){return e instanceof w_&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OY="__type__",Cve="__max__",aT={mapValue:{}},LY="__vector__",cx="value";function cf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?l$(n)?4:Ave(n)?9007199254740991:Tve(n)?10:11:ht()}function Rc(n,e){if(n===e)return!0;const t=cf(n);if(t!==cf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return v_(n).isEqual(v_(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=af(i.timestampValue),a=af(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return lf(i.bytesValue).isEqual(lf(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return Fr(i.geoPointValue.latitude)===Fr(s.geoPointValue.latitude)&&Fr(i.geoPointValue.longitude)===Fr(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Fr(i.integerValue)===Fr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Fr(i.doubleValue),a=Fr(s.doubleValue);return o===a?ax(o)===ax(a):isNaN(o)&&isNaN(a)}return!1})(n,e);case 9:return S0(n.arrayValue.values||[],e.arrayValue.values||[],Rc);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(nH(o)!==nH(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Rc(o[l],a[l])))return!1;return!0})(n,e);default:return ht()}}function b_(n,e){return(n.values||[]).find((t=>Rc(t,e)))!==void 0}function E0(n,e){if(n===e)return 0;const t=cf(n),r=cf(e);if(t!==r)return Xt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xt(n.booleanValue,e.booleanValue);case 2:return(function(s,o){const a=Fr(s.integerValue||s.doubleValue),l=Fr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(n,e);case 3:return iH(n.timestampValue,e.timestampValue);case 4:return iH(v_(n),v_(e));case 5:return Xt(n.stringValue,e.stringValue);case 6:return(function(s,o){const a=lf(s),l=lf(o);return a.compareTo(l)})(n.bytesValue,e.bytesValue);case 7:return(function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Xt(a[u],l[u]);if(h!==0)return h}return Xt(a.length,l.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,o){const a=Xt(Fr(s.latitude),Fr(o.latitude));return a!==0?a:Xt(Fr(s.longitude),Fr(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return sH(n.arrayValue,e.arrayValue);case 10:return(function(s,o){var a,l,u,h;const p=s.fields||{},m=o.fields||{},y=(a=p[cx])===null||a===void 0?void 0:a.arrayValue,b=(l=m[cx])===null||l===void 0?void 0:l.arrayValue,w=Xt(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:sH(y,b)})(n.mapValue,e.mapValue);case 11:return(function(s,o){if(s===aT.mapValue&&o===aT.mapValue)return 0;if(s===aT.mapValue)return 1;if(o===aT.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const m=Xt(l[p],h[p]);if(m!==0)return m;const y=E0(a[l[p]],u[h[p]]);if(y!==0)return y}return Xt(l.length,h.length)})(n.mapValue,e.mapValue);default:throw ht()}}function iH(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Xt(n,e);const t=af(n),r=af(e),i=Xt(t.seconds,r.seconds);return i!==0?i:Xt(t.nanos,r.nanos)}function sH(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=E0(t[i],r[i]);if(s)return s}return Xt(t.length,r.length)}function C0(n){return LL(n)}function LL(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=af(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return lf(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return at.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=LL(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${LL(t.fields[o])}`;return i+"}"})(n.mapValue):ht()}function jT(n){switch(cf(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$R(n);return e?16+jT(e):16;case 5:return 2*n.stringValue.length;case 6:return lf(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+jT(s)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return rg(r.fields,((s,o)=>{i+=s.length+jT(o)})),i})(n.mapValue);default:throw ht()}}function FL(n){return!!n&&"integerValue"in n}function c$(n){return!!n&&"arrayValue"in n}function oH(n){return!!n&&"nullValue"in n}function aH(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function UT(n){return!!n&&"mapValue"in n}function Tve(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[OY])===null||t===void 0?void 0:t.stringValue)===LY}function Xb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rg(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Xb(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ave(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Cve}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.value=e}static empty(){return new ga({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!UT(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xb(t)}setAll(e){let t=Fi.emptyPath(),r={},i=[];e.forEach(((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Xb(o):i.push(a.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());UT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];UT(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){rg(t,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new ga(Xb(this.value))}}function FY(n){const e=[];return rg(n.fields,((t,r)=>{const i=new Fi([t]);if(UT(r)){const s=FY(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new pl(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ns(e,0,gt.min(),gt.min(),gt.min(),ga.empty(),0)}static newFoundDocument(e,t,r,i){return new ns(e,1,t,gt.min(),r,i,0)}static newNoDocument(e,t){return new ns(e,2,t,gt.min(),gt.min(),ga.empty(),0)}static newUnknownDocument(e,t){return new ns(e,3,t,gt.min(),gt.min(),ga.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ga.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ga.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ns&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ns(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t){this.position=e,this.inclusive=t}}function lH(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=at.comparator(at.fromName(o.referenceValue),t.key):r=E0(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function cH(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rc(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,t="asc"){this.field=e,this.dir=t}}function xve(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{}class ri extends NY{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Ive(e,t,r):t==="array-contains"?new Dve(e,r):t==="in"?new Mve(e,r):t==="not-in"?new Ove(e,r):t==="array-contains-any"?new Lve(e,r):new ri(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new kve(e,r):new Pve(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(E0(t,this.value)):t!==null&&cf(this.value)===cf(t)&&this.matchesComparison(E0(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ht()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ic extends NY{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ic(e,t)}matches(e){return BY(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function BY(n){return n.op==="and"}function $Y(n){return Rve(n)&&BY(n)}function Rve(n){for(const e of n.filters)if(e instanceof Ic)return!1;return!0}function NL(n){if(n instanceof ri)return n.field.canonicalString()+n.op.toString()+C0(n.value);if($Y(n))return n.filters.map((e=>NL(e))).join(",");{const e=n.filters.map((t=>NL(t))).join(",");return`${n.op}(${e})`}}function jY(n,e){return n instanceof ri?(function(r,i){return i instanceof ri&&r.op===i.op&&r.field.isEqual(i.field)&&Rc(r.value,i.value)})(n,e):n instanceof Ic?(function(r,i){return i instanceof Ic&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,a)=>s&&jY(o,i.filters[a])),!0):!1})(n,e):void ht()}function UY(n){return n instanceof ri?(function(t){return`${t.field.canonicalString()} ${t.op} ${C0(t.value)}`})(n):n instanceof Ic?(function(t){return t.op.toString()+" {"+t.getFilters().map(UY).join(" ,")+"}"})(n):"Filter"}class Ive extends ri{constructor(e,t,r){super(e,t,r),this.key=at.fromName(r.referenceValue)}matches(e){const t=at.comparator(e.key,this.key);return this.matchesComparison(t)}}class kve extends ri{constructor(e,t){super(e,"in",t),this.keys=VY("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Pve extends ri{constructor(e,t){super(e,"not-in",t),this.keys=VY("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function VY(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((r=>at.fromName(r.referenceValue)))}class Dve extends ri{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return c$(t)&&b_(t.arrayValue,this.value)}}class Mve extends ri{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&b_(this.value.arrayValue,t)}}class Ove extends ri{constructor(e,t){super(e,"not-in",t)}matches(e){if(b_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!b_(this.value.arrayValue,t)}}class Lve extends ri{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!c$(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>b_(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fve{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function uH(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Fve(n,e,t,r,i,s,o)}function u$(n){const e=vt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>NL(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),BR(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>C0(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>C0(r))).join(",")),e.le=t}return e.le}function d$(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!xve(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jY(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cH(n.startAt,e.startAt)&&cH(n.endAt,e.endAt)}function BL(n){return at.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Nve(n,e,t,r,i,s,o,a){return new jR(n,e,t,r,i,s,o,a)}function HY(n){return new jR(n)}function dH(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Bve(n){return n.collectionGroup!==null}function Jb(n){const e=vt(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ai(Fi.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(a=a.add(u.field))}))})),a})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new dx(s,r))})),t.has(Fi.keyField().canonicalString())||e.he.push(new dx(Fi.keyField(),r))}return e.he}function Ec(n){const e=vt(n);return e.Pe||(e.Pe=$ve(e,Jb(n))),e.Pe}function $ve(n,e){if(n.limitType==="F")return uH(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new dx(i.field,s)}));const t=n.endAt?new ux(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ux(n.startAt.position,n.startAt.inclusive):null;return uH(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function $L(n,e,t){return new jR(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function UR(n,e){return d$(Ec(n),Ec(e))&&n.limitType===e.limitType}function zY(n){return`${u$(Ec(n))}|lt:${n.limitType}`}function ly(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>UY(i))).join(", ")}]`),BR(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>C0(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>C0(i))).join(",")),`Target(${r})`})(Ec(n))}; limitType=${n.limitType})`}function VR(n,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):at.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(const s of Jb(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(o,a,l){const u=lH(o,a,l);return o.inclusive?u<=0:u<0})(r.startAt,Jb(r),i)||r.endAt&&!(function(o,a,l){const u=lH(o,a,l);return o.inclusive?u>=0:u>0})(r.endAt,Jb(r),i))})(n,e)}function jve(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WY(n){return(e,t)=>{let r=!1;for(const i of Jb(n)){const s=Uve(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Uve(n,e,t){const r=n.field.isKeyField()?at.comparator(e.key,t.key):(function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?E0(l,u):ht()})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ht()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rg(this.inner,((t,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return RY(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vve=new yr(at.comparator);function hd(){return Vve}const qY=new yr(at.comparator);function pb(...n){let e=qY;for(const t of n)e=e.insert(t.key,t);return e}function GY(n){let e=qY;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function fp(){return Qb()}function YY(){return Qb()}function Qb(){return new ig((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Hve=new yr(at.comparator),zve=new ai(at.comparator);function $t(...n){let e=zve;for(const t of n)e=e.add(t);return e}const Wve=new ai(Xt);function qve(){return Wve}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ax(e)?"-0":e}}function KY(n){return{integerValue:""+n}}function Gve(n,e){return wve(e)?KY(e):h$(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this._=void 0}}function Yve(n,e,t){return n instanceof hx?(function(i,s){const o={fields:{[PY]:{stringValue:kY},[MY]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&l$(s)&&(s=$R(s)),s&&(o.fields[DY]=s),{mapValue:o}})(t,e):n instanceof __?JY(n,e):n instanceof S_?QY(n,e):(function(i,s){const o=XY(i,s),a=hH(o)+hH(i.Ie);return FL(o)&&FL(i.Ie)?KY(a):h$(i.serializer,a)})(n,e)}function Kve(n,e,t){return n instanceof __?JY(n,e):n instanceof S_?QY(n,e):t}function XY(n,e){return n instanceof fx?(function(r){return FL(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class hx extends HR{}class __ extends HR{constructor(e){super(),this.elements=e}}function JY(n,e){const t=ZY(e);for(const r of n.elements)t.some((i=>Rc(i,r)))||t.push(r);return{arrayValue:{values:t}}}class S_ extends HR{constructor(e){super(),this.elements=e}}function QY(n,e){let t=ZY(e);for(const r of n.elements)t=t.filter((i=>!Rc(i,r)));return{arrayValue:{values:t}}}class fx extends HR{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function hH(n){return Fr(n.integerValue||n.doubleValue)}function ZY(n){return c$(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Xve(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof __&&i instanceof __||r instanceof S_&&i instanceof S_?S0(r.elements,i.elements,Rc):r instanceof fx&&i instanceof fx?Rc(r.Ie,i.Ie):r instanceof hx&&i instanceof hx})(n.transform,e.transform)}class Jve{constructor(e,t){this.version=e,this.transformResults=t}}class Cc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cc}static exists(e){return new Cc(void 0,e)}static updateTime(e){return new Cc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function VT(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class zR{}function eK(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new f$(n.key,Cc.none()):new ZE(n.key,n.data,Cc.none());{const t=n.data,r=ga.empty();let i=new ai(Fi.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new sg(n.key,r,new pl(i.toArray()),Cc.none())}}function Qve(n,e,t){n instanceof ZE?(function(i,s,o){const a=i.value.clone(),l=pH(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(n,e,t):n instanceof sg?(function(i,s,o){if(!VT(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=pH(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(tK(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(n,e,t):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function Zb(n,e,t,r){return n instanceof ZE?(function(s,o,a,l){if(!VT(s.precondition,o))return a;const u=s.value.clone(),h=mH(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(n,e,t,r):n instanceof sg?(function(s,o,a,l){if(!VT(s.precondition,o))return a;const u=mH(s.fieldTransforms,l,o),h=o.data;return h.setAll(tK(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(n,e,t,r):(function(s,o,a){return VT(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(n,e,t)}function Zve(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=XY(r.transform,i||null);s!=null&&(t===null&&(t=ga.empty()),t.set(r.field,s))}return t||null}function fH(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&S0(r,i,((s,o)=>Xve(s,o)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ZE extends zR{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class sg extends zR{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tK(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function pH(n,e,t){const r=new Map;fn(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Kve(o,a,t[i]))}return r}function mH(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Yve(s,o,e))}return r}class f$ extends zR{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e0e extends zR{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0e{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Qve(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Zb(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Zb(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=YY();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=eK(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(gt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),$t())}isEqual(e){return this.batchId===e.batchId&&S0(this.mutations,e.mutations,((t,r)=>fH(t,r)))&&S0(this.baseMutations,e.baseMutations,((t,r)=>fH(t,r)))}}class p${constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){fn(e.mutations.length===r.length);let i=(function(){return Hve})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new p$(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n0e=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0e{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vr,Zt;function i0e(n){switch(n){case Se.OK:return ht();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0;default:return ht()}}function nK(n){if(n===void 0)return dd("GRPC error has no .code"),Se.UNKNOWN;switch(n){case Vr.OK:return Se.OK;case Vr.CANCELLED:return Se.CANCELLED;case Vr.UNKNOWN:return Se.UNKNOWN;case Vr.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case Vr.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case Vr.INTERNAL:return Se.INTERNAL;case Vr.UNAVAILABLE:return Se.UNAVAILABLE;case Vr.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case Vr.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case Vr.NOT_FOUND:return Se.NOT_FOUND;case Vr.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case Vr.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case Vr.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case Vr.ABORTED:return Se.ABORTED;case Vr.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case Vr.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case Vr.DATA_LOSS:return Se.DATA_LOSS;default:return ht()}}(Zt=Vr||(Vr={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0e(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0e=new Qh([4294967295,4294967295],0);function gH(n){const e=s0e().encode(n),t=new wY;return t.update(e),new Uint8Array(t.digest())}function yH(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Qh([t,r],0),new Qh([i,s],0)]}class m${constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new mb(`Invalid padding: ${t}`);if(r<0)throw new mb(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mb(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new mb(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Qh.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Qh.fromNumber(r)));return i.compare(o0e)===1&&(i=new Qh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=gH(e),[r,i]=yH(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new m$(s,i,t);return r.forEach((a=>o.insert(a))),o}insert(e){if(this.Ee===0)return;const t=gH(e),[r,i]=yH(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class mb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,e1.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new WR(gt.min(),i,new yr(Xt),hd(),$t())}}class e1{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new e1(r,t,$t(),$t(),$t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class rK{constructor(e,t){this.targetId=e,this.ge=t}}class iK{constructor(e,t,r=$i.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class vH{constructor(){this.pe=0,this.ye=wH(),this.we=$i.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=$t(),t=$t(),r=$t();return this.ye.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ht()}})),new e1(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=wH()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,fn(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class a0e{constructor(e){this.ke=e,this.qe=new Map,this.Qe=hd(),this.$e=lT(),this.Ke=lT(),this.Ue=new yr(Xt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:ht()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((r,i)=>{this.Je(i)&&t(i)}))}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const s=i.target;if(BL(s))if(r===0){const o=new at(s.path);this.ze(t,o,ns.newNoDocument(o,gt.min()))}else fn(r===1);else{const o=this.et(t);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(t);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,u)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=lf(r).toUint8Array()}catch(l){if(l instanceof IY)return _0("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new m$(o,i,s)}catch(l){return _0(l instanceof mb?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach((s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,s,null),i++)})),i}ot(e){const t=new Map;this.qe.forEach(((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&BL(a.target)){const l=new at(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,ns.newNoDocument(l,e))}s.ve&&(t.set(o,s.Fe()),s.Me())}}));let r=$t();this.Ke.forEach(((s,o)=>{let a=!0;o.forEachWhile((l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(r=r.add(s))})),this.Qe.forEach(((s,o)=>o.setReadTime(e)));const i=new WR(e,t,this.Ue,this.Qe,r);return this.Qe=hd(),this.$e=lT(),this.Ke=lT(),this.Ue=new yr(Xt),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new vH,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new ai(Xt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new ai(Xt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new vH),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function lT(){return new yr(at.comparator)}function wH(){return new yr(at.comparator)}const l0e={asc:"ASCENDING",desc:"DESCENDING"},c0e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u0e={and:"AND",or:"OR"};class d0e{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jL(n,e){return n.useProto3Json||BR(e)?e:{value:e}}function px(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sK(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function h0e(n,e){return px(n,e.toTimestamp())}function Tc(n){return fn(!!n),gt.fromTimestamp((function(t){const r=af(t);return new oi(r.seconds,r.nanos)})(n))}function g$(n,e){return UL(n,e).canonicalString()}function UL(n,e){const t=(function(i){return new lr(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function oK(n){const e=lr.fromString(n);return fn(dK(e)),e}function VL(n,e){return g$(n.databaseId,e.path)}function ZP(n,e){const t=oK(e);if(t.get(1)!==n.databaseId.projectId)throw new it(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new it(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new at(lK(t))}function aK(n,e){return g$(n.databaseId,e)}function f0e(n){const e=oK(n);return e.length===4?lr.emptyPath():lK(e)}function HL(n){return new lr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lK(n){return fn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function bH(n,e,t){return{name:VL(n,e),fields:t.value.mapValue.fields}}function p0e(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ht()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(u,h){return u.useProto3Json?(fn(h===void 0||typeof h=="string"),$i.fromBase64String(h||"")):(fn(h===void 0||h instanceof Buffer||h instanceof Uint8Array),$i.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(u){const h=u.code===void 0?Se.UNKNOWN:nK(u.code);return new it(h,u.message||"")})(o);t=new iK(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ZP(n,r.document.name),s=Tc(r.document.updateTime),o=r.document.createTime?Tc(r.document.createTime):gt.min(),a=new ga({mapValue:{fields:r.document.fields}}),l=ns.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];t=new HT(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ZP(n,r.document),s=r.readTime?Tc(r.readTime):gt.min(),o=ns.newNoDocument(i,s),a=r.removedTargetIds||[];t=new HT([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ZP(n,r.document),s=r.removedTargetIds||[];t=new HT([],s,i,null)}else{if(!("filter"in e))return ht();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new r0e(i,s),a=r.targetId;t=new rK(a,o)}}return t}function m0e(n,e){let t;if(e instanceof ZE)t={update:bH(n,e.key,e.value)};else if(e instanceof f$)t={delete:VL(n,e.key)};else if(e instanceof sg)t={update:bH(n,e.key,e.data),updateMask:C0e(e.fieldMask)};else{if(!(e instanceof e0e))return ht();t={verify:VL(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const a=o.transform;if(a instanceof hx)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof __)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof S_)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fx)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ht()})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:h0e(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ht()})(n,e.precondition)),t}function g0e(n,e){return n&&n.length>0?(fn(e!==void 0),n.map((t=>(function(i,s){let o=i.updateTime?Tc(i.updateTime):Tc(s);return o.isEqual(gt.min())&&(o=Tc(s)),new Jve(o,i.transformResults||[])})(t,e)))):[]}function y0e(n,e){return{documents:[aK(n,e.path)]}}function v0e(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=aK(n,i);const s=(function(u){if(u.length!==0)return uK(Ic.create(u,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const o=(function(u){if(u.length!==0)return u.map((h=>(function(m){return{field:cy(m.field),direction:_0e(m.dir)}})(h)))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=jL(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ht:t,parent:i}}function w0e(n){let e=f0e(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){fn(r===1);const h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=(function(p){const m=cK(p);return m instanceof Ic&&$Y(m)?m.getFilters():[m]})(t.where));let o=[];t.orderBy&&(o=(function(p){return p.map((m=>(function(b){return new dx(uy(b.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(m)))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,BR(m)?null:m})(t.limit));let l=null;t.startAt&&(l=(function(p){const m=!!p.before,y=p.values||[];return new ux(y,m)})(t.startAt));let u=null;return t.endAt&&(u=(function(p){const m=!p.before,y=p.values||[];return new ux(y,m)})(t.endAt)),Nve(e,i,o,s,a,"F",l,u)}function b0e(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cK(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=uy(t.unaryFilter.field);return ri.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=uy(t.unaryFilter.field);return ri.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=uy(t.unaryFilter.field);return ri.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=uy(t.unaryFilter.field);return ri.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ht()}})(n):n.fieldFilter!==void 0?(function(t){return ri.create(uy(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ic.create(t.compositeFilter.filters.map((r=>cK(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ht()}})(t.compositeFilter.op))})(n):ht()}function _0e(n){return l0e[n]}function S0e(n){return c0e[n]}function E0e(n){return u0e[n]}function cy(n){return{fieldPath:n.canonicalString()}}function uy(n){return Fi.fromServerFormat(n.fieldPath)}function uK(n){return n instanceof ri?(function(t){if(t.op==="=="){if(aH(t.value))return{unaryFilter:{field:cy(t.field),op:"IS_NAN"}};if(oH(t.value))return{unaryFilter:{field:cy(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(aH(t.value))return{unaryFilter:{field:cy(t.field),op:"IS_NOT_NAN"}};if(oH(t.value))return{unaryFilter:{field:cy(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cy(t.field),op:S0e(t.op),value:t.value}}})(n):n instanceof Ic?(function(t){const r=t.getFilters().map((i=>uK(i)));return r.length===1?r[0]:{compositeFilter:{op:E0e(t.op),filters:r}}})(n):ht()}function C0e(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function dK(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t,r,i,s=gt.min(),o=gt.min(),a=$i.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Gh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0e{constructor(e){this.Tt=e}}function A0e(n){const e=w0e({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$L(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0e{constructor(){this.Tn=new R0e}addToCollectionParentIndex(e,t){return this.Tn.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getIndexType(e,t){return ge.resolve(0)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,t){return ge.resolve(of.min())}getMinOffsetFromCollectionGroup(e,t){return ge.resolve(of.min())}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class R0e{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ai(lr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ai(lr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hK=41943040;class Gs{static withCacheSize(e){return new Gs(e,Gs.DEFAULT_COLLECTION_PERCENTILE,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gs.DEFAULT_COLLECTION_PERCENTILE=10,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gs.DEFAULT=new Gs(hK,Gs.DEFAULT_COLLECTION_PERCENTILE,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gs.DISABLED=new Gs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new T0(0)}static Un(){return new T0(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH="LruGarbageCollector",I0e=1048576;function EH([n,e],[t,r]){const i=Xt(n,t);return i===0?Xt(e,r):i}class k0e{constructor(e){this.Hn=e,this.buffer=new ai(EH),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();EH(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class P0e{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ve(SH,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){z0(t)?Ve(SH,"Ignoring IndexedDB error during garbage collection: ",t):await H0(t)}await this.er(3e5)}))}}class D0e{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ge.resolve(NR.ae);const r=new k0e(t);return this.tr.forEachTarget(e,(i=>r.Zn(i.sequenceNumber))).next((()=>this.tr.rr(e,(i=>r.Zn(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(_H)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_H):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,s,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,a=Date.now(),this.removeTargets(e,r,t)))).next((p=>(s=p,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(u=Date.now(),ay()<=Bt.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function M0e(n,e){return new D0e(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0e{constructor(){this.changes=new ig((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ns.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0e{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0e{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&Zb(r.mutation,i,pl.empty(),oi.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,$t()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=$t()){const i=fp();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((s=>{let o=pb();return s.forEach(((a,l)=>{o=o.insert(a,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,t){const r=fp();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,$t())))}populateOverlays(e,t,r){const i=[];return r.forEach((s=>{t.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,a)=>{t.set(o,a)}))}))}computeViews(e,t,r,i){let s=hd();const o=Qb(),a=(function(){return Qb()})();return t.forEach(((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof sg)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Zb(h.mutation,u,h.mutation.getFieldMask(),oi.now())):o.set(u.key,pl.empty())})),this.recalculateAndSaveOverlays(e,s).next((l=>(l.forEach(((u,h)=>o.set(u,h))),t.forEach(((u,h)=>{var p;return a.set(u,new L0e(h,(p=o.get(u))!==null&&p!==void 0?p:null))})),a)))}recalculateAndSaveOverlays(e,t){const r=Qb();let i=new yr(((o,a)=>o-a)),s=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((o=>{for(const a of o)a.keys().forEach((l=>{const u=t.get(l);if(u===null)return;let h=r.get(l)||pl.empty();h=a.applyToLocalView(u,h),r.set(l,h);const p=(i.get(a.batchId)||$t()).add(l);i=i.insert(a.batchId,p)}))})).next((()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,p=YY();h.forEach((m=>{if(!s.has(m)){const y=eK(t.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return ge.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(o){return at.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Bve(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ge.resolve(fp());let a=y_,l=s;return o.next((u=>ge.forEach(u,((h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?ge.resolve():this.remoteDocumentCache.getEntry(e,h).next((m=>{l=l.insert(h,m)}))))).next((()=>this.populateOverlays(e,u,s))).next((()=>this.computeViews(e,l,u,$t()))).next((h=>({batchId:a,changes:GY(h)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new at(t)).next((r=>{let i=pb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=pb();return this.indexManager.getCollectionParents(e,s).next((a=>ge.forEach(a,(l=>{const u=(function(p,m){return new jR(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next((h=>{h.forEach(((p,m)=>{o=o.insert(p,m)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i)))).next((o=>{s.forEach(((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,ns.newInvalidDocument(h)))}));let a=pb();return o.forEach(((l,u)=>{const h=s.get(l);h!==void 0&&Zb(h.mutation,u,pl.empty(),oi.now()),VR(t,u)&&(a=a.insert(l,u))})),a}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0e{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ge.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Tc(i.createTime)}})(t)),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,(function(i){return{name:i.name,query:A0e(i.bundledQuery),readTime:Tc(i.readTime)}})(t)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0e{constructor(){this.overlays=new yr(at.comparator),this.Rr=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}getOverlays(e,t){const r=fp();return ge.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,s)=>{this.Et(e,t,s)})),ge.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Rr.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const i=fp(),s=t.length+1,o=new at(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new yr(((u,h)=>u-h));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=fp(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=fp(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,h)=>a.set(u,h))),!(a.size()>=i)););return ge.resolve(a)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new n0e(t,r));let s=this.Rr.get(t);s===void 0&&(s=$t(),this.Rr.set(t,s)),this.Rr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0e{constructor(){this.sessionToken=$i.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(){this.Vr=new ai(_i.mr),this.gr=new ai(_i.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new _i(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.wr(new _i(e,t))}br(e,t){e.forEach((r=>this.removeReference(r,t)))}Sr(e){const t=new at(new lr([])),r=new _i(t,e),i=new _i(t,e+1),s=[];return this.gr.forEachInRange([r,i],(o=>{this.wr(o),s.push(o.key)})),s}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new at(new lr([])),r=new _i(t,e),i=new _i(t,e+1);let s=$t();return this.gr.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const t=new _i(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class _i{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return at.comparator(e.key,t.key)||Xt(e.Cr,t.Cr)}static pr(e,t){return Xt(e.Cr,t.Cr)||at.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0e{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new ai(_i.mr)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new t0e(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new _i(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ge.resolve(o)}lookupMutationBatch(e,t){return ge.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),s=i<0?0:i;return ge.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?a$:this.Fr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new _i(t,0),i=new _i(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],(o=>{const a=this.Or(o.Cr);s.push(a)})),ge.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ai(Xt);return t.forEach((i=>{const s=new _i(i,0),o=new _i(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],(a=>{r=r.add(a.Cr)}))})),ge.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;at.isDocumentKey(s)||(s=s.child(""));const o=new _i(new at(s),0);let a=new ai(Xt);return this.Mr.forEachWhile((l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Cr)),!0)}),o),ge.resolve(this.Br(a))}Br(e){const t=[];return e.forEach((r=>{const i=this.Or(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){fn(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ge.forEach(t.mutations,(i=>{const s=new _i(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Mr=r}))}qn(e){}containsKey(e,t){const r=new _i(t,0),i=this.Mr.firstAfterOrEqual(r);return ge.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0e{constructor(e){this.kr=e,this.docs=(function(){return new yr(at.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():ns.newInvalidDocument(t))}getEntries(e,t){let r=hd();return t.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ns.newInvalidDocument(i))})),ge.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=hd();const o=t.path,a=new at(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||mve(pve(h),r)<=0||(i.has(h.key)||VR(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return ge.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ht()}qr(e,t){return ge.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new V0e(this)}getSize(e){return ge.resolve(this.size)}}class V0e extends O0e{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)})),ge.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0e{constructor(e){this.persistence=e,this.Qr=new ig((t=>u$(t)),d$),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new y$,this.targetCount=0,this.Ur=T0.Kn()}forEachTarget(e,t){return this.Qr.forEach(((r,i)=>t(i))),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ge.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new T0(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.zn(t),ge.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Qr.forEach(((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)})),ge.waitFor(s).next((()=>i))}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),ge.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new NR(0),this.zr=!1,this.zr=!0,this.jr=new $0e,this.referenceDelegate=e(this),this.Hr=new H0e(this),this.indexManager=new x0e,this.remoteDocumentCache=(function(i){return new U0e(i)})((r=>this.referenceDelegate.Jr(r))),this.serializer=new T0e(t),this.Yr=new N0e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new B0e,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new j0e(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){Ve("MemoryPersistence","Starting transaction:",e);const i=new z0e(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next((s=>this.referenceDelegate.Xr(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}ei(e,t){return ge.or(Object.values(this.Wr).map((r=>()=>r.containsKey(e,t))))}}class z0e extends yve{constructor(e){super(),this.currentSequenceNumber=e}}class v${constructor(e){this.persistence=e,this.ti=new y$,this.ni=null}static ri(e){return new v$(e)}get ii(){if(this.ni)return this.ni;throw ht()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ge.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach((i=>this.ii.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((s=>this.ii.add(s.toString())))})).next((()=>r.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.ii,(r=>{const i=at.fromPath(r);return this.si(e,i).next((s=>{s||t.removeEntry(i,gt.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return ge.or([()=>ge.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class mx{constructor(e,t){this.persistence=e,this.oi=new ig((r=>bve(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=M0e(this,t)}static ri(e,t){return new mx(e,t)}Zr(){}Xr(e){return ge.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}sr(e){let t=0;return this.rr(e,(r=>{t++})).next((()=>t))}rr(e,t){return ge.forEach(this.oi,((r,i)=>this.ar(e,r,i).next((s=>s?ge.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,(o=>this.ar(e,o,t).next((a=>{a||(r++,s.removeEntry(o,gt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ge.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ge.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jT(e.data.value)),t}ar(e,t,r){return ge.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return ge.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=$t(),i=$t();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new w$(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0e{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=(function(){return bae()?8:vve(as())>0?6:4})()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.rs(e,t).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ss(e,t,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new W0e;return this._s(e,t,o).next((a=>{if(s.result=a,this.Xi)return this.us(e,t,o,a.size)}))})).next((()=>s.result))}us(e,t,r,i){return r.documentReadCount<this.es?(ay()<=Bt.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",ly(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ge.resolve()):(ay()<=Bt.DEBUG&&Ve("QueryEngine","Query:",ly(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(ay()<=Bt.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",ly(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ec(t))):ge.resolve())}rs(e,t){if(dH(t))return ge.resolve(null);let r=Ec(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=$L(t,null,"F"),r=Ec(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=$t(...s);return this.ns.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,r).next((l=>{const u=this.cs(t,a);return this.ls(t,u,o,l.readTime)?this.rs(e,$L(t,null,"F")):this.hs(e,u,t,l)}))))})))))}ss(e,t,r,i){return dH(t)||i.isEqual(gt.min())?ge.resolve(null):this.ns.getDocuments(e,r).next((s=>{const o=this.cs(t,s);return this.ls(t,o,r,i)?ge.resolve(null):(ay()<=Bt.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ly(t)),this.hs(e,o,t,fve(i,y_)).next((a=>a)))}))}cs(e,t){let r=new ai(WY(e));return t.forEach(((i,s)=>{VR(e,s)&&(r=r.add(s))})),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,t,r){return ay()<=Bt.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",ly(t)),this.ns.getDocumentsMatchingQuery(e,t,of.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next((s=>(t.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$="LocalStore",G0e=3e8;class Y0e{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new yr(Xt),this.Is=new ig((s=>u$(s)),d$),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F0e(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function K0e(n,e,t,r){return new Y0e(n,e,t,r)}async function pK(n,e){const t=vt(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,t.As(e),t.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],a=[];let l=$t();for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next((u=>({Rs:u,removedBatchIds:o,addedBatchIds:a})))}))}))}function X0e(n,e){const t=vt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return(function(a,l,u,h){const p=u.batch,m=p.keys();let y=ge.resolve();return m.forEach((b=>{y=y.next((()=>h.getEntry(l,b))).next((w=>{const _=u.docVersions.get(b);fn(_!==null),w.version.compareTo(_)<0&&(p.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),h.addEntry(w)))}))})),y.next((()=>a.mutationQueue.removeMutationBatch(l,p)))})(t,r,e,s).next((()=>s.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let l=$t();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function mK(n){const e=vt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Hr.getLastRemoteSnapshotVersion(t)))}function J0e(n,e){const t=vt(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const a=[];e.targetChanges.forEach(((h,p)=>{const m=i.get(p);if(!m)return;a.push(t.Hr.removeMatchingKeys(s,h.removedDocuments,p).next((()=>t.Hr.addMatchingKeys(s,h.addedDocuments,p))));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken($i.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(w,_,E){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=G0e?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(m,y,h)&&a.push(t.Hr.updateTargetData(s,y))}));let l=hd(),u=$t();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))})),a.push(Q0e(s,o,e.documentUpdates).next((h=>{l=h.Vs,u=h.fs}))),!r.isEqual(gt.min())){const h=t.Hr.getLastRemoteSnapshotVersion(s).next((p=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r)));a.push(h)}return ge.waitFor(a).next((()=>o.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,l,u))).next((()=>l))})).then((s=>(t.Ts=i,s)))}function Q0e(n,e,t){let r=$t(),i=$t();return t.forEach((s=>r=r.add(s))),e.getEntries(n,r).next((s=>{let o=hd();return t.forEach(((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(gt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ve(b$,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)})),{Vs:o,fs:i}}))}function Z0e(n,e){const t=vt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=a$),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function ewe(n,e){const t=vt(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Hr.getTargetData(r,e).next((s=>s?(i=s,ge.resolve(i)):t.Hr.allocateTargetId(r).next((o=>(i=new Gh(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r}))}async function zL(n,e,t){const r=vt(n),i=r.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!z0(o))throw o;Ve(b$,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function CH(n,e,t){const r=vt(n);let i=gt.min(),s=$t();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,u,h){const p=vt(l),m=p.Is.get(h);return m!==void 0?ge.resolve(p.Ts.get(m)):p.Hr.getTargetData(u,h)})(r,o,Ec(e)).next((a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next((l=>{s=l}))})).next((()=>r.Ps.getDocumentsMatchingQuery(o,e,t?i:gt.min(),t?s:$t()))).next((a=>(twe(r,jve(e),a),{documents:a,gs:s})))))}function twe(n,e,t){let r=n.Es.get(e)||gt.min();t.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),n.Es.set(e,r)}class TH{constructor(){this.activeTargetIds=qve()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nwe{constructor(){this.ho=new TH,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new TH,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rwe{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH="ConnectivityMonitor";class xH{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ve(AH,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ve(AH,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cT=null;function WL(){return cT===null?cT=(function(){return 268435456+Math.round(2147483648*Math.random())})():cT++,"0x"+cT.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="RestConnection",iwe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class swe{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===lx?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,s){const o=WL(),a=this.So(e,t.toUriEncodedString());Ve(eD,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,s),this.vo(e,a,l,r).then((u=>(Ve(eD,`Received RPC '${e}' ${o}: `,u),u)),(u=>{throw _0(eD,`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u}))}Co(e,t,r,i,s,o){return this.bo(e,t,r,i,s)}Do(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+V0})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}So(e,t){const r=iwe[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class owe{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="WebChannelConnection";class awe extends swe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const s=WL();return new Promise(((o,a)=>{const l=new bY;l.setWithCredentials(!0),l.listenOnce(_Y.COMPLETE,(()=>{try{switch(l.getLastErrorCode()){case $T.NO_ERROR:const h=l.getResponseJson();Ve(Wi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case $T.TIMEOUT:Ve(Wi,`RPC '${e}' ${s} timed out`),a(new it(Se.DEADLINE_EXCEEDED,"Request time out"));break;case $T.HTTP_ERROR:const p=l.getStatus();if(Ve(Wi,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const b=(function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(E)>=0?E:Se.UNKNOWN})(y.status);a(new it(b,y.message))}else a(new it(Se.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new it(Se.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{Ve(Wi,`RPC '${e}' ${s} completed.`)}}));const u=JSON.stringify(i);Ve(Wi,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",u,r,15)}))}Wo(e,t,r){const i=WL(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=CY(),a=EY(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const h=s.join("");Ve(Wi,`Creating RPC '${e}' stream ${i}: ${h}`,l);const p=o.createWebChannel(h,l);let m=!1,y=!1;const b=new owe({Fo:_=>{y?Ve(Wi,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(m||(Ve(Wi,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),Ve(Wi,`RPC '${e}' stream ${i} sending:`,_),p.send(_))},Mo:()=>p.close()}),w=(_,E,T)=>{_.listen(E,(C=>{try{T(C)}catch(x){setTimeout((()=>{throw x}),0)}}))};return w(p,fb.EventType.OPEN,(()=>{y||(Ve(Wi,`RPC '${e}' stream ${i} transport opened.`),b.Qo())})),w(p,fb.EventType.CLOSE,(()=>{y||(y=!0,Ve(Wi,`RPC '${e}' stream ${i} transport closed`),b.Ko())})),w(p,fb.EventType.ERROR,(_=>{y||(y=!0,_0(Wi,`RPC '${e}' stream ${i} transport errored:`,_),b.Ko(new it(Se.UNAVAILABLE,"The operation could not be completed")))})),w(p,fb.EventType.MESSAGE,(_=>{var E;if(!y){const T=_.data[0];fn(!!T);const C=T,x=(C==null?void 0:C.error)||((E=C[0])===null||E===void 0?void 0:E.error);if(x){Ve(Wi,`RPC '${e}' stream ${i} received error:`,x);const I=x.status;let F=(function(N){const A=Vr[N];if(A!==void 0)return nK(A)})(I),k=x.message;F===void 0&&(F=Se.INTERNAL,k="Unknown error status: "+I+" with message "+x.message),y=!0,b.Ko(new it(F,k)),p.close()}else Ve(Wi,`RPC '${e}' stream ${i} received:`,T),b.Uo(T)}})),w(a,SY.STAT_EVENT,(_=>{_.stat===OL.PROXY?Ve(Wi,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===OL.NOPROXY&&Ve(Wi,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{b.$o()}),0),b}}function tD(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(n){return new d0e(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&Ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH="PersistentStream";class yK{constructor(e,t,r,i,s,o,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new gK(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Se.RESOURCE_EXHAUSTED?(dd(t.toString()),dd("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.i_===t&&this.V_(r,i)}),(r=>{e((()=>{const i=new it(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)}))}))}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{r((()=>this.listener.xo()))})),this.stream.No((()=>{r((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((i=>{r((()=>this.m_(i)))})),this.stream.onMessage((i=>{r((()=>++this.__==1?this.g_(i):this.onNext(i)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return Ve(RH,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(Ve(RH,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lwe extends yK{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=p0e(this.serializer,e),r=(function(s){if(!("targetChange"in s))return gt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?gt.min():o.readTime?Tc(o.readTime):gt.min()})(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=HL(this.serializer),t.addTarget=(function(s,o){let a;const l=o.target;if(a=BL(l)?{documents:y0e(s,l)}:{query:v0e(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=sK(s,o.resumeToken);const u=jL(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(gt.min())>0){a.readTime=px(s,o.snapshotVersion.toTimestamp());const u=jL(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);const r=b0e(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=HL(this.serializer),t.removeTarget=e,this.I_(t)}}class cwe extends yK{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return fn(!!e.streamToken),this.lastStreamToken=e.streamToken,fn(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){fn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=g0e(e.writeResults,e.commitTime),r=Tc(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=HL(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>m0e(this.serializer,r)))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uwe{}class dwe extends uwe{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new it(Se.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.bo(e,UL(t,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new it(Se.UNKNOWN,s.toString())}))}Co(e,t,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Co(e,UL(t,r),i,o,a,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new it(Se.UNKNOWN,o.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class hwe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(dd(t),this.N_=!1):Ve("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="RemoteStore";class fwe{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To((o=>{r.enqueueAndForget((async()=>{og(this)&&(Ve(Vm,"Restarting streams for network reachability change."),await(async function(l){const u=vt(l);u.W_.add(4),await t1(u),u.j_.set("Unknown"),u.W_.delete(4),await GR(u)})(this))}))})),this.j_=new hwe(r,i)}}async function GR(n){if(og(n))for(const e of n.G_)await e(!0)}async function t1(n){for(const e of n.G_)await e(!1)}function vK(n,e){const t=vt(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),C$(t)?E$(t):W0(t).c_()&&S$(t,e))}function _$(n,e){const t=vt(n),r=W0(t);t.U_.delete(e),r.c_()&&wK(t,e),t.U_.size===0&&(r.c_()?r.P_():og(t)&&t.j_.set("Unknown"))}function S$(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}W0(n).y_(e)}function wK(n,e){n.H_.Ne(e),W0(n).w_(e)}function E$(n){n.H_=new a0e({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),W0(n).start(),n.j_.B_()}function C$(n){return og(n)&&!W0(n).u_()&&n.U_.size>0}function og(n){return vt(n).W_.size===0}function bK(n){n.H_=void 0}async function pwe(n){n.j_.set("Online")}async function mwe(n){n.U_.forEach(((e,t)=>{S$(n,e)}))}async function gwe(n,e){bK(n),C$(n)?(n.j_.q_(e),E$(n)):n.j_.set("Unknown")}async function ywe(n,e,t){if(n.j_.set("Online"),e instanceof iK&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const a of s.targetIds)i.U_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.U_.delete(a),i.H_.removeTarget(a))})(n,e)}catch(r){Ve(Vm,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gx(n,r)}else if(e instanceof HT?n.H_.We(e):e instanceof rK?n.H_.Ze(e):n.H_.je(e),!t.isEqual(gt.min()))try{const r=await mK(n.localStore);t.compareTo(r)>=0&&await(function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.U_.get(u);h&&s.U_.set(u,h.withResumeToken(l.resumeToken,o))}})),a.targetMismatches.forEach(((l,u)=>{const h=s.U_.get(l);if(!h)return;s.U_.set(l,h.withResumeToken($i.EMPTY_BYTE_STRING,h.snapshotVersion)),wK(s,l);const p=new Gh(h.target,l,u,h.sequenceNumber);S$(s,p)})),s.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){Ve(Vm,"Failed to raise snapshot:",r),await gx(n,r)}}async function gx(n,e,t){if(!z0(e))throw e;n.W_.add(1),await t1(n),n.j_.set("Offline"),t||(t=()=>mK(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ve(Vm,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await GR(n)}))}function _K(n,e){return e().catch((t=>gx(n,t,e)))}async function YR(n){const e=vt(n),t=uf(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:a$;for(;vwe(e);)try{const i=await Z0e(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,wwe(e,i)}catch(i){await gx(e,i)}SK(e)&&EK(e)}function vwe(n){return og(n)&&n.K_.length<10}function wwe(n,e){n.K_.push(e);const t=uf(n);t.c_()&&t.b_&&t.S_(e.mutations)}function SK(n){return og(n)&&!uf(n).u_()&&n.K_.length>0}function EK(n){uf(n).start()}async function bwe(n){uf(n).C_()}async function _we(n){const e=uf(n);for(const t of n.K_)e.S_(t.mutations)}async function Swe(n,e,t){const r=n.K_.shift(),i=p$.from(r,e,t);await _K(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await YR(n)}async function Ewe(n,e){e&&uf(n).b_&&await(async function(r,i){if((function(o){return i0e(o)&&o!==Se.ABORTED})(i.code)){const s=r.K_.shift();uf(r).h_(),await _K(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await YR(r)}})(n,e),SK(n)&&EK(n)}async function IH(n,e){const t=vt(n);t.asyncQueue.verifyOperationInProgress(),Ve(Vm,"RemoteStore received new credentials");const r=og(t);t.W_.add(3),await t1(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await GR(t)}async function Cwe(n,e){const t=vt(n);e?(t.W_.delete(2),await GR(t)):e||(t.W_.add(2),await t1(t),t.j_.set("Unknown"))}function W0(n){return n.J_||(n.J_=(function(t,r,i){const s=vt(t);return s.M_(),new lwe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{xo:pwe.bind(null,n),No:mwe.bind(null,n),Lo:gwe.bind(null,n),p_:ywe.bind(null,n)}),n.G_.push((async e=>{e?(n.J_.h_(),C$(n)?E$(n):n.j_.set("Unknown")):(await n.J_.stop(),bK(n))}))),n.J_}function uf(n){return n.Y_||(n.Y_=(function(t,r,i){const s=vt(t);return s.M_(),new cwe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:bwe.bind(null,n),Lo:Ewe.bind(null,n),D_:_we.bind(null,n),v_:Swe.bind(null,n)}),n.G_.push((async e=>{e?(n.Y_.h_(),await YR(n)):(await n.Y_.stop(),n.K_.length>0&&(Ve(Vm,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))}))),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new T$(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A$(n,e){if(dd("AsyncQueue",`${e}: ${n}`),z0(n))return new it(Se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{static emptySet(e){return new Fy(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||at.comparator(t.key,r.key):(t,r)=>at.comparator(t.key,r.key),this.keyedMap=pb(),this.sortedSet=new yr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Fy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(){this.Z_=new yr(at.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):ht():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,r)=>{e.push(r)})),e}}class A0{constructor(e,t,r,i,s,o,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach((a=>{o.push({type:0,doc:a})})),new A0(e,t,Fy.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&UR(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Twe{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class Awe{constructor(){this.queries=PH(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=vt(t),s=i.queries;i.queries=PH(),s.forEach(((o,a)=>{for(const l of a.ta)l.onError(r)}))})(this,new it(Se.ABORTED,"Firestore shutting down"))}}function PH(){return new ig((n=>zY(n)),UR)}async function xwe(n,e){const t=vt(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new Twe,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await t.onListen(i,!0);break;case 1:s.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const a=A$(o,`Initialization of query '${ly(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&x$(t)}async function Rwe(n,e){const t=vt(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Iwe(n,e){const t=vt(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&x$(t)}function kwe(n,e,t){const r=vt(n),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(t);r.queries.delete(e)}function x$(n){n.ia.forEach((e=>{e.next()}))}var qL,DH;(DH=qL||(qL={}))._a="default",DH.Cache="cache";class Pwe{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new A0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=A0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==qL.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CK{constructor(e){this.key=e}}class TK{constructor(e){this.key=e}}class Dwe{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=$t(),this.mutatedKeys=$t(),this.ya=WY(e),this.wa=new Fy(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new kH,i=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const m=i.get(h),y=VR(this.query,p)?p:null,b=!!m&&this.mutatedKeys.has(m.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;m&&y?m.data.isEqual(y.data)?b!==w&&(r.track({type:3,doc:y}),_=!0):this.va(m,y)||(r.track({type:2,doc:y}),_=!0,(l&&this.ya(y,l)>0||u&&this.ya(y,u)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),_=!0):m&&!y&&(r.track({type:1,doc:m}),_=!0,(l||u)&&(a=!0)),_&&(y?(o=o.add(y),s=w?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort(((h,p)=>(function(y,b){const w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return w(y)-w(b)})(h.type,p.type)||this.ya(h.doc,p.doc))),this.Ca(r),i=i!=null&&i;const a=t&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,u=l!==this.ga;return this.ga=l,o.length!==0||u?{snapshot:new A0(this.query,e.wa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new kH,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((t=>this.fa=this.fa.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.fa=this.fa.delete(t))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=$t(),this.wa.forEach((r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))}));const t=[];return e.forEach((r=>{this.pa.has(r)||t.push(new TK(r))})),this.pa.forEach((r=>{e.has(r)||t.push(new CK(r))})),t}Oa(e){this.fa=e.gs,this.pa=$t();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return A0.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const R$="SyncEngine";class Mwe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Owe{constructor(e){this.key=e,this.Ba=!1}}class Lwe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new ig((a=>zY(a)),UR),this.qa=new Map,this.Qa=new Set,this.$a=new yr(at.comparator),this.Ka=new Map,this.Ua=new y$,this.Wa={},this.Ga=new Map,this.za=T0.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Fwe(n,e,t=!0){const r=PK(n);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await AK(r,e,t,!0),i}async function Nwe(n,e){const t=PK(n);await AK(t,e,!0,!1)}async function AK(n,e,t,r){const i=await ewe(n.localStore,Ec(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=await Bwe(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&vK(n.remoteStore,i),a}async function Bwe(n,e,t,r,i){n.Ha=(p,m,y)=>(async function(w,_,E,T){let C=_.view.Sa(E);C.ls&&(C=await CH(w.localStore,_.query,!1).then((({documents:k})=>_.view.Sa(k,C))));const x=T&&T.targetChanges.get(_.targetId),I=T&&T.targetMismatches.get(_.targetId)!=null,F=_.view.applyChanges(C,w.isPrimaryClient,x,I);return OH(w,_.targetId,F.Ma),F.snapshot})(n,p,m,y);const s=await CH(n.localStore,e,!0),o=new Dwe(e,s.gs),a=o.Sa(s.documents),l=e1.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=o.applyChanges(a,n.isPrimaryClient,l);OH(n,t,u.Ma);const h=new Mwe(e,t,o);return n.ka.set(e,h),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),u.snapshot}async function $we(n,e,t){const r=vt(n),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter((o=>!UR(o,e)))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zL(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&_$(r.remoteStore,i.targetId),GL(r,i.targetId)})).catch(H0)):(GL(r,i.targetId),await zL(r.localStore,i.targetId,!0))}async function jwe(n,e){const t=vt(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),_$(t.remoteStore,r.targetId))}async function Uwe(n,e,t){const r=Ywe(n);try{const i=await(function(o,a){const l=vt(o),u=oi.now(),h=a.reduce(((y,b)=>y.add(b.key)),$t());let p,m;return l.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let b=hd(),w=$t();return l.ds.getEntries(y,h).next((_=>{b=_,b.forEach(((E,T)=>{T.isValidDocument()||(w=w.add(E))}))})).next((()=>l.localDocuments.getOverlayedDocuments(y,b))).next((_=>{p=_;const E=[];for(const T of a){const C=Zve(T,p.get(T.key).overlayedDocument);C!=null&&E.push(new sg(T.key,C,FY(C.value.mapValue),Cc.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,E,a)})).next((_=>{m=_;const E=_.applyToLocalDocumentSet(p,w);return l.documentOverlayCache.saveOverlays(y,_.batchId,E)}))})).then((()=>({batchId:m.batchId,changes:GY(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,a,l){let u=o.Wa[o.currentUser.toKey()];u||(u=new yr(Xt)),u=u.insert(a,l),o.Wa[o.currentUser.toKey()]=u})(r,i.batchId,t),await n1(r,i.changes),await YR(r.remoteStore)}catch(i){const s=A$(i,"Failed to persist write");t.reject(s)}}async function xK(n,e){const t=vt(n);try{const r=await J0e(t.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=t.Ka.get(s);o&&(fn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?fn(o.Ba):i.removedDocuments.size>0&&(fn(o.Ba),o.Ba=!1))})),await n1(t,r,e)}catch(r){await H0(r)}}function MH(n,e,t){const r=vt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach(((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)})),(function(o,a){const l=vt(o);l.onlineState=a;let u=!1;l.queries.forEach(((h,p)=>{for(const m of p.ta)m.sa(a)&&(u=!0)})),u&&x$(l)})(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Vwe(n,e,t){const r=vt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),s=i&&i.key;if(s){let o=new yr(at.comparator);o=o.insert(s,ns.newNoDocument(s,gt.min()));const a=$t().add(s),l=new WR(gt.min(),new Map,new yr(Xt),o,a);await xK(r,l),r.$a=r.$a.remove(s),r.Ka.delete(e),I$(r)}else await zL(r.localStore,e,!1).then((()=>GL(r,e,t))).catch(H0)}async function Hwe(n,e){const t=vt(n),r=e.batch.batchId;try{const i=await X0e(t.localStore,e);IK(t,r,null),RK(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await n1(t,i)}catch(i){await H0(i)}}async function zwe(n,e,t){const r=vt(n);try{const i=await(function(o,a){const l=vt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next((p=>(fn(p!==null),h=p.keys(),l.mutationQueue.removeMutationBatch(u,p)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h))).next((()=>l.localDocuments.getDocuments(u,h)))}))})(r.localStore,e);IK(r,e,t),RK(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await n1(r,i)}catch(i){await H0(i)}}function RK(n,e){(n.Ga.get(e)||[]).forEach((t=>{t.resolve()})),n.Ga.delete(e)}function IK(n,e,t){const r=vt(n);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function GL(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach((r=>{n.Ua.containsKey(r)||kK(n,r)}))}function kK(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(_$(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),I$(n))}function OH(n,e,t){for(const r of t)r instanceof CK?(n.Ua.addReference(r.key,e),Wwe(n,r)):r instanceof TK?(Ve(R$,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||kK(n,r.key)):ht()}function Wwe(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(Ve(R$,"New document in limbo: "+t),n.Qa.add(r),I$(n))}function I$(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new at(lr.fromString(e)),r=n.za.next();n.Ka.set(r,new Owe(t)),n.$a=n.$a.insert(t,r),vK(n.remoteStore,new Gh(Ec(HY(t.path)),r,"TargetPurposeLimboResolution",NR.ae))}}async function n1(n,e,t){const r=vt(n),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach(((a,l)=>{o.push(r.Ha(l,e,t).then((u=>{var h;if((u||t)&&r.isPrimaryClient){const p=u?!u.fromCache:(h=t==null?void 0:t.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){i.push(u);const p=w$.Yi(l.targetId,u);s.push(p)}})))})),await Promise.all(o),r.La.p_(i),await(async function(l,u){const h=vt(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>ge.forEach(u,(m=>ge.forEach(m.Hi,(y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y))).next((()=>ge.forEach(m.Ji,(y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))))))}catch(p){if(!z0(p))throw p;Ve(b$,"Failed to update sequence numbers: "+p)}for(const p of u){const m=p.targetId;if(!p.fromCache){const y=h.Ts.get(m),b=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(b);h.Ts=h.Ts.insert(m,w)}}})(r.localStore,s))}async function qwe(n,e){const t=vt(n);if(!t.currentUser.isEqual(e)){Ve(R$,"User change. New user:",e.toKey());const r=await pK(t.localStore,e);t.currentUser=e,(function(s,o){s.Ga.forEach((a=>{a.forEach((l=>{l.reject(new it(Se.CANCELLED,o))}))})),s.Ga.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await n1(t,r.Rs)}}function Gwe(n,e){const t=vt(n),r=t.Ka.get(e);if(r&&r.Ba)return $t().add(r.key);{let i=$t();const s=t.qa.get(e);if(!s)return i;for(const o of s){const a=t.ka.get(o);i=i.unionWith(a.view.ba)}return i}}function PK(n){const e=vt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xK.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gwe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vwe.bind(null,e),e.La.p_=Iwe.bind(null,e.eventManager),e.La.Ja=kwe.bind(null,e.eventManager),e}function Ywe(n){const e=vt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hwe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zwe.bind(null,e),e}class yx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qR(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return K0e(this.persistence,new q0e,e.initialUser,this.serializer)}Xa(e){return new fK(v$.ri,this.serializer)}Za(e){return new nwe}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yx.provider={build:()=>new yx};class Kwe extends yx{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){fn(this.persistence.referenceDelegate instanceof mx);const r=this.persistence.referenceDelegate.garbageCollector;return new P0e(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Gs.withCacheSize(this.cacheSizeBytes):Gs.DEFAULT;return new fK((r=>mx.ri(r,t)),this.serializer)}}class YL{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>MH(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qwe.bind(null,this.syncEngine),await Cwe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Awe})()}createDatastore(e){const t=qR(e.databaseInfo.databaseId),r=(function(s){return new awe(s)})(e.databaseInfo);return(function(s,o,a,l){return new dwe(s,o,a,l)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,s,o,a){return new fwe(r,i,s,o,a)})(this.localStore,this.datastore,e.asyncQueue,(t=>MH(this.syncEngine,t,0)),(function(){return xH.D()?new xH:new rwe})())}createSyncEngine(e,t){return(function(i,s,o,a,l,u,h){const p=new Lwe(i,s,o,a,l,u);return h&&(p.ja=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const s=vt(i);Ve(Vm,"RemoteStore shutting down."),s.W_.add(5),await t1(s),s.z_.shutdown(),s.j_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}YL.provider={build:()=>new YL};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xwe{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):dd("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="FirestoreClient";class Jwe{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ts.UNAUTHENTICATED,this.clientId=AY.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{Ve(df,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Ve(df,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=A$(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function nD(n,e){n.asyncQueue.verifyOperationInProgress(),Ve(df,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await pK(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function LH(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Qwe(n);Ve(df,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>IH(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>IH(e.remoteStore,i))),n._onlineComponents=e}async function Qwe(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ve(df,"Using user provided OfflineComponentProvider");try{await nD(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Se.FAILED_PRECONDITION||i.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;_0("Error using user provided cache. Falling back to memory cache: "+t),await nD(n,new yx)}}else Ve(df,"Using default OfflineComponentProvider"),await nD(n,new Kwe(void 0));return n._offlineComponents}async function DK(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ve(df,"Using user provided OnlineComponentProvider"),await LH(n,n._uninitializedComponentsProvider._online)):(Ve(df,"Using default OnlineComponentProvider"),await LH(n,new YL))),n._onlineComponents}function Zwe(n){return DK(n).then((e=>e.syncEngine))}async function ebe(n){const e=await DK(n),t=e.eventManager;return t.onListen=Fwe.bind(null,e.syncEngine),t.onUnlisten=$we.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Nwe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jwe.bind(null,e.syncEngine),t}function tbe(n,e,t={}){const r=new Zh;return n.asyncQueue.enqueueAndForget((async()=>(function(s,o,a,l,u){const h=new Xwe({next:m=>{h.su(),o.enqueueAndForget((()=>Rwe(s,p))),m.fromCache&&l.source==="server"?u.reject(new it(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new Pwe(a,h,{includeMetadataChanges:!0,Ta:!0});return xwe(s,p)})(await ebe(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MK(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OK(n,e,t){if(!t)throw new it(Se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nbe(n,e,t,r){if(e===!0&&r===!0)throw new it(Se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function NH(n){if(!at.isDocumentKey(n))throw new it(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BH(n){if(at.isDocumentKey(n))throw new it(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function k$(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ht()}function x0(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new it(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=k$(n);throw new it(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LK="firestore.googleapis.com",$H=!0;class jH{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new it(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LK,this.ssl=$H}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:$H;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hK;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I0e)throw new it(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nbe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MK((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class KR{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jH({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jH(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new sve;switch(r.type){case"firstParty":return new cve(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=FH.get(t);r&&(Ve("ComponentProvider","Removing Datastore"),FH.delete(t),r.terminate())})(this),Promise.resolve()}}function rbe(n,e,t,r={}){var i;const s=(n=x0(n,KR))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;s.host!==LK&&s.host!==a&&_0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!sf(l,o)&&(n._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=ts.MOCK_USER;else{u=pae(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new it(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ts(p)}n._authCredentials=new ove(new TY(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new XR(this.firestore,e,this._query)}}class Sa{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ef(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sa(this.firestore,e,this._key)}}class ef extends XR{constructor(e,t,r){super(e,t,HY(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sa(this.firestore,null,new at(e))}withConverter(e){return new ef(this.firestore,e,this._path)}}function ibe(n,e,...t){if(n=Cs(n),OK("collection","path",e),n instanceof KR){const r=lr.fromString(e,...t);return BH(r),new ef(n,null,r)}{if(!(n instanceof Sa||n instanceof ef))throw new it(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(lr.fromString(e,...t));return BH(r),new ef(n.firestore,null,r)}}function FK(n,e,...t){if(n=Cs(n),arguments.length===1&&(e=AY.newId()),OK("doc","path",e),n instanceof KR){const r=lr.fromString(e,...t);return NH(r),new Sa(n,null,new at(r))}{if(!(n instanceof Sa||n instanceof ef))throw new it(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(lr.fromString(e,...t));return NH(r),new Sa(n.firestore,n instanceof ef?n.converter:null,new at(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH="AsyncQueue";class VH{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new gK(this,"async_queue_retry"),this.bu=()=>{const r=tD();r&&Ve(UH,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=tD();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=tD();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new Zh;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!z0(e))throw e;Ve(UH,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.Su.then((()=>(this.pu=!0,e().catch((r=>{this.gu=r,this.pu=!1;const i=(function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a})(r);throw dd("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.pu=!1,r))))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=T$.createAndSchedule(this,e,t,r,(s=>this.Fu(s)));return this.fu.push(i),i}Du(){this.gu&&ht()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class JR extends KR{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new VH,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VH(e),this._firestoreClient=void 0,await e}}}function sbe(n,e){const t=typeof n=="object"?n:wB(),r=typeof n=="string"?n:lx,i=tg(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=hae("firestore");s&&rbe(i,...s)}return i}function NK(n){if(n._terminated)throw new it(Se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||obe(n),n._firestoreClient}function obe(n){var e,t,r;const i=n._freezeSettings(),s=(function(a,l,u,h){return new Eve(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,MK(h.experimentalLongPollingOptions),h.useFetchStreams)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Jwe(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&(function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this._byteString=e}static fromBase64String(e){try{return new R0($i.fromBase64String(e))}catch(t){throw new it(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new R0($i.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new it(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new it(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new it(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const abe=/^__.*__$/;class lbe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new sg(e,this.data,this.fieldMask,t,this.fieldTransforms):new ZE(e,this.data,t,this.fieldTransforms)}}function $K(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class O${constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new O$(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return vx(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if($K(this.Lu)&&abe.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class cbe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||qR(e)}ju(e,t,r,i=!1){return new O$({Lu:e,methodName:t,zu:r,path:Fi.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ube(n){const e=n._freezeSettings(),t=qR(n._databaseId);return new cbe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dbe(n,e,t,r,i,s={}){const o=n.ju(s.merge||s.mergeFields?2:0,e,t,i);HK("Data must be an object, but it was:",o,r);const a=UK(r,o);let l,u;if(s.merge)l=new pl(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const p of s.mergeFields){const m=hbe(e,p,t);if(!o.contains(m))throw new it(Se.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);pbe(h,m)||h.push(m)}l=new pl(h),u=o.fieldTransforms.filter((p=>l.covers(p.field)))}else l=null,u=o.fieldTransforms;return new lbe(new ga(a),l,u)}function jK(n,e){if(VK(n=Cs(n)))return HK("Unsupported field value:",e,n),UK(n,e);if(n instanceof BK)return(function(r,i){if(!$K(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const a of r){let l=jK(a,i.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=Cs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Gve(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=oi.fromDate(r);return{timestampValue:px(i.serializer,s)}}if(r instanceof oi){const s=new oi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:px(i.serializer,s)}}if(r instanceof D$)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof R0)return{bytesValue:sK(i.serializer,r._byteString)};if(r instanceof Sa){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:g$(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof M$)return(function(o,a){return{mapValue:{fields:{[OY]:{stringValue:LY},[cx]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return h$(a.serializer,u)}))}}}}}})(r,i);throw i.Wu(`Unsupported field value: ${k$(r)}`)})(n,e)}function UK(n,e){const t={};return RY(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rg(n,((r,i)=>{const s=jK(i,e.qu(r));s!=null&&(t[r]=s)})),{mapValue:{fields:t}}}function VK(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof oi||n instanceof D$||n instanceof R0||n instanceof Sa||n instanceof BK||n instanceof M$)}function HK(n,e,t){if(!VK(t)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(t)){const r=k$(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function hbe(n,e,t){if((e=Cs(e))instanceof P$)return e._internalPath;if(typeof e=="string")return zK(n,e);throw vx("Field path arguments must be of type string or ",n,!1,void 0,t)}const fbe=new RegExp("[~\\*/\\[\\]]");function zK(n,e,t){if(e.search(fbe)>=0)throw vx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new P$(...e.split("."))._internalPath}catch{throw vx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vx(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new it(Se.INVALID_ARGUMENT,a+n+l)}function pbe(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Sa(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mbe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qK("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mbe extends WK{data(){return super.data()}}function qK(n,e){return typeof e=="string"?zK(n,e):e instanceof P$?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gbe(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new it(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ybe{convertValue(e,t="none"){switch(cf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ht()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return rg(e,((i,s)=>{r[i]=this.convertValue(s,t)})),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[cx].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((o=>Fr(o.doubleValue)));return new M$(s)}convertGeoPoint(e){return new D$(Fr(e.latitude),Fr(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=$R(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(v_(e));default:return null}}convertTimestamp(e){const t=af(e);return new oi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=lr.fromString(e);fn(dK(r));const i=new w_(r.get(1),r.get(3)),s=new at(r.popFirst(5));return i.isEqual(t)||dd(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vbe(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wbe extends WK{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(qK("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class zT extends wbe{data(e={}){return super.data(e)}}class bbe{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new uT(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new zT(this._firestore,this._userDataWriter,r.key,r,new uT(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new it(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((a=>{const l=new zT(i._firestore,i._userDataWriter,a.doc.key,a.doc,new uT(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((a=>s||a.type!==3)).map((a=>{const l=new zT(i._firestore,i._userDataWriter,a.doc.key,a.doc,new uT(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:_be(a.type),doc:l,oldIndex:u,newIndex:h}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _be(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}class Sbe extends ybe{constructor(e){super(),this.firestore=e}convertBytes(e){return new R0(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sa(this.firestore,null,t)}}function Ebe(n){n=x0(n,XR);const e=x0(n.firestore,JR),t=NK(e),r=new Sbe(e);return gbe(n._query),tbe(t,n._query).then((i=>new bbe(e,r,n,i)))}function Cbe(n,e,t){n=x0(n,Sa);const r=x0(n.firestore,JR),i=vbe(n.converter,e);return GK(r,[dbe(ube(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Cc.none())])}function Tbe(n){return GK(x0(n.firestore,JR),[new f$(n._key,Cc.none())])}function GK(n,e){return(function(r,i){const s=new Zh;return r.asyncQueue.enqueueAndForget((async()=>Uwe(await Zwe(r),i,s))),s.promise})(NK(n),e)}(function(e,t=!0){(function(i){V0=i})(F0),Ac(new _l("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new JR(new ave(r.getProvider("auth-internal")),new uve(o,r.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new it(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new w_(u.options.projectId,h)})(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),ba(K5,X5,e),ba(K5,X5,"esm2017")})();const L$=sbe(FB),Abe=async(n,e)=>{try{const t=FK(L$,`users/${n}/measures`,Jn(e));await Cbe(t,e),console.log("Measure added successfully.")}catch(t){console.error("Error adding measure:",t)}},xbe=async(n,e)=>{try{const t=FK(L$,`users/${n}/measures`,e);await Tbe(t),console.log("Measure removed successfully.")}catch(t){throw console.error("Error removing measure:",t),t}},Rbe=async n=>{const e=n.uid,t=ibe(L$,`users/${e}/measures`);try{return(await Ebe(t)).docs.map(s=>({id:s.id,...s.data()}))}catch(r){return console.error("Error fetching user measures:",r),[]}},Ibe=()=>{const{addUserTrackedMeasure:n}=wa(),{currentUser:e}=KE(),[t,r]=$.useState(),[i,s]=$.useState(null),o=$.useRef(null),[a,l]=$.useState(""),[u,h]=$.useState(ML.SAGE),[p,m]=$.useState("2025R1"),y=()=>{l(""),h(ML.SAGE),m("2025R1")};return $.useEffect(()=>{y()},[t]),M.jsxs(M.Fragment,{children:[M.jsx(mY,{value:"add",children:M.jsx(Qs,{title:"Add bill to track",children:M.jsx(Ts,{onClick:b=>r(b.currentTarget),children:M.jsx(Jye,{})})})}),M.jsx(XE,{open:!!t,anchorEl:t,onClose:()=>{r(null),s(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},onAnimationEnd:()=>{var b;return(b=o.current)==null?void 0:b.focus()},children:M.jsxs(Ee,{sx:ny.container,children:[M.jsx(Ne,{variant:"h2",sx:ny.title,children:"Add Bill to Track"}),M.jsxs(Ee,{sx:ny.form,children:[M.jsx(Dm,{sx:ny.billNumber,placeholder:"Bill Number",value:a,inputRef:o,onChange:b=>l(b.target.value)}),M.jsxs(Wr,{sx:ny.color,onClick:b=>s(b.currentTarget),children:[M.jsx(s$,{color:u}),M.jsx(gY,{}),M.jsx(Xye,{anchorEl:i,onClose:()=>s(null),updateColor:h})]})]}),M.jsx(Dm,{sx:ny.sessionKey,disabled:!0,placeholder:"Session Key",value:p,onChange:b=>m(b.target.value)}),M.jsx(Wr,{variant:"filled",onClick:async()=>{const b={color:u,position:"?",MeasurePrefix:a.split(" ")[0],MeasureNumber:Number(a.split(" ")[1]),isDisplayed:!0,SessionKey:p,nickname:""};if(r(null),n(b),e)try{await Abe(e.uid,b)}catch(w){console.error("Error adding measure to Firebase:",w)}},children:"Add"})]})})]})},ry={measureFilterContainer:{display:"flex",flexDirection:"row",alignItems:"flex-start",gap:"16px",padding:2,borderRadius:"8px","&:hover":{backgroundColor:"#EDEDED",cursor:"pointer"},"&:hover #deleteIcon":{visibility:"visible"}},checkbox:{marginTop:"6px",minWidth:"unset",padding:0,"&:hover":{filter:"brightness(80%)"}},infoArea:{display:"flex",flexDirection:"column",alignItems:"flexStart",textAlign:"left",gap:"4px",flexGrow:1},infoTopline:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},deleteIcon:{visibility:"hidden"}},YK=Gr(M.jsx("path",{d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59 7.11 5.7a.996.996 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41s1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4"}),"CloseRounded"),HH={container:{padding:3,display:"flex",flexDirection:"column",gap:2},buttonContainer:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"flex-end",gap:2}},kbe=({anchorEl:n,onClose:e,handleAction:t,message:r,subtitle:i})=>M.jsx(QB,{open:!!n,onClose:e,children:M.jsxs(Ee,{sx:HH.container,children:[M.jsx(Ne,{variant:"h5",children:r}),M.jsx(Ne,{variant:"body2",children:i}),M.jsxs(Ee,{sx:HH.buttonContainer,children:[M.jsx(Wr,{variant:"text",onClick:e,children:"Cancel"}),M.jsx(Wr,{variant:"contained",color:"error",onClick:()=>{t(),e()},children:"Delete"})]})]})}),Pbe=Gr(M.jsx("path",{d:"M21 8.59V4c0-.55-.45-1-1-1h-4.59c-.89 0-1.34 1.08-.71 1.71l1.59 1.59-10 10-1.59-1.59c-.62-.63-1.7-.19-1.7.7V20c0 .55.45 1 1 1h4.59c.89 0 1.34-1.08.71-1.71L7.71 17.7l10-10 1.59 1.59c.62.63 1.7.19 1.7-.7"}),"OpenInFullRounded"),Dbe={BB:"#91F2A4",BM49:"#91F2B6",BM50:"#91F2B6",BM51:"#91F2B6",BM52:"#91F2B6",BM53:"#91F2B6",BM54:"#91F2B6",BM55:"#91F2B6",BM56:"#91F2B6",BM57:"#91F2B6",BM70:"#91F2B6",BM71:"#91F2B6",BM72:"#91F2B6",BM77:"#91F2B6",BM78:"#91F2B6",BM86:"#91F2B6",BM87:"#91F2B6",BM93:"#91F2B6",CIS:"#91ACF2",CRR:"#919FF2",EB:"#91F2A9",EBED:"#C591F2",EBGG:"#CD91F2",EBHS:"#E291F2",EBOARD:"#E3F291",EBPS:"#EF91F2",EBTR:"#F291F0",FSSC:"#F291ED",HA:"#91F2AC",HAGLU:"#F29F91",HAGLUW:"#B8F291",HAGNR:"#F29E91",HALNRW:"#B1F291",HANR:"#ED91F2",HB2021:"#91F2AE",HB2092:"#91F2AE",HB2111:"#91F2AE",HB2112:"#91F2AE",HB2122:"#91F2AE",HB2147:"#91F2AE",HB2175:"#91F2AE",HB2227:"#91F2AE",HB2233:"#91F2AE",HB2312:"#91F2AE",HB2342:"#91F2AE",HB2434:"#91F2AE",HB2453:"#91F2AE",HB2463:"#91F2AE",HB2472:"#91F2AE",HB2536:"#91F2AE",HB2604:"#91F2AE",HB2710:"#91F2AE",HB2723:"#91F2AE",HB2792:"#91F2AE",HB2823:"#91F2AE",HB2841:"#91F2AE",HB2870:"#91F2AE",HB2872:"#91F2AE",HB2896:"#91F2AE",HB2898:"#91F2AE",HB3039:"#91F2AE",HB3089:"#91F2AE",HB3099:"#91F2AE",HB3225:"#91F2AE",HB3242:"#91F2AE",HB3271:"#91F2AE",HB3280:"#91F2AE",HB3283:"#91F2AE",HB3416:"#91F2AE",HB3438:"#91F2AE",HB3452:"#91F2AE",HB3464:"#91F2AE",HBH:"#91C1F2",HBHHC:"#F291A3",HBL:"#91BBF2",HBLWD:"#F29F91",HBLWFD:"#D3F291",HC:"#91F2B0",HC1221:"#91F2B0",HCAS:"#DD91F2",HCCP:"#DB91F2",HCD19R:"#91C6F2",HCEE:"#CD91F2",HCOND:"#F29791",HCP:"#91B3F2",HCPGA:"#F29199",HCPGE:"#F29192",HCRED:"#F29194",HEC:"#91C5F2",HECD:"#CB91F2",HECDSB:"#EAF291",HECDT:"#F29191",HECFS:"#F29291",HECHS:"#F29691",HED:"#91C3F2",HEE:"#91C1F2",HEER:"#E591F2",HEEW:"#ED91F2",HEMGGV:"#C8F291",HENVNR:"#A9F291",HEPOP:"#F2B191",HERP:"#F291ED",HEW:"#91A4F2",HGAIT:"#F29991",HGAMRG:"#D5F291",HGG:"#91BBF2",HGGCP:"#F29291",HGL:"#91B3F2",HHC:"#91C0F2",HHC19:"#91C0F2",HHED:"#D391F2",HHEDIW:"#D0F291",HHEDW:"#F29E91",HHEWD:"#F29E91",HHOUS:"#F2C391",HHOUSH:"#ACF291",HHS:"#91A6F2",HHSWW:"#F2D391",HJUD:"#F091F2",HJUDCL:"#CEF291",HJUDEP:"#C5F291",HLC:"#91B9F2",HLRED:"#F29C91",HLU:"#919CF2",HLWS:"#F291D5",HMPL:"#F291EA",HNR:"#919EF2",HOCTF:"#F2A491",HRC:"#91B0F2",HRCLUW:"#A3F291",HRED:"#E391F2",HREDIS:"#C6F291",HREV:"#F291E3",HRP:"#919BF2",HRULES:"#A6F291",HSB:"#91B0F2",HSBG:"#E591F2",HSBTF:"#F2A991",HSCAIM:"#D6F291",HSED:"#E591F2",HSEI:"#ED91F2",HSHE:"#EB91F2",HSHP:"#F291E6",HSUBED:"#CDF291",HTED:"#E691F2",HTP:"#9197F2",HTRANS:"#ABF291",HVA:"#91ACF2",HVEM:"#F291EB",HVES:"#F291E2",HVET:"#F291E0",HVETS:"#F2C891",HWED:"#EB91F2",HWFED:"#F29B91",HWR:"#9291F2",HWREC:"#F2AC91",HWSUB:"#F2C691",HWTR:"#F291C9",IRR401:"#9196F2",IRR404:"#9196F2",J1SS:"#DBF291",J2SS:"#DBF291",J3SS:"#DBF291",JACSR:"#F2A391",JARDHO:"#D1F291",JAUD:"#E591F2",JBM401:"#91B6F2",JBM402:"#91B6F2",JBMARG:"#DAF291",JBMTES:"#BCF291",JBTM:"#F291F0",JCASA:"#F2919B",JCCC:"#C991F2",JCCR:"#E291F2",JCDEO:"#F29196",JCF:"#91C0F2",JCFWO:"#F2AC91",JCOND:"#F29B91",JCPAY:"#F2A991",JCSS:"#F291E6",JCSSAT:"#B8F291",JCSSEC:"#CDF291",JCSSR:"#F2C091",JCT:"#91A9F2",JCTE:"#E891F2",JCTOA:"#F29F91",JEB:"#91C3F2",JEBED:"#F291A7",JEBGG:"#F2919F",JEBHS:"#F29791",JED:"#91C0F2",JEHB:"#D391F2",JEPOP:"#F2B491",JFPRX:"#F2C891",JFSS:"#F291E2",JFSSC:"#F2AC91",JGAMRG:"#D1F291",JHCCR:"#F29491",JHCT:"#ED91F2",JHIT:"#F291ED",JI5:"#91F2BC",JI5B:"#91F2BC",JISCWF:"#BBF291",JJSR:"#F291DD",JLA:"#91B9F2",JLAC:"#D591F2",JLADMN:"#D5F291",JLAIMT:"#C3F291",JLAUD:"#F29E91",JLC:"#91B6F2",JLCC:"#D891F2",JLCCPR:"#C8F291",JLCIMT:"#C0F291",JLCPR:"#F2B091",JLPR:"#F291DE",JLUF:"#F291EA",JM91:"#91F2C3",JML:"#91A6F2",JMR:"#919CF2",JOCRC:"#F29F91",JOCSS:"#F2BB91",JOL:"#91A3F2",JOLCC:"#F29691",JP2SS:"#91F2C8",JPEA:"#DE91F2",JPGC:"#E591F2",JPS:"#9196F2",JRF301:"#91A7F2",JSAFE:"#F29291",JSC762:"#91ABF2",JSCF:"#E891F2",JSCVR:"#F2C591",JSEMI:"#F2AB91",JSHC:"#EB91F2",JSHP:"#F291E3",JSP:"#9196F2",JSPEA:"#F2A391",JSRED:"#F2AB91",JSS:"#9191F2",JSSCWF:"#ABF291",JSSS:"#F291CD",JSTEM:"#F2BC91",JTAX:"#F291E0",JTBHCP:"#CDF291",JTFACC:"#E6F291",JTFAI:"#F29B91",JTFAS:"#F2AB91",JTFBHA:"#E0F291",JTFBHW:"#BCF291",JTFCCB:"#E5F291",JTFCFR:"#C6F291",JTFCMC:"#D3F291",JTFCS:"#F2AE91",JTFFFW:"#B9F291",JTFHDC:"#DAF291",JTFRDE:"#C6F291",JTFREB:"#C9F291",JTFREH:"#C0F291",JTFRF:"#F2B191",JTFS:"#F291E0",JTFSC:"#F2AE91",JTFSES:"#ACF291",JTFST:"#F2C991",JTFUHC:"#BEF291",JTMP:"#F291DA",JTOAC:"#F29F91",JTPM:"#F291DA",JTPUFR:"#99F291",JTR:"#9191F2",JTSSTP:"#91F29E",JTUSHE:"#A6F291",JUG:"#91A1F2",JVSG:"#F291DB",JWM:"#9194F2",JWMCC:"#F2A491",JWMED:"#F2A991",JWMGG:"#F2B191",JWMHS:"#F2C691",JWMIT:"#F2C991",JWMNR:"#F2CE91",JWMPS:"#F2D391",JWMTR:"#F2D891",LAC:"#91C5F2",LWRK:"#F291D1",OCCC:"#D191F2",OSCF:"#F091F2",OTCA:"#EA91F2",PSS:"#9B91F2",SB1036:"#91F2C0",SB1040:"#91F2C0",SB108:"#91F2C0",SB1509:"#91F2C0",SB1563:"#91F2C0",SB19:"#91F2C0",SB24:"#91F2C0",SB244:"#91F2C0",SB248:"#91F2C0",SB274:"#91F2C0",SB347:"#91F2C0",SB413:"#91F2C0",SB473:"#91F2C0",SB600:"#91F2C0",SB64:"#91F2C0",SB673:"#91F2C0",SB688:"#91F2C0",SB729:"#91F2C0",SB753:"#91F2C0",SB767:"#91F2C0",SB816:"#91F2C0",SB93:"#91F2C0",SB973:"#91F2C0",SB998:"#91F2C0",SBG:"#91B1F2",SBGG:"#E391F2",SBT:"#919CF2",SBTED:"#F2A191",SBTW:"#F291D1",SCAMP:"#F2A491",SCL:"#91A7F2",SCOM:"#F291E8",SCON:"#F291E6",SCOND:"#F2A991",SCPPA:"#F2A991",SCR14:"#919EF2",SCWD:"#F291EA",SECBH:"#F29196",SED:"#91B1F2",SEDWD:"#F2A991",SEE:"#91B0F2",SEGG:"#E891F2",SENR:"#F291DE",SFR:"#9199F2",SFY:"#9491F2",SGAIT:"#F2AB91",SGGA:"#E291F2",SGGCP:"#F2A491",SGGEP:"#F2A791",SHC:"#91AEF2",SHCR:"#F291EB",SHCVA:"#F2A691",SHDEV:"#F2AE91",SHH:"#91A6F2",SHHR:"#F291E3",SHHS:"#F291E2",SHOUS:"#F2D591",SHPPA:"#F2B191",SHS:"#9194F2",SHSEC:"#F2A791",SHSMHR:"#A3F291",SHSRH:"#F2C591",SHSRHP:"#9EF291",SIM91:"#919CF2",SJ:"#91F2CD",SJD110:"#91A9F2",SJR41:"#9192F2",SJT:"#9291F2",SJUD:"#F291E2",SLB:"#91A9F2",SLOR:"#F291D1",SLUF:"#F291DB",SMH:"#919EF2",SNR:"#9691F2",SNRW:"#F291C1",SNRWR:"#F2E591",SRCED:"#F29F91",SRE:"#919BF2",SREA:"#F091F2",SRED:"#F291EF",SRULES:"#94F291",SSC:"#919CF2",SSDS:"#F291D6",SSHCR:"#F2BC91",SSSPD:"#F2CD91",SST:"#A191F2",ST:"#91F2DD",STEST:"#F2D691",STRANS:"#99F291",SVA:"#919BF2",SVEMFW:"#9EF291",SVEP:"#F291D5",SVET:"#F291CE",SVMA:"#F291E0",SWF:"#9191F2",SWGG:"#F291DE",SWRR:"#F291BB",TFASC:"#F29F91",TFCCBP:"#DBF291",TFCSFL:"#C1F291",TFHST:"#F2C691",TFORS:"#F2CE91",TFPH:"#F291E8",TFPMH:"#F2B691",TFSBP:"#F2B691",TFTORT:"#91F296",TOA:"#91A4F2",WGJCD:"#F29C91",WGOEA:"#F2A391",WGREDS:"#B1F291"},r1=ng((n,e)=>({unfilteredCommitteeAgenda:[],setUnfilteredCommitteeAgenda:t=>n({unfilteredCommitteeAgenda:t}),getCommitteeAgendaItems:()=>e().unfilteredCommitteeAgenda,getCalendarEvents:()=>Mbe(e().getCommitteeItemsGroupedIntoMeetings()),getUpcomingAgendaItemsById:t=>e().unfilteredCommitteeAgenda.filter(r=>Jn(r)===t).filter(r=>new Date(r.MeetingDate)>new Date),getTestimonyLinkByIdAndDate:(t,r)=>Lbe(zH(e().unfilteredCommitteeAgenda,t,r)),getCommitteeMeetingByIdAndDate:(t,r)=>{var i;return(i=zH(e().unfilteredCommitteeAgenda,t,r))==null?void 0:i.CommitteeMeeting},getCommitteeItemsGroupedIntoMeetings:()=>Obe(e().getCommitteeAgendaItems()),getCommitteeMeetingWithItemsByGuid:t=>e().getCommitteeItemsGroupedIntoMeetings()[t]})),Mbe=n=>Object.keys(n).map(e=>{const t=n[e].CommitteeMeeting,r=new Date(t.MeetingDate),i=new Date(r.getTime()+90*1e3*60);return{title:t.CommitteeCode,start:r,end:i,id:e,comments:"item.Comments",color:Dbe[t.CommitteeCode]||"#f7f7f7"}}),Obe=n=>{const e={};return n.forEach(t=>{const r=t.CommitteeMeeting.MeetingGuid,i=e[r];if(!i)e[r]={CommitteeMeeting:t.CommitteeMeeting,AgendaItems:[t]};else{let s=[...i.AgendaItems];s.push(t),e[r]={...i,AgendaItems:s}}}),e},zH=(n,e,t)=>n.find(i=>{const s=Jn(i)===e,o=new Date(i.MeetingDate),a=300*1e3,l=Math.abs(o.getTime()-t.getTime())<a;return s&&l}),Lbe=n=>n?{written:`https://olis.oregonlegislature.gov/liz/${n.SessionKey}/Testimony/${n.CommitteCode}/${n.MeasurePrefix}/${n.MeasureNumber}/0000-00-00-00-00?area=Measures`,inPerson:""}:null,F$=ng((n,e)=>({committees:[],setCommittees:t=>n({committees:t}),addCommittee:t=>n({committees:[...e().committees,t]}),setUnfilteredCommittees:t=>n({committees:t}),getCommitteeByCode:t=>{var r;return(r=e().committees)==null?void 0:r.find(i=>i.CommitteeCode===t)},getFullCommitteeNameByCode:t=>{var r,i;return(i=(r=e().committees)==null?void 0:r.find(s=>s.CommitteeCode===t))==null?void 0:i.CommitteeName}})),Fbe=["In House Committee","In House Committee Awaiting transfer to Desk","In Senate Committee","In Senate Committee Awaiting transfer to Desk","Senate Desk - Awaiting Second Reading"],Nbe=["Senate - Tabled","Senate Desk - Failed","House Desk - Failed","At House Desk Upon Adjournment","At Senate Desk Upon Adjournment","At Speakers Desk Upon Adjournment","In House Committee","In Senate Committee"],Bbe=["Governors Office - Awaiting Signature","Senate Presidents Desk - Awaiting Signature","Speakers Desk - Awaiting Signature"],$be=["Filed with Secretary of State","Secretary of States Office - Chapter Number Assignment","Chapter Number Assigned"],jbe=[{group:"Sorting Errors",data:[{section:"Uncategorized Bills"}]}],Ube=[{group:"First Chamber",data:[{section:"Committee",data:[{status:"In Committee",data:["In House Committee","In Senate Committee"]},{status:"Awaiting Transfer to Desk",data:["In House Committee","In Senate Committee"]}]},{section:"Floor",data:[{status:"Awaiting First Reading",data:["In House","In Senate"]},{status:"Awaiting Second Reading",data:["In House","In Senate"]}]}]},{group:"Second Chamber",data:[{section:"Committee",data:[{status:"In Committee",data:["In House Committee","In Senate Committee"]},{status:"Awaiting Transfer to Desk",data:["In House Committee","In Senate Committee"]}]},{section:"Floor",data:[{status:"Awaiting First Reading",data:["In House","In Senate"]},{status:"Awaiting Second Reading",data:["In House","In Senate"]}]}]},{group:"Administrative Checks",data:[{section:"Awaiting Signature",data:[{status:"Governors Office",data:[""]},{status:"Chamber",data:["Senate President Desk","Speakers Desk"]}]}]},{group:"Passed",data:[{section:"Passed",data:[{status:"Filed with Secretary of State",data:[""]},{status:"Awaiting Chapter Number",data:[""]},{status:"Chapter Number Assigned",data:[""]}]}]},{group:"Not Passed",data:[{section:"Not Passed",data:[{status:"Failed",data:["At House Desk","At Senate Desk"]},{status:"Tabled",data:["In Senate","In House"]},{status:"At Desk Upon Adjourment",data:["At House Speakers Desk","At Senate Desk","At House Desk"]},{status:"In Committee Upon Adjourment",data:["In Senate Committee","In House Committee"]}]}]}],Vbe=(n,e,t)=>{const r=t.some(l=>l.ActionText.toLowerCase().includes("in committee upon adjournment"));if(Fbe.some(l=>n===l)&&!r){var i={};const l=n.includes("Senate")&&e==="SB"||n.includes("House")&&e==="HB"||n.includes("House")&&e==="HJM",u=n.includes("Committee");return i.group=l?"First Chamber":"Second Chamber",i.section=u?"Committee":"Floor",i.status=n.includes("Awaiting Transfer")?"Awaiting Transfer to desk":"In Committee",u?i.sublocation=n.includes("Senate")?"In Senate Committee":"In House Committee":i.sublocation=n.includes("Senate")?"On Senate Floor":"On House Floor",i}if(Bbe.some(l=>n===l)){var s={};return s.group="Administrative Checks",s.section="Awaiting Signature",n.includes("Governors")?(s.status="Governors Office",s.sublocation=""):(s.status="Chamber",s.sublocation=n.includes("Speaker")?"Speakers Desk":"Senate President Desk"),s}if($be.some(l=>n===l)){var o={};return o.group="Passed",o.section="Passed",n.includes("filed")?o.status="Filed with Secretary of State":(n="Chapter Number Assigned")?o.status="Chapter Number Assigned":o.status="Awaiting Chapter Number",o.sublocation="",o}if(Nbe.some(l=>n===l)||r){var a={};return a.group="Not Passed",a.section="Not Passed",r?(a.status="In Committee Upon Adjourment",a.sublocation=n.includes("Senate")?"In Senate Committee":"In House Committee"):n.includes("tabled")?(a.status="Tabled",a.sublocation=n.includes("senate")?"In Senate":"In House"):n.includes("failed")?(a.status="Failed",a.sublocation=n.includes("senate")?"At Senate Desk":"At House Desk"):(a.status="At Desk Upon Adjourment",n==="At House Desk Upon Adjournment"&&(a.sublocation="At House Desk"),n==="At Senate Desk Upon Adjournment"&&(a.sublocation="At Senate Desk"),n==="At Speakers Desk Upon Adjournment"&&(a.sublocation="At House Speakers Desk")),a}return{group:"Sorting Errors",status:n,section:"Uncategorized Bills",sublocation:"uncategorized"}},Ia=ng((n,e)=>({areOlisMeasuresLoading:{areMeasuresLoading:!0,totalMeasures:0,measuresLoaded:0},setAreOlisMeasuresLoading:t=>n({areOlisMeasuresLoading:t}),getFilteredMeasureIds:()=>wa.getState().userTrackedMeasures?wa.getState().getSafeUserTrackedMeasures().filter(t=>t.isDisplayed).map(t=>Jn(t)):[],getFilteredMeasureDocuments:()=>e().getMeasures().flatMap(t=>t.MeasureDocuments),unfilteredMeasures:[],getMeasures:()=>qbe(e().unfilteredMeasures,wa.getState().getSafeUserTrackedMeasures()),getMeasuresSortedIntoKanbanLocations:()=>Ybe(e().getMeasures()),getHasKanbanSortingError:()=>Gbe(e().getMeasuresSortedIntoKanbanLocations()),setUnfilteredMeasures:t=>n({unfilteredMeasures:Kbe(t)}),getMeasureById:t=>e().unfilteredMeasures.find(r=>r.id===t),getMeasureUrlById:t=>Wbe(e().getMeasureById(t)),getMeasureCommitteeCodeById:t=>{var r;return(r=e().getMeasureById(t))==null?void 0:r.CurrentCommitteeCode},getMeasureDocumentsById:t=>{var r;return(r=e().getMeasureById(t))==null?void 0:r.MeasureDocuments},getMeasureTitleById:t=>{var r;return(r=e().getMeasureById(t))==null?void 0:r.CatchLine},getMeasureNicknameById:t=>{var r,i;return((r=wa.getState().getUserMeasureMetadataById(t))==null?void 0:r.nickname)||((i=e().getMeasureById(t))==null?void 0:i.CatchLine)||void 0},getSortedMeasureSponsorsById:t=>{var r;return zbe((r=e().getMeasureById(t))==null?void 0:r.MeasureSponsors)},getSortedMeasureChiefSponsorsById:t=>{var r;return Hbe((r=e().getMeasureById(t))==null?void 0:r.MeasureSponsors)}})),Hbe=n=>n?n.filter(e=>e.SponsorType==="Member"&&e.SponsorLevel==="Chief").sort((e,t)=>Number(t.PrintOrder)-Number(e.PrintOrder)):[],zbe=n=>n?n.filter(e=>e.SponsorType==="Member"&&e.SponsorLevel==="Regular").sort((e,t)=>Number(t.PrintOrder)-Number(e.PrintOrder)):[],Wbe=n=>n?`https://olis.oregonlegislature.gov/liz/${n.SessionKey}/Measures/Overview/${n.MeasurePrefix}${n.MeasureNumber}`:"",qbe=(n,e)=>n.filter(t=>{var i;return((i=e.find(s=>Jn(t)===Jn(s)))==null?void 0:i.isDisplayed)?t:null}),Gbe=n=>!!(n!=null&&n["Sorting Errors"]),Ybe=n=>{let e={};return n&&n.forEach(t=>{let{group:r,section:i,status:s,sublocation:o}=Vbe(t.CurrentLocation,t.MeasurePrefix,t.MeasureHistoryActions);e[r]=e[r]||{},e[r][i]=e[r][i]||{},e[r][i][s]=e[r][i][s]||{},e[r][i][s][o]=e[r][i][s][o]||[],e[r][i][s][o]=[...e[r][i][s][o],t]}),e},Kbe=n=>n.filter(r=>r!==void 0).filter(r=>r.value[0]).map(r=>{const i=r.value[0],s=Jn(i);return{...i,id:s}}),QR={"2026-03-09":"Last Day of Session"},Xbe="https://www.oregonlegislature.gov/secretary-of-senate/Documents/2025%20Interim%20Calendar.pdf",Jbe=n=>{let e=n.getHours();const r=(n.getMinutes()===1?0:n.getMinutes()).toString().padStart(2,"0"),i=e>=12?"pm":"am";return e=e%12||12,`${e}:${r} ${i}`},N$=n=>{const e=n.toLocaleString("en-US",{month:"short"}),t=n.getDate();let r=n.getHours();const s=(n.getMinutes()===1?0:n.getMinutes()).toString().padStart(2,"0"),o=r>=12?"pm":"am";return r=r%12||12,`${e}. ${t}, ${r}:${s}${o}`},Qbe={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},Zbe=n=>{const e=n.toLocaleString("en-US",{month:"long"}),t=n.getDate(),r=n.getFullYear(),i=n.getDay();return`${e} ${t}, ${r}, ${Qbe[i]}`},e_e=n=>{const e=new Date;e.setHours(0,0,0,0);const t=new Date(n);t.setHours(0,0,0,0);const r=e.getTime()-t.getTime(),i=Math.floor(r/(1e3*60*60*24));return i===-1?"in 1 day":i<0?`in ${Math.abs(i)} days`:i===0?"Today":i===1?"1 day ago":`${i} days ago`},KK=n=>`${n.getFullYear()}-${e_(n.getMonth()+1)}-${e_(n.getDate())}-${e_(n.getHours())}-00`,e_=n=>n.toString().padStart(2,"0"),t_e=n=>`${n.getFullYear()}-${e_(n.getMonth()+1)}-${e_(n.getDate())}`,n_e=n=>{const e=new Date,t=new Date(n),r=3600*1e3,i=new Date(t.getTime()+r);return e>i},XK=n=>{const e=new Date,t=new Date(n),r=10080*60*1e3,i=new Date(t.getTime()+r);return e>i},ZR=ng((n,e)=>({unfilteredHistory:[],setUnfilteredHistory:t=>n({unfilteredHistory:t}),getHistoryById:t=>i_e(e().unfilteredHistory.filter(r=>Jn(r)===t)),getFilteredHistory:()=>r_e(e().unfilteredHistory,Ia.getState().getFilteredMeasureIds()),getUpdatesById:t=>[...JK(e().getHistoryById(t)),...QK(Ia.getState().getMeasureDocumentsById(t))],getFilteredUpdatesSortedByDate:()=>qH(dT()),getFilteredUpdatesLength:()=>dT().length,getFilteredLatestUpdatesOnlyByDate:()=>qH(WH(dT())),getFilteredLatestUpdatesLength:()=>WH(dT()).length})),JK=n=>n.map(e=>{const{ActionDate:t,ActionText:r,MeasurePrefix:i,MeasureNumber:s,SessionKey:o,MeasureHistoryId:a}=e,l=Ia.getState().getMeasureNicknameById(Jn(e)),u=e.ActionText.toLowerCase(),h=u.includes("public hearing")||u.includes("work session");return{Text:r,Date:t,MeasurePrefix:i,MeasureNumber:s,MeasureName:l,SessionKey:o,Link:null,Key:a.toString(),Type:h?"CommitteeMeeting":"MeasureHistoryItem"}}),QK=n=>n?n.map(e=>{const{CreatedDate:t,DocumentUrl:r,VersionDescription:i,MeasurePrefix:s,MeasureNumber:o,SessionKey:a}=e,l=Ia.getState().getMeasureNicknameById(Jn(e));return{Text:i,Date:t,MeasurePrefix:s,MeasureNumber:o,MeasureName:l,SessionKey:a,Link:r,Key:r,Type:"MeasureDocument"}}):[],r_e=(n,e)=>n.filter(t=>{const r=Jn(t);return e.includes(r)}),i_e=n=>n.sort((e,t)=>new Date(t.ActionDate).getTime()-new Date(e.ActionDate).getTime()),dT=()=>[...JK(ZR.getState().getFilteredHistory()),...QK(Ia.getState().getFilteredMeasureDocuments())],WH=n=>{const e={};return n.forEach(t=>{const r=Jn(t),i=e[r];(!i||new Date(i.Date)<new Date(t.Date))&&(e[r]=t)}),Object.keys(e).map(t=>e[t])},s_e=n=>n.sort((e,t)=>new Date(t.Date).getTime()-new Date(e.Date).getTime()),o_e=n=>s_e(n).reduce((e,t)=>{const r=new Date(t.Date).toISOString().split("T")[0];return e[r]||(e[r]=[]),e[r].push(t),e},{}),a_e=n=>{const e=Object.keys(QR).find(t=>{const r=t_e(new Date);return t>=r});e&&(n[e]||(n[e]=[]))},qH=n=>{const e=o_e(n);return a_e(e),Object.keys(e).forEach(t=>{e[t].sort((r,i)=>new Date(i.Date).getTime()-new Date(r.Date).getTime())}),e},B$=ng((n,e)=>({legislators:[],setLegislators:t=>n({legislators:t}),addLegislator:t=>n({legislators:[...e().legislators,t]}),setUnfilteredLegislators:t=>n({legislators:t}),getLegislatorByCode:t=>{var r;return(r=e().legislators)==null?void 0:r.find(i=>i.LegislatorCode===t)},getFullLegislatorNameByCode:t=>{var i;const r=(i=e().legislators)==null?void 0:i.find(s=>s.LegislatorCode===t);return r?`${r.FirstName} ${r.LastName}`:"undefined"},getFullLegislatorNameByCodeWithTitle:t=>{var i;const r=(i=e().legislators)==null?void 0:i.find(s=>s.LegislatorCode===t);return r?`${r.Title.slice(0,3)} ${r.FirstName} ${r.LastName}`:"undefined"},getEmailByLegislatorCode:t=>{var i;const r=(i=e().legislators)==null?void 0:i.find(s=>s.LegislatorCode===t);return r?r.EmailAddress:void 0},getWebsiteByLegislatorCode:t=>{var i;const r=(i=e().legislators)==null?void 0:i.find(s=>s.LegislatorCode===t);return r?r.WebSiteUrl:void 0},exportLegislatorContactsAsCSV:t=>{const r=e().legislators.filter(o=>t.includes(o.LegislatorCode)),i=`FirstName,LastName,Title,CapitolPhone,EmailAddress
`,s=r.map(o=>`${o.FirstName},${o.LastName},${o.Title},${o.CapitolPhone},${o.EmailAddress}`).join(`
`);return i+s}})),l_e=Gr(M.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),c_e={downloadIcon:{color:"#A7A7A7",maxWidth:"20px"}},u_e=({legislatorCodes:n,buttonText:e="Export Contacts"})=>{const{exportLegislatorContactsAsCSV:t}=B$(),r=()=>{const i=t(n),s=new Blob([i],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),a=URL.createObjectURL(s);o.setAttribute("href",a),o.setAttribute("download","legislator_contacts.csv"),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)};return M.jsxs(Wr,{variant:"outlined",onClick:r,children:[M.jsx(l_e,{sx:c_e.downloadIcon,fontSize:"small"}),e]})},Kw={pill:{padding:"0px 16px",borderRadius:"16px",minWidth:"110px",width:"fit-content",boxSizing:"border-box",textAlign:"center",height:"fit-content",flexShrink:0,flexWrap:"nowrap"},pillHover:{"&:hover":{filter:"brightness(80%)"}}},eI=({id:n,withModal:e,shouldNavigateToBillOnClick:t=!1})=>{const r=wa.getState().getUserMeasureColorById(n),{anchorEl:i,setModalOpen:s,setModalClosed:o}=c_(),a=L0(),l={backgroundColor:r!==void 0?r:"#fff"};return e?M.jsxs(M.Fragment,{children:[M.jsx(Qs,{title:Ly.MeasureModal,children:M.jsx(Wr,{sx:{...Kw.pill,...l,...Kw.pillHover},onClick:s,children:M.jsx(Ne,{variant:"overline",children:Yb(Kb(n))})})}),M.jsx(j$,{measureId:n,anchorEl:i,onClose:o})]}):t?M.jsx(Qs,{title:Ly.MeasureModal,children:M.jsx(Wr,{sx:{...Kw.pill,...l,...Kw.pillHover},onClick:()=>a(`/bill/${n}`),children:M.jsx(Ne,{variant:"overline",children:Yb(Kb(n))})})}):M.jsx(Ee,{sx:{...Kw.pill,...l},children:M.jsx(Ne,{variant:"overline",children:Yb(Kb(n))})})},Yd={container:{display:"flex",flexDirection:"row",gap:2},time:{minWidth:"65px",flexShrink:0},contentContainer:{display:"flex",flexDirection:{xs:"column",sm:"row"},width:"100%",gap:{xs:0,sm:2}},content:{display:"flex",flexDirection:"column"},topLine:{display:"flex",flexDirection:"row",justifyContent:"space-between",height:"34px"},documentLine:{display:"flex",minHeight:"34px",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},gap:1.5},buttonContainer:{flexDirection:"row",display:{xs:"none",sm:"flex"}}},d_e=Gr(M.jsx("path",{d:"M14.59 2.59c-.38-.38-.89-.59-1.42-.59H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8.83c0-.53-.21-1.04-.59-1.41zM15 18H9c-.55 0-1-.45-1-1s.45-1 1-1h6c.55 0 1 .45 1 1s-.45 1-1 1m0-4H9c-.55 0-1-.45-1-1s.45-1 1-1h6c.55 0 1 .45 1 1s-.45 1-1 1m-2-6V3.5L18.5 9H14c-.55 0-1-.45-1-1"}),"DescriptionRounded"),h_e=n=>{if(!n||n.Type!=="CommitteeMeeting")return null;const e=n.Text.toLowerCase().includes("public hearing"),t=2880*60*1e3,r=new Date().getTime()-t<new Date(n.Date).getTime();return e&&r},f_e=Gr(M.jsx("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM17 14H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1m0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1m0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1"}),"CommentRounded"),p_e=({testimonyLinks:n})=>M.jsx(M.Fragment,{children:M.jsx(Qs,{title:"Submit Written Testimony",children:M.jsx(Ts,{size:"small",href:n.written,target:"_blank",children:M.jsx(f_e,{})})})}),m_e=Gr(M.jsx("path",{d:"M16 10H8c-.55 0-1 .45-1 1s.45 1 1 1h8c.55 0 1-.45 1-1s-.45-1-1-1m3-7h-1V2c0-.55-.45-1-1-1s-1 .45-1 1v1H8V2c0-.55-.45-1-1-1s-1 .45-1 1v1H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-1 16H6c-.55 0-1-.45-1-1V8h14v10c0 .55-.45 1-1 1m-5-5H8c-.55 0-1 .45-1 1s.45 1 1 1h5c.55 0 1-.45 1-1s-.45-1-1-1"}),"EventNoteRounded"),g_e=({committeeMeeting:n,MeasurePrefix:e,MeasureNumber:t})=>{const{SessionKey:r,CommitteeCode:i,MeetingDate:s}=n,o=KK(new Date(s)),a=`https://olis.oregonlegislature.gov/liz/${r}/Committees/${i}/${o}/${e}${t}/PUB/Details`;return M.jsx(Qs,{title:"View Meeting in OLIS",children:M.jsx(Ts,{href:a,target:"_blank",size:"small",children:M.jsx(m_e,{})})})},KL=({updateItem:n,variant:e,selected:t,toggleSelected:r})=>{const{getTestimonyLinkByIdAndDate:i,getCommitteeMeetingByIdAndDate:s}=r1(),o=Da(),a=(n==null?void 0:n.Type)==="MeasureDocument",l=(n==null?void 0:n.Type)==="CommitteeMeeting",u=e$(o.breakpoints.down("sm")),h=Jn(n),p=h_e(n)?i(h,new Date(n.Date)):null,m=l&&s(h,new Date(n.Date));if(!n)return null;const y=a&&n.Link?M.jsx(Ts,{href:n.Link,target:"_blank",size:"small",children:M.jsx(d_e,{fontSize:"small"})}):null,b=u&&(y||m||p);return M.jsxs(Ee,{sx:{...Yd.container,...b?{cursor:"pointer"}:{}},onClick:b?r:void 0,children:[M.jsx(Ne,{variant:"subtitle2",sx:Yd.time,children:e==="full"?Jbe(new Date(n.Date)):N$(new Date(n.Date))}),M.jsxs(Ee,{sx:Yd.contentContainer,children:[M.jsxs(Ee,{sx:Yd.topLine,children:[e==="full"&&M.jsx(eI,{id:Jn(n),withModal:!0}),b&&M.jsx(Ts,{sx:Yd.dropdownIcon,size:"small",onClick:r,children:M.jsx(gY,{sx:{transform:t?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})})]}),M.jsxs(Ee,{sx:Yd.content,children:[M.jsxs(Ee,{sx:Yd.documentLine,children:[M.jsx(Ne,{variant:"body1",children:n.Text}),M.jsxs(Ee,{sx:{...Yd.buttonContainer,...t?{display:"block"}:{}},children:[y,m&&M.jsx(g_e,{committeeMeeting:m,MeasureNumber:n.MeasureNumber,MeasurePrefix:n.MeasurePrefix}),p&&M.jsx(p_e,{testimonyLinks:p})]})]}),e==="full"&&M.jsx(Ne,{variant:"caption",children:n.MeasureName})]})]})]})},y_e=Gr(M.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),v_e={emailIcon:{color:"#A7A7A7",maxWidth:"20px"}},w_e=({emails:n,buttonText:e="Send Email"})=>{const t=()=>{if(n.length===0)return;const[r,...i]=n,s=`mailto:${r}?bcc=${i.join(",")}`;window.location.href=s};return M.jsxs(Wr,{variant:"outlined",onClick:t,children:[M.jsx(y_e,{sx:v_e.emailIcon,fontSize:"small"}),e]})},ZK=Gr(M.jsx("path",{d:"M18 19H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h5c.55 0 1-.45 1-1s-.45-1-1-1H5c-1.11 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6c0-.55-.45-1-1-1s-1 .45-1 1v5c0 .55-.45 1-1 1M14 4c0 .55.45 1 1 1h2.59l-9.13 9.13c-.39.39-.39 1.02 0 1.41s1.02.39 1.41 0L19 6.41V9c0 .55.45 1 1 1s1-.45 1-1V3h-6c-.55 0-1 .45-1 1"}),"LaunchRounded"),b_e={launchIcon:{color:"#A7A7A7"}},$$=({url:n})=>M.jsxs(Wr,{variant:"outlined",href:n,target:"_blank",children:["View in OLIS",M.jsx(ZK,{sx:b_e.launchIcon,fontSize:"small"})]}),hr={modalContent:{display:"flex",flexDirection:"column",gap:3,overflow:"auto"},title:{fontWeight:600},infoSection:{gap:3,display:"flex",flexDirection:"column"},quicklook:{backgroundColor:"#E5EFE5",border:"2px solid darkgreen",borderRadius:"8px",padding:2},history:{padding:3,backgroundColor:"#f7f7f7",borderRadius:"8px"},historyItemsContainer:{display:"flex",flexDirection:"column",gap:2},measureDocument:{padding:"8px 16px",backgroundColor:"#EFEFEF",width:"fit-content",borderRadius:"4px",color:"black",textDecoration:"none",whiteSpace:"nowrap",flexShrink:0,"&:hover":{backgroundColor:"#D9D9D9",color:"black"}},measureDocumentSection:{display:"flex",flexDirection:"column",gap:1},documentsContainer:{display:"flex",flexDirection:"row",gap:2,flexShrink:0,overflowX:"auto",overflowY:"hidden",width:"100%",paddingBottom:"12px",marginBottom:"4px"},lineItem:{display:"flex",flexDirection:"row",gap:2,"& *:first-child":{minWidth:"100px"}},lineItemButton:{display:"flex",flexDirection:"row",gap:2},header:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},headerButtons:{display:"flex",flexDirection:"row",gap:1},hyperlink:{color:"dimgray",textDecorationColor:"dimgray","&:hover":{color:"black",textDecorationColor:"black"}}},eX=({measureModalId:n,onModalClose:e})=>{const t=l8(),r=L0(),i=n||t.id,{getMeasureById:s,getMeasureUrlById:o,getSortedMeasureSponsorsById:a,getSortedMeasureChiefSponsorsById:l}=Ia(),{getUpdatesById:u}=ZR(),{getUpcomingAgendaItemsById:h}=r1(),{getFullCommitteeNameByCode:p}=F$(),{getFullLegislatorNameByCodeWithTitle:m,getEmailByLegislatorCode:y,getWebsiteByLegislatorCode:b}=B$(),w=s(i),_=h(i),E=a(i),T=l(i),C=!!n;if(!i||!w)return null;const{RelatingTo:x,CatchLine:I,MeasureDocuments:F,CurrentLocation:k}=w,L=[...T.map(A=>y(A.LegislatoreCode)),...E.map(A=>y(A.LegislatoreCode))].filter(A=>A!==void 0),N=[...T.map(A=>A.LegislatoreCode),...E.map(A=>A.LegislatoreCode)];return M.jsx(M.Fragment,{children:M.jsxs(Ee,{sx:hr.modalContent,children:[M.jsxs(Ee,{sx:hr.header,children:[M.jsx(eI,{id:i,withModal:!1}),M.jsxs(Ee,{sx:hr.headerButtons,children:[M.jsx($$,{url:o(i)}),C&&M.jsx(Ts,{sx:hr.headerButton,onClick:()=>{e==null||e(),r(`/bill/${i}`)},children:M.jsx(Pbe,{})})]})]}),M.jsx(Ne,{variant:"h1",sx:hr.title,children:I}),M.jsxs(Ee,{sx:hr.measureDocumentSection,children:[M.jsx(Ne,{variant:"subtitle2",children:"Measure Documents"}),M.jsx(Ee,{sx:hr.documentsContainer,children:F.map(A=>M.jsx(XP,{role:"button",sx:hr.measureDocument,href:`/#/bill/${i}/document/${A.VersionDescription}`,children:M.jsx(Ne,{variant:"body1",sx:{whiteSpace:"nowrap"},children:A.VersionDescription})},A.DocumentUrl))})]}),M.jsx(Ee,{sx:{...hr.quicklook,...hr.infoSection},children:M.jsx(Ne,{variant:"h3",children:"Quicklook"})}),M.jsxs(Ee,{sx:hr.infoSection,children:[M.jsx(Ne,{variant:"h3",children:"Summary"}),M.jsxs(Ee,{sx:hr.lineItem,children:[M.jsx(Ne,{variant:"subtitle2",children:"Relating to"}),M.jsx(Ne,{variant:"body1",children:x})]}),M.jsxs(Ee,{sx:hr.lineItem,children:[M.jsx(Ne,{variant:"subtitle2",children:"Location"}),M.jsx(Ne,{variant:"body1",children:`${k} | ${p(w==null?void 0:w.CurrentCommitteeCode)}`})]}),M.jsxs(Ee,{sx:hr.lineItem,children:[M.jsx(Ne,{sx:{maxWidth:"100px"},variant:"subtitle2",children:"Chief Sponsors"}),M.jsx(Ne,{variant:"body1",children:T.map(A=>M.jsxs(M.Fragment,{children:[M.jsx(XP,{href:b(A.LegislatoreCode),target:"_blank",sx:hr.hyperlink,children:m(A.LegislatoreCode)},A.LegislatoreCode),M.jsx("br",{})]}))})]}),M.jsxs(Ee,{sx:hr.lineItem,children:[M.jsx(Ne,{variant:"subtitle2",children:"Sponsors"}),M.jsx(Ne,{variant:"body1",children:E.map(A=>M.jsxs(M.Fragment,{children:[M.jsx(XP,{href:b(A.LegislatoreCode),target:"_blank",sx:hr.hyperlink,children:m(A.LegislatoreCode)},A.LegislatoreCode),M.jsx("br",{})]}))})]}),M.jsxs(Ee,{sx:hr.lineItemButton,children:[M.jsx(Ne,{sx:{maxWidth:"100px"},variant:"subtitle2",children:"Contact Sponsors"}),M.jsx(w_e,{emails:L,buttonText:"Send Email To All Sponsors"}),M.jsx(u_e,{legislatorCodes:N,buttonText:"Export Contacts"})]})]}),M.jsxs(Ee,{sx:{...hr.history,...hr.infoSection},children:[M.jsx(Ne,{variant:"h3",children:"History"}),M.jsx(Ee,{sx:hr.historyItemsContainer,children:u(i).map(A=>M.jsx(KL,{selected:!1,toggleSelected:()=>console.log("TODO: IMPLEMENT"),updateItem:A,variant:"light"},A.Key))})]}),M.jsxs(Ee,{sx:hr.infoSection,children:[M.jsx(Ne,{variant:"h3",children:"Upcoming Events"}),_.length?_.map(A=>M.jsxs(Ee,{sx:hr.lineItem,children:[M.jsx(Ne,{variant:"subtitle2",children:N$(new Date(A.MeetingDate))}),M.jsx(Ne,{variant:"body1",children:A.MeetingType})]},A.CommitteeAgendaItemId)):M.jsx(Ne,{variant:"subtitle2",children:"No Upcoming Events"})]})]})})},__e={modalContainer:{width:"900px",boxSizing:"border-box",padding:6,display:"flex",flexDirection:"column"}},j$=({anchorEl:n,onClose:e,measureId:t})=>M.jsx(QB,{maxWidth:"lg",open:!!n,onClose:e,children:M.jsx(Ee,{sx:__e.modalContainer,children:M.jsx(eX,{measureModalId:t,onModalClose:e})})}),S_e=({userTrackedMeasure:n})=>{const{anchorEl:e,setModalClosed:t,setModalOpen:r}=c_(),{anchorEl:i,setModalClosed:s,setModalOpen:o}=c_(),{removeTrackedMeasureById:a,setUserTrackedMeasureFilterStatusById:l,getUserMeasureColorById:u}=wa(),{getMeasureNicknameById:h}=Ia(),{currentUser:p}=KE(),{isDisplayed:m}=n,y=Jn(n),b=h(y),w=u(y);return M.jsxs(M.Fragment,{children:[M.jsx(Qs,{title:Ly.MeasureModal,children:M.jsxs(Ee,{sx:ry.measureFilterContainer,onClick:_=>o(_),role:"button",children:[M.jsx(Qs,{title:Ly.ToggleVisibility,children:M.jsx(Wr,{sx:{...ry.checkbox},onClick:_=>{_.stopPropagation(),l(y,!m)},children:M.jsx(s$,{color:w,filled:m})})}),M.jsxs(Ee,{sx:ry.infoArea,children:[M.jsxs(Ee,{sx:ry.infoTopline,children:[M.jsx(Ne,{variant:"h5",sx:ry.measureId,children:Yb(n)}),M.jsx(Qs,{title:Ly.DeleteMeasure,children:M.jsx(Ts,{id:"deleteIcon",sx:ry.deleteIcon,size:"small",onClick:_=>{_.stopPropagation(),r(_)},children:M.jsx(YK,{})})})]}),M.jsx(Ne,{variant:"body1",children:b})]})]})}),M.jsx(kbe,{anchorEl:e,onClose:t,handleAction:async()=>{if(a(y),p)try{await xbe(p.uid,y)}catch(_){console.error("Error removing measure from Firebase:",_)}},message:`Delete ${y}?`,subtitle:"Are you sure you want to remove this measure from your tracked measures? This action cannot be undone."}),M.jsx(j$,{anchorEl:i,onClose:s,measureId:y})]})},Xf={drawerContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start"},drawer:{transition:"0.3s all ease-in-out"},container:{width:`${tve}`,boxSizing:"border-box",minHeight:"100vh",flexShrink:0,backgroundColor:"#F7F7F7",padding:"24px 24px",color:"black",textAlign:"left",display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5,"&:hover #closeIcon":{visibility:"visible",opacity:1}},section:{display:"flex",flexDirection:"column",gap:.5,width:"100%"},sectionHeader:{display:"flex",flexDirection:"row",justifyContent:"space-between",fontSize:"20px",alignItems:"center"},closeArrows:{width:"40",opacity:{xs:1,md:0},visibility:{xs:"visible",md:"hidden"},transition:"opacity 0.2s ease-in-out, visibility 0.2s"},menuIconContainer:{padding:{xs:2,md:3},position:{xs:"absolute",md:"fixed"}}},E_e=Gr([M.jsx("path",{d:"M18.29 17.29c.39-.39.39-1.02 0-1.41L14.42 12l3.88-3.88c.39-.39.39-1.02 0-1.41a.996.996 0 0 0-1.41 0L12.3 11.3c-.39.39-.39 1.02 0 1.41l4.59 4.59c.38.38 1.01.38 1.4-.01"},"0"),M.jsx("path",{d:"M11.7 17.29c.39-.39.39-1.02 0-1.41L7.83 12l3.88-3.88c.39-.39.39-1.02 0-1.41a.996.996 0 0 0-1.41 0L5.71 11.3c-.39.39-.39 1.02 0 1.41l4.59 4.59c.38.38 1.01.38 1.4-.01"},"1")],"KeyboardDoubleArrowLeftRounded"),C_e=Gr(M.jsx("path",{d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1m0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1M3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1"}),"MenuRounded"),GH=({open:n,setOpen:e})=>{const{userTrackedMeasures:t}=wa(),r=Da(),i=e$(r.breakpoints.down("md"));return M.jsxs(Ee,{sx:Xf.drawerContainer,children:[M.jsx(Qme,{sx:Xf.drawer,open:n,variant:i?"temporary":"persistent",anchor:"left",onClose:()=>e(!1),children:M.jsxs(Ee,{sx:Xf.container,children:[M.jsx(Qs,{title:"Close Sidebar",children:M.jsx(Ts,{id:"closeIcon",sx:Xf.closeArrows,onClick:()=>e(!1),children:M.jsx(E_e,{})})}),M.jsxs(Ee,{sx:Xf.section,children:[M.jsxs(Ee,{sx:Xf.sectionHeader,children:[M.jsx(Ne,{variant:"h2",children:"My Tracked Bills"}),M.jsx(Ibe,{})]}),t&&t.map(s=>M.jsx(S_e,{userTrackedMeasure:s},Jn(s)))]})]})}),M.jsx(Ee,{sx:Xf.menuIconContainer,children:M.jsx(Qs,{title:"Open Sidebar",children:M.jsx(Ts,{onClick:()=>e(!0),children:M.jsx(C_e,{})})})})]})},Ul=({shouldLayoutChildren:n=!0,showSidebar:e=!0,showTabs:t=!0,children:r})=>{const[i,s]=$.useState(!1);return n?M.jsxs(M.Fragment,{children:[e&&M.jsx(GH,{open:i,setOpen:s}),M.jsx(Ee,{sx:{...XC.contentContainer,paddingLeft:{xs:"0px",md:e&&i?"348px":"0px"}},children:M.jsxs(Ee,{sx:{...XC.regularPageContainers,paddingLeft:{xs:e&&i?6:2,md:e&&i?6:12}},children:[M.jsx(H5,{}),t&&M.jsx(z5,{}),r]})})]}):M.jsxs(M.Fragment,{children:[e&&M.jsx(GH,{open:i,setOpen:s}),M.jsxs(Ee,{sx:{...XC.contentContainer,paddingLeft:{xs:"0px",md:e&&i?"348px":"0px"}},children:[M.jsxs(Ee,{sx:{...XC.regularPageContainers,paddingLeft:{xs:e&&i?6:2,md:e&&i?6:12}},children:[M.jsx(H5,{}),t&&M.jsx(z5,{})]}),r]})]})},T_e=ng((n,e)=>({queue:[],current:null,open:!1,showSnackbar:(t,r="info")=>{n(i=>({queue:[...i.queue,{message:t,severity:r}]})),e().open||e().processQueue()},closeSnackbar:()=>{n({open:!1}),setTimeout(()=>e().processQueue(),300)},processQueue:()=>{const{queue:t}=e();if(t.length>0){const r=t[0];n({current:r,open:!0,queue:t.slice(1)})}}})),A_e={alert:{width:"100%"}},x_e=()=>{const{queue:n,closeSnackbar:e}=T_e();return M.jsx(M.Fragment,{children:n.map((t,r)=>M.jsx(xye,{open:!0,autoHideDuration:5e3,onClose:()=>e(),anchorOrigin:{vertical:"bottom",horizontal:"left"},style:{bottom:50*r+24},children:M.jsx(ype,{variant:"filled",onClose:()=>e(),severity:t.severity,sx:A_e.alert,children:t.message})},r))})},YH={container:{display:"flex",flexDirection:"column",gap:1,alignItems:"flex-start"},divider:{height:"3px",width:"100%",borderRadius:"4px",backgroundColor:"darkgreen"}},R_e=({group:n})=>M.jsxs(Ee,{sx:YH.container,children:[M.jsx(Ne,{variant:"h6",children:n.group}),M.jsx(Ee,{sx:YH.divider})]}),rD={billCard:{display:"flex",flexDirection:"column",alignItems:"flex-start",backgroundColor:"#fff",borderRadius:"6px",padding:1.5,gap:1.5,width:"100%",boxSizing:"border-box",boxShadow:"2px 2px 4px 0px rgba(127, 127, 132, 0.2)","&:hover, :focus":{backgroundColor:"#ededed",boxShadow:"2px 2px 4px 0px rgba(127, 127, 132, 0.4)"}},committeeCode:{backgroundColor:"#f7f7f7",padding:"0px 12px",borderRadius:"2px"},info:{display:"flex",flexDirection:"row",gap:1,alignItems:"center"}},I_e={twoLineEllipses:{display:"-webkit-box",maxWidth:"100%",WebkitLineClamp:2,overflow:"hidden",WebkitBoxOrient:"vertical"}},KH=({billId:n})=>{const{anchorEl:e,setModalOpen:t,setModalClosed:r}=c_(),{getMeasureCommitteeCodeById:i,getMeasureTitleById:s}=Ia(),{getUserTrackedMeasurePositionById:o,getUserMeasureColorById:a}=wa(),l=i(n),u=o(n),h=s(n),m={borderLeft:`8px solid ${a(n)}`};return M.jsxs(M.Fragment,{children:[M.jsx(Qs,{title:Ly.MeasureModal,children:M.jsxs(Wr,{sx:{...m,...rD.billCard},onClick:t,children:[M.jsx(Ne,{variant:"body1",sx:{...I_e.twoLineEllipses},children:h}),l&&M.jsx(Ne,{variant:"body2",sx:rD.committeeCode,children:l}),M.jsxs(Ee,{sx:rD.info,children:[M.jsxs(Ee,{children:[u==="Support"&&"",u==="Oppose"&&""]}),M.jsx(Ne,{variant:"h5",children:Yb(Kb(n))})]})]},n)}),M.jsx(j$,{anchorEl:e,onClose:r,measureId:n})]})},XH={count:{padding:"0px 8px",backgroundColor:"white",borderRadius:"4px"},container:{display:"flex",flexDirection:"row",gap:1.5,alignItems:"center"}},k_e=({title:n,billCount:e})=>M.jsxs(Ee,{sx:XH.container,children:[M.jsx(Ne,{variant:"h4",children:n}),M.jsx(Ee,{sx:XH.count,children:M.jsx(Ne,{children:e})})]}),JH={divider:{width:"100%",height:"2px",borderRadius:"4px",backgroundColor:"#E0E0E0"},container:{display:"flex",flexDirection:"column",gap:2,alignItems:"flex-start"}},QH=({title:n})=>M.jsxs(Ee,{sx:JH.container,children:[M.jsx(Ne,{variant:"h6",children:n}),M.jsx(Ee,{sx:JH.divider})]}),P_e=n=>{let e=0;return n&&Object.keys(n).forEach(t=>{Object.keys(n[t]).forEach(r=>e+=n[t][r].length)}),e},D_e=({sectionData:n,groupTitle:e,sectionTitle:t})=>{var u;const{section:r,data:i}=n,o=(u=Ia.getState().getMeasuresSortedIntoKanbanLocations()[e])==null?void 0:u[t],a=P_e(o),l=()=>Object.keys(o).map(h=>M.jsxs("div",{className:"status-container",children:[M.jsx(QH,{title:h},h),o[h].uncategorized.map(p=>M.jsx(KH,{billId:p.id},p.id))]},`${e}-${r}-${h}`));return M.jsxs("div",{className:"section",children:[M.jsx(k_e,{title:r,billCount:a}),!i&&M.jsx(l,{}),i&&i.map(h=>M.jsxs("div",{className:"status-container",children:[M.jsx(QH,{title:h.status},h.status),M.jsx("div",{className:"sublocations-container",children:h.data.map(p=>{var m;return M.jsxs(ie.Fragment,{children:[p&&M.jsx("div",{className:"sublocation-title",children:p},p),(((m=o==null?void 0:o[h.status])==null?void 0:m[p])||[]).map(y=>M.jsx(KH,{billId:y.id},y.id))]},p)})},"sublocation"+h.status)]},`${e}-${r}-${h.status}`))]},`${e}-${r}`)},ZH={sectionsContainer:{display:"flex",flexDirection:"row",gap:2},groupsContainer:{paddingRight:2,display:"flex",flexDirection:"row",gap:2,width:"fit-content"}},M_e=({sidebarIsOpen:n})=>{const e=Ia.getState().getHasKanbanSortingError();return M.jsx(Ee,{className:"kanban-container",children:M.jsx(Ee,{className:"kanban-content",children:M.jsx(Ee,{sx:{...ZH.groupsContainer,paddingLeft:n?6:12,transition:"0.3s all ease-in-out"},children:[...e?jbe:[],...Ube].map(t=>M.jsxs(Ee,{className:"group",children:[M.jsx(R_e,{group:t}),M.jsx(Ee,{sx:ZH.sectionsContainer,children:t.data.map(r=>M.jsx(D_e,{sectionData:r,groupTitle:t.group,sectionTitle:r.section},`${t.group}-${r.section}`))})]},t.group))})})})};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var tX;function Le(){return tX.apply(null,arguments)}function O_e(n){tX=n}function Sl(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function Mm(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function an(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function U$(n){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(n).length===0;var e;for(e in n)if(an(n,e))return!1;return!0}function Bs(n){return n===void 0}function fd(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function i1(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function nX(n,e){var t=[],r,i=n.length;for(r=0;r<i;++r)t.push(e(n[r],r));return t}function Yh(n,e){for(var t in e)an(e,t)&&(n[t]=e[t]);return an(e,"toString")&&(n.toString=e.toString),an(e,"valueOf")&&(n.valueOf=e.valueOf),n}function Fc(n,e,t,r){return TX(n,e,t,r,!0).utc()}function L_e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function At(n){return n._pf==null&&(n._pf=L_e()),n._pf}var XL;Array.prototype.some?XL=Array.prototype.some:XL=function(n){var e=Object(this),t=e.length>>>0,r;for(r=0;r<t;r++)if(r in e&&n.call(this,e[r],r,e))return!0;return!1};function V$(n){var e=null,t=!1,r=n._d&&!isNaN(n._d.getTime());if(r&&(e=At(n),t=XL.call(e.parsedDateParts,function(i){return i!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t),n._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(n))n._isValid=r;else return r;return n._isValid}function tI(n){var e=Fc(NaN);return n!=null?Yh(At(e),n):At(e).userInvalidated=!0,e}var e9=Le.momentProperties=[],iD=!1;function H$(n,e){var t,r,i,s=e9.length;if(Bs(e._isAMomentObject)||(n._isAMomentObject=e._isAMomentObject),Bs(e._i)||(n._i=e._i),Bs(e._f)||(n._f=e._f),Bs(e._l)||(n._l=e._l),Bs(e._strict)||(n._strict=e._strict),Bs(e._tzm)||(n._tzm=e._tzm),Bs(e._isUTC)||(n._isUTC=e._isUTC),Bs(e._offset)||(n._offset=e._offset),Bs(e._pf)||(n._pf=At(e)),Bs(e._locale)||(n._locale=e._locale),s>0)for(t=0;t<s;t++)r=e9[t],i=e[r],Bs(i)||(n[r]=i);return n}function s1(n){H$(this,n),this._d=new Date(n._d!=null?n._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),iD===!1&&(iD=!0,Le.updateOffset(this),iD=!1)}function El(n){return n instanceof s1||n!=null&&n._isAMomentObject!=null}function rX(n){Le.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+n)}function Ma(n,e){var t=!0;return Yh(function(){if(Le.deprecationHandler!=null&&Le.deprecationHandler(null,n),t){var r=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])an(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}rX(n+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),t=!1}return e.apply(this,arguments)},e)}var t9={};function iX(n,e){Le.deprecationHandler!=null&&Le.deprecationHandler(n,e),t9[n]||(rX(e),t9[n]=!0)}Le.suppressDeprecationWarnings=!1;Le.deprecationHandler=null;function Nc(n){return typeof Function<"u"&&n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function F_e(n){var e,t;for(t in n)an(n,t)&&(e=n[t],Nc(e)?this[t]=e:this["_"+t]=e);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function JL(n,e){var t=Yh({},n),r;for(r in e)an(e,r)&&(Mm(n[r])&&Mm(e[r])?(t[r]={},Yh(t[r],n[r]),Yh(t[r],e[r])):e[r]!=null?t[r]=e[r]:delete t[r]);for(r in n)an(n,r)&&!an(e,r)&&Mm(n[r])&&(t[r]=Yh({},t[r]));return t}function z$(n){n!=null&&this.set(n)}var QL;Object.keys?QL=Object.keys:QL=function(n){var e,t=[];for(e in n)an(n,e)&&t.push(e);return t};var N_e={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function B_e(n,e,t){var r=this._calendar[n]||this._calendar.sameElse;return Nc(r)?r.call(e,t):r}function kc(n,e,t){var r=""+Math.abs(n),i=e-r.length,s=n>=0;return(s?t?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var W$=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,hT=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,sD={},Ny={};function rt(n,e,t,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),n&&(Ny[n]=i),e&&(Ny[e[0]]=function(){return kc(i.apply(this,arguments),e[1],e[2])}),t&&(Ny[t]=function(){return this.localeData().ordinal(i.apply(this,arguments),n)})}function $_e(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function j_e(n){var e=n.match(W$),t,r;for(t=0,r=e.length;t<r;t++)Ny[e[t]]?e[t]=Ny[e[t]]:e[t]=$_e(e[t]);return function(i){var s="",o;for(o=0;o<r;o++)s+=Nc(e[o])?e[o].call(i,n):e[o];return s}}function WT(n,e){return n.isValid()?(e=sX(e,n.localeData()),sD[e]=sD[e]||j_e(e),sD[e](n)):n.localeData().invalidDate()}function sX(n,e){var t=5;function r(i){return e.longDateFormat(i)||i}for(hT.lastIndex=0;t>=0&&hT.test(n);)n=n.replace(hT,r),hT.lastIndex=0,t-=1;return n}var U_e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function V_e(n){var e=this._longDateFormat[n],t=this._longDateFormat[n.toUpperCase()];return e||!t?e:(this._longDateFormat[n]=t.match(W$).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[n])}var H_e="Invalid date";function z_e(){return this._invalidDate}var W_e="%d",q_e=/\d{1,2}/;function G_e(n){return this._ordinal.replace("%d",n)}var Y_e={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function K_e(n,e,t,r){var i=this._relativeTime[t];return Nc(i)?i(n,e,t,r):i.replace(/%d/i,n)}function X_e(n,e){var t=this._relativeTime[n>0?"future":"past"];return Nc(t)?t(e):t.replace(/%s/i,e)}var n9={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Oa(n){return typeof n=="string"?n9[n]||n9[n.toLowerCase()]:void 0}function q$(n){var e={},t,r;for(r in n)an(n,r)&&(t=Oa(r),t&&(e[t]=n[r]));return e}var J_e={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Q_e(n){var e=[],t;for(t in n)an(n,t)&&e.push({unit:t,priority:J_e[t]});return e.sort(function(r,i){return r.priority-i.priority}),e}var oX=/\d/,Uo=/\d\d/,aX=/\d{3}/,G$=/\d{4}/,nI=/[+-]?\d{6}/,Zn=/\d\d?/,lX=/\d\d\d\d?/,cX=/\d\d\d\d\d\d?/,rI=/\d{1,3}/,Y$=/\d{1,4}/,iI=/[+-]?\d{1,6}/,q0=/\d+/,sI=/[+-]?\d+/,Z_e=/Z|[+-]\d\d:?\d\d/gi,oI=/Z|[+-]\d\d(?::?\d\d)?/gi,eSe=/[+-]?\d+(\.\d{1,3})?/,o1=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,G0=/^[1-9]\d?/,K$=/^([1-9]\d|\d)/,wx;wx={};function We(n,e,t){wx[n]=Nc(e)?e:function(r,i){return r&&t?t:e}}function tSe(n,e){return an(wx,n)?wx[n](e._strict,e._locale):new RegExp(nSe(n))}function nSe(n){return ed(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,r,i,s){return t||r||i||s}))}function ed(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ma(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function jt(n){var e=+n,t=0;return e!==0&&isFinite(e)&&(t=ma(e)),t}var ZL={};function In(n,e){var t,r=e,i;for(typeof n=="string"&&(n=[n]),fd(e)&&(r=function(s,o){o[e]=jt(s)}),i=n.length,t=0;t<i;t++)ZL[n[t]]=r}function a1(n,e){In(n,function(t,r,i,s){i._w=i._w||{},e(t,i._w,i,s)})}function rSe(n,e,t){e!=null&&an(ZL,n)&&ZL[n](e,t._a,t,n)}function aI(n){return n%4===0&&n%100!==0||n%400===0}var os=0,Xu=1,vc=2,ii=3,ml=4,Ju=5,pp=6,iSe=7,sSe=8;rt("Y",0,0,function(){var n=this.year();return n<=9999?kc(n,4):"+"+n});rt(0,["YY",2],0,function(){return this.year()%100});rt(0,["YYYY",4],0,"year");rt(0,["YYYYY",5],0,"year");rt(0,["YYYYYY",6,!0],0,"year");We("Y",sI);We("YY",Zn,Uo);We("YYYY",Y$,G$);We("YYYYY",iI,nI);We("YYYYYY",iI,nI);In(["YYYYY","YYYYYY"],os);In("YYYY",function(n,e){e[os]=n.length===2?Le.parseTwoDigitYear(n):jt(n)});In("YY",function(n,e){e[os]=Le.parseTwoDigitYear(n)});In("Y",function(n,e){e[os]=parseInt(n,10)});function t_(n){return aI(n)?366:365}Le.parseTwoDigitYear=function(n){return jt(n)+(jt(n)>68?1900:2e3)};var uX=Y0("FullYear",!0);function oSe(){return aI(this.year())}function Y0(n,e){return function(t){return t!=null?(dX(this,n,t),Le.updateOffset(this,e),this):E_(this,n)}}function E_(n,e){if(!n.isValid())return NaN;var t=n._d,r=n._isUTC;switch(e){case"Milliseconds":return r?t.getUTCMilliseconds():t.getMilliseconds();case"Seconds":return r?t.getUTCSeconds():t.getSeconds();case"Minutes":return r?t.getUTCMinutes():t.getMinutes();case"Hours":return r?t.getUTCHours():t.getHours();case"Date":return r?t.getUTCDate():t.getDate();case"Day":return r?t.getUTCDay():t.getDay();case"Month":return r?t.getUTCMonth():t.getMonth();case"FullYear":return r?t.getUTCFullYear():t.getFullYear();default:return NaN}}function dX(n,e,t){var r,i,s,o,a;if(!(!n.isValid()||isNaN(t))){switch(r=n._d,i=n._isUTC,e){case"Milliseconds":return void(i?r.setUTCMilliseconds(t):r.setMilliseconds(t));case"Seconds":return void(i?r.setUTCSeconds(t):r.setSeconds(t));case"Minutes":return void(i?r.setUTCMinutes(t):r.setMinutes(t));case"Hours":return void(i?r.setUTCHours(t):r.setHours(t));case"Date":return void(i?r.setUTCDate(t):r.setDate(t));case"FullYear":break;default:return}s=t,o=n.month(),a=n.date(),a=a===29&&o===1&&!aI(s)?28:a,i?r.setUTCFullYear(s,o,a):r.setFullYear(s,o,a)}}function aSe(n){return n=Oa(n),Nc(this[n])?this[n]():this}function lSe(n,e){if(typeof n=="object"){n=q$(n);var t=Q_e(n),r,i=t.length;for(r=0;r<i;r++)this[t[r].unit](n[t[r].unit])}else if(n=Oa(n),Nc(this[n]))return this[n](e);return this}function cSe(n,e){return(n%e+e)%e}var Lr;Array.prototype.indexOf?Lr=Array.prototype.indexOf:Lr=function(n){var e;for(e=0;e<this.length;++e)if(this[e]===n)return e;return-1};function X$(n,e){if(isNaN(n)||isNaN(e))return NaN;var t=cSe(e,12);return n+=(e-t)/12,t===1?aI(n)?29:28:31-t%7%2}rt("M",["MM",2],"Mo",function(){return this.month()+1});rt("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});rt("MMMM",0,0,function(n){return this.localeData().months(this,n)});We("M",Zn,G0);We("MM",Zn,Uo);We("MMM",function(n,e){return e.monthsShortRegex(n)});We("MMMM",function(n,e){return e.monthsRegex(n)});In(["M","MM"],function(n,e){e[Xu]=jt(n)-1});In(["MMM","MMMM"],function(n,e,t,r){var i=t._locale.monthsParse(n,r,t._strict);i!=null?e[Xu]=i:At(t).invalidMonth=n});var uSe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),hX="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),fX=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,dSe=o1,hSe=o1;function fSe(n,e){return n?Sl(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||fX).test(e)?"format":"standalone"][n.month()]:Sl(this._months)?this._months:this._months.standalone}function pSe(n,e){return n?Sl(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[fX.test(e)?"format":"standalone"][n.month()]:Sl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function mSe(n,e,t){var r,i,s,o=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=Fc([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return t?e==="MMM"?(i=Lr.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Lr.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=Lr.call(this._shortMonthsParse,o),i!==-1?i:(i=Lr.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Lr.call(this._longMonthsParse,o),i!==-1?i:(i=Lr.call(this._shortMonthsParse,o),i!==-1?i:null))}function gSe(n,e,t){var r,i,s;if(this._monthsParseExact)return mSe.call(this,n,e,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=Fc([2e3,r]),t&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!t&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),t&&e==="MMMM"&&this._longMonthsParse[r].test(n))return r;if(t&&e==="MMM"&&this._shortMonthsParse[r].test(n))return r;if(!t&&this._monthsParse[r].test(n))return r}}function pX(n,e){if(!n.isValid())return n;if(typeof e=="string"){if(/^\d+$/.test(e))e=jt(e);else if(e=n.localeData().monthsParse(e),!fd(e))return n}var t=e,r=n.date();return r=r<29?r:Math.min(r,X$(n.year(),t)),n._isUTC?n._d.setUTCMonth(t,r):n._d.setMonth(t,r),n}function mX(n){return n!=null?(pX(this,n),Le.updateOffset(this,!0),this):E_(this,"Month")}function ySe(){return X$(this.year(),this.month())}function vSe(n){return this._monthsParseExact?(an(this,"_monthsRegex")||gX.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(an(this,"_monthsShortRegex")||(this._monthsShortRegex=dSe),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function wSe(n){return this._monthsParseExact?(an(this,"_monthsRegex")||gX.call(this),n?this._monthsStrictRegex:this._monthsRegex):(an(this,"_monthsRegex")||(this._monthsRegex=hSe),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function gX(){function n(l,u){return u.length-l.length}var e=[],t=[],r=[],i,s,o,a;for(i=0;i<12;i++)s=Fc([2e3,i]),o=ed(this.monthsShort(s,"")),a=ed(this.months(s,"")),e.push(o),t.push(a),r.push(a),r.push(o);e.sort(n),t.sort(n),r.sort(n),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function bSe(n,e,t,r,i,s,o){var a;return n<100&&n>=0?(a=new Date(n+400,e,t,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(n)):a=new Date(n,e,t,r,i,s,o),a}function C_(n){var e,t;return n<100&&n>=0?(t=Array.prototype.slice.call(arguments),t[0]=n+400,e=new Date(Date.UTC.apply(null,t)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(n)):e=new Date(Date.UTC.apply(null,arguments)),e}function bx(n,e,t){var r=7+e-t,i=(7+C_(n,0,r).getUTCDay()-e)%7;return-i+r-1}function yX(n,e,t,r,i){var s=(7+t-r)%7,o=bx(n,r,i),a=1+7*(e-1)+s+o,l,u;return a<=0?(l=n-1,u=t_(l)+a):a>t_(n)?(l=n+1,u=a-t_(n)):(l=n,u=a),{year:l,dayOfYear:u}}function T_(n,e,t){var r=bx(n.year(),e,t),i=Math.floor((n.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=n.year()-1,s=i+td(o,e,t)):i>td(n.year(),e,t)?(s=i-td(n.year(),e,t),o=n.year()+1):(o=n.year(),s=i),{week:s,year:o}}function td(n,e,t){var r=bx(n,e,t),i=bx(n+1,e,t);return(t_(n)-r+i)/7}rt("w",["ww",2],"wo","week");rt("W",["WW",2],"Wo","isoWeek");We("w",Zn,G0);We("ww",Zn,Uo);We("W",Zn,G0);We("WW",Zn,Uo);a1(["w","ww","W","WW"],function(n,e,t,r){e[r.substr(0,1)]=jt(n)});function _Se(n){return T_(n,this._week.dow,this._week.doy).week}var SSe={dow:0,doy:6};function ESe(){return this._week.dow}function CSe(){return this._week.doy}function TSe(n){var e=this.localeData().week(this);return n==null?e:this.add((n-e)*7,"d")}function ASe(n){var e=T_(this,1,4).week;return n==null?e:this.add((n-e)*7,"d")}rt("d",0,"do","day");rt("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});rt("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});rt("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});rt("e",0,0,"weekday");rt("E",0,0,"isoWeekday");We("d",Zn);We("e",Zn);We("E",Zn);We("dd",function(n,e){return e.weekdaysMinRegex(n)});We("ddd",function(n,e){return e.weekdaysShortRegex(n)});We("dddd",function(n,e){return e.weekdaysRegex(n)});a1(["dd","ddd","dddd"],function(n,e,t,r){var i=t._locale.weekdaysParse(n,r,t._strict);i!=null?e.d=i:At(t).invalidWeekday=n});a1(["d","e","E"],function(n,e,t,r){e[r]=jt(n)});function xSe(n,e){return typeof n!="string"?n:isNaN(n)?(n=e.weekdaysParse(n),typeof n=="number"?n:null):parseInt(n,10)}function RSe(n,e){return typeof n=="string"?e.weekdaysParse(n)%7||7:isNaN(n)?null:n}function J$(n,e){return n.slice(e,7).concat(n.slice(0,e))}var ISe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),vX="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),kSe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),PSe=o1,DSe=o1,MSe=o1;function OSe(n,e){var t=Sl(this._weekdays)?this._weekdays:this._weekdays[n&&n!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return n===!0?J$(t,this._week.dow):n?t[n.day()]:t}function LSe(n){return n===!0?J$(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort}function FSe(n){return n===!0?J$(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin}function NSe(n,e,t){var r,i,s,o=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=Fc([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return t?e==="dddd"?(i=Lr.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=Lr.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Lr.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=Lr.call(this._weekdaysParse,o),i!==-1||(i=Lr.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=Lr.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=Lr.call(this._shortWeekdaysParse,o),i!==-1||(i=Lr.call(this._weekdaysParse,o),i!==-1)?i:(i=Lr.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=Lr.call(this._minWeekdaysParse,o),i!==-1||(i=Lr.call(this._weekdaysParse,o),i!==-1)?i:(i=Lr.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function BSe(n,e,t){var r,i,s;if(this._weekdaysParseExact)return NSe.call(this,n,e,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=Fc([2e3,1]).day(r),t&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),t&&e==="dddd"&&this._fullWeekdaysParse[r].test(n))return r;if(t&&e==="ddd"&&this._shortWeekdaysParse[r].test(n))return r;if(t&&e==="dd"&&this._minWeekdaysParse[r].test(n))return r;if(!t&&this._weekdaysParse[r].test(n))return r}}function $Se(n){if(!this.isValid())return n!=null?this:NaN;var e=E_(this,"Day");return n!=null?(n=xSe(n,this.localeData()),this.add(n-e,"d")):e}function jSe(n){if(!this.isValid())return n!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return n==null?e:this.add(n-e,"d")}function USe(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var e=RSe(n,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function VSe(n){return this._weekdaysParseExact?(an(this,"_weekdaysRegex")||Q$.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(an(this,"_weekdaysRegex")||(this._weekdaysRegex=PSe),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function HSe(n){return this._weekdaysParseExact?(an(this,"_weekdaysRegex")||Q$.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(an(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=DSe),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function zSe(n){return this._weekdaysParseExact?(an(this,"_weekdaysRegex")||Q$.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(an(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=MSe),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Q$(){function n(h,p){return p.length-h.length}var e=[],t=[],r=[],i=[],s,o,a,l,u;for(s=0;s<7;s++)o=Fc([2e3,1]).day(s),a=ed(this.weekdaysMin(o,"")),l=ed(this.weekdaysShort(o,"")),u=ed(this.weekdays(o,"")),e.push(a),t.push(l),r.push(u),i.push(a),i.push(l),i.push(u);e.sort(n),t.sort(n),r.sort(n),i.sort(n),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Z$(){return this.hours()%12||12}function WSe(){return this.hours()||24}rt("H",["HH",2],0,"hour");rt("h",["hh",2],0,Z$);rt("k",["kk",2],0,WSe);rt("hmm",0,0,function(){return""+Z$.apply(this)+kc(this.minutes(),2)});rt("hmmss",0,0,function(){return""+Z$.apply(this)+kc(this.minutes(),2)+kc(this.seconds(),2)});rt("Hmm",0,0,function(){return""+this.hours()+kc(this.minutes(),2)});rt("Hmmss",0,0,function(){return""+this.hours()+kc(this.minutes(),2)+kc(this.seconds(),2)});function wX(n,e){rt(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}wX("a",!0);wX("A",!1);function bX(n,e){return e._meridiemParse}We("a",bX);We("A",bX);We("H",Zn,K$);We("h",Zn,G0);We("k",Zn,G0);We("HH",Zn,Uo);We("hh",Zn,Uo);We("kk",Zn,Uo);We("hmm",lX);We("hmmss",cX);We("Hmm",lX);We("Hmmss",cX);In(["H","HH"],ii);In(["k","kk"],function(n,e,t){var r=jt(n);e[ii]=r===24?0:r});In(["a","A"],function(n,e,t){t._isPm=t._locale.isPM(n),t._meridiem=n});In(["h","hh"],function(n,e,t){e[ii]=jt(n),At(t).bigHour=!0});In("hmm",function(n,e,t){var r=n.length-2;e[ii]=jt(n.substr(0,r)),e[ml]=jt(n.substr(r)),At(t).bigHour=!0});In("hmmss",function(n,e,t){var r=n.length-4,i=n.length-2;e[ii]=jt(n.substr(0,r)),e[ml]=jt(n.substr(r,2)),e[Ju]=jt(n.substr(i)),At(t).bigHour=!0});In("Hmm",function(n,e,t){var r=n.length-2;e[ii]=jt(n.substr(0,r)),e[ml]=jt(n.substr(r))});In("Hmmss",function(n,e,t){var r=n.length-4,i=n.length-2;e[ii]=jt(n.substr(0,r)),e[ml]=jt(n.substr(r,2)),e[Ju]=jt(n.substr(i))});function qSe(n){return(n+"").toLowerCase().charAt(0)==="p"}var GSe=/[ap]\.?m?\.?/i,YSe=Y0("Hours",!0);function KSe(n,e,t){return n>11?t?"pm":"PM":t?"am":"AM"}var _X={calendar:N_e,longDateFormat:U_e,invalidDate:H_e,ordinal:W_e,dayOfMonthOrdinalParse:q_e,relativeTime:Y_e,months:uSe,monthsShort:hX,week:SSe,weekdays:ISe,weekdaysMin:kSe,weekdaysShort:vX,meridiemParse:GSe},or={},Xw={},A_;function XSe(n,e){var t,r=Math.min(n.length,e.length);for(t=0;t<r;t+=1)if(n[t]!==e[t])return t;return r}function r9(n){return n&&n.toLowerCase().replace("_","-")}function JSe(n){for(var e=0,t,r,i,s;e<n.length;){for(s=r9(n[e]).split("-"),t=s.length,r=r9(n[e+1]),r=r?r.split("-"):null;t>0;){if(i=lI(s.slice(0,t).join("-")),i)return i;if(r&&r.length>=t&&XSe(s,r)>=t-1)break;t--}e++}return A_}function QSe(n){return!!(n&&n.match("^[^/\\\\]*$"))}function lI(n){var e=null,t;if(or[n]===void 0&&typeof module<"u"&&module&&module.exports&&QSe(n))try{e=A_._abbr,t=require,t("./locale/"+n),tf(e)}catch{or[n]=null}return or[n]}function tf(n,e){var t;return n&&(Bs(e)?t=yd(n):t=ej(n,e),t?A_=t:typeof console<"u"&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),A_._abbr}function ej(n,e){if(e!==null){var t,r=_X;if(e.abbr=n,or[n]!=null)iX("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=or[n]._config;else if(e.parentLocale!=null)if(or[e.parentLocale]!=null)r=or[e.parentLocale]._config;else if(t=lI(e.parentLocale),t!=null)r=t._config;else return Xw[e.parentLocale]||(Xw[e.parentLocale]=[]),Xw[e.parentLocale].push({name:n,config:e}),null;return or[n]=new z$(JL(r,e)),Xw[n]&&Xw[n].forEach(function(i){ej(i.name,i.config)}),tf(n),or[n]}else return delete or[n],null}function ZSe(n,e){if(e!=null){var t,r,i=_X;or[n]!=null&&or[n].parentLocale!=null?or[n].set(JL(or[n]._config,e)):(r=lI(n),r!=null&&(i=r._config),e=JL(i,e),r==null&&(e.abbr=n),t=new z$(e),t.parentLocale=or[n],or[n]=t),tf(n)}else or[n]!=null&&(or[n].parentLocale!=null?(or[n]=or[n].parentLocale,n===tf()&&tf(n)):or[n]!=null&&delete or[n]);return or[n]}function yd(n){var e;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return A_;if(!Sl(n)){if(e=lI(n),e)return e;n=[n]}return JSe(n)}function eEe(){return QL(or)}function tj(n){var e,t=n._a;return t&&At(n).overflow===-2&&(e=t[Xu]<0||t[Xu]>11?Xu:t[vc]<1||t[vc]>X$(t[os],t[Xu])?vc:t[ii]<0||t[ii]>24||t[ii]===24&&(t[ml]!==0||t[Ju]!==0||t[pp]!==0)?ii:t[ml]<0||t[ml]>59?ml:t[Ju]<0||t[Ju]>59?Ju:t[pp]<0||t[pp]>999?pp:-1,At(n)._overflowDayOfYear&&(e<os||e>vc)&&(e=vc),At(n)._overflowWeeks&&e===-1&&(e=iSe),At(n)._overflowWeekday&&e===-1&&(e=sSe),At(n).overflow=e),n}var tEe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nEe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rEe=/Z|[+-]\d\d(?::?\d\d)?/,fT=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],oD=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],iEe=/^\/?Date\((-?\d+)/i,sEe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,oEe={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function SX(n){var e,t,r=n._i,i=tEe.exec(r)||nEe.exec(r),s,o,a,l,u=fT.length,h=oD.length;if(i){for(At(n).iso=!0,e=0,t=u;e<t;e++)if(fT[e][1].exec(i[1])){o=fT[e][0],s=fT[e][2]!==!1;break}if(o==null){n._isValid=!1;return}if(i[3]){for(e=0,t=h;e<t;e++)if(oD[e][1].exec(i[3])){a=(i[2]||" ")+oD[e][0];break}if(a==null){n._isValid=!1;return}}if(!s&&a!=null){n._isValid=!1;return}if(i[4])if(rEe.exec(i[4]))l="Z";else{n._isValid=!1;return}n._f=o+(a||"")+(l||""),rj(n)}else n._isValid=!1}function aEe(n,e,t,r,i,s){var o=[lEe(n),hX.indexOf(e),parseInt(t,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function lEe(n){var e=parseInt(n,10);return e<=49?2e3+e:e<=999?1900+e:e}function cEe(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function uEe(n,e,t){if(n){var r=vX.indexOf(n),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return At(t).weekdayMismatch=!0,t._isValid=!1,!1}return!0}function dEe(n,e,t){if(n)return oEe[n];if(e)return 0;var r=parseInt(t,10),i=r%100,s=(r-i)/100;return s*60+i}function EX(n){var e=sEe.exec(cEe(n._i)),t;if(e){if(t=aEe(e[4],e[3],e[2],e[5],e[6],e[7]),!uEe(e[1],t,n))return;n._a=t,n._tzm=dEe(e[8],e[9],e[10]),n._d=C_.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),At(n).rfc2822=!0}else n._isValid=!1}function hEe(n){var e=iEe.exec(n._i);if(e!==null){n._d=new Date(+e[1]);return}if(SX(n),n._isValid===!1)delete n._isValid;else return;if(EX(n),n._isValid===!1)delete n._isValid;else return;n._strict?n._isValid=!1:Le.createFromInputFallback(n)}Le.createFromInputFallback=Ma("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});function dy(n,e,t){return n??e??t}function fEe(n){var e=new Date(Le.now());return n._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function nj(n){var e,t,r=[],i,s,o;if(!n._d){for(i=fEe(n),n._w&&n._a[vc]==null&&n._a[Xu]==null&&pEe(n),n._dayOfYear!=null&&(o=dy(n._a[os],i[os]),(n._dayOfYear>t_(o)||n._dayOfYear===0)&&(At(n)._overflowDayOfYear=!0),t=C_(o,0,n._dayOfYear),n._a[Xu]=t.getUTCMonth(),n._a[vc]=t.getUTCDate()),e=0;e<3&&n._a[e]==null;++e)n._a[e]=r[e]=i[e];for(;e<7;e++)n._a[e]=r[e]=n._a[e]==null?e===2?1:0:n._a[e];n._a[ii]===24&&n._a[ml]===0&&n._a[Ju]===0&&n._a[pp]===0&&(n._nextDay=!0,n._a[ii]=0),n._d=(n._useUTC?C_:bSe).apply(null,r),s=n._useUTC?n._d.getUTCDay():n._d.getDay(),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[ii]=24),n._w&&typeof n._w.d<"u"&&n._w.d!==s&&(At(n).weekdayMismatch=!0)}}function pEe(n){var e,t,r,i,s,o,a,l,u;e=n._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,t=dy(e.GG,n._a[os],T_(Qn(),1,4).year),r=dy(e.W,1),i=dy(e.E,1),(i<1||i>7)&&(l=!0)):(s=n._locale._week.dow,o=n._locale._week.doy,u=T_(Qn(),s,o),t=dy(e.gg,n._a[os],u.year),r=dy(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>td(t,s,o)?At(n)._overflowWeeks=!0:l!=null?At(n)._overflowWeekday=!0:(a=yX(t,r,i,s,o),n._a[os]=a.year,n._dayOfYear=a.dayOfYear)}Le.ISO_8601=function(){};Le.RFC_2822=function(){};function rj(n){if(n._f===Le.ISO_8601){SX(n);return}if(n._f===Le.RFC_2822){EX(n);return}n._a=[],At(n).empty=!0;var e=""+n._i,t,r,i,s,o,a=e.length,l=0,u,h;for(i=sX(n._f,n._locale).match(W$)||[],h=i.length,t=0;t<h;t++)s=i[t],r=(e.match(tSe(s,n))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&At(n).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),Ny[s]?(r?At(n).empty=!1:At(n).unusedTokens.push(s),rSe(s,r,n)):n._strict&&!r&&At(n).unusedTokens.push(s);At(n).charsLeftOver=a-l,e.length>0&&At(n).unusedInput.push(e),n._a[ii]<=12&&At(n).bigHour===!0&&n._a[ii]>0&&(At(n).bigHour=void 0),At(n).parsedDateParts=n._a.slice(0),At(n).meridiem=n._meridiem,n._a[ii]=mEe(n._locale,n._a[ii],n._meridiem),u=At(n).era,u!==null&&(n._a[os]=n._locale.erasConvertYear(u,n._a[os])),nj(n),tj(n)}function mEe(n,e,t){var r;return t==null?e:n.meridiemHour!=null?n.meridiemHour(e,t):(n.isPM!=null&&(r=n.isPM(t),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function gEe(n){var e,t,r,i,s,o,a=!1,l=n._f.length;if(l===0){At(n).invalidFormat=!0,n._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=H$({},n),n._useUTC!=null&&(e._useUTC=n._useUTC),e._f=n._f[i],rj(e),V$(e)&&(o=!0),s+=At(e).charsLeftOver,s+=At(e).unusedTokens.length*10,At(e).score=s,a?s<r&&(r=s,t=e):(r==null||s<r||o)&&(r=s,t=e,o&&(a=!0));Yh(n,t||e)}function yEe(n){if(!n._d){var e=q$(n._i),t=e.day===void 0?e.date:e.day;n._a=nX([e.year,e.month,t,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),nj(n)}}function vEe(n){var e=new s1(tj(CX(n)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function CX(n){var e=n._i,t=n._f;return n._locale=n._locale||yd(n._l),e===null||t===void 0&&e===""?tI({nullInput:!0}):(typeof e=="string"&&(n._i=e=n._locale.preparse(e)),El(e)?new s1(tj(e)):(i1(e)?n._d=e:Sl(t)?gEe(n):t?rj(n):wEe(n),V$(n)||(n._d=null),n))}function wEe(n){var e=n._i;Bs(e)?n._d=new Date(Le.now()):i1(e)?n._d=new Date(e.valueOf()):typeof e=="string"?hEe(n):Sl(e)?(n._a=nX(e.slice(0),function(t){return parseInt(t,10)}),nj(n)):Mm(e)?yEe(n):fd(e)?n._d=new Date(e):Le.createFromInputFallback(n)}function TX(n,e,t,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(t===!0||t===!1)&&(r=t,t=void 0),(Mm(n)&&U$(n)||Sl(n)&&n.length===0)&&(n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=t,s._i=n,s._f=e,s._strict=r,vEe(s)}function Qn(n,e,t,r){return TX(n,e,t,r,!1)}var bEe=Ma("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=Qn.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:tI()}),_Ee=Ma("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=Qn.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:tI()});function AX(n,e){var t,r;if(e.length===1&&Sl(e[0])&&(e=e[0]),!e.length)return Qn();for(t=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][n](t))&&(t=e[r]);return t}function SEe(){var n=[].slice.call(arguments,0);return AX("isBefore",n)}function EEe(){var n=[].slice.call(arguments,0);return AX("isAfter",n)}var CEe=function(){return Date.now?Date.now():+new Date},Jw=["year","quarter","month","week","day","hour","minute","second","millisecond"];function TEe(n){var e,t=!1,r,i=Jw.length;for(e in n)if(an(n,e)&&!(Lr.call(Jw,e)!==-1&&(n[e]==null||!isNaN(n[e]))))return!1;for(r=0;r<i;++r)if(n[Jw[r]]){if(t)return!1;parseFloat(n[Jw[r]])!==jt(n[Jw[r]])&&(t=!0)}return!0}function AEe(){return this._isValid}function xEe(){return Rl(NaN)}function cI(n){var e=q$(n),t=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,h=e.millisecond||0;this._isValid=TEe(e),this._milliseconds=+h+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+t*12,this._data={},this._locale=yd(),this._bubble()}function qT(n){return n instanceof cI}function eF(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function REe(n,e,t){var r=Math.min(n.length,e.length),i=Math.abs(n.length-e.length),s=0,o;for(o=0;o<r;o++)jt(n[o])!==jt(e[o])&&s++;return s+i}function xX(n,e){rt(n,0,0,function(){var t=this.utcOffset(),r="+";return t<0&&(t=-t,r="-"),r+kc(~~(t/60),2)+e+kc(~~t%60,2)})}xX("Z",":");xX("ZZ","");We("Z",oI);We("ZZ",oI);In(["Z","ZZ"],function(n,e,t){t._useUTC=!0,t._tzm=ij(oI,n)});var IEe=/([\+\-]|\d\d)/gi;function ij(n,e){var t=(e||"").match(n),r,i,s;return t===null?null:(r=t[t.length-1]||[],i=(r+"").match(IEe)||["-",0,0],s=+(i[1]*60)+jt(i[2]),s===0?0:i[0]==="+"?s:-s)}function sj(n,e){var t,r;return e._isUTC?(t=e.clone(),r=(El(n)||i1(n)?n.valueOf():Qn(n).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+r),Le.updateOffset(t,!1),t):Qn(n).local()}function tF(n){return-Math.round(n._d.getTimezoneOffset())}Le.updateOffset=function(){};function kEe(n,e,t){var r=this._offset||0,i;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=ij(oI,n),n===null)return this}else Math.abs(n)<16&&!t&&(n=n*60);return!this._isUTC&&e&&(i=tF(this)),this._offset=n,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==n&&(!e||this._changeInProgress?kX(this,Rl(n-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Le.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:tF(this)}function PEe(n,e){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,e),this):-this.utcOffset()}function DEe(n){return this.utcOffset(0,n)}function MEe(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(tF(this),"m")),this}function OEe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var n=ij(Z_e,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function LEe(n){return this.isValid()?(n=n?Qn(n).utcOffset():0,(this.utcOffset()-n)%60===0):!1}function FEe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function NEe(){if(!Bs(this._isDSTShifted))return this._isDSTShifted;var n={},e;return H$(n,this),n=CX(n),n._a?(e=n._isUTC?Fc(n._a):Qn(n._a),this._isDSTShifted=this.isValid()&&REe(n._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function BEe(){return this.isValid()?!this._isUTC:!1}function $Ee(){return this.isValid()?this._isUTC:!1}function RX(){return this.isValid()?this._isUTC&&this._offset===0:!1}var jEe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,UEe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Rl(n,e){var t=n,r=null,i,s,o;return qT(n)?t={ms:n._milliseconds,d:n._days,M:n._months}:fd(n)||!isNaN(+n)?(t={},e?t[e]=+n:t.milliseconds=+n):(r=jEe.exec(n))?(i=r[1]==="-"?-1:1,t={y:0,d:jt(r[vc])*i,h:jt(r[ii])*i,m:jt(r[ml])*i,s:jt(r[Ju])*i,ms:jt(eF(r[pp]*1e3))*i}):(r=UEe.exec(n))?(i=r[1]==="-"?-1:1,t={y:Jf(r[2],i),M:Jf(r[3],i),w:Jf(r[4],i),d:Jf(r[5],i),h:Jf(r[6],i),m:Jf(r[7],i),s:Jf(r[8],i)}):t==null?t={}:typeof t=="object"&&("from"in t||"to"in t)&&(o=VEe(Qn(t.from),Qn(t.to)),t={},t.ms=o.milliseconds,t.M=o.months),s=new cI(t),qT(n)&&an(n,"_locale")&&(s._locale=n._locale),qT(n)&&an(n,"_isValid")&&(s._isValid=n._isValid),s}Rl.fn=cI.prototype;Rl.invalid=xEe;function Jf(n,e){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*e}function i9(n,e){var t={};return t.months=e.month()-n.month()+(e.year()-n.year())*12,n.clone().add(t.months,"M").isAfter(e)&&--t.months,t.milliseconds=+e-+n.clone().add(t.months,"M"),t}function VEe(n,e){var t;return n.isValid()&&e.isValid()?(e=sj(e,n),n.isBefore(e)?t=i9(n,e):(t=i9(e,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t):{milliseconds:0,months:0}}function IX(n,e){return function(t,r){var i,s;return r!==null&&!isNaN(+r)&&(iX(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=t,t=r,r=s),i=Rl(t,r),kX(this,i,n),this}}function kX(n,e,t,r){var i=e._milliseconds,s=eF(e._days),o=eF(e._months);n.isValid()&&(r=r??!0,o&&pX(n,E_(n,"Month")+o*t),s&&dX(n,"Date",E_(n,"Date")+s*t),i&&n._d.setTime(n._d.valueOf()+i*t),r&&Le.updateOffset(n,s||o))}var HEe=IX(1,"add"),zEe=IX(-1,"subtract");function PX(n){return typeof n=="string"||n instanceof String}function WEe(n){return El(n)||i1(n)||PX(n)||fd(n)||GEe(n)||qEe(n)||n===null||n===void 0}function qEe(n){var e=Mm(n)&&!U$(n),t=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],t=t||an(n,s);return e&&t}function GEe(n){var e=Sl(n),t=!1;return e&&(t=n.filter(function(r){return!fd(r)&&PX(n)}).length===0),e&&t}function YEe(n){var e=Mm(n)&&!U$(n),t=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],t=t||an(n,s);return e&&t}function KEe(n,e){var t=n.diff(e,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"}function XEe(n,e){arguments.length===1&&(arguments[0]?WEe(arguments[0])?(n=arguments[0],e=void 0):YEe(arguments[0])&&(e=arguments[0],n=void 0):(n=void 0,e=void 0));var t=n||Qn(),r=sj(t,this).startOf("day"),i=Le.calendarFormat(this,r)||"sameElse",s=e&&(Nc(e[i])?e[i].call(this,t):e[i]);return this.format(s||this.localeData().calendar(i,this,Qn(t)))}function JEe(){return new s1(this)}function QEe(n,e){var t=El(n)?n:Qn(n);return this.isValid()&&t.isValid()?(e=Oa(e)||"millisecond",e==="millisecond"?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf()):!1}function ZEe(n,e){var t=El(n)?n:Qn(n);return this.isValid()&&t.isValid()?(e=Oa(e)||"millisecond",e==="millisecond"?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf()):!1}function e1e(n,e,t,r){var i=El(n)?n:Qn(n),s=El(e)?e:Qn(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,t):!this.isBefore(i,t))&&(r[1]===")"?this.isBefore(s,t):!this.isAfter(s,t))):!1}function t1e(n,e){var t=El(n)?n:Qn(n),r;return this.isValid()&&t.isValid()?(e=Oa(e)||"millisecond",e==="millisecond"?this.valueOf()===t.valueOf():(r=t.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function n1e(n,e){return this.isSame(n,e)||this.isAfter(n,e)}function r1e(n,e){return this.isSame(n,e)||this.isBefore(n,e)}function i1e(n,e,t){var r,i,s;if(!this.isValid())return NaN;if(r=sj(n,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=Oa(e),e){case"year":s=GT(this,r)/12;break;case"month":s=GT(this,r);break;case"quarter":s=GT(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return t?s:ma(s)}function GT(n,e){if(n.date()<e.date())return-GT(e,n);var t=(e.year()-n.year())*12+(e.month()-n.month()),r=n.clone().add(t,"months"),i,s;return e-r<0?(i=n.clone().add(t-1,"months"),s=(e-r)/(r-i)):(i=n.clone().add(t+1,"months"),s=(e-r)/(i-r)),-(t+s)||0}Le.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Le.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function s1e(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function o1e(n){if(!this.isValid())return null;var e=n!==!0,t=e?this.clone().utc():this;return t.year()<0||t.year()>9999?WT(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Nc(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",WT(t,"Z")):WT(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function a1e(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var n="moment",e="",t,r,i,s;return this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),t="["+n+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(t+r+i+s)}function l1e(n){n||(n=this.isUtc()?Le.defaultFormatUtc:Le.defaultFormat);var e=WT(this,n);return this.localeData().postformat(e)}function c1e(n,e){return this.isValid()&&(El(n)&&n.isValid()||Qn(n).isValid())?Rl({to:this,from:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function u1e(n){return this.from(Qn(),n)}function d1e(n,e){return this.isValid()&&(El(n)&&n.isValid()||Qn(n).isValid())?Rl({from:this,to:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function h1e(n){return this.to(Qn(),n)}function DX(n){var e;return n===void 0?this._locale._abbr:(e=yd(n),e!=null&&(this._locale=e),this)}var MX=Ma("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===void 0?this.localeData():this.locale(n)});function OX(){return this._locale}var _x=1e3,By=60*_x,Sx=60*By,LX=(365*400+97)*24*Sx;function $y(n,e){return(n%e+e)%e}function FX(n,e,t){return n<100&&n>=0?new Date(n+400,e,t)-LX:new Date(n,e,t).valueOf()}function NX(n,e,t){return n<100&&n>=0?Date.UTC(n+400,e,t)-LX:Date.UTC(n,e,t)}function f1e(n){var e,t;if(n=Oa(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?NX:FX,n){case"year":e=t(this.year(),0,1);break;case"quarter":e=t(this.year(),this.month()-this.month()%3,1);break;case"month":e=t(this.year(),this.month(),1);break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=t(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=$y(e+(this._isUTC?0:this.utcOffset()*By),Sx);break;case"minute":e=this._d.valueOf(),e-=$y(e,By);break;case"second":e=this._d.valueOf(),e-=$y(e,_x);break}return this._d.setTime(e),Le.updateOffset(this,!0),this}function p1e(n){var e,t;if(n=Oa(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?NX:FX,n){case"year":e=t(this.year()+1,0,1)-1;break;case"quarter":e=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=t(this.year(),this.month()+1,1)-1;break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Sx-$y(e+(this._isUTC?0:this.utcOffset()*By),Sx)-1;break;case"minute":e=this._d.valueOf(),e+=By-$y(e,By)-1;break;case"second":e=this._d.valueOf(),e+=_x-$y(e,_x)-1;break}return this._d.setTime(e),Le.updateOffset(this,!0),this}function m1e(){return this._d.valueOf()-(this._offset||0)*6e4}function g1e(){return Math.floor(this.valueOf()/1e3)}function y1e(){return new Date(this.valueOf())}function v1e(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function w1e(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function b1e(){return this.isValid()?this.toISOString():null}function _1e(){return V$(this)}function S1e(){return Yh({},At(this))}function E1e(){return At(this).overflow}function C1e(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}rt("N",0,0,"eraAbbr");rt("NN",0,0,"eraAbbr");rt("NNN",0,0,"eraAbbr");rt("NNNN",0,0,"eraName");rt("NNNNN",0,0,"eraNarrow");rt("y",["y",1],"yo","eraYear");rt("y",["yy",2],0,"eraYear");rt("y",["yyy",3],0,"eraYear");rt("y",["yyyy",4],0,"eraYear");We("N",oj);We("NN",oj);We("NNN",oj);We("NNNN",L1e);We("NNNNN",F1e);In(["N","NN","NNN","NNNN","NNNNN"],function(n,e,t,r){var i=t._locale.erasParse(n,r,t._strict);i?At(t).era=i:At(t).invalidEra=n});We("y",q0);We("yy",q0);We("yyy",q0);We("yyyy",q0);We("yo",N1e);In(["y","yy","yyy","yyyy"],os);In(["yo"],function(n,e,t,r){var i;t._locale._eraYearOrdinalRegex&&(i=n.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?e[os]=t._locale.eraYearOrdinalParse(n,i):e[os]=parseInt(n,10)});function T1e(n,e){var t,r,i,s=this._eras||yd("en")._eras;for(t=0,r=s.length;t<r;++t){switch(typeof s[t].since){case"string":i=Le(s[t].since).startOf("day"),s[t].since=i.valueOf();break}switch(typeof s[t].until){case"undefined":s[t].until=1/0;break;case"string":i=Le(s[t].until).startOf("day").valueOf(),s[t].until=i.valueOf();break}}return s}function A1e(n,e,t){var r,i,s=this.eras(),o,a,l;for(n=n.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),a=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),t)switch(e){case"N":case"NN":case"NNN":if(a===n)return s[r];break;case"NNNN":if(o===n)return s[r];break;case"NNNNN":if(l===n)return s[r];break}else if([o,a,l].indexOf(n)>=0)return s[r]}function x1e(n,e){var t=n.since<=n.until?1:-1;return e===void 0?Le(n.since).year():Le(n.since).year()+(e-n.offset)*t}function R1e(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].name;return""}function I1e(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].narrow;return""}function k1e(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].abbr;return""}function P1e(){var n,e,t,r,i=this.localeData().eras();for(n=0,e=i.length;n<e;++n)if(t=i[n].since<=i[n].until?1:-1,r=this.clone().startOf("day").valueOf(),i[n].since<=r&&r<=i[n].until||i[n].until<=r&&r<=i[n].since)return(this.year()-Le(i[n].since).year())*t+i[n].offset;return this.year()}function D1e(n){return an(this,"_erasNameRegex")||aj.call(this),n?this._erasNameRegex:this._erasRegex}function M1e(n){return an(this,"_erasAbbrRegex")||aj.call(this),n?this._erasAbbrRegex:this._erasRegex}function O1e(n){return an(this,"_erasNarrowRegex")||aj.call(this),n?this._erasNarrowRegex:this._erasRegex}function oj(n,e){return e.erasAbbrRegex(n)}function L1e(n,e){return e.erasNameRegex(n)}function F1e(n,e){return e.erasNarrowRegex(n)}function N1e(n,e){return e._eraYearOrdinalRegex||q0}function aj(){var n=[],e=[],t=[],r=[],i,s,o,a,l,u=this.eras();for(i=0,s=u.length;i<s;++i)o=ed(u[i].name),a=ed(u[i].abbr),l=ed(u[i].narrow),e.push(o),n.push(a),t.push(l),r.push(o),r.push(a),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+t.join("|")+")","i")}rt(0,["gg",2],0,function(){return this.weekYear()%100});rt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function uI(n,e){rt(0,[n,n.length],0,e)}uI("gggg","weekYear");uI("ggggg","weekYear");uI("GGGG","isoWeekYear");uI("GGGGG","isoWeekYear");We("G",sI);We("g",sI);We("GG",Zn,Uo);We("gg",Zn,Uo);We("GGGG",Y$,G$);We("gggg",Y$,G$);We("GGGGG",iI,nI);We("ggggg",iI,nI);a1(["gggg","ggggg","GGGG","GGGGG"],function(n,e,t,r){e[r.substr(0,2)]=jt(n)});a1(["gg","GG"],function(n,e,t,r){e[r]=Le.parseTwoDigitYear(n)});function B1e(n){return BX.call(this,n,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function $1e(n){return BX.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function j1e(){return td(this.year(),1,4)}function U1e(){return td(this.isoWeekYear(),1,4)}function V1e(){var n=this.localeData()._week;return td(this.year(),n.dow,n.doy)}function H1e(){var n=this.localeData()._week;return td(this.weekYear(),n.dow,n.doy)}function BX(n,e,t,r,i){var s;return n==null?T_(this,r,i).year:(s=td(n,r,i),e>s&&(e=s),z1e.call(this,n,e,t,r,i))}function z1e(n,e,t,r,i){var s=yX(n,e,t,r,i),o=C_(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}rt("Q",0,"Qo","quarter");We("Q",oX);In("Q",function(n,e){e[Xu]=(jt(n)-1)*3});function W1e(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}rt("D",["DD",2],"Do","date");We("D",Zn,G0);We("DD",Zn,Uo);We("Do",function(n,e){return n?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});In(["D","DD"],vc);In("Do",function(n,e){e[vc]=jt(n.match(Zn)[0])});var $X=Y0("Date",!0);rt("DDD",["DDDD",3],"DDDo","dayOfYear");We("DDD",rI);We("DDDD",aX);In(["DDD","DDDD"],function(n,e,t){t._dayOfYear=jt(n)});function q1e(n){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?e:this.add(n-e,"d")}rt("m",["mm",2],0,"minute");We("m",Zn,K$);We("mm",Zn,Uo);In(["m","mm"],ml);var G1e=Y0("Minutes",!1);rt("s",["ss",2],0,"second");We("s",Zn,K$);We("ss",Zn,Uo);In(["s","ss"],Ju);var Y1e=Y0("Seconds",!1);rt("S",0,0,function(){return~~(this.millisecond()/100)});rt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});rt(0,["SSS",3],0,"millisecond");rt(0,["SSSS",4],0,function(){return this.millisecond()*10});rt(0,["SSSSS",5],0,function(){return this.millisecond()*100});rt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});rt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});rt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});rt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});We("S",rI,oX);We("SS",rI,Uo);We("SSS",rI,aX);var Kh,jX;for(Kh="SSSS";Kh.length<=9;Kh+="S")We(Kh,q0);function K1e(n,e){e[pp]=jt(("0."+n)*1e3)}for(Kh="S";Kh.length<=9;Kh+="S")In(Kh,K1e);jX=Y0("Milliseconds",!1);rt("z",0,0,"zoneAbbr");rt("zz",0,0,"zoneName");function X1e(){return this._isUTC?"UTC":""}function J1e(){return this._isUTC?"Coordinated Universal Time":""}var Te=s1.prototype;Te.add=HEe;Te.calendar=XEe;Te.clone=JEe;Te.diff=i1e;Te.endOf=p1e;Te.format=l1e;Te.from=c1e;Te.fromNow=u1e;Te.to=d1e;Te.toNow=h1e;Te.get=aSe;Te.invalidAt=E1e;Te.isAfter=QEe;Te.isBefore=ZEe;Te.isBetween=e1e;Te.isSame=t1e;Te.isSameOrAfter=n1e;Te.isSameOrBefore=r1e;Te.isValid=_1e;Te.lang=MX;Te.locale=DX;Te.localeData=OX;Te.max=_Ee;Te.min=bEe;Te.parsingFlags=S1e;Te.set=lSe;Te.startOf=f1e;Te.subtract=zEe;Te.toArray=v1e;Te.toObject=w1e;Te.toDate=y1e;Te.toISOString=o1e;Te.inspect=a1e;typeof Symbol<"u"&&Symbol.for!=null&&(Te[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Te.toJSON=b1e;Te.toString=s1e;Te.unix=g1e;Te.valueOf=m1e;Te.creationData=C1e;Te.eraName=R1e;Te.eraNarrow=I1e;Te.eraAbbr=k1e;Te.eraYear=P1e;Te.year=uX;Te.isLeapYear=oSe;Te.weekYear=B1e;Te.isoWeekYear=$1e;Te.quarter=Te.quarters=W1e;Te.month=mX;Te.daysInMonth=ySe;Te.week=Te.weeks=TSe;Te.isoWeek=Te.isoWeeks=ASe;Te.weeksInYear=V1e;Te.weeksInWeekYear=H1e;Te.isoWeeksInYear=j1e;Te.isoWeeksInISOWeekYear=U1e;Te.date=$X;Te.day=Te.days=$Se;Te.weekday=jSe;Te.isoWeekday=USe;Te.dayOfYear=q1e;Te.hour=Te.hours=YSe;Te.minute=Te.minutes=G1e;Te.second=Te.seconds=Y1e;Te.millisecond=Te.milliseconds=jX;Te.utcOffset=kEe;Te.utc=DEe;Te.local=MEe;Te.parseZone=OEe;Te.hasAlignedHourOffset=LEe;Te.isDST=FEe;Te.isLocal=BEe;Te.isUtcOffset=$Ee;Te.isUtc=RX;Te.isUTC=RX;Te.zoneAbbr=X1e;Te.zoneName=J1e;Te.dates=Ma("dates accessor is deprecated. Use date instead.",$X);Te.months=Ma("months accessor is deprecated. Use month instead",mX);Te.years=Ma("years accessor is deprecated. Use year instead",uX);Te.zone=Ma("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",PEe);Te.isDSTShifted=Ma("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",NEe);function Q1e(n){return Qn(n*1e3)}function Z1e(){return Qn.apply(null,arguments).parseZone()}function UX(n){return n}var ln=z$.prototype;ln.calendar=B_e;ln.longDateFormat=V_e;ln.invalidDate=z_e;ln.ordinal=G_e;ln.preparse=UX;ln.postformat=UX;ln.relativeTime=K_e;ln.pastFuture=X_e;ln.set=F_e;ln.eras=T1e;ln.erasParse=A1e;ln.erasConvertYear=x1e;ln.erasAbbrRegex=M1e;ln.erasNameRegex=D1e;ln.erasNarrowRegex=O1e;ln.months=fSe;ln.monthsShort=pSe;ln.monthsParse=gSe;ln.monthsRegex=wSe;ln.monthsShortRegex=vSe;ln.week=_Se;ln.firstDayOfYear=CSe;ln.firstDayOfWeek=ESe;ln.weekdays=OSe;ln.weekdaysMin=FSe;ln.weekdaysShort=LSe;ln.weekdaysParse=BSe;ln.weekdaysRegex=VSe;ln.weekdaysShortRegex=HSe;ln.weekdaysMinRegex=zSe;ln.isPM=qSe;ln.meridiem=KSe;function Ex(n,e,t,r){var i=yd(),s=Fc().set(r,e);return i[t](s,n)}function VX(n,e,t){if(fd(n)&&(e=n,n=void 0),n=n||"",e!=null)return Ex(n,e,t,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Ex(n,r,t,"month");return i}function lj(n,e,t,r){typeof n=="boolean"?(fd(e)&&(t=e,e=void 0),e=e||""):(e=n,t=e,n=!1,fd(e)&&(t=e,e=void 0),e=e||"");var i=yd(),s=n?i._week.dow:0,o,a=[];if(t!=null)return Ex(e,(t+s)%7,r,"day");for(o=0;o<7;o++)a[o]=Ex(e,(o+s)%7,r,"day");return a}function eCe(n,e){return VX(n,e,"months")}function tCe(n,e){return VX(n,e,"monthsShort")}function nCe(n,e,t){return lj(n,e,t,"weekdays")}function rCe(n,e,t){return lj(n,e,t,"weekdaysShort")}function iCe(n,e,t){return lj(n,e,t,"weekdaysMin")}tf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var e=n%10,t=jt(n%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return n+t}});Le.lang=Ma("moment.lang is deprecated. Use moment.locale instead.",tf);Le.langData=Ma("moment.langData is deprecated. Use moment.localeData instead.",yd);var nu=Math.abs;function sCe(){var n=this._data;return this._milliseconds=nu(this._milliseconds),this._days=nu(this._days),this._months=nu(this._months),n.milliseconds=nu(n.milliseconds),n.seconds=nu(n.seconds),n.minutes=nu(n.minutes),n.hours=nu(n.hours),n.months=nu(n.months),n.years=nu(n.years),this}function HX(n,e,t,r){var i=Rl(e,t);return n._milliseconds+=r*i._milliseconds,n._days+=r*i._days,n._months+=r*i._months,n._bubble()}function oCe(n,e){return HX(this,n,e,1)}function aCe(n,e){return HX(this,n,e,-1)}function s9(n){return n<0?Math.floor(n):Math.ceil(n)}function lCe(){var n=this._milliseconds,e=this._days,t=this._months,r=this._data,i,s,o,a,l;return n>=0&&e>=0&&t>=0||n<=0&&e<=0&&t<=0||(n+=s9(nF(t)+e)*864e5,e=0,t=0),r.milliseconds=n%1e3,i=ma(n/1e3),r.seconds=i%60,s=ma(i/60),r.minutes=s%60,o=ma(s/60),r.hours=o%24,e+=ma(o/24),l=ma(zX(e)),t+=l,e-=s9(nF(l)),a=ma(t/12),t%=12,r.days=e,r.months=t,r.years=a,this}function zX(n){return n*4800/146097}function nF(n){return n*146097/4800}function cCe(n){if(!this.isValid())return NaN;var e,t,r=this._milliseconds;if(n=Oa(n),n==="month"||n==="quarter"||n==="year")switch(e=this._days+r/864e5,t=this._months+zX(e),n){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(e=this._days+Math.round(nF(this._months)),n){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+n)}}function vd(n){return function(){return this.as(n)}}var WX=vd("ms"),uCe=vd("s"),dCe=vd("m"),hCe=vd("h"),fCe=vd("d"),pCe=vd("w"),mCe=vd("M"),gCe=vd("Q"),yCe=vd("y"),vCe=WX;function wCe(){return Rl(this)}function bCe(n){return n=Oa(n),this.isValid()?this[n+"s"]():NaN}function ag(n){return function(){return this.isValid()?this._data[n]:NaN}}var _Ce=ag("milliseconds"),SCe=ag("seconds"),ECe=ag("minutes"),CCe=ag("hours"),TCe=ag("days"),ACe=ag("months"),xCe=ag("years");function RCe(){return ma(this.days()/7)}var au=Math.round,Ey={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ICe(n,e,t,r,i){return i.relativeTime(e||1,!!t,n,r)}function kCe(n,e,t,r){var i=Rl(n).abs(),s=au(i.as("s")),o=au(i.as("m")),a=au(i.as("h")),l=au(i.as("d")),u=au(i.as("M")),h=au(i.as("w")),p=au(i.as("y")),m=s<=t.ss&&["s",s]||s<t.s&&["ss",s]||o<=1&&["m"]||o<t.m&&["mm",o]||a<=1&&["h"]||a<t.h&&["hh",a]||l<=1&&["d"]||l<t.d&&["dd",l];return t.w!=null&&(m=m||h<=1&&["w"]||h<t.w&&["ww",h]),m=m||u<=1&&["M"]||u<t.M&&["MM",u]||p<=1&&["y"]||["yy",p],m[2]=e,m[3]=+n>0,m[4]=r,ICe.apply(null,m)}function PCe(n){return n===void 0?au:typeof n=="function"?(au=n,!0):!1}function DCe(n,e){return Ey[n]===void 0?!1:e===void 0?Ey[n]:(Ey[n]=e,n==="s"&&(Ey.ss=e-1),!0)}function MCe(n,e){if(!this.isValid())return this.localeData().invalidDate();var t=!1,r=Ey,i,s;return typeof n=="object"&&(e=n,n=!1),typeof n=="boolean"&&(t=n),typeof e=="object"&&(r=Object.assign({},Ey,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=kCe(this,!t,r,i),t&&(s=i.pastFuture(+this,s)),i.postformat(s)}var aD=Math.abs;function iy(n){return(n>0)-(n<0)||+n}function dI(){if(!this.isValid())return this.localeData().invalidDate();var n=aD(this._milliseconds)/1e3,e=aD(this._days),t=aD(this._months),r,i,s,o,a=this.asSeconds(),l,u,h,p;return a?(r=ma(n/60),i=ma(r/60),n%=60,r%=60,s=ma(t/12),t%=12,o=n?n.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=iy(this._months)!==iy(a)?"-":"",h=iy(this._days)!==iy(a)?"-":"",p=iy(this._milliseconds)!==iy(a)?"-":"",l+"P"+(s?u+s+"Y":"")+(t?u+t+"M":"")+(e?h+e+"D":"")+(i||r||n?"T":"")+(i?p+i+"H":"")+(r?p+r+"M":"")+(n?p+o+"S":"")):"P0D"}var en=cI.prototype;en.isValid=AEe;en.abs=sCe;en.add=oCe;en.subtract=aCe;en.as=cCe;en.asMilliseconds=WX;en.asSeconds=uCe;en.asMinutes=dCe;en.asHours=hCe;en.asDays=fCe;en.asWeeks=pCe;en.asMonths=mCe;en.asQuarters=gCe;en.asYears=yCe;en.valueOf=vCe;en._bubble=lCe;en.clone=wCe;en.get=bCe;en.milliseconds=_Ce;en.seconds=SCe;en.minutes=ECe;en.hours=CCe;en.days=TCe;en.weeks=RCe;en.months=ACe;en.years=xCe;en.humanize=MCe;en.toISOString=dI;en.toString=dI;en.toJSON=dI;en.locale=DX;en.localeData=OX;en.toIsoString=Ma("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",dI);en.lang=MX;rt("X",0,0,"unix");rt("x",0,0,"valueOf");We("x",sI);We("X",eSe);In("X",function(n,e,t){t._d=new Date(parseFloat(n)*1e3)});In("x",function(n,e,t){t._d=new Date(jt(n))});//! moment.js
Le.version="2.30.1";O_e(Qn);Le.fn=Te;Le.min=SEe;Le.max=EEe;Le.now=CEe;Le.utc=Fc;Le.unix=Q1e;Le.months=eCe;Le.isDate=i1;Le.locale=tf;Le.invalid=tI;Le.duration=Rl;Le.isMoment=El;Le.weekdays=nCe;Le.parseZone=Z1e;Le.localeData=yd;Le.isDuration=qT;Le.monthsShort=tCe;Le.weekdaysMin=iCe;Le.defineLocale=ej;Le.updateLocale=ZSe;Le.locales=eEe;Le.weekdaysShort=rCe;Le.normalizeUnits=Oa;Le.relativeTimeRounding=PCe;Le.relativeTimeThreshold=DCe;Le.calendarFormat=KEe;Le.prototype=Te;Le.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function pd(n){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(n)}function OCe(n,e){if(pd(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function qX(n){var e=OCe(n,"string");return pd(e)=="symbol"?e:e+""}function ip(n,e,t){return(e=qX(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o9(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Nn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?o9(Object(t),!0).forEach(function(r){ip(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o9(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Pc(n,e){if(n==null)return{};var t,r,i=B0(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function li(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a9(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,qX(r.key),r)}}function ci(n,e,t){return e&&a9(n.prototype,e),t&&a9(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Cx(n){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cx(n)}function GX(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GX=function(){return!!n})()}function LCe(n,e){if(e&&(pd(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F7(n)}function ls(n,e,t){return e=Cx(e),LCe(n,GX()?Reflect.construct(e,t||[],Cx(n).constructor):e.apply(n,t))}function cs(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&rx(n,e)}function YX(n){if(Array.isArray(n))return n}function FCe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function rF(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function cj(n,e){if(n){if(typeof n=="string")return rF(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?rF(n,e):void 0}}function KX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ya(n,e){return YX(n)||FCe(n,e)||cj(n,e)||KX()}function XX(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=XX(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Rr(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=XX(n))&&(r&&(r+=" "),r+=e);return r}var lD,l9;function NCe(){if(l9)return lD;l9=1;var n=function(e,t,r,i,s,o,a,l){if(!e){var u;if(t===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[r,i,s,o,a,l],p=0;u=new Error(t.replace(/%s/g,function(){return h[p++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};return lD=n,lD}var BCe=NCe();const x_=ro(BCe);var $Ce=function(){};function jCe(n,e){var t={};return Object.keys(n).forEach(function(r){t[YT(r)]=$Ce}),t}function c9(n,e){return n[e]!==void 0}function YT(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function UCe(n){return!!n&&(typeof n!="function"||n.prototype&&n.prototype.isReactComponent)}function JX(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function QX(n){function e(t){var r=this.constructor.getDerivedStateFromProps(n,t);return r??null}this.setState(e.bind(this))}function ZX(n,e){try{var t=this.props,r=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,r)}finally{this.props=t,this.state=r}}JX.__suppressDeprecationWarning=!0;QX.__suppressDeprecationWarning=!0;ZX.__suppressDeprecationWarning=!0;function VCe(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var t=null,r=null,i=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),t!==null||r!==null||i!==null){var s=n.displayName||n.name,o=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=JX,e.componentWillReceiveProps=QX),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=ZX;var a=e.componentDidUpdate;e.componentDidUpdate=function(u,h,p){var m=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:p;a.call(this,u,h,m)}}return n}var HCe="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function eJ(n,e,t){t===void 0&&(t=[]);var r=n.displayName||n.name||"Component",i=UCe(n),s=Object.keys(e),o=s.map(YT);i||!t.length||x_(!1);var a=(function(u){NB(h,u);function h(){for(var m,y=arguments.length,b=new Array(y),w=0;w<y;w++)b[w]=arguments[w];m=u.call.apply(u,[this].concat(b))||this,m.handlers=Object.create(null),s.forEach(function(E){var T=e[E],C=function(I){if(m.props[T]){var F;m._notifying=!0;for(var k=arguments.length,L=new Array(k>1?k-1:0),N=1;N<k;N++)L[N-1]=arguments[N];(F=m.props)[T].apply(F,[I].concat(L)),m._notifying=!1}m.unmounted||m.setState(function(A){var B,z=A.values;return{values:ar(Object.create(null),z,(B={},B[E]=I,B))}})};m.handlers[T]=C}),t.length&&(m.attachRef=function(E){m.inner=E});var _=Object.create(null);return s.forEach(function(E){_[E]=m.props[YT(E)]}),m.state={values:_,prevProps:{}},m}var p=h.prototype;return p.shouldComponentUpdate=function(){return!this._notifying},h.getDerivedStateFromProps=function(y,b){var w=b.values,_=b.prevProps,E={values:ar(Object.create(null),w),prevProps:{}};return s.forEach(function(T){E.prevProps[T]=y[T],!c9(y,T)&&c9(_,T)&&(E.values[T]=y[YT(T)])}),E},p.componentWillUnmount=function(){this.unmounted=!0},p.render=function(){var y=this,b=this.props,w=b.innerRef,_=B0(b,["innerRef"]);o.forEach(function(T){delete _[T]});var E={};return s.forEach(function(T){var C=y.props[T];E[T]=C!==void 0?C:y.state.values[T]}),ie.createElement(n,ar({},_,E,this.handlers,{ref:w||this.attachRef}))},h})(ie.Component);VCe(a),a.displayName="Uncontrolled("+r+")",a.propTypes=ar({innerRef:function(){}},jCe(e)),t.forEach(function(u){a.prototype[u]=function(){var p;return(p=this.inner)[u].apply(p,arguments)}});var l=a;return ie.forwardRef&&(l=ie.forwardRef(function(u,h){return ie.createElement(a,ar({},u,{innerRef:h,__source:{fileName:HCe,lineNumber:128},__self:this}))}),l.propTypes=a.propTypes),l.ControlledComponent=n,l.deferControlTo=function(u,h,p){return h===void 0&&(h={}),eJ(u,ar({},e,h),p)},l}var Tx="milliseconds",R_="seconds",I_="minutes",k_="hours",Hm="day",I0="week",P_="month",zm="year",Wm="decade",qm="century",tJ={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:3600*1e3,day:1440*60*1e3,week:10080*60*1e3},zCe={month:1,year:12,decade:120,century:1200};function WCe(n){return[31,qCe(n),31,30,31,30,31,31,30,31,30,31]}function qCe(n){return n%4===0&&n%100!==0||n%400===0?29:28}function Cl(n,e,t){switch(n=new Date(n),t){case Tx:case R_:case I_:case k_:case Hm:case I0:return GCe(n,e*tJ[t]);case P_:case zm:case Wm:case qm:return YCe(n,e*zCe[t])}throw new TypeError('Invalid units: "'+t+'"')}function GCe(n,e){var t=new Date(+n+e);return KCe(n,t)}function YCe(n,e){var t=n.getFullYear(),r=n.getMonth(),i=n.getDate(),s=t*12+r+e,o=Math.trunc(s/12),a=s%12,l=Math.min(i,WCe(o)[a]),u=new Date(n);return u.setFullYear(o),u.setDate(1),u.setMonth(a),u.setDate(l),u}function KCe(n,e){var t=n.getTimezoneOffset(),r=e.getTimezoneOffset(),i=r-t;return new Date(+e+i*tJ.minutes)}function D_(n,e,t){return Cl(n,-e,t)}function ji(n,e,t){switch(n=new Date(n),e){case qm:case Wm:case zm:n=xx(n,0);case P_:n=oJ(n,1);case I0:case Hm:n=L_(n,0);case k_:n=k0(n,0);case I_:n=O_(n,0);case R_:n=M_(n,0)}return e===Wm&&(n=D_(n,Gm(n)%10,"year")),e===qm&&(n=D_(n,Gm(n)%100,"year")),e===I0&&(n=aJ(n,0,t)),n}function Ax(n,e,t){switch(n=new Date(n),n=ji(n,e,t),e){case qm:case Wm:case zm:case P_:case I0:n=Cl(n,1,e),n=D_(n,1,Hm),n.setHours(23,59,59,999);break;case Hm:n.setHours(23,59,59,999);break;case k_:case I_:case R_:n=Cl(n,1,e),n=D_(n,1,Tx)}return n}var l1=X0(function(n,e){return n===e}),uj=X0(function(n,e){return n!==e}),hI=X0(function(n,e){return n>e}),c1=X0(function(n,e){return n>=e}),dj=X0(function(n,e){return n<e}),K0=X0(function(n,e){return n<=e});function nJ(){return new Date(Math.min.apply(Math,arguments))}function rJ(){return new Date(Math.max.apply(Math,arguments))}function iJ(n,e,t,r){return r=r||"day",(!e||c1(n,e,r))&&(!t||K0(n,t,r))}var M_=Sf("Milliseconds"),O_=Sf("Seconds"),k0=Sf("Minutes"),L_=Sf("Hours"),sJ=Sf("Day"),oJ=Sf("Date"),xx=Sf("Month"),Gm=Sf("FullYear");function XCe(n,e){return e===void 0?Gm(ji(n,Wm)):Cl(n,e+10,zm)}function JCe(n,e){return e===void 0?Gm(ji(n,qm)):Cl(n,e+100,zm)}function aJ(n,e,t){var r=(sJ(n)+7-(t||0))%7;return e===void 0?r:Cl(n,e-r,Hm)}function QCe(n,e,t,r){var i,s,o;switch(t){case Tx:case R_:case I_:case k_:case Hm:case I0:i=e.getTime()-n.getTime();break;case P_:case zm:case Wm:case qm:i=(Gm(e)-Gm(n))*12+xx(e)-xx(n);break;default:throw new TypeError('Invalid units: "'+t+'"')}switch(t){case Tx:s=1;break;case R_:s=1e3;break;case I_:s=1e3*60;break;case k_:s=1e3*60*60;break;case Hm:s=1e3*60*60*24;break;case I0:s=1e3*60*60*24*7;break;case P_:s=1;break;case zm:s=12;break;case Wm:s=120;break;case qm:s=1200;break;default:throw new TypeError('Invalid units: "'+t+'"')}return o=i/s,r?o:Math.round(o)}function Sf(n){var e=(function(t){switch(t){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}})(n);return function(t,r){if(r===void 0)return t["get"+n]();var i=new Date(t);return i["set"+n](r),e&&i["get"+n]()!=r&&(n==="Hours"||r>=e&&i.getHours()-t.getHours()<Math.floor(r/e))&&i["set"+n](r+e),i}}function X0(n){return function(e,t,r){return n(+ji(e,r),+ji(t,r))}}const u9=Object.freeze(Object.defineProperty({__proto__:null,add:Cl,century:JCe,date:oJ,day:sJ,decade:XCe,diff:QCe,endOf:Ax,eq:l1,gt:hI,gte:c1,hours:L_,inRange:iJ,lt:dj,lte:K0,max:rJ,milliseconds:M_,min:nJ,minutes:k0,month:xx,neq:uj,seconds:O_,startOf:ji,subtract:D_,weekday:aJ,year:Gm},Symbol.toStringTag,{value:"Module"}));function ZCe(n){if(Array.isArray(n))return rF(n)}function lJ(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function eTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KT(n){return ZCe(n)||lJ(n)||cj(n)||eTe()}var cD,d9;function cJ(){if(d9)return cD;d9=1;function n(e,t,r){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+t];return o}return cD=n,cD}var uD,h9;function u1(){if(h9)return uD;h9=1;function n(e,t){return e===t||e!==e&&t!==t}return uD=n,uD}var dD,f9;function uJ(){if(f9)return dD;f9=1;var n=typeof HC=="object"&&HC&&HC.Object===Object&&HC;return dD=n,dD}var hD,p9;function Bc(){if(p9)return hD;p9=1;var n=uJ(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return hD=t,hD}var fD,m9;function J0(){if(m9)return fD;m9=1;var n=Bc(),e=n.Symbol;return fD=e,fD}var pD,g9;function tTe(){if(g9)return pD;g9=1;var n=J0(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,i=n?n.toStringTag:void 0;function s(o){var a=t.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var h=r.call(o);return u&&(a?o[i]=l:delete o[i]),h}return pD=s,pD}var mD,y9;function nTe(){if(y9)return mD;y9=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return mD=t,mD}var gD,v9;function Q0(){if(v9)return gD;v9=1;var n=J0(),e=tTe(),t=nTe(),r="[object Null]",i="[object Undefined]",s=n?n.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):t(a)}return gD=o,gD}var yD,w9;function wd(){if(w9)return yD;w9=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return yD=n,yD}var vD,b9;function hj(){if(b9)return vD;b9=1;var n=Q0(),e=wd(),t="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var l=n(a);return l==r||l==i||l==t||l==s}return vD=o,vD}var wD,_9;function fj(){if(_9)return wD;_9=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return wD=e,wD}var bD,S9;function d1(){if(S9)return bD;S9=1;var n=hj(),e=fj();function t(r){return r!=null&&e(r.length)&&!n(r)}return bD=t,bD}var _D,E9;function pj(){if(E9)return _D;E9=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,i){var s=typeof r;return i=i??n,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return _D=t,_D}var SD,C9;function fI(){if(C9)return SD;C9=1;var n=u1(),e=d1(),t=pj(),r=wd();function i(s,o,a){if(!r(a))return!1;var l=typeof o;return(l=="number"?e(a)&&t(o,a.length):l=="string"&&o in a)?n(a[o],s):!1}return SD=i,SD}var ED,T9;function rTe(){if(T9)return ED;T9=1;var n=/\s/;function e(t){for(var r=t.length;r--&&n.test(t.charAt(r)););return r}return ED=e,ED}var CD,A9;function iTe(){if(A9)return CD;A9=1;var n=rTe(),e=/^\s+/;function t(r){return r&&r.slice(0,n(r)+1).replace(e,"")}return CD=t,CD}var TD,x9;function Ef(){if(x9)return TD;x9=1;function n(e){return e!=null&&typeof e=="object"}return TD=n,TD}var AD,R9;function h1(){if(R9)return AD;R9=1;var n=Q0(),e=Ef(),t="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&n(i)==t}return AD=r,AD}var xD,I9;function sTe(){if(I9)return xD;I9=1;var n=iTe(),e=wd(),t=h1(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(t(u))return r;if(e(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=e(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=n(u);var p=s.test(u);return p||o.test(u)?a(u.slice(2),p?2:8):i.test(u)?r:+u}return xD=l,xD}var RD,k9;function dJ(){if(k9)return RD;k9=1;var n=sTe(),e=1/0,t=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=n(i),i===e||i===-e){var s=i<0?-1:1;return s*t}return i===i?i:0}return RD=r,RD}var ID,P9;function hJ(){if(P9)return ID;P9=1;var n=dJ();function e(t){var r=n(t),i=r%1;return r===r?i?r-i:r:0}return ID=e,ID}var kD,D9;function oTe(){if(D9)return kD;D9=1;var n=cJ(),e=fI(),t=hJ(),r=Math.ceil,i=Math.max;function s(o,a,l){(l?e(o,a,l):a===void 0)?a=1:a=i(t(a),0);var u=o==null?0:o.length;if(!u||a<1)return[];for(var h=0,p=0,m=Array(r(u/a));h<u;)m[p++]=n(o,h,h+=a);return m}return kD=s,kD}var aTe=oTe();const lTe=ro(aTe);function f1(n){return n&&n.ownerDocument||document}function cTe(n){var e=f1(n);return e&&e.defaultView||window}function uTe(n,e){return cTe(n).getComputedStyle(n,e)}var dTe=/([A-Z])/g;function hTe(n){return n.replace(dTe,"-$1").toLowerCase()}var fTe=/^ms-/;function pT(n){return hTe(n).replace(fTe,"-ms-")}var pTe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function mTe(n){return!!(n&&pTe.test(n))}function hy(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(pT(e))||uTe(n).getPropertyValue(pT(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?n.style.removeProperty(pT(i)):mTe(i)?r+=i+"("+s+") ":t+=pT(i)+": "+s+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}function F_(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function gTe(n){return"nodeType"in n&&n.nodeType===document.DOCUMENT_NODE}function mj(n){return"window"in n&&n.window===n?n:gTe(n)&&n.defaultView||!1}function fJ(n){var e=n==="pageXOffset"?"scrollLeft":"scrollTop";function t(r,i){var s=mj(r);if(i===void 0)return s?s[n]:r[e];s?s.scrollTo(s[n],i):r[e]=i}return t}const pJ=fJ("pageXOffset"),mJ=fJ("pageYOffset");function Om(n){var e=f1(n),t={top:0,left:0,height:0,width:0},r=e&&e.documentElement;return!r||!F_(r,n)||(n.getBoundingClientRect!==void 0&&(t=n.getBoundingClientRect()),t={top:t.top+mJ(r)-(r.clientTop||0),left:t.left+pJ(r)-(r.clientLeft||0),width:t.width,height:t.height}),t}var yTe=function(e){return!!e&&"offsetParent"in e};function vTe(n){for(var e=f1(n),t=n&&n.offsetParent;yTe(t)&&t.nodeName!=="HTML"&&hy(t,"position")==="static";)t=t.offsetParent;return t||e.documentElement}var wTe=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function gJ(n,e){var t={top:0,left:0},r;if(hy(n,"position")==="fixed")r=n.getBoundingClientRect();else{var i=e||vTe(n);r=Om(n),wTe(i)!=="html"&&(t=Om(i));var s=String(hy(i,"borderTopWidth")||0);t.top+=parseInt(s,10)-mJ(i)||0;var o=String(hy(i,"borderLeftWidth")||0);t.left+=parseInt(o,10)-pJ(i)||0}var a=String(hy(n,"marginTop")||0),l=String(hy(n,"marginLeft")||0);return ar({},r,{top:r.top-t.top-(parseInt(a,10)||0),left:r.left-t.left-(parseInt(l,10)||0)})}const gj=!!(typeof window<"u"&&window.document&&window.document.createElement);var M9=new Date().getTime();function bTe(n){var e=new Date().getTime(),t=Math.max(0,16-(e-M9)),r=setTimeout(n,t);return M9=e,r}var _Te=["","webkit","moz","o","ms"],iF="clearTimeout",sF=bTe,O9=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};gj&&_Te.some(function(n){var e=O9(n,"request");return e in window&&(iF=O9(n,"cancel"),sF=function(r){return window[e](r)}),!!sF});var L9=function(e){typeof window[iF]=="function"&&window[iF](e)},yJ=sF,PD;function STe(n,e){if(!PD){var t=document.body,r=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;PD=function(s,o){return r.call(s,o)}}return PD(n,e)}var ETe=Function.prototype.bind.call(Function.prototype.call,[].slice);function CTe(n,e){return ETe(n.querySelectorAll(e))}var oF=!1,aF=!1;try{var DD={get passive(){return oF=!0},get once(){return aF=oF=!0}};gj&&(window.addEventListener("test",DD,DD),window.removeEventListener("test",DD,!0))}catch{}function TTe(n,e,t,r){if(r&&typeof r!="boolean"&&!aF){var i=r.once,s=r.capture,o=t;!aF&&i&&(o=t.__once||function a(l){this.removeEventListener(e,a,s),t.call(this,l)},t.__once=o),n.addEventListener(e,o,oF?r:s)}n.addEventListener(e,t,r)}function ATe(n){const e=$.useRef(n);return $.useEffect(()=>{e.current=n},[n]),e}function F9(n){const e=ATe(n);return $.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function N9(){return $.useState(null)}function xTe(){const n=$.useRef(!0),e=$.useRef(()=>n.current);return $.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function RTe(n){const e=xTe();return[n[0],$.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var ITe=rY({defaultModifiers:[Z7,tY,Y7,K7,eY,Q7,nY,G7]}),B9=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},kTe={name:"applyStyles",enabled:!1},PTe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var r=t.elements,i=r.reference,s=r.popper;if("removeAttribute"in i){var o=(i.getAttribute("aria-describedby")||"").split(",").filter(function(a){return a.trim()!==s.id});o.length?i.setAttribute("aria-describedby",o.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var t,r=e.state,i=r.elements,s=i.popper,o=i.reference,a=(t=s.getAttribute("role"))==null?void 0:t.toLowerCase();if(s.id&&a==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(s.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+s.id:s.id)}}},DTe=[];function MTe(n,e,t){var r=t===void 0?{}:t,i=r.enabled,s=i===void 0?!0:i,o=r.placement,a=o===void 0?"bottom":o,l=r.strategy,u=l===void 0?"absolute":l,h=r.modifiers,p=h===void 0?DTe:h,m=B0(r,["enabled","placement","strategy","modifiers"]),y=$.useRef(),b=$.useCallback(function(){var x;(x=y.current)==null||x.update()},[]),w=$.useCallback(function(){var x;(x=y.current)==null||x.forceUpdate()},[]),_=RTe($.useState({placement:a,update:b,forceUpdate:w,attributes:{},styles:{popper:B9(u),arrow:{}}})),E=_[0],T=_[1],C=$.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(I){var F=I.state,k={},L={};Object.keys(F.elements).forEach(function(N){k[N]=F.styles[N],L[N]=F.attributes[N]}),T({state:F,styles:k,attributes:L,update:b,forceUpdate:w,placement:F.placement})}}},[b,w,T]);return $.useEffect(function(){!y.current||!s||y.current.setOptions({placement:a,strategy:u,modifiers:[].concat(p,[C,kTe])})},[u,a,C,s]),$.useEffect(function(){if(!(!s||n==null||e==null))return y.current=ITe(n,e,ar({},m,{placement:a,strategy:u,modifiers:[].concat(p,[PTe,C])})),function(){y.current!=null&&(y.current.destroy(),y.current=void 0,T(function(x){return ar({},x,{attributes:{},styles:{popper:B9(u)}})}))}},[s,n,e]),E}function OTe(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function gb(n,e,t,r){return TTe(n,e,t,r),function(){OTe(n,e,t,r)}}var MD,$9;function LTe(){if($9)return MD;$9=1;var n=function(){};return MD=n,MD}var FTe=LTe();const NTe=ro(FTe);function BTe(n){return n&&"setState"in n?_y.findDOMNode(n):n??null}const $Te=(function(n){return f1(BTe(n))});var jTe=27,j9=function(){};function UTe(n){return n.button===0}function VTe(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}var U9=function(e){return e&&("current"in e?e.current:e)};function HTe(n,e,t){var r=t===void 0?{}:t,i=r.disabled,s=r.clickTrigger,o=s===void 0?"click":s,a=$.useRef(!1),l=e||j9,u=$.useCallback(function(m){var y,b=U9(n);NTe(!!b,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),a.current=!b||VTe(m)||!UTe(m)||!!F_(b,(y=m.composedPath==null?void 0:m.composedPath()[0])!=null?y:m.target)},[n]),h=F9(function(m){a.current||l(m)}),p=F9(function(m){m.keyCode===jTe&&l(m)});$.useEffect(function(){if(!(i||n==null)){var m=window.event,y=$Te(U9(n)),b=gb(y,o,u,!0),w=gb(y,o,function(T){if(T===m){m=void 0;return}h(T)}),_=gb(y,"keyup",function(T){if(T===m){m=void 0;return}p(T)}),E=[];return"ontouchstart"in y.documentElement&&(E=[].slice.call(y.body.children).map(function(T){return gb(T,"mousemove",j9)})),function(){b(),w(),_(),E.forEach(function(T){return T()})}}},[n,i,o,u,h,p])}function zTe(n){var e={};return Array.isArray(n)?(n==null||n.forEach(function(t){e[t.name]=t}),e):n||e}function WTe(n){return n===void 0&&(n={}),Array.isArray(n)?n:Object.keys(n).map(function(e){return n[e].name=e,n[e]})}function qTe(n){var e,t,r,i,s=n.enabled,o=n.enableEvents,a=n.placement,l=n.flip,u=n.offset,h=n.fixed,p=n.containerPadding,m=n.arrowElement,y=n.popperConfig,b=y===void 0?{}:y,w=zTe(b.modifiers);return ar({},b,{placement:a,enabled:s,strategy:h?"fixed":b.strategy,modifiers:WTe(ar({},w,{eventListeners:{enabled:o},preventOverflow:ar({},w.preventOverflow,{options:p?ar({padding:p},(e=w.preventOverflow)==null?void 0:e.options):(t=w.preventOverflow)==null?void 0:t.options}),offset:{options:ar({offset:u},(r=w.offset)==null?void 0:r.options)},arrow:ar({},w.arrow,{enabled:!!m,options:ar({},(i=w.arrow)==null?void 0:i.options,{element:m})}),flip:ar({enabled:!!l},w.flip)}))})}var mT;function yj(n){if((!mT&&mT!==0||n)&&gj){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),mT=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return mT}var OD=function(e){var t;return typeof document>"u"?null:e==null?f1().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(t=e)!=null&&t.nodeType&&e||null)};function V9(n,e){var t=$.useState(function(){return OD(n)}),r=t[0],i=t[1];if(!r){var s=OD(n);s&&i(s)}return $.useEffect(function(){},[e,r]),$.useEffect(function(){var o=OD(n);o!==r&&i(o)},[n,r]),r}const H9=n=>!n||typeof n=="function"?n:e=>{n.current=e};function GTe(n,e){const t=H9(n),r=H9(e);return i=>{t&&t(i),r&&r(i)}}function YTe(n,e){return $.useMemo(()=>GTe(n,e),[n,e])}var vj=ie.forwardRef(function(n,e){var t=n.flip,r=n.offset,i=n.placement,s=n.containerPadding,o=s===void 0?5:s,a=n.popperConfig,l=a===void 0?{}:a,u=n.transition,h=N9(),p=h[0],m=h[1],y=N9(),b=y[0],w=y[1],_=YTe(m,e),E=V9(n.container),T=V9(n.target),C=$.useState(!n.show),x=C[0],I=C[1],F=MTe(T,p,qTe({placement:i,enableEvents:!!n.show,containerPadding:o||5,flip:t,offset:r,arrowElement:b,popperConfig:l})),k=F.styles,L=F.attributes,N=B0(F,["styles","attributes"]);n.show?x&&I(!1):!n.transition&&!x&&I(!0);var A=function(){I(!0),n.onExited&&n.onExited.apply(n,arguments)},B=n.show||u&&!x;if(HTe(p,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!B)return null;var z=n.children(ar({},N,{show:!!n.show,props:ar({},L.popper,{style:k.popper,ref:_}),arrowProps:ar({},L.arrow,{style:k.arrow,ref:w})}));if(u){var U=n.onExit,Q=n.onExiting,te=n.onEnter,X=n.onEntering,ne=n.onEntered;z=ie.createElement(u,{in:n.show,appear:!0,onExit:U,onExiting:Q,onExited:A,onEnter:te,onEntering:X,onEntered:ne},z)}return E?_y.createPortal(z,E):null});vj.displayName="Overlay";vj.propTypes={show:Re.bool,placement:Re.oneOf(HB),target:Re.any,container:Re.any,flip:Re.bool,children:Re.func.isRequired,containerPadding:Re.number,popperConfig:Re.object,rootClose:Re.bool,rootCloseEvent:Re.oneOf(["click","mousedown"]),rootCloseDisabled:Re.bool,onHide:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(e.rootClose){var s;return(s=Re.func).isRequired.apply(s,[e].concat(r))}return Re.func.apply(Re,[e].concat(r))},transition:Re.elementType,onEnter:Re.func,onEntering:Re.func,onEntered:Re.func,onExit:Re.func,onExiting:Re.func,onExited:Re.func};var LD,z9;function KTe(){if(z9)return LD;z9=1;function n(){this.__data__=[],this.size=0}return LD=n,LD}var FD,W9;function pI(){if(W9)return FD;W9=1;var n=u1();function e(t,r){for(var i=t.length;i--;)if(n(t[i][0],r))return i;return-1}return FD=e,FD}var ND,q9;function XTe(){if(q9)return ND;q9=1;var n=pI(),e=Array.prototype,t=e.splice;function r(i){var s=this.__data__,o=n(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():t.call(s,o,1),--this.size,!0}return ND=r,ND}var BD,G9;function JTe(){if(G9)return BD;G9=1;var n=pI();function e(t){var r=this.__data__,i=n(r,t);return i<0?void 0:r[i][1]}return BD=e,BD}var $D,Y9;function QTe(){if(Y9)return $D;Y9=1;var n=pI();function e(t){return n(this.__data__,t)>-1}return $D=e,$D}var jD,K9;function ZTe(){if(K9)return jD;K9=1;var n=pI();function e(t,r){var i=this.__data__,s=n(i,t);return s<0?(++this.size,i.push([t,r])):i[s][1]=r,this}return jD=e,jD}var UD,X9;function mI(){if(X9)return UD;X9=1;var n=KTe(),e=XTe(),t=JTe(),r=QTe(),i=ZTe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=n,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=r,s.prototype.set=i,UD=s,UD}var VD,J9;function eAe(){if(J9)return VD;J9=1;var n=mI();function e(){this.__data__=new n,this.size=0}return VD=e,VD}var HD,Q9;function tAe(){if(Q9)return HD;Q9=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return HD=n,HD}var zD,Z9;function nAe(){if(Z9)return zD;Z9=1;function n(e){return this.__data__.get(e)}return zD=n,zD}var WD,ez;function rAe(){if(ez)return WD;ez=1;function n(e){return this.__data__.has(e)}return WD=n,WD}var qD,tz;function iAe(){if(tz)return qD;tz=1;var n=Bc(),e=n["__core-js_shared__"];return qD=e,qD}var GD,nz;function sAe(){if(nz)return GD;nz=1;var n=iAe(),e=(function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function t(r){return!!e&&e in r}return GD=t,GD}var YD,rz;function vJ(){if(rz)return YD;rz=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return YD=t,YD}var KD,iz;function oAe(){if(iz)return KD;iz=1;var n=hj(),e=sAe(),t=wd(),r=vJ(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,u=a.hasOwnProperty,h=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(m){if(!t(m)||e(m))return!1;var y=n(m)?h:s;return y.test(r(m))}return KD=p,KD}var XD,sz;function aAe(){if(sz)return XD;sz=1;function n(e,t){return e==null?void 0:e[t]}return XD=n,XD}var JD,oz;function lg(){if(oz)return JD;oz=1;var n=oAe(),e=aAe();function t(r,i){var s=e(r,i);return n(s)?s:void 0}return JD=t,JD}var QD,az;function wj(){if(az)return QD;az=1;var n=lg(),e=Bc(),t=n(e,"Map");return QD=t,QD}var ZD,lz;function gI(){if(lz)return ZD;lz=1;var n=lg(),e=n(Object,"create");return ZD=e,ZD}var eM,cz;function lAe(){if(cz)return eM;cz=1;var n=gI();function e(){this.__data__=n?n(null):{},this.size=0}return eM=e,eM}var tM,uz;function cAe(){if(uz)return tM;uz=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return tM=n,tM}var nM,dz;function uAe(){if(dz)return nM;dz=1;var n=gI(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function i(s){var o=this.__data__;if(n){var a=o[s];return a===e?void 0:a}return r.call(o,s)?o[s]:void 0}return nM=i,nM}var rM,hz;function dAe(){if(hz)return rM;hz=1;var n=gI(),e=Object.prototype,t=e.hasOwnProperty;function r(i){var s=this.__data__;return n?s[i]!==void 0:t.call(s,i)}return rM=r,rM}var iM,fz;function hAe(){if(fz)return iM;fz=1;var n=gI(),e="__lodash_hash_undefined__";function t(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=n&&i===void 0?e:i,this}return iM=t,iM}var sM,pz;function fAe(){if(pz)return sM;pz=1;var n=lAe(),e=cAe(),t=uAe(),r=dAe(),i=hAe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=n,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=r,s.prototype.set=i,sM=s,sM}var oM,mz;function pAe(){if(mz)return oM;mz=1;var n=fAe(),e=mI(),t=wj();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return oM=r,oM}var aM,gz;function mAe(){if(gz)return aM;gz=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return aM=n,aM}var lM,yz;function yI(){if(yz)return lM;yz=1;var n=mAe();function e(t,r){var i=t.__data__;return n(r)?i[typeof r=="string"?"string":"hash"]:i.map}return lM=e,lM}var cM,vz;function gAe(){if(vz)return cM;vz=1;var n=yI();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return cM=e,cM}var uM,wz;function yAe(){if(wz)return uM;wz=1;var n=yI();function e(t){return n(this,t).get(t)}return uM=e,uM}var dM,bz;function vAe(){if(bz)return dM;bz=1;var n=yI();function e(t){return n(this,t).has(t)}return dM=e,dM}var hM,_z;function wAe(){if(_z)return hM;_z=1;var n=yI();function e(t,r){var i=n(this,t),s=i.size;return i.set(t,r),this.size+=i.size==s?0:1,this}return hM=e,hM}var fM,Sz;function bj(){if(Sz)return fM;Sz=1;var n=pAe(),e=gAe(),t=yAe(),r=vAe(),i=wAe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=n,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=r,s.prototype.set=i,fM=s,fM}var pM,Ez;function bAe(){if(Ez)return pM;Ez=1;var n=mI(),e=wj(),t=bj(),r=200;function i(s,o){var a=this.__data__;if(a instanceof n){var l=a.__data__;if(!e||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new t(l)}return a.set(s,o),this.size=a.size,this}return pM=i,pM}var mM,Cz;function _j(){if(Cz)return mM;Cz=1;var n=mI(),e=eAe(),t=tAe(),r=nAe(),i=rAe(),s=bAe();function o(a){var l=this.__data__=new n(a);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,mM=o,mM}var gM,Tz;function _Ae(){if(Tz)return gM;Tz=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return gM=e,gM}var yM,Az;function SAe(){if(Az)return yM;Az=1;function n(e){return this.__data__.has(e)}return yM=n,yM}var vM,xz;function EAe(){if(xz)return vM;xz=1;var n=bj(),e=_Ae(),t=SAe();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new n;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,vM=r,vM}var wM,Rz;function CAe(){if(Rz)return wM;Rz=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}return wM=n,wM}var bM,Iz;function TAe(){if(Iz)return bM;Iz=1;function n(e,t){return e.has(t)}return bM=n,bM}var _M,kz;function wJ(){if(kz)return _M;kz=1;var n=EAe(),e=CAe(),t=TAe(),r=1,i=2;function s(o,a,l,u,h,p){var m=l&r,y=o.length,b=a.length;if(y!=b&&!(m&&b>y))return!1;var w=p.get(o),_=p.get(a);if(w&&_)return w==a&&_==o;var E=-1,T=!0,C=l&i?new n:void 0;for(p.set(o,a),p.set(a,o);++E<y;){var x=o[E],I=a[E];if(u)var F=m?u(I,x,E,a,o,p):u(x,I,E,o,a,p);if(F!==void 0){if(F)continue;T=!1;break}if(C){if(!e(a,function(k,L){if(!t(C,L)&&(x===k||h(x,k,l,u,p)))return C.push(L)})){T=!1;break}}else if(!(x===I||h(x,I,l,u,p))){T=!1;break}}return p.delete(o),p.delete(a),T}return _M=s,_M}var SM,Pz;function bJ(){if(Pz)return SM;Pz=1;var n=Bc(),e=n.Uint8Array;return SM=e,SM}var EM,Dz;function AAe(){if(Dz)return EM;Dz=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i,s){r[++t]=[s,i]}),r}return EM=n,EM}var CM,Mz;function xAe(){if(Mz)return CM;Mz=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}return CM=n,CM}var TM,Oz;function RAe(){if(Oz)return TM;Oz=1;var n=J0(),e=bJ(),t=u1(),r=wJ(),i=AAe(),s=xAe(),o=1,a=2,l="[object Boolean]",u="[object Date]",h="[object Error]",p="[object Map]",m="[object Number]",y="[object RegExp]",b="[object Set]",w="[object String]",_="[object Symbol]",E="[object ArrayBuffer]",T="[object DataView]",C=n?n.prototype:void 0,x=C?C.valueOf:void 0;function I(F,k,L,N,A,B,z){switch(L){case T:if(F.byteLength!=k.byteLength||F.byteOffset!=k.byteOffset)return!1;F=F.buffer,k=k.buffer;case E:return!(F.byteLength!=k.byteLength||!B(new e(F),new e(k)));case l:case u:case m:return t(+F,+k);case h:return F.name==k.name&&F.message==k.message;case y:case w:return F==k+"";case p:var U=i;case b:var Q=N&o;if(U||(U=s),F.size!=k.size&&!Q)return!1;var te=z.get(F);if(te)return te==k;N|=a,z.set(F,k);var X=r(U(F),U(k),N,A,B,z);return z.delete(F),X;case _:if(x)return x.call(F)==x.call(k)}return!1}return TM=I,TM}var AM,Lz;function Sj(){if(Lz)return AM;Lz=1;function n(e,t){for(var r=-1,i=t.length,s=e.length;++r<i;)e[s+r]=t[r];return e}return AM=n,AM}var xM,Fz;function La(){if(Fz)return xM;Fz=1;var n=Array.isArray;return xM=n,xM}var RM,Nz;function _J(){if(Nz)return RM;Nz=1;var n=Sj(),e=La();function t(r,i,s){var o=i(r);return e(r)?o:n(o,s(r))}return RM=t,RM}var IM,Bz;function IAe(){if(Bz)return IM;Bz=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var a=e[r];t(a,r,e)&&(o[s++]=a)}return o}return IM=n,IM}var kM,$z;function SJ(){if($z)return kM;$z=1;function n(){return[]}return kM=n,kM}var PM,jz;function Ej(){if(jz)return PM;jz=1;var n=IAe(),e=SJ(),t=Object.prototype,r=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),n(i(o),function(a){return r.call(o,a)}))}:e;return PM=s,PM}var DM,Uz;function kAe(){if(Uz)return DM;Uz=1;function n(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}return DM=n,DM}var MM,Vz;function PAe(){if(Vz)return MM;Vz=1;var n=Q0(),e=Ef(),t="[object Arguments]";function r(i){return e(i)&&n(i)==t}return MM=r,MM}var OM,Hz;function Cj(){if(Hz)return OM;Hz=1;var n=PAe(),e=Ef(),t=Object.prototype,r=t.hasOwnProperty,i=t.propertyIsEnumerable,s=n((function(){return arguments})())?n:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return OM=s,OM}var yb={exports:{}},LM,zz;function DAe(){if(zz)return LM;zz=1;function n(){return!1}return LM=n,LM}yb.exports;var Wz;function vI(){return Wz||(Wz=1,(function(n,e){var t=Bc(),r=DAe(),i=e&&!e.nodeType&&e,s=i&&!0&&n&&!n.nodeType&&n,o=s&&s.exports===i,a=o?t.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;n.exports=u})(yb,yb.exports)),yb.exports}var FM,qz;function MAe(){if(qz)return FM;qz=1;var n=Q0(),e=fj(),t=Ef(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",h="[object Number]",p="[object Object]",m="[object RegExp]",y="[object Set]",b="[object String]",w="[object WeakMap]",_="[object ArrayBuffer]",E="[object DataView]",T="[object Float32Array]",C="[object Float64Array]",x="[object Int8Array]",I="[object Int16Array]",F="[object Int32Array]",k="[object Uint8Array]",L="[object Uint8ClampedArray]",N="[object Uint16Array]",A="[object Uint32Array]",B={};B[T]=B[C]=B[x]=B[I]=B[F]=B[k]=B[L]=B[N]=B[A]=!0,B[r]=B[i]=B[_]=B[s]=B[E]=B[o]=B[a]=B[l]=B[u]=B[h]=B[p]=B[m]=B[y]=B[b]=B[w]=!1;function z(U){return t(U)&&e(U.length)&&!!B[n(U)]}return FM=z,FM}var NM,Gz;function wI(){if(Gz)return NM;Gz=1;function n(e){return function(t){return e(t)}}return NM=n,NM}var vb={exports:{}};vb.exports;var Yz;function Tj(){return Yz||(Yz=1,(function(n,e){var t=uJ(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,s=i&&i.exports===r,o=s&&t.process,a=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();n.exports=a})(vb,vb.exports)),vb.exports}var BM,Kz;function Aj(){if(Kz)return BM;Kz=1;var n=MAe(),e=wI(),t=Tj(),r=t&&t.isTypedArray,i=r?e(r):n;return BM=i,BM}var $M,Xz;function EJ(){if(Xz)return $M;Xz=1;var n=kAe(),e=Cj(),t=La(),r=vI(),i=pj(),s=Aj(),o=Object.prototype,a=o.hasOwnProperty;function l(u,h){var p=t(u),m=!p&&e(u),y=!p&&!m&&r(u),b=!p&&!m&&!y&&s(u),w=p||m||y||b,_=w?n(u.length,String):[],E=_.length;for(var T in u)(h||a.call(u,T))&&!(w&&(T=="length"||y&&(T=="offset"||T=="parent")||b&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||i(T,E)))&&_.push(T);return _}return $M=l,$M}var jM,Jz;function xj(){if(Jz)return jM;Jz=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,i=typeof r=="function"&&r.prototype||n;return t===i}return jM=e,jM}var UM,Qz;function CJ(){if(Qz)return UM;Qz=1;function n(e,t){return function(r){return e(t(r))}}return UM=n,UM}var VM,Zz;function OAe(){if(Zz)return VM;Zz=1;var n=CJ(),e=n(Object.keys,Object);return VM=e,VM}var HM,eW;function LAe(){if(eW)return HM;eW=1;var n=xj(),e=OAe(),t=Object.prototype,r=t.hasOwnProperty;function i(s){if(!n(s))return e(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return HM=i,HM}var zM,tW;function p1(){if(tW)return zM;tW=1;var n=EJ(),e=LAe(),t=d1();function r(i){return t(i)?n(i):e(i)}return zM=r,zM}var WM,nW;function TJ(){if(nW)return WM;nW=1;var n=_J(),e=Ej(),t=p1();function r(i){return n(i,t,e)}return WM=r,WM}var qM,rW;function FAe(){if(rW)return qM;rW=1;var n=TJ(),e=1,t=Object.prototype,r=t.hasOwnProperty;function i(s,o,a,l,u,h){var p=a&e,m=n(s),y=m.length,b=n(o),w=b.length;if(y!=w&&!p)return!1;for(var _=y;_--;){var E=m[_];if(!(p?E in o:r.call(o,E)))return!1}var T=h.get(s),C=h.get(o);if(T&&C)return T==o&&C==s;var x=!0;h.set(s,o),h.set(o,s);for(var I=p;++_<y;){E=m[_];var F=s[E],k=o[E];if(l)var L=p?l(k,F,E,o,s,h):l(F,k,E,s,o,h);if(!(L===void 0?F===k||u(F,k,a,l,h):L)){x=!1;break}I||(I=E=="constructor")}if(x&&!I){var N=s.constructor,A=o.constructor;N!=A&&"constructor"in s&&"constructor"in o&&!(typeof N=="function"&&N instanceof N&&typeof A=="function"&&A instanceof A)&&(x=!1)}return h.delete(s),h.delete(o),x}return qM=i,qM}var GM,iW;function NAe(){if(iW)return GM;iW=1;var n=lg(),e=Bc(),t=n(e,"DataView");return GM=t,GM}var YM,sW;function BAe(){if(sW)return YM;sW=1;var n=lg(),e=Bc(),t=n(e,"Promise");return YM=t,YM}var KM,oW;function $Ae(){if(oW)return KM;oW=1;var n=lg(),e=Bc(),t=n(e,"Set");return KM=t,KM}var XM,aW;function jAe(){if(aW)return XM;aW=1;var n=lg(),e=Bc(),t=n(e,"WeakMap");return XM=t,XM}var JM,lW;function bI(){if(lW)return JM;lW=1;var n=NAe(),e=wj(),t=BAe(),r=$Ae(),i=jAe(),s=Q0(),o=vJ(),a="[object Map]",l="[object Object]",u="[object Promise]",h="[object Set]",p="[object WeakMap]",m="[object DataView]",y=o(n),b=o(e),w=o(t),_=o(r),E=o(i),T=s;return(n&&T(new n(new ArrayBuffer(1)))!=m||e&&T(new e)!=a||t&&T(t.resolve())!=u||r&&T(new r)!=h||i&&T(new i)!=p)&&(T=function(C){var x=s(C),I=x==l?C.constructor:void 0,F=I?o(I):"";if(F)switch(F){case y:return m;case b:return a;case w:return u;case _:return h;case E:return p}return x}),JM=T,JM}var QM,cW;function UAe(){if(cW)return QM;cW=1;var n=_j(),e=wJ(),t=RAe(),r=FAe(),i=bI(),s=La(),o=vI(),a=Aj(),l=1,u="[object Arguments]",h="[object Array]",p="[object Object]",m=Object.prototype,y=m.hasOwnProperty;function b(w,_,E,T,C,x){var I=s(w),F=s(_),k=I?h:i(w),L=F?h:i(_);k=k==u?p:k,L=L==u?p:L;var N=k==p,A=L==p,B=k==L;if(B&&o(w)){if(!o(_))return!1;I=!0,N=!1}if(B&&!N)return x||(x=new n),I||a(w)?e(w,_,E,T,C,x):t(w,_,k,E,T,C,x);if(!(E&l)){var z=N&&y.call(w,"__wrapped__"),U=A&&y.call(_,"__wrapped__");if(z||U){var Q=z?w.value():w,te=U?_.value():_;return x||(x=new n),C(Q,te,E,T,x)}}return B?(x||(x=new n),r(w,_,E,T,C,x)):!1}return QM=b,QM}var ZM,uW;function Rj(){if(uW)return ZM;uW=1;var n=UAe(),e=Ef();function t(r,i,s,o,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:n(r,i,s,o,t,a)}return ZM=t,ZM}var e2,dW;function VAe(){if(dW)return e2;dW=1;var n=Rj();function e(t,r){return n(t,r)}return e2=e,e2}var HAe=VAe();const zAe=ro(HAe);function t2(n,e){var t=mj(n);return t?t.innerHeight:Om(n).height}function AJ(n,e,t){n.closest&&!t&&n.closest(e);var r=n;do{if(STe(r,e))return r;r=r.parentElement}while(r&&r!==t&&r.nodeType===document.ELEMENT_NODE);return null}var n2,hW;function WAe(){if(hW)return n2;hW=1;function n(e,t,r,i){for(var s=e.length,o=r+(i?1:-1);i?o--:++o<s;)if(t(e[o],o,e))return o;return-1}return n2=n,n2}var r2,fW;function qAe(){if(fW)return r2;fW=1;var n=_j(),e=Rj(),t=1,r=2;function i(s,o,a,l){var u=a.length,h=u,p=!l;if(s==null)return!h;for(s=Object(s);u--;){var m=a[u];if(p&&m[2]?m[1]!==s[m[0]]:!(m[0]in s))return!1}for(;++u<h;){m=a[u];var y=m[0],b=s[y],w=m[1];if(p&&m[2]){if(b===void 0&&!(y in s))return!1}else{var _=new n;if(l)var E=l(b,w,y,s,o,_);if(!(E===void 0?e(w,b,t|r,l,_):E))return!1}}return!0}return r2=i,r2}var i2,pW;function xJ(){if(pW)return i2;pW=1;var n=wd();function e(t){return t===t&&!n(t)}return i2=e,i2}var s2,mW;function GAe(){if(mW)return s2;mW=1;var n=xJ(),e=p1();function t(r){for(var i=e(r),s=i.length;s--;){var o=i[s],a=r[o];i[s]=[o,a,n(a)]}return i}return s2=t,s2}var o2,gW;function RJ(){if(gW)return o2;gW=1;function n(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}return o2=n,o2}var a2,yW;function YAe(){if(yW)return a2;yW=1;var n=qAe(),e=GAe(),t=RJ();function r(i){var s=e(i);return s.length==1&&s[0][2]?t(s[0][0],s[0][1]):function(o){return o===i||n(o,i,s)}}return a2=r,a2}var l2,vW;function Ij(){if(vW)return l2;vW=1;var n=La(),e=h1(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(n(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||e(s)?!0:r.test(s)||!t.test(s)||o!=null&&s in Object(o)}return l2=i,l2}var c2,wW;function KAe(){if(wW)return c2;wW=1;var n=bj(),e="Expected a function";function t(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],l=s.cache;if(l.has(a))return l.get(a);var u=r.apply(this,o);return s.cache=l.set(a,u)||l,u};return s.cache=new(t.Cache||n),s}return t.Cache=n,c2=t,c2}var u2,bW;function XAe(){if(bW)return u2;bW=1;var n=KAe(),e=500;function t(r){var i=n(r,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return u2=t,u2}var d2,_W;function JAe(){if(_W)return d2;_W=1;var n=XAe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,r=n(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,a,l,u){s.push(l?u.replace(t,"$1"):a||o)}),s});return d2=r,d2}var h2,SW;function kj(){if(SW)return h2;SW=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=t(e[r],r,e);return s}return h2=n,h2}var f2,EW;function QAe(){if(EW)return f2;EW=1;var n=J0(),e=kj(),t=La(),r=h1(),i=n?n.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(t(a))return e(a,o)+"";if(r(a))return s?s.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return f2=o,f2}var p2,CW;function ZAe(){if(CW)return p2;CW=1;var n=QAe();function e(t){return t==null?"":n(t)}return p2=e,p2}var m2,TW;function _I(){if(TW)return m2;TW=1;var n=La(),e=Ij(),t=JAe(),r=ZAe();function i(s,o){return n(s)?s:e(s,o)?[s]:t(r(s))}return m2=i,m2}var g2,AW;function m1(){if(AW)return g2;AW=1;var n=h1();function e(t){if(typeof t=="string"||n(t))return t;var r=t+"";return r=="0"&&1/t==-1/0?"-0":r}return g2=e,g2}var y2,xW;function SI(){if(xW)return y2;xW=1;var n=_I(),e=m1();function t(r,i){i=n(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[e(i[s++])];return s&&s==o?r:void 0}return y2=t,y2}var v2,RW;function exe(){if(RW)return v2;RW=1;var n=SI();function e(t,r,i){var s=t==null?void 0:n(t,r);return s===void 0?i:s}return v2=e,v2}var w2,IW;function txe(){if(IW)return w2;IW=1;function n(e,t){return e!=null&&t in Object(e)}return w2=n,w2}var b2,kW;function nxe(){if(kW)return b2;kW=1;var n=_I(),e=Cj(),t=La(),r=pj(),i=fj(),s=m1();function o(a,l,u){l=n(l,a);for(var h=-1,p=l.length,m=!1;++h<p;){var y=s(l[h]);if(!(m=a!=null&&u(a,y)))break;a=a[y]}return m||++h!=p?m:(p=a==null?0:a.length,!!p&&i(p)&&r(y,p)&&(t(a)||e(a)))}return b2=o,b2}var _2,PW;function rxe(){if(PW)return _2;PW=1;var n=txe(),e=nxe();function t(r,i){return r!=null&&e(r,i,n)}return _2=t,_2}var S2,DW;function ixe(){if(DW)return S2;DW=1;var n=Rj(),e=exe(),t=rxe(),r=Ij(),i=xJ(),s=RJ(),o=m1(),a=1,l=2;function u(h,p){return r(h)&&i(p)?s(o(h),p):function(m){var y=e(m,h);return y===void 0&&y===p?t(m,h):n(p,y,a|l)}}return S2=u,S2}var E2,MW;function EI(){if(MW)return E2;MW=1;function n(e){return e}return E2=n,E2}var C2,OW;function sxe(){if(OW)return C2;OW=1;function n(e){return function(t){return t==null?void 0:t[e]}}return C2=n,C2}var T2,LW;function oxe(){if(LW)return T2;LW=1;var n=SI();function e(t){return function(r){return n(r,t)}}return T2=e,T2}var A2,FW;function axe(){if(FW)return A2;FW=1;var n=sxe(),e=oxe(),t=Ij(),r=m1();function i(s){return t(s)?n(r(s)):e(s)}return A2=i,A2}var x2,NW;function CI(){if(NW)return x2;NW=1;var n=YAe(),e=ixe(),t=EI(),r=La(),i=axe();function s(o){return typeof o=="function"?o:o==null?t:typeof o=="object"?r(o)?e(o[0],o[1]):n(o):i(o)}return x2=s,x2}var R2,BW;function lxe(){if(BW)return R2;BW=1;var n=WAe(),e=CI(),t=hJ(),r=Math.max;function i(s,o,a){var l=s==null?0:s.length;if(!l)return-1;var u=a==null?0:t(a);return u<0&&(u=r(l+u,0)),n(s,e(o,3),u)}return R2=i,R2}var cxe=lxe();const uxe=ro(cxe);var I2,$W;function dxe(){if($W)return I2;$W=1;var n=Math.ceil,e=Math.max;function t(r,i,s,o){for(var a=-1,l=e(n((i-r)/(s||1)),0),u=Array(l);l--;)u[o?l:++a]=r,r+=s;return u}return I2=t,I2}var k2,jW;function hxe(){if(jW)return k2;jW=1;var n=dxe(),e=fI(),t=dJ();function r(i){return function(s,o,a){return a&&typeof a!="number"&&e(s,o,a)&&(o=a=void 0),s=t(s),o===void 0?(o=s,s=0):o=t(o),a=a===void 0?s<o?1:-1:t(a),n(s,o,a,i)}}return k2=r,k2}var P2,UW;function fxe(){if(UW)return P2;UW=1;var n=hxe(),e=n();return P2=e,P2}var pxe=fxe();const mxe=ro(pxe);var VW=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function gxe(n,e){return!!(n===e||VW(n)&&VW(e))}function yxe(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!gxe(n[t],e[t]))return!1;return!0}function IJ(n,e){e===void 0&&(e=yxe);var t=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var o=n.apply(this,i);return t={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){t=null},r}function lF(n,e){var t=mj(n);return t?t.innerWidth:Om(n).width}var D2,HW;function vxe(){if(HW)return D2;HW=1;var n=J0(),e=Cj(),t=La(),r=n?n.isConcatSpreadable:void 0;function i(s){return t(s)||e(s)||!!(r&&s&&s[r])}return D2=i,D2}var M2,zW;function kJ(){if(zW)return M2;zW=1;var n=Sj(),e=vxe();function t(r,i,s,o,a){var l=-1,u=r.length;for(s||(s=e),a||(a=[]);++l<u;){var h=r[l];i>0&&s(h)?i>1?t(h,i-1,s,o,a):n(a,h):o||(a[a.length]=h)}return a}return M2=t,M2}var O2,WW;function wxe(){if(WW)return O2;WW=1;function n(e){return function(t,r,i){for(var s=-1,o=Object(t),a=i(t),l=a.length;l--;){var u=a[e?l:++s];if(r(o[u],u,o)===!1)break}return t}}return O2=n,O2}var L2,qW;function bxe(){if(qW)return L2;qW=1;var n=wxe(),e=n();return L2=e,L2}var F2,GW;function Pj(){if(GW)return F2;GW=1;var n=bxe(),e=p1();function t(r,i){return r&&n(r,i,e)}return F2=t,F2}var N2,YW;function _xe(){if(YW)return N2;YW=1;var n=d1();function e(t,r){return function(i,s){if(i==null)return i;if(!n(i))return t(i,s);for(var o=i.length,a=r?o:-1,l=Object(i);(r?a--:++a<o)&&s(l[a],a,l)!==!1;);return i}}return N2=e,N2}var B2,KW;function Sxe(){if(KW)return B2;KW=1;var n=Pj(),e=_xe(),t=e(n);return B2=t,B2}var $2,XW;function Exe(){if(XW)return $2;XW=1;var n=Sxe(),e=d1();function t(r,i){var s=-1,o=e(r)?Array(r.length):[];return n(r,function(a,l,u){o[++s]=i(a,l,u)}),o}return $2=t,$2}var j2,JW;function Cxe(){if(JW)return j2;JW=1;function n(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}return j2=n,j2}var U2,QW;function Txe(){if(QW)return U2;QW=1;var n=h1();function e(t,r){if(t!==r){var i=t!==void 0,s=t===null,o=t===t,a=n(t),l=r!==void 0,u=r===null,h=r===r,p=n(r);if(!u&&!p&&!a&&t>r||a&&l&&h&&!u&&!p||s&&l&&h||!i&&h||!o)return 1;if(!s&&!a&&!p&&t<r||p&&i&&o&&!s&&!a||u&&i&&o||!l&&o||!h)return-1}return 0}return U2=e,U2}var V2,ZW;function Axe(){if(ZW)return V2;ZW=1;var n=Txe();function e(t,r,i){for(var s=-1,o=t.criteria,a=r.criteria,l=o.length,u=i.length;++s<l;){var h=n(o[s],a[s]);if(h){if(s>=u)return h;var p=i[s];return h*(p=="desc"?-1:1)}}return t.index-r.index}return V2=e,V2}var H2,e6;function xxe(){if(e6)return H2;e6=1;var n=kj(),e=SI(),t=CI(),r=Exe(),i=Cxe(),s=wI(),o=Axe(),a=EI(),l=La();function u(h,p,m){p.length?p=n(p,function(w){return l(w)?function(_){return e(_,w.length===1?w[0]:w)}:w}):p=[a];var y=-1;p=n(p,s(t));var b=r(h,function(w,_,E){var T=n(p,function(C){return C(w)});return{criteria:T,index:++y,value:w}});return i(b,function(w,_){return o(w,_,m)})}return H2=u,H2}var z2,t6;function Rxe(){if(t6)return z2;t6=1;function n(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}return z2=n,z2}var W2,n6;function PJ(){if(n6)return W2;n6=1;var n=Rxe(),e=Math.max;function t(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,l=e(o.length-i,0),u=Array(l);++a<l;)u[a]=o[i+a];a=-1;for(var h=Array(i+1);++a<i;)h[a]=o[a];return h[i]=s(u),n(r,this,h)}}return W2=t,W2}var q2,r6;function Ixe(){if(r6)return q2;r6=1;function n(e){return function(){return e}}return q2=n,q2}var G2,i6;function DJ(){if(i6)return G2;i6=1;var n=lg(),e=(function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}})();return G2=e,G2}var Y2,s6;function kxe(){if(s6)return Y2;s6=1;var n=Ixe(),e=DJ(),t=EI(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:n(s),writable:!0})}:t;return Y2=r,Y2}var K2,o6;function Pxe(){if(o6)return K2;o6=1;var n=800,e=16,t=Date.now;function r(i){var s=0,o=0;return function(){var a=t(),l=e-(a-o);if(o=a,l>0){if(++s>=n)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return K2=r,K2}var X2,a6;function MJ(){if(a6)return X2;a6=1;var n=kxe(),e=Pxe(),t=e(n);return X2=t,X2}var J2,l6;function OJ(){if(l6)return J2;l6=1;var n=EI(),e=PJ(),t=MJ();function r(i,s){return t(e(i,s,n),i+"")}return J2=r,J2}var Q2,c6;function Dxe(){if(c6)return Q2;c6=1;var n=kJ(),e=xxe(),t=OJ(),r=fI(),i=t(function(s,o){if(s==null)return[];var a=o.length;return a>1&&r(s,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(s,n(o,1),[])});return Q2=i,Q2}var Mxe=Dxe();const Oxe=ro(Mxe);function LJ(n){return YX(n)||lJ(n)||cj(n)||KX()}var Z2,u6;function Lxe(){if(u6)return Z2;u6=1;function n(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}return Z2=n,Z2}var eO,d6;function Fxe(){if(d6)return eO;d6=1;var n=wd(),e=xj(),t=Lxe(),r=Object.prototype,i=r.hasOwnProperty;function s(o){if(!n(o))return t(o);var a=e(o),l=[];for(var u in o)u=="constructor"&&(a||!i.call(o,u))||l.push(u);return l}return eO=s,eO}var tO,h6;function TI(){if(h6)return tO;h6=1;var n=EJ(),e=Fxe(),t=d1();function r(i){return t(i)?n(i,!0):e(i)}return tO=r,tO}var nO,f6;function Nxe(){if(f6)return nO;f6=1;var n=OJ(),e=u1(),t=fI(),r=TI(),i=Object.prototype,s=i.hasOwnProperty,o=n(function(a,l){a=Object(a);var u=-1,h=l.length,p=h>2?l[2]:void 0;for(p&&t(l[0],l[1],p)&&(h=1);++u<h;)for(var m=l[u],y=r(m),b=-1,w=y.length;++b<w;){var _=y[b],E=a[_];(E===void 0||e(E,i[_])&&!s.call(a,_))&&(a[_]=m[_])}return a});return nO=o,nO}var Bxe=Nxe();const $xe=ro(Bxe);var rO,p6;function Dj(){if(p6)return rO;p6=1;var n=DJ();function e(t,r,i){r=="__proto__"&&n?n(t,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[r]=i}return rO=e,rO}var iO,m6;function jxe(){if(m6)return iO;m6=1;var n=Dj(),e=Pj(),t=CI();function r(i,s){var o={};return s=t(s,3),e(i,function(a,l,u){n(o,l,s(a,l,u))}),o}return iO=r,iO}var Uxe=jxe();const Vxe=ro(Uxe);var sO,g6;function FJ(){if(g6)return sO;g6=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i&&t(e[r],r,e)!==!1;);return e}return sO=n,sO}var oO,y6;function NJ(){if(y6)return oO;y6=1;var n=Dj(),e=u1(),t=Object.prototype,r=t.hasOwnProperty;function i(s,o,a){var l=s[o];(!(r.call(s,o)&&e(l,a))||a===void 0&&!(o in s))&&n(s,o,a)}return oO=i,oO}var aO,v6;function g1(){if(v6)return aO;v6=1;var n=NJ(),e=Dj();function t(r,i,s,o){var a=!s;s||(s={});for(var l=-1,u=i.length;++l<u;){var h=i[l],p=o?o(s[h],r[h],h,s,r):void 0;p===void 0&&(p=r[h]),a?e(s,h,p):n(s,h,p)}return s}return aO=t,aO}var lO,w6;function Hxe(){if(w6)return lO;w6=1;var n=g1(),e=p1();function t(r,i){return r&&n(i,e(i),r)}return lO=t,lO}var cO,b6;function zxe(){if(b6)return cO;b6=1;var n=g1(),e=TI();function t(r,i){return r&&n(i,e(i),r)}return cO=t,cO}var wb={exports:{}};wb.exports;var _6;function Wxe(){return _6||(_6=1,(function(n,e){var t=Bc(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,s=i&&i.exports===r,o=s?t.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,h){if(h)return u.slice();var p=u.length,m=a?a(p):new u.constructor(p);return u.copy(m),m}n.exports=l})(wb,wb.exports)),wb.exports}var uO,S6;function qxe(){if(S6)return uO;S6=1;function n(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}return uO=n,uO}var dO,E6;function Gxe(){if(E6)return dO;E6=1;var n=g1(),e=Ej();function t(r,i){return n(r,e(r),i)}return dO=t,dO}var hO,C6;function AI(){if(C6)return hO;C6=1;var n=CJ(),e=n(Object.getPrototypeOf,Object);return hO=e,hO}var fO,T6;function BJ(){if(T6)return fO;T6=1;var n=Sj(),e=AI(),t=Ej(),r=SJ(),i=Object.getOwnPropertySymbols,s=i?function(o){for(var a=[];o;)n(a,t(o)),o=e(o);return a}:r;return fO=s,fO}var pO,A6;function Yxe(){if(A6)return pO;A6=1;var n=g1(),e=BJ();function t(r,i){return n(r,e(r),i)}return pO=t,pO}var mO,x6;function $J(){if(x6)return mO;x6=1;var n=_J(),e=BJ(),t=TI();function r(i){return n(i,t,e)}return mO=r,mO}var gO,R6;function Kxe(){if(R6)return gO;R6=1;var n=Object.prototype,e=n.hasOwnProperty;function t(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return gO=t,gO}var yO,I6;function Mj(){if(I6)return yO;I6=1;var n=bJ();function e(t){var r=new t.constructor(t.byteLength);return new n(r).set(new n(t)),r}return yO=e,yO}var vO,k6;function Xxe(){if(k6)return vO;k6=1;var n=Mj();function e(t,r){var i=r?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}return vO=e,vO}var wO,P6;function Jxe(){if(P6)return wO;P6=1;var n=/\w*$/;function e(t){var r=new t.constructor(t.source,n.exec(t));return r.lastIndex=t.lastIndex,r}return wO=e,wO}var bO,D6;function Qxe(){if(D6)return bO;D6=1;var n=J0(),e=n?n.prototype:void 0,t=e?e.valueOf:void 0;function r(i){return t?Object(t.call(i)):{}}return bO=r,bO}var _O,M6;function Zxe(){if(M6)return _O;M6=1;var n=Mj();function e(t,r){var i=r?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}return _O=e,_O}var SO,O6;function eRe(){if(O6)return SO;O6=1;var n=Mj(),e=Xxe(),t=Jxe(),r=Qxe(),i=Zxe(),s="[object Boolean]",o="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",h="[object Set]",p="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",_="[object Float64Array]",E="[object Int8Array]",T="[object Int16Array]",C="[object Int32Array]",x="[object Uint8Array]",I="[object Uint8ClampedArray]",F="[object Uint16Array]",k="[object Uint32Array]";function L(N,A,B){var z=N.constructor;switch(A){case y:return n(N);case s:case o:return new z(+N);case b:return e(N,B);case w:case _:case E:case T:case C:case x:case I:case F:case k:return i(N,B);case a:return new z;case l:case p:return new z(N);case u:return t(N);case h:return new z;case m:return r(N)}}return SO=L,SO}var EO,L6;function jJ(){if(L6)return EO;L6=1;var n=wd(),e=Object.create,t=(function(){function r(){}return function(i){if(!n(i))return{};if(e)return e(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}})();return EO=t,EO}var CO,F6;function tRe(){if(F6)return CO;F6=1;var n=jJ(),e=AI(),t=xj();function r(i){return typeof i.constructor=="function"&&!t(i)?n(e(i)):{}}return CO=r,CO}var TO,N6;function nRe(){if(N6)return TO;N6=1;var n=bI(),e=Ef(),t="[object Map]";function r(i){return e(i)&&n(i)==t}return TO=r,TO}var AO,B6;function rRe(){if(B6)return AO;B6=1;var n=nRe(),e=wI(),t=Tj(),r=t&&t.isMap,i=r?e(r):n;return AO=i,AO}var xO,$6;function iRe(){if($6)return xO;$6=1;var n=bI(),e=Ef(),t="[object Set]";function r(i){return e(i)&&n(i)==t}return xO=r,xO}var RO,j6;function sRe(){if(j6)return RO;j6=1;var n=iRe(),e=wI(),t=Tj(),r=t&&t.isSet,i=r?e(r):n;return RO=i,RO}var IO,U6;function oRe(){if(U6)return IO;U6=1;var n=_j(),e=FJ(),t=NJ(),r=Hxe(),i=zxe(),s=Wxe(),o=qxe(),a=Gxe(),l=Yxe(),u=TJ(),h=$J(),p=bI(),m=Kxe(),y=eRe(),b=tRe(),w=La(),_=vI(),E=rRe(),T=wd(),C=sRe(),x=p1(),I=TI(),F=1,k=2,L=4,N="[object Arguments]",A="[object Array]",B="[object Boolean]",z="[object Date]",U="[object Error]",Q="[object Function]",te="[object GeneratorFunction]",X="[object Map]",ne="[object Number]",J="[object Object]",se="[object RegExp]",de="[object Set]",q="[object String]",Y="[object Symbol]",Z="[object WeakMap]",le="[object ArrayBuffer]",ce="[object DataView]",ve="[object Float32Array]",ye="[object Float64Array]",xe="[object Int8Array]",Oe="[object Int16Array]",ke="[object Int32Array]",Xe="[object Uint8Array]",je="[object Uint8ClampedArray]",dt="[object Uint16Array]",Ye="[object Uint32Array]",Ue={};Ue[N]=Ue[A]=Ue[le]=Ue[ce]=Ue[B]=Ue[z]=Ue[ve]=Ue[ye]=Ue[xe]=Ue[Oe]=Ue[ke]=Ue[X]=Ue[ne]=Ue[J]=Ue[se]=Ue[de]=Ue[q]=Ue[Y]=Ue[Xe]=Ue[je]=Ue[dt]=Ue[Ye]=!0,Ue[U]=Ue[Q]=Ue[Z]=!1;function Jt(Fe,wt,Ft,It,pt,Me){var Mt,Ht=wt&F,zn=wt&k,zt=wt&L;if(Ft&&(Mt=pt?Ft(Fe,It,pt,Me):Ft(Fe)),Mt!==void 0)return Mt;if(!T(Fe))return Fe;var lt=w(Fe);if(lt){if(Mt=m(Fe),!Ht)return o(Fe,Mt)}else{var bt=p(Fe),Wt=bt==Q||bt==te;if(_(Fe))return s(Fe,Ht);if(bt==J||bt==N||Wt&&!pt){if(Mt=zn||Wt?{}:b(Fe),!Ht)return zn?l(Fe,i(Mt,Fe)):a(Fe,r(Mt,Fe))}else{if(!Ue[bt])return pt?Fe:{};Mt=y(Fe,bt,Ht)}}Me||(Me=new n);var mn=Me.get(Fe);if(mn)return mn;Me.set(Fe,Mt),C(Fe)?Fe.forEach(function(wn){Mt.add(Jt(wn,wt,Ft,wn,Fe,Me))}):E(Fe)&&Fe.forEach(function(wn,bn){Mt.set(bn,Jt(wn,wt,Ft,bn,Fe,Me))});var et=zt?zn?h:u:zn?I:x,tn=lt?void 0:et(Fe);return e(tn||Fe,function(wn,bn){tn&&(bn=wn,wn=Fe[bn]),t(Mt,bn,Jt(wn,wt,Ft,bn,Fe,Me))}),Mt}return IO=Jt,IO}var kO,V6;function aRe(){if(V6)return kO;V6=1;function n(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return kO=n,kO}var PO,H6;function lRe(){if(H6)return PO;H6=1;var n=SI(),e=cJ();function t(r,i){return i.length<2?r:n(r,e(i,0,-1))}return PO=t,PO}var DO,z6;function cRe(){if(z6)return DO;z6=1;var n=_I(),e=aRe(),t=lRe(),r=m1();function i(s,o){return o=n(o,s),s=t(s,o),s==null||delete s[r(e(o))]}return DO=i,DO}var MO,W6;function uRe(){if(W6)return MO;W6=1;var n=Q0(),e=AI(),t=Ef(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,l=o.call(Object);function u(h){if(!t(h)||n(h)!=r)return!1;var p=e(h);if(p===null)return!0;var m=a.call(p,"constructor")&&p.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==l}return MO=u,MO}var OO,q6;function dRe(){if(q6)return OO;q6=1;var n=uRe();function e(t){return n(t)?void 0:t}return OO=e,OO}var LO,G6;function hRe(){if(G6)return LO;G6=1;var n=kJ();function e(t){var r=t==null?0:t.length;return r?n(t,1):[]}return LO=e,LO}var FO,Y6;function fRe(){if(Y6)return FO;Y6=1;var n=hRe(),e=PJ(),t=MJ();function r(i){return t(e(i,void 0,n),i+"")}return FO=r,FO}var NO,K6;function pRe(){if(K6)return NO;K6=1;var n=kj(),e=oRe(),t=cRe(),r=_I(),i=g1(),s=dRe(),o=fRe(),a=$J(),l=1,u=2,h=4,p=o(function(m,y){var b={};if(m==null)return b;var w=!1;y=n(y,function(E){return E=r(E,m),w||(w=E.length>1),E}),i(m,a(m),b),w&&(b=e(b,l|u|h,s));for(var _=y.length;_--;)t(b,y[_]);return b});return NO=p,NO}var mRe=pRe();const gRe=ro(mRe);var BO,X6;function yRe(){if(X6)return BO;X6=1;var n=FJ(),e=jJ(),t=Pj(),r=CI(),i=AI(),s=La(),o=vI(),a=hj(),l=wd(),u=Aj();function h(p,m,y){var b=s(p),w=b||o(p)||u(p);if(m=r(m,4),y==null){var _=p&&p.constructor;w?y=b?new _:[]:l(p)?y=a(_)?e(i(p)):{}:y={}}return(w?n:t)(p,function(E,T,C){return m(y,E,T,C)}),y}return BO=h,BO}var vRe=yRe();const wRe=ro(vRe);var XT={exports:{}},bRe=XT.exports,J6;function _Re(){return J6||(J6=1,(function(n,e){(function(t,r){n.exports=r()})(bRe,(function(){return function(t,r,i){r.prototype.isBetween=function(s,o,a,l){var u=i(s),h=i(o),p=(l=l||"()")[0]==="(",m=l[1]===")";return(p?this.isAfter(u,a):!this.isBefore(u,a))&&(m?this.isBefore(h,a):!this.isAfter(h,a))||(p?this.isBefore(u,a):!this.isAfter(u,a))&&(m?this.isAfter(h,a):!this.isBefore(h,a))}}}))})(XT)),XT.exports}_Re();var JT={exports:{}},SRe=JT.exports,Q6;function ERe(){return Q6||(Q6=1,(function(n,e){(function(t,r){n.exports=r()})(SRe,(function(){return function(t,r){r.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}}))})(JT)),JT.exports}ERe();var QT={exports:{}},CRe=QT.exports,Z6;function TRe(){return Z6||(Z6=1,(function(n,e){(function(t,r){n.exports=r()})(CRe,(function(){return function(t,r){r.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}}))})(QT)),QT.exports}TRe();var ZT={exports:{}},ARe=ZT.exports,eq;function xRe(){return eq||(eq=1,(function(n,e){(function(t,r){n.exports=r()})(ARe,(function(){return function(t,r,i){var s=r.prototype,o=function(p){return p&&(p.indexOf?p:p.s)},a=function(p,m,y,b,w){var _=p.name?p:p.$locale(),E=o(_[m]),T=o(_[y]),C=E||T.map((function(I){return I.slice(0,b)}));if(!w)return C;var x=_.weekStart;return C.map((function(I,F){return C[(F+(x||0))%7]}))},l=function(){return i.Ls[i.locale()]},u=function(p,m){return p.formats[m]||(function(y){return y.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(b,w,_){return w||_.slice(1)}))})(p.formats[m.toUpperCase()])},h=function(){var p=this;return{months:function(m){return m?m.format("MMMM"):a(p,"months")},monthsShort:function(m){return m?m.format("MMM"):a(p,"monthsShort","months",3)},firstDayOfWeek:function(){return p.$locale().weekStart||0},weekdays:function(m){return m?m.format("dddd"):a(p,"weekdays")},weekdaysMin:function(m){return m?m.format("dd"):a(p,"weekdaysMin","weekdays",2)},weekdaysShort:function(m){return m?m.format("ddd"):a(p,"weekdaysShort","weekdays",3)},longDateFormat:function(m){return u(p.$locale(),m)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return h.bind(this)()},i.localeData=function(){var p=l();return{firstDayOfWeek:function(){return p.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(m){return u(p,m)},meridiem:p.meridiem,ordinal:p.ordinal}},i.months=function(){return a(l(),"months")},i.monthsShort=function(){return a(l(),"monthsShort","months",3)},i.weekdays=function(p){return a(l(),"weekdays",null,null,p)},i.weekdaysShort=function(p){return a(l(),"weekdaysShort","weekdays",3,p)},i.weekdaysMin=function(p){return a(l(),"weekdaysMin","weekdays",2,p)}}}))})(ZT)),ZT.exports}xRe();var eA={exports:{}},RRe=eA.exports,tq;function IRe(){return tq||(tq=1,(function(n,e){(function(t,r){n.exports=r()})(RRe,(function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,s){var o=i.prototype,a=o.format;s.en.formats=t,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,h=(function(p,m){return p.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(y,b,w){var _=w&&w.toUpperCase();return b||m[w]||t[w]||m[_].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(E,T,C){return T||C.slice(1)}))}))})(l,u===void 0?{}:u);return a.call(this,h)}}}))})(eA)),eA.exports}IRe();var tA={exports:{}},kRe=tA.exports,nq;function PRe(){return nq||(nq=1,(function(n,e){(function(t,r){n.exports=r()})(kRe,(function(){return function(t,r,i){var s=function(o,a){if(!a||!a.length||a.length===1&&!a[0]||a.length===1&&Array.isArray(a[0])&&!a[0].length)return null;var l;a.length===1&&a[0].length>0&&(a=a[0]),l=(a=a.filter((function(h){return h})))[0];for(var u=1;u<a.length;u+=1)a[u].isValid()&&!a[u][o](l)||(l=a[u]);return l};i.max=function(){var o=[].slice.call(arguments,0);return s("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return s("isBefore",o)}}}))})(tA)),tA.exports}PRe();var nA={exports:{}},DRe=nA.exports,rq;function MRe(){return rq||(rq=1,(function(n,e){(function(t,r){n.exports=r()})(DRe,(function(){var t="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var l=o.prototype;a.utc=function(w){var _={date:w,utc:!0,args:arguments};return new o(_)},l.utc=function(w){var _=a(this.toDate(),{locale:this.$L,utc:!0});return w?_.add(this.utcOffset(),t):_},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(w){w.utc&&(this.$u=!0),this.$utils().u(w.$offset)||(this.$offset=w.$offset),u.call(this,w)};var h=l.init;l.init=function(){if(this.$u){var w=this.$d;this.$y=w.getUTCFullYear(),this.$M=w.getUTCMonth(),this.$D=w.getUTCDate(),this.$W=w.getUTCDay(),this.$H=w.getUTCHours(),this.$m=w.getUTCMinutes(),this.$s=w.getUTCSeconds(),this.$ms=w.getUTCMilliseconds()}else h.call(this)};var p=l.utcOffset;l.utcOffset=function(w,_){var E=this.$utils().u;if(E(w))return this.$u?0:E(this.$offset)?p.call(this):this.$offset;if(typeof w=="string"&&(w=(function(I){I===void 0&&(I="");var F=I.match(r);if(!F)return null;var k=(""+F[0]).match(i)||["-",0,0],L=k[0],N=60*+k[1]+ +k[2];return N===0?0:L==="+"?N:-N})(w),w===null))return this;var T=Math.abs(w)<=16?60*w:w,C=this;if(_)return C.$offset=T,C.$u=w===0,C;if(w!==0){var x=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(C=this.local().add(T+x,t)).$offset=T,C.$x.$localOffset=x}else C=this.utc();return C};var m=l.format;l.format=function(w){var _=w||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return m.call(this,_)},l.valueOf=function(){var w=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*w},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var y=l.toDate;l.toDate=function(w){return w==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():y.call(this)};var b=l.diff;l.diff=function(w,_,E){if(w&&this.$u===w.$u)return b.call(this,w,_,E);var T=this.local(),C=a(w).local();return b.call(T,C,_,E)}}}))})(nA)),nA.exports}MRe();function lu(n){return n.children}var Zs={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},_s={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},iq=Object.keys(_s).map(function(n){return _s[n]});Re.oneOfType([Re.string,Re.func]);Re.any;Re.func;Re.oneOfType([Re.arrayOf(Re.oneOf(iq)),Re.objectOf(function(n,e){var t=iq.indexOf(e)!==-1&&typeof n[e]=="boolean";if(t)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return Re.elementType.apply(Re,[n,e].concat(i))})]);Re.oneOfType([Re.oneOf(["overlap","no-overlap"]),Re.func]);var sq={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function UJ(n,e){var t=ji(n,"month");return ji(t,"week",e.startOfWeek())}function VJ(n,e){var t=Ax(n,"month");return Ax(t,"week",e.startOfWeek())}function ORe(n,e){for(var t=UJ(n,e),r=VJ(n,e),i=[];K0(t,r,"day");)i.push(t),t=Cl(t,1,"day");return i}function LRe(n,e){var t=ji(n,e);return l1(t,n)?t:Cl(t,1,e)}function FRe(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=n,i=[];K0(r,e,t);)i.push(r),r=Cl(r,1,t);return i}function NRe(n,e){return e==null&&n==null?null:(e==null&&(e=new Date),n==null&&(n=new Date),n=ji(n,"day"),n=L_(n,L_(e)),n=k0(n,k0(e)),n=O_(n,O_(e)),M_(n,M_(e)))}function oq(n){return L_(n)===0&&k0(n)===0&&O_(n)===0&&M_(n)===0}function BRe(n,e,t,r){return t==="day"&&(t="date"),Math.abs(u9[t](n,void 0,r)-u9[t](e,void 0,r))}function Oj(n,e,t){return!t||t==="milliseconds"?Math.abs(+n-+e):Math.round(Math.abs(+ji(n,t)/sq[t]-+ji(e,t)/sq[t]))}var $Re=Re.oneOfType([Re.string,Re.func]);function jRe(n,e,t,r,i){var s=typeof r=="function"?r(t,i,n):e.call(n,t,r,i);return x_(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function URe(n,e,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,e+t,0,0)}function Lj(n,e){return n.getTimezoneOffset()-e.getTimezoneOffset()}function VRe(n,e){return Oj(n,e,"minutes")+Lj(n,e)}function HRe(n){var e=ji(n,"day");return Oj(e,n,"minutes")+Lj(e,n)}function zRe(n,e){return dj(n,e,"day")}function WRe(n,e,t){var r=l1(n,e,"minutes");return r?c1(e,t,"minutes"):hI(e,t,"minutes")}function cF(n,e){return BRe(n,e,"day")}function qRe(n){var e=n.evtA,t=e.start,r=e.end,i=e.allDay,s=n.evtB,o=s.start,a=s.end,l=s.allDay,u=+ji(t,"day")-+ji(o,"day"),h=cF(t,r),p=cF(o,a);return u||p-h||!!l-!!i||+t-+o||+r-+a}function GRe(n){var e=n.event,t=e.start,r=e.end,i=n.range,s=i.start,o=i.end,a=ji(t,"day"),l=K0(a,o,"day"),u=uj(a,r,"minutes"),h=u?hI(r,s,"minutes"):c1(r,s,"minutes");return l&&h}function YRe(n,e){return l1(n,e,"day")}function KRe(n,e){return oq(n)&&oq(e)}var XRe=ci(function n(e){var t=this;li(this,n),x_(typeof e.format=="function","date localizer `format(..)` must be a function"),x_(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||$Re,this.formats=e.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return jRe.apply(void 0,[t,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||NRe,this.inRange=e.inRange||iJ,this.lt=e.lt||dj,this.lte=e.lte||K0,this.gt=e.gt||hI,this.gte=e.gte||c1,this.eq=e.eq||l1,this.neq=e.neq||uj,this.startOf=e.startOf||ji,this.endOf=e.endOf||Ax,this.add=e.add||Cl,this.range=e.range||FRe,this.diff=e.diff||Oj,this.ceil=e.ceil||LRe,this.min=e.min||nJ,this.max=e.max||rJ,this.minutes=e.minutes||k0,this.daySpan=e.daySpan||cF,this.firstVisibleDay=e.firstVisibleDay||UJ,this.lastVisibleDay=e.lastVisibleDay||VJ,this.visibleDays=e.visibleDays||ORe,this.getSlotDate=e.getSlotDate||URe,this.getTimezoneOffset=e.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||Lj,this.getTotalMin=e.getTotalMin||VRe,this.getMinutesFromMidnight=e.getMinutesFromMidnight||HRe,this.continuesPrior=e.continuesPrior||zRe,this.continuesAfter=e.continuesAfter||WRe,this.sortEvents=e.sortEvents||qRe,this.inEventRange=e.inEventRange||GRe,this.isSameDate=e.isSameDate||YRe,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||KRe,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function JRe(n,e,t,r){var i=Nn(Nn({},n.formats),t);return Nn(Nn({},n),{},{messages:r,startOfWeek:function(){return n.startOfWeek(e)},format:function(o,a){return n.format(o,i[a]||a,e)}})}var QRe=(function(n){function e(){var t;li(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=ls(this,e,[].concat(i)),t.navigate=function(o){t.props.onNavigate(o)},t.view=function(o){t.props.onView(o)},t}return cs(e,n),ci(e,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,s=r.label;return ie.createElement("div",{className:"rbc-toolbar"},ie.createElement("span",{className:"rbc-btn-group"},ie.createElement("button",{type:"button",onClick:this.navigate.bind(null,Zs.TODAY)},i.today),ie.createElement("button",{type:"button",onClick:this.navigate.bind(null,Zs.PREVIOUS)},i.previous),ie.createElement("button",{type:"button",onClick:this.navigate.bind(null,Zs.NEXT)},i.next)),ie.createElement("span",{className:"rbc-toolbar-label"},s),ie.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,s=this.props.views,o=this.props.view;if(s.length>1)return s.map(function(a){return ie.createElement("button",{type:"button",key:a,className:Rr({"rbc-active":o===a}),onClick:i.view.bind(null,a)},r[a])})}}])})(ie.Component);function Xn(n,e){n&&n.apply(null,[].concat(e))}var ZRe={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function eIe(n){return Nn(Nn({},ZRe),n)}function tIe(n){var e=n.ref,t=n.callback;$.useEffect(function(){var r=function(s){e.current&&!e.current.contains(s.target)&&t()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[e,t])}var nIe=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],HJ=(function(n){function e(){return li(this,e),ls(this,e,arguments)}return cs(e,n),ci(e,[{key:"render",value:function(){var r=this.props,i=r.style,s=r.className,o=r.event,a=r.selected,l=r.isAllDay,u=r.onSelect,h=r.onDoubleClick,p=r.onKeyPress,m=r.localizer,y=r.continuesPrior,b=r.continuesAfter,w=r.accessors,_=r.getters,E=r.children,T=r.components,C=T.event,x=T.eventWrapper,I=r.slotStart,F=r.slotEnd,k=Pc(r,nIe);delete k.resizable;var L=w.title(o),N=w.tooltip(o),A=w.end(o),B=w.start(o),z=w.allDay(o),U=l||z||m.diff(B,m.ceil(A,"day"),"day")>1,Q=_.eventProp(o,B,A,a),te=ie.createElement("div",{className:"rbc-event-content",title:N||void 0},C?ie.createElement(C,{event:o,continuesPrior:y,continuesAfter:b,title:L,isAllDay:z,localizer:m,slotStart:I,slotEnd:F}):L);return ie.createElement(x,Object.assign({},this.props,{type:"date"}),ie.createElement("div",Object.assign({},k,{style:Nn(Nn({},Q.style),i),className:Rr("rbc-event",s,Q.className,{"rbc-selected":a,"rbc-event-allday":U,"rbc-event-continues-prior":y,"rbc-event-continues-after":b}),onClick:function(ne){return u&&u(o,ne)},onDoubleClick:function(ne){return h&&h(o,ne)},onKeyDown:function(ne){return p&&p(o,ne)}}),typeof E=="function"?E(te):te))}}])})(ie.Component);function xI(n,e){return!n||e==null?!1:zAe(n,e)}function zJ(n,e){var t=n.right-n.left,r=t/e;return r}function WJ(n,e,t,r){var i=zJ(n,r);return t?r-1-Math.floor((e-n.left)/i):Math.floor((e-n.left)/i)}function rIe(n,e){var t=e.x,r=e.y;return r>=n.top&&r<=n.bottom&&t>=n.left&&t<=n.right}function iIe(n,e,t,r,i){var s=-1,o=-1,a=r-1,l=zJ(e,r),u=WJ(e,t.x,i,r),h=e.top<t.y&&e.bottom>t.y,p=e.top<n.y&&e.bottom>n.y,m=n.y>e.bottom,y=e.top>n.y,b=t.top<e.top&&t.bottom>e.bottom;return b&&(s=0,o=a),h&&(y?(s=0,o=u):m&&(s=u,o=a)),p&&(s=o=i?a-Math.floor((n.x-e.left)/l):Math.floor((n.x-e.left)/l),h?u<s?s=u:o=u:n.y<t.y?o=a:s=0),{startIdx:s,endIdx:o}}function sIe(n){var e=n.target,t=n.offset,r=n.container,i=n.box,s=Om(e),o=s.top,a=s.left,l=s.width,u=s.height,h=Om(r),p=h.top,m=h.left,y=h.width,b=h.height,w=Om(i),_=w.width,E=w.height,T=p+b,C=m+y,x=o+E,I=a+_,F=t.x,k=t.y,L=x>T?o-E-k:o+k+u,N=I>C?a+F-_+l:a+F;return{topOffset:L,leftOffset:N}}function oIe(n){var e=n.containerRef,t=n.accessors,r=n.getters,i=n.selected,s=n.components,o=n.localizer,a=n.position,l=n.show,u=n.events,h=n.slotStart,p=n.slotEnd,m=n.onSelect,y=n.onDoubleClick,b=n.onKeyPress,w=n.handleDragStart,_=n.popperRef,E=n.target,T=n.offset;tIe({ref:_,callback:l}),$.useLayoutEffect(function(){var I=sIe({target:E,offset:T,container:e.current,box:_.current}),F=I.topOffset,k=I.leftOffset;_.current.style.top="".concat(F,"px"),_.current.style.left="".concat(k,"px")},[T.x,T.y,E]);var C=a.width,x={minWidth:C+C/2};return ie.createElement("div",{style:x,className:"rbc-overlay",ref:_},ie.createElement("div",{className:"rbc-overlay-header"},o.format(h,"dayHeaderFormat")),u.map(function(I,F){return ie.createElement(HJ,{key:F,type:"popup",localizer:o,event:I,getters:r,onSelect:m,accessors:t,components:s,onDoubleClick:y,onKeyPress:b,continuesPrior:o.lt(t.end(I),h,"day"),continuesAfter:o.gte(t.start(I),p,"day"),slotStart:h,slotEnd:p,selected:xI(I,i),draggable:!0,onDragStart:function(){return w(I)},onDragEnd:function(){return l()}})}))}var qJ=ie.forwardRef(function(n,e){return ie.createElement(oIe,Object.assign({},n,{popperRef:e}))});qJ.propTypes={accessors:Re.object.isRequired,getters:Re.object.isRequired,selected:Re.object,components:Re.object.isRequired,localizer:Re.object.isRequired,position:Re.object.isRequired,show:Re.func.isRequired,events:Re.array.isRequired,slotStart:Re.instanceOf(Date).isRequired,slotEnd:Re.instanceOf(Date),onSelect:Re.func,onDoubleClick:Re.func,onKeyPress:Re.func,handleDragStart:Re.func,style:Re.object,offset:Re.shape({x:Re.number,y:Re.number})};function aIe(n){var e=n.containerRef,t=n.popupOffset,r=t===void 0?5:t,i=n.overlay,s=n.accessors,o=n.localizer,a=n.components,l=n.getters,u=n.selected,h=n.handleSelectEvent,p=n.handleDoubleClickEvent,m=n.handleKeyPressEvent,y=n.handleDragStart,b=n.onHide,w=n.overlayDisplay,_=$.useRef(null);if(!i.position)return null;var E=r;isNaN(r)||(E={x:r,y:r});var T=i.position,C=i.events,x=i.date,I=i.end;return ie.createElement(vj,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:b,target:i.target},function(F){var k=F.props;return ie.createElement(qJ,Object.assign({},k,{containerRef:e,ref:_,target:i.target,offset:E,accessors:s,getters:l,selected:u,components:a,localizer:o,position:T,show:w,events:C,slotStart:x,slotEnd:I,onSelect:h,onDoubleClick:p,onKeyPress:m,handleDragStart:y}))})}var Fj=ie.forwardRef(function(n,e){return ie.createElement(aIe,Object.assign({},n,{containerRef:e}))});Fj.propTypes={popupOffset:Re.oneOfType([Re.number,Re.shape({x:Re.number,y:Re.number})]),overlay:Re.shape({position:Re.object,events:Re.array,date:Re.instanceOf(Date),end:Re.instanceOf(Date)}),accessors:Re.object.isRequired,localizer:Re.object.isRequired,components:Re.object.isRequired,getters:Re.object.isRequired,selected:Re.object,handleSelectEvent:Re.func,handleDoubleClickEvent:Re.func,handleKeyPressEvent:Re.func,handleDragStart:Re.func,onHide:Re.func,overlayDisplay:Re.func};function qi(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return gb(t,n,e,{passive:!1})}function lIe(n,e,t){return!n||F_(n,document.elementFromPoint(e,t))}function cIe(n,e){var t=e.clientX,r=e.clientY,i=document.elementFromPoint(t,r);return AJ(i,".rbc-event",n)}function uIe(n,e){var t=e.clientX,r=e.clientY,i=document.elementFromPoint(t,r);return AJ(i,".rbc-show-more",n)}function Rx(n,e){return!!cIe(n,e)}function dIe(n,e){return!!uIe(n,e)}function Qw(n){var e=n;return n.touches&&n.touches.length&&(e=n.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var aq=5,hIe=250,GJ=(function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.global,i=r===void 0?!1:r,s=t.longPressThreshold,o=s===void 0?250:s,a=t.validContainers,l=a===void 0?[]:a;li(this,n),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=qi("touchmove",function(){},window),this._removeKeyDownListener=qi("keydown",this._keyListener),this._removeKeyUpListener=qi("keyup",this._keyListener),this._removeDropFromOutsideListener=qi("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=qi("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return ci(n,[{key:"on",value:function(t,r){var i=this._listeners[t]||(this._listeners[t]=[]);return i.push(r),{remove:function(){var o=i.indexOf(r);o!==-1&&i.splice(o,1)}}}},{key:"emit",value:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var o,a=this._listeners[t]||[];return a.forEach(function(l){o===void 0&&(o=l.apply(void 0,i))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(t){var r=this._selectRect;return!r||!this.selecting?!1:lq(r,Ym(t))}},{key:"filter",value:function(t){var r=this._selectRect;return!r||!this.selecting?[]:t.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(t,r){var i=this,s=null,o=null,a=null,l=function(m){s=setTimeout(function(){h(),t(m)},i.longPressThreshold),o=qi("touchmove",function(){return h()}),a=qi("touchend",function(){return h()})},u=qi("touchstart",l),h=function(){s&&clearTimeout(s),o&&o(),a&&a(),s=null,o=null,a=null};return r&&l(r),function(){h(),u()}}},{key:"_addInitialEventListener",value:function(){var t=this,r=qi("mousedown",function(s){t._removeInitialEventListener(),t._handleInitialEvent(s),t._removeInitialEventListener=qi("mousedown",t._handleInitialEvent)}),i=qi("touchstart",function(s){t._removeInitialEventListener(),t._removeInitialEventListener=t._addLongPressListener(t._handleInitialEvent,s)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(t){var r=Qw(t),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dropFromOutside",{x:i,y:s,clientX:o,clientY:a}),t.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(t){var r=Qw(t),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dragOverFromOutside",{x:i,y:s,clientX:o,clientY:a}),t.preventDefault()}},{key:"_handleInitialEvent",value:function(t){if(this._initialEvent=t,!this.isDetached){var r=Qw(t),i=r.clientX,s=r.clientY,o=r.pageX,a=r.pageY,l=this.container(),u,h;if(!(t.which===3||t.button===2||!lIe(l,i,s))){if(!this.globalMouse&&l&&!F_(l,t.target)){var p=fIe(0),m=p.top,y=p.left,b=p.bottom,w=p.right;if(h=Ym(l),u=lq({top:h.top-m,left:h.left-y,bottom:h.bottom+b,right:h.right+w},{top:a,left:o}),!u)return}var _=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(t.type),x:o,y:a,clientX:i,clientY:s});if(_!==!1)switch(t.type){case"mousedown":this._removeEndListener=qi("mouseup",this._handleTerminatingEvent),this._onEscListener=qi("keydown",this._handleTerminatingEvent),this._removeMoveListener=qi("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(t),this._removeEndListener=qi("touchend",this._handleTerminatingEvent),this._removeMoveListener=qi("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(t){var r=t.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(s){return!!r.closest(s)})}},{key:"_handleTerminatingEvent",value:function(t){var r=this.selecting,i=this._selectRect;if(!r&&t.type.includes("key")&&(t=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!t){var s=!this.container||F_(this.container(),t.target),o=this._isWithinValidContainer(t);return t.key==="Escape"||!o?this.emit("reset"):!r&&s?this._handleClickEvent(t):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(t){var r=Qw(t),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<hIe?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:s,clientX:o,clientY:a})):(this._lastClickData={timestamp:l},this.emit("click",{x:i,y:s,clientX:o,clientY:a}))}},{key:"_handleMoveEvent",value:function(t){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,s=r.y,o=Qw(t),a=o.pageX,l=o.pageY,u=Math.abs(i-a),h=Math.abs(s-l),p=Math.min(a,i),m=Math.min(l,s),y=this.selecting,b=this.isClick(a,l);b&&!y&&!(u||h)||(!y&&!b&&this.emit("selectStart",this._initialEventData),b||(this.selecting=!0,this._selectRect={top:m,left:p,x:a,y:l,right:p+u,bottom:m+h},this.emit("selecting",this._selectRect)),t.preventDefault())}}},{key:"_keyListener",value:function(t){this.ctrl=t.metaKey||t.ctrlKey}},{key:"isClick",value:function(t,r){var i=this._initialEventData,s=i.x,o=i.y,a=i.isTouch;return!a&&Math.abs(t-s)<=aq&&Math.abs(r-o)<=aq}}])})();function fIe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return pd(n)!=="object"&&(n={top:n,left:n,right:n,bottom:n}),n}function lq(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Ym(n),i=r.top,s=r.left,o=r.right,a=o===void 0?s:o,l=r.bottom,u=l===void 0?i:l,h=Ym(e),p=h.top,m=h.left,y=h.right,b=y===void 0?m:y,w=h.bottom,_=w===void 0?p:w;return!(u-t<p||i+t>_||a-t<m||s+t>b)}function Ym(n){if(!n.getBoundingClientRect)return n;var e=n.getBoundingClientRect(),t=e.left+cq("left"),r=e.top+cq("top");return{top:r,left:t,right:(n.offsetWidth||0)+t,bottom:(n.offsetHeight||0)+r}}function cq(n){if(n==="left")return window.pageXOffset||document.body.scrollLeft||0;if(n==="top")return window.pageYOffset||document.body.scrollTop||0}var pIe=(function(n){function e(t,r){var i;return li(this,e),i=ls(this,e,[t,r]),i.state={selecting:!1},i.containerRef=$.createRef(),i}return cs(e,n),ci(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,s=r.getNow,o=r.getters,a=r.date,l=r.components.dateCellWrapper,u=r.localizer,h=this.state,p=h.selecting,m=h.startIdx,y=h.endIdx,b=s();return ie.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(w,_){var E=p&&_>=m&&_<=y,T=o.dayProp(w),C=T.className,x=T.style;return ie.createElement(l,{key:_,value:w,range:i},ie.createElement("div",{style:x,className:Rr("rbc-day-bg",C,E&&"rbc-selected-cell",u.isSameDate(w,b)&&"rbc-today",a&&u.neq(a,w,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,s=this._selector=new GJ(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,u){if(!Rx(i,l)&&!dIe(i,l)){var h=Ym(i),p=r.props,m=p.range,y=p.rtl;if(rIe(h,l)){var b=WJ(h,l.x,y,m.length);r._selectSlot({startIdx:b,endIdx:b,action:u,box:l})}}r._initial={},r.setState({selecting:!1})};s.on("selecting",function(a){var l=r.props,u=l.range,h=l.rtl,p=-1,m=-1;if(r.state.selecting||(Xn(r.props.onSelectStart,[a]),r._initial={x:a.x,y:a.y}),s.isSelected(i)){var y=Ym(i),b=iIe(r._initial,y,a,u.length,h);p=b.startIdx,m=b.endIdx}r.setState({selecting:!0,startIdx:p,endIdx:m})}),s.on("beforeSelect",function(a){if(r.props.selectable==="ignoreEvents")return!Rx(r.containerRef.current,a)}),s.on("click",function(a){return o(a,"click")}),s.on("doubleClick",function(a){return o(a,"doubleClick")}),s.on("select",function(a){r._selectSlot(Nn(Nn({},r.state),{},{action:"select",bounds:a})),r._initial={},r.setState({selecting:!1}),Xn(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,s=r.startIdx,o=r.action,a=r.bounds,l=r.box;i!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:i,action:o,bounds:a,box:l,resourceId:this.props.resourceId})}}])})(ie.Component),wc={propTypes:{slotMetrics:Re.object.isRequired,selected:Re.object,isAllDay:Re.bool,accessors:Re.object.isRequired,localizer:Re.object.isRequired,components:Re.object.isRequired,getters:Re.object.isRequired,onSelect:Re.func,onDoubleClick:Re.func,onKeyPress:Re.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,t){var r=e.selected;e.isAllDay;var i=e.accessors,s=e.getters,o=e.onSelect,a=e.onDoubleClick,l=e.onKeyPress,u=e.localizer,h=e.slotMetrics,p=e.components,m=e.resizable,y=h.continuesPrior(t),b=h.continuesAfter(t);return ie.createElement(HJ,{event:t,getters:s,localizer:u,accessors:i,components:p,onSelect:o,onDoubleClick:a,onKeyPress:l,continuesPrior:y,continuesAfter:b,slotStart:h.first,slotEnd:h.last,selected:xI(t,r),resizable:m})},renderSpan:function(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(t)/e*100+"%";return ie.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},i)}},YJ=(function(n){function e(){return li(this,e),ls(this,e,arguments)}return cs(e,n),ci(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.segments,o=i.slotMetrics.slots,a=i.className,l=1;return ie.createElement("div",{className:Rr(a,"rbc-row")},s.reduce(function(u,h,p){var m=h.event,y=h.left,b=h.right,w=h.span,_="_lvl_"+p,E=y-l,T=wc.renderEvent(r.props,m);return E&&u.push(wc.renderSpan(o,E,"".concat(_,"_gap"))),u.push(wc.renderSpan(o,w,_,T)),l=b+1,u},[]))}}])})(ie.Component);YJ.defaultProps=Nn({},wc.defaultProps);function KJ(n){var e=n.dateRange,t=n.unit,r=t===void 0?"day":t,i=n.localizer;return{first:e[0],last:i.add(e[e.length-1],1,r)}}function mIe(n,e,t,r){var i=KJ({dateRange:e,localizer:r}),s=i.first,o=i.last,a=r.diff(s,o,"day"),l=r.max(r.startOf(t.start(n),"day"),s),u=r.min(r.ceil(t.end(n),"day"),o),h=uxe(e,function(m){return r.isSameDate(m,l)}),p=r.diff(l,u,"day");return p=Math.min(p,a),p=Math.max(p-r.segmentOffset,1),{event:n,span:p,left:h+1,right:Math.max(h+p,1)}}function XJ(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,t,r,i,s=[],o=[];for(t=0;t<n.length;t++){for(i=n[t],r=0;r<s.length&&gIe(i,s[r]);r++);r>=e?o.push(i):(s[r]||(s[r]=[])).push(i)}for(t=0;t<s.length;t++)s[t].sort(function(a,l){return a.left-l.left});return{levels:s,extra:o}}function N_(n,e,t,r,i){var s={start:r.start(n),end:r.end(n)},o={start:e,end:t};return i.inEventRange({event:s,range:o})}function gIe(n,e){return e.some(function(t){return t.left<=n.right&&t.right>=n.left})}function yIe(n,e,t){var r=KT(n),i=[],s=[];r.forEach(function(l){var u=e.start(l),h=e.end(l);t.daySpan(u,h)>1?i.push(l):s.push(l)});var o=i.sort(function(l,u){return uF(l,u,e,t)}),a=s.sort(function(l,u){return uF(l,u,e,t)});return[].concat(KT(o),KT(a))}function uF(n,e,t,r){var i={start:t.start(n),end:t.end(n),allDay:t.allDay(n)},s={start:t.start(e),end:t.end(e),allDay:t.allDay(e)};return r.sortEvents({evtA:i,evtB:s})}var JJ=function(e,t){return e.left<=t&&e.right>=t},uq=function(e,t){return e.filter(function(r){return JJ(r,t)}).map(function(r){return r.event})},QJ=(function(n){function e(){return li(this,e),ls(this,e,arguments)}return cs(e,n),ci(e,[{key:"render",value:function(){for(var r=this.props,i=r.segments,s=r.slotMetrics.slots,o=XJ(i).levels[0],a=1,l=1,u=[];a<=s;){var h="_lvl_"+a,p=o.filter(function(T){return JJ(T,a)})[0]||{},m=p.event,y=p.left,b=p.right,w=p.span;if(!m){a++;continue}var _=Math.max(0,y-l);if(this.canRenderSlotEvent(y,w)){var E=wc.renderEvent(this.props,m);_&&u.push(wc.renderSpan(s,_,h+"_gap")),u.push(wc.renderSpan(s,w,h,E)),l=a=b+1}else _&&u.push(wc.renderSpan(s,_,h+"_gap")),u.push(wc.renderSpan(s,1,h,this.renderShowMore(i,a))),l=a=a+1}return ie.createElement("div",{className:"rbc-row"},u)}},{key:"canRenderSlotEvent",value:function(r,i){var s=this.props.segments;return mxe(r,r+i).every(function(o){var a=uq(s,o).length;return a===1})}},{key:"renderShowMore",value:function(r,i){var s=this,o=this.props,a=o.localizer,l=o.slotMetrics,u=o.components,h=l.getEventsForSlot(i),p=uq(r,i),m=p.length;if(u!=null&&u.showMore){var y=u.showMore,b=l.getDateForSlot(i-1);return m?ie.createElement(y,{localizer:a,slotDate:b,slot:i,count:m,events:h,remainingEvents:p}):!1}return m?ie.createElement("button",{type:"button",key:"sm_"+i,className:Rr("rbc-button-link","rbc-show-more"),onClick:function(_){return s.showMore(i,_)}},a.messages.showMore(m,p,h)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}])})(ie.Component);QJ.defaultProps=Nn({},wc.defaultProps);var vIe=function(e){var t=e.children;return ie.createElement("div",{className:"rbc-row-content-scroll-container"},t)},wIe=function(e,t){return e.left<=t&&e.right>=t},bIe=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function ZJ(){return IJ(function(n){for(var e=n.range,t=n.events,r=n.maxRows,i=n.minRows,s=n.accessors,o=n.localizer,a=KJ({dateRange:e,localizer:o}),l=a.first,u=a.last,h=t.map(function(w){return mIe(w,e,s,o)}),p=XJ(h,Math.max(r-1,1)),m=p.levels,y=p.extra,b=y.length>0?i-1:i;m.length<b;)m.push([]);return{first:l,last:u,levels:m,extra:y,range:e,slots:e.length,clone:function(_){var E=ZJ();return E(Nn(Nn({},n),_))},getDateForSlot:function(_){return e[_]},getSlotForDate:function(_){return e.find(function(E){return o.isSameDate(E,_)})},getEventsForSlot:function(_){return h.filter(function(E){return wIe(E,_)}).map(function(E){return E.event})},continuesPrior:function(_){return o.continuesPrior(s.start(_),l)},continuesAfter:function(_){var E=s.start(_),T=s.end(_);return o.continuesAfter(E,T,u)}}},bIe)}var B_=(function(n){function e(){var t;li(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=ls(this,e,[].concat(i)),t.handleSelectSlot=function(o){var a=t.props,l=a.range,u=a.onSelectSlot;u(l.slice(o.start,o.end+1),o)},t.handleShowMore=function(o,a){var l=t.props,u=l.range,h=l.onShowMore,p=t.slotMetrics(t.props),m=CTe(t.containerRef.current,".rbc-row-bg")[0],y;m&&(y=m.children[o-1]);var b=p.getEventsForSlot(o);h(b,u[o-1],y,o,a)},t.getContainer=function(){var o=t.props.container;return o?o():t.containerRef.current},t.renderHeadingCell=function(o,a){var l=t.props,u=l.renderHeader,h=l.getNow,p=l.localizer;return u({date:o,key:"header_".concat(a),className:Rr("rbc-date-cell",p.isSameDate(o,h())&&"rbc-now")})},t.renderDummy=function(){var o=t.props,a=o.className,l=o.range,u=o.renderHeader,h=o.showAllEvents;return ie.createElement("div",{className:a,ref:t.containerRef},ie.createElement("div",{className:Rr("rbc-row-content",h&&"rbc-row-content-scrollable")},u&&ie.createElement("div",{className:"rbc-row",ref:t.headingRowRef},l.map(t.renderHeadingCell)),ie.createElement("div",{className:"rbc-row",ref:t.eventRowRef},ie.createElement("div",{className:"rbc-row-segment"},ie.createElement("div",{className:"rbc-event"},ie.createElement("div",{className:"rbc-event-content"},""))))))},t.containerRef=$.createRef(),t.headingRowRef=$.createRef(),t.eventRowRef=$.createRef(),t.slotMetrics=ZJ(),t}return cs(e,n),ci(e,[{key:"getRowLimit",value:function(){var r,i=t2(this.eventRowRef.current),s=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?t2(this.headingRowRef.current):0,o=t2(this.containerRef.current)-s;return Math.max(Math.floor(o/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.rtl,o=r.range,a=r.className,l=r.selected,u=r.selectable,h=r.renderForMeasure,p=r.accessors,m=r.getters,y=r.components,b=r.getNow,w=r.renderHeader,_=r.onSelect,E=r.localizer,T=r.onSelectStart,C=r.onSelectEnd,x=r.onDoubleClick,I=r.onKeyPress,F=r.resourceId,k=r.longPressThreshold,L=r.isAllDay,N=r.resizable,A=r.showAllEvents;if(h)return this.renderDummy();var B=this.slotMetrics(this.props),z=B.levels,U=B.extra,Q=A?vIe:lu,te=y.weekWrapper,X={selected:l,accessors:p,getters:m,localizer:E,components:y,onSelect:_,onDoubleClick:x,onKeyPress:I,resourceId:F,slotMetrics:B,resizable:N};return ie.createElement("div",{className:a,role:"rowgroup",ref:this.containerRef},ie.createElement(pIe,{localizer:E,date:i,getNow:b,rtl:s,range:o,selectable:u,container:this.getContainer,getters:m,onSelectStart:T,onSelectEnd:C,onSelectSlot:this.handleSelectSlot,components:y,longPressThreshold:k,resourceId:F}),ie.createElement("div",{className:Rr("rbc-row-content",A&&"rbc-row-content-scrollable"),role:"row"},w&&ie.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),ie.createElement(Q,null,ie.createElement(te,Object.assign({isAllDay:L},X,{rtl:this.props.rtl}),z.map(function(ne,J){return ie.createElement(YJ,Object.assign({key:J,segments:ne},X))}),!!U.length&&ie.createElement(QJ,Object.assign({segments:U,onShowMore:this.handleShowMore},X))))))}}])})(ie.Component);B_.defaultProps={minRows:0,maxRows:1/0};var Nj=function(e){var t=e.label;return ie.createElement("span",{role:"columnheader","aria-sort":"none"},t)},_Ie=function(e){var t=e.label,r=e.drilldownView,i=e.onDrillDown;return r?ie.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},t):ie.createElement("span",null,t)},SIe=["date","className"],EIe=function(e,t,r,i,s){return e.filter(function(o){return N_(o,t,r,i,s)})},RI=(function(n){function e(){var t;li(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=ls(this,e,[].concat(i)),t.getContainer=function(){return t.containerRef.current},t.renderWeek=function(o,a){var l=t.props,u=l.events,h=l.components,p=l.selectable,m=l.getNow,y=l.selected,b=l.date,w=l.localizer,_=l.longPressThreshold,E=l.accessors,T=l.getters,C=l.showAllEvents,x=t.state,I=x.needLimitMeasure,F=x.rowLimit,k=EIe(KT(u),o[0],o[o.length-1],E,w),L=yIe(k,E,w);return ie.createElement(B_,{key:a,ref:a===0?t.slotRowRef:void 0,container:t.getContainer,className:"rbc-month-row",getNow:m,date:b,range:o,events:L,maxRows:C?1/0:F,selected:y,selectable:p,components:h,accessors:E,getters:T,localizer:w,renderHeader:t.readerDateHeading,renderForMeasure:I,onShowMore:t.handleShowMore,onSelect:t.handleSelectEvent,onDoubleClick:t.handleDoubleClickEvent,onKeyPress:t.handleKeyPressEvent,onSelectSlot:t.handleSelectSlot,longPressThreshold:_,rtl:t.props.rtl,resizable:t.props.resizable,showAllEvents:C})},t.readerDateHeading=function(o){var a=o.date,l=o.className,u=Pc(o,SIe),h=t.props,p=h.date,m=h.getDrilldownView,y=h.localizer,b=y.neq(a,p,"month"),w=y.isSameDate(a,p),_=m(a),E=y.format(a,"dateFormat"),T=t.props.components.dateHeader||_Ie;return ie.createElement("div",Object.assign({},u,{className:Rr(l,b&&"rbc-off-range",w&&"rbc-current"),role:"cell"}),ie.createElement(T,{label:E,date:a,drilldownView:_,isOffRange:b,onDrillDown:function(x){return t.handleHeadingClick(a,_,x)}}))},t.handleSelectSlot=function(o,a){t._pendingSelection=t._pendingSelection.concat(o),clearTimeout(t._selectTimer),t._selectTimer=setTimeout(function(){return t.selectDates(a)})},t.handleHeadingClick=function(o,a,l){l.preventDefault(),t.clearSelection(),Xn(t.props.onDrillDown,[o,a])},t.handleSelectEvent=function(){t.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Xn(t.props.onSelectEvent,a)},t.handleDoubleClickEvent=function(){t.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Xn(t.props.onDoubleClickEvent,a)},t.handleKeyPressEvent=function(){t.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Xn(t.props.onKeyPressEvent,a)},t.handleShowMore=function(o,a,l,u,h){var p=t.props,m=p.popup,y=p.onDrillDown,b=p.onShowMore,w=p.getDrilldownView,_=p.doShowMoreDrillDown;if(t.clearSelection(),m){var E=gJ(l,t.containerRef.current);t.setState({overlay:{date:a,events:o,position:E,target:h}})}else _&&Xn(y,[a,w(a)||_s.DAY]);Xn(b,[o,a,u])},t.overlayDisplay=function(){t.setState({overlay:null})},t.state={rowLimit:5,needLimitMeasure:!0,date:null},t.containerRef=$.createRef(),t.slotRowRef=$.createRef(),t._bgRows=[],t._pendingSelection=[],t}return cs(e,n),ci(e,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||yJ(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.className,a=s.visibleDays(i,s),l=lTe(a,7);return this._weekCount=l.length,ie.createElement("div",{className:Rr("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},ie.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,s=i.localizer,o=i.components,a=r[0],l=r[r.length-1],u=o.header||Nj;return s.range(a,l,"day").map(function(h,p){return ie.createElement("div",{key:"header_"+p,className:"rbc-header"},ie.createElement(u,{date:h,localizer:s,label:s.format(h,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,u=a.localizer,h=a.components,p=a.getters,m=a.selected,y=a.popupOffset,b=a.handleDragStart,w=function(){return s.setState({overlay:null})};return ie.createElement(Fj,{overlay:o,accessors:l,localizer:u,components:h,getters:p,selected:m,popupOffset:y,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:b,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:w})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(a,l){return+a-+l});var s=new Date(i[0]),o=new Date(i[i.length-1]);o.setDate(i[i.length-1].getDate()+1),Xn(this.props.onSelectSlot,{slots:i,start:s,end:o,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var s=r.date,o=r.localizer;return{date:s,needLimitMeasure:o.neq(s,i.date,"month")}}}])})(ie.Component);RI.range=function(n,e){var t=e.localizer,r=t.firstVisibleDay(n,t),i=t.lastVisibleDay(n,t);return{start:r,end:i}};RI.navigate=function(n,e,t){var r=t.localizer;switch(e){case Zs.PREVIOUS:return r.add(n,-1,"month");case Zs.NEXT:return r.add(n,1,"month");default:return n}};RI.title=function(n,e){var t=e.localizer;return t.format(n,"monthHeaderFormat")};var dq=function(e){var t=e.min,r=e.max,i=e.step,s=e.slots,o=e.localizer;return"".concat(+o.startOf(t,"minutes"))+"".concat(+o.startOf(r,"minutes"))+"".concat(i,"-").concat(s)};function Bj(n){for(var e=n.min,t=n.max,r=n.step,i=n.timeslots,s=n.localizer,o=dq({step:r,localizer:s}),a=1+s.getTotalMin(e,t),l=s.getMinutesFromMidnight(e),u=Math.ceil((a-1)/(r*i)),h=u*i,p=new Array(u),m=new Array(h),y=0;y<u;y++){p[y]=new Array(i);for(var b=0;b<i;b++){var w=y*i+b,_=w*r;m[w]=p[y][b]=s.getSlotDate(e,l,_)}}var E=m.length*r;m.push(s.getSlotDate(e,l,E));function T(C){var x=s.diff(e,C,"minutes")+s.getDstOffset(e,C);return Math.min(x,a)}return{groups:p,update:function(x){return dq(x)!==o?Bj(x):this},dateIsInGroup:function(x,I){var F=p[I+1];return s.inRange(x,p[I][0],F?F[0]:t,"minutes")},nextSlot:function(x){var I=m[Math.min(m.findIndex(function(F){return F===x||s.eq(F,x)})+1,m.length-1)];return s.eq(I,x)&&(I=s.add(x,r,"minutes")),I},closestSlotToPosition:function(x){var I=Math.min(m.length-1,Math.max(0,Math.floor(x*h)));return m[I]},closestSlotFromPoint:function(x,I){var F=Math.abs(I.top-I.bottom);return this.closestSlotToPosition((x.y-I.top)/F)},closestSlotFromDate:function(x){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(x,e,"minutes"))return m[0];if(s.gt(x,t,"minutes"))return m[m.length-1];var F=s.diff(e,x,"minutes");return m[(F-F%r)/r+I]},startsBeforeDay:function(x){return s.lt(x,e,"day")},startsAfterDay:function(x){return s.gt(x,t,"day")},startsBefore:function(x){return s.lt(s.merge(e,x),e,"minutes")},startsAfter:function(x){return s.gt(s.merge(t,x),t,"minutes")},getRange:function(x,I,F,k){F||(x=s.min(t,s.max(e,x))),k||(I=s.min(t,s.max(e,I)));var L=T(x),N=T(I),A=N>r*h&&!s.eq(t,I)?(L-r)/(r*h)*100:L/(r*h)*100;return{top:A,height:N/(r*h)*100-A,start:T(x),startDate:x,end:T(I),endDate:I}},getCurrentTimePosition:function(x){var I=T(x),F=I/(r*h)*100;return F}}}var CIe=(function(){function n(e,t){var r=t.accessors,i=t.slotMetrics;li(this,n);var s=i.getRange(r.start(e),r.end(e)),o=s.start,a=s.startDate,l=s.end,u=s.endDate,h=s.top,p=s.height;this.start=o,this.end=l,this.startMs=+a,this.endMs=+u,this.top=h,this.height=p,this.data=e}return ci(n,[{key:"_width",get:function(){if(this.rows){var t=this.rows.reduce(function(i,s){return Math.max(i,s.leaves.length+1)},0)+1;return 100/t}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var t=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:t;var i=this.row.leaves,s=i.indexOf(this);return s===i.length-1?t:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var t=this.row,r=t.leaves,i=t.xOffset,s=t._width,o=r.indexOf(this)+1;return i+o*s}}])})();function TIe(n,e,t){return Math.abs(e.start-n.start)<t||e.start>n.start&&e.start<n.end}function AIe(n){for(var e=Oxe(n,["startMs",function(a){return-a.endMs}]),t=[];e.length>0;){var r=e.shift();t.push(r);for(var i=0;i<e.length;i++){var s=e[i];if(!(r.endMs>s.startMs)){if(i>0){var o=e.splice(i,1)[0];t.push(o)}break}}}return t}function eQ(n){for(var e=n.events,t=n.minimumStartDifference,r=n.slotMetrics,i=n.accessors,s=e.map(function(h){return new CIe(h,{slotMetrics:r,accessors:i})}),o=AIe(s),a=[],l=function(){var p=o[u],m=a.find(function(w){return w.end>p.start||Math.abs(p.start-w.start)<t});if(!m)return p.rows=[],a.push(p),1;p.container=m;for(var y=null,b=m.rows.length-1;!y&&b>=0;b--)TIe(m.rows[b],p,t)&&(y=m.rows[b]);y?(y.leaves.push(p),p.row=y):(p.leaves=[],m.rows.push(p))},u=0;u<o.length;u++)l();return o.map(function(h){return{event:h.data,style:{top:h.top,height:h.height,width:h.width,xOffset:Math.max(0,h.xOffset)}}})}function tQ(n,e,t){for(var r=0;r<n.friends.length;++r)if(!(t.indexOf(n.friends[r])>-1)){e=e>n.friends[r].idx?e:n.friends[r].idx,t.push(n.friends[r]);var i=tQ(n.friends[r],e,t);e=e>i?e:i}return e}function xIe(n){var e=n.events,t=n.minimumStartDifference,r=n.slotMetrics,i=n.accessors,s=eQ({events:e,minimumStartDifference:t,slotMetrics:r,accessors:i});s.sort(function(te,X){return te=te.style,X=X.style,te.top!==X.top?te.top>X.top?1:-1:te.height!==X.height?te.top+te.height<X.top+X.height?1:-1:0});for(var o=0;o<s.length;++o)s[o].friends=[],delete s[o].style.left,delete s[o].style.left,delete s[o].idx,delete s[o].size;for(var a=0;a<s.length-1;++a)for(var l=s[a],u=l.style.top,h=l.style.top+l.style.height,p=a+1;p<s.length;++p){var m=s[p],y=m.style.top,b=m.style.top+m.style.height;(y>=u&&b<=h||b>u&&b<=h||y>=u&&y<h)&&(l.friends.push(m),m.friends.push(l))}for(var w=0;w<s.length;++w){for(var _=s[w],E=[],T=0;T<100;++T)E.push(1);for(var C=0;C<_.friends.length;++C)_.friends[C].idx!==void 0&&(E[_.friends[C].idx]=0);_.idx=E.indexOf(1)}for(var x=0;x<s.length;++x){var I=0;if(!s[x].size){var F=[],k=tQ(s[x],0,F);I=100/(k+1),s[x].size=I;for(var L=0;L<F.length;++L)F[L].size=I}}for(var N=0;N<s.length;++N){var A=s[N];A.style.left=A.idx*A.size;for(var B=0,z=0;z<A.friends.length;++z){var U=A.friends[z].idx;B=B>U?B:U}B<=A.idx&&(A.size=100-A.idx*A.size);var Q=A.idx===0?0:3;A.style.width="calc(".concat(A.size,"% - ").concat(Q,"px)"),A.style.height="calc(".concat(A.style.height,"% - 2px)"),A.style.xOffset="calc(".concat(A.style.left,"% + ").concat(Q,"px)")}return s}var hq={overlap:eQ,"no-overlap":xIe};function RIe(n){return!!(n&&n.constructor&&n.call&&n.apply)}function IIe(n){n.events,n.minimumStartDifference,n.slotMetrics,n.accessors;var e=n.dayLayoutAlgorithm,t=e;return e in hq&&(t=hq[e]),RIe(t)?t.apply(this,arguments):[]}var nQ=(function(n){function e(){return li(this,e),ls(this,e,arguments)}return cs(e,n),ci(e,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,s=r.resource,o=r.group,a=r.getters,l=r.components,u=l===void 0?{}:l,h=u.timeSlotWrapper,p=h===void 0?lu:h,m=a?a.slotGroupProp(o):{};return ie.createElement("div",Object.assign({className:"rbc-timeslot-group"},m),o.map(function(y,b){var w=a?a.slotProp(y,s):{};return ie.createElement(p,{key:b,value:y,resource:s},ie.createElement("div",Object.assign({},w,{className:Rr("rbc-time-slot",w.className)}),i&&i(y,b)))}))}}])})($.Component);function gT(n){return typeof n=="string"?n:n+"%"}function kIe(n){var e=n.style,t=n.className,r=n.event,i=n.accessors,s=n.rtl,o=n.selected,a=n.label,l=n.continuesPrior,u=n.continuesAfter,h=n.getters,p=n.onClick,m=n.onDoubleClick,y=n.isBackgroundEvent,b=n.onKeyPress,w=n.components,_=w.event,E=w.eventWrapper,T=i.title(r),C=i.tooltip(r),x=i.end(r),I=i.start(r),F=h.eventProp(r,I,x,o),k=[ie.createElement("div",{key:"1",className:"rbc-event-label"},a),ie.createElement("div",{key:"2",className:"rbc-event-content"},_?ie.createElement(_,{event:r,title:T}):T)],L=e.height,N=e.top,A=e.width,B=e.xOffset,z=Nn(Nn({},F.style),{},ip({top:gT(N),height:gT(L),width:gT(A)},s?"right":"left",gT(B)));return ie.createElement(E,Object.assign({type:"time"},n),ie.createElement("div",{role:"button",tabIndex:0,onClick:p,onDoubleClick:m,style:z,onKeyDown:b,title:C?(typeof a=="string"?a+": ":"")+C:void 0,className:Rr(y?"rbc-background-event":"rbc-event",t,F.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":u})},k))}var PIe=function(e){var t=e.children,r=e.className,i=e.style,s=e.innerRef;return ie.createElement("div",{className:r,style:i,ref:s},t)},DIe=ie.forwardRef(function(n,e){return ie.createElement(PIe,Object.assign({},n,{innerRef:e}))}),MIe=["dayProp"],OIe=["eventContainerWrapper"],rQ=(function(n){function e(){var t;li(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=ls(this,e,[].concat(i)),t.state={selecting:!1,timeIndicatorPosition:null},t.intervalTriggered=!1,t.renderEvents=function(o){var a=o.events,l=o.isBackgroundEvent,u=t.props,h=u.rtl,p=u.selected,m=u.accessors,y=u.localizer,b=u.getters,w=u.components,_=u.step,E=u.timeslots,T=u.dayLayoutAlgorithm,C=u.resizable,x=t,I=x.slotMetrics,F=y.messages,k=IIe({events:a,accessors:m,slotMetrics:I,minimumStartDifference:Math.ceil(_*E/2),dayLayoutAlgorithm:T});return k.map(function(L,N){var A,B=L.event,z=L.style,U=m.end(B),Q=m.start(B),te=(A=m.eventId(B))!==null&&A!==void 0?A:"evt_"+N,X="eventTimeRangeFormat",ne,J=I.startsBeforeDay(Q),se=I.startsAfterDay(U);J?X="eventTimeRangeEndFormat":se&&(X="eventTimeRangeStartFormat"),J&&se?ne=F.allDay:ne=y.format({start:Q,end:U},X);var de=J||I.startsBefore(Q),q=se||I.startsAfter(U);return ie.createElement(kIe,{style:z,event:B,label:ne,key:te,getters:b,rtl:h,components:w,continuesPrior:de,continuesAfter:q,accessors:m,resource:t.props.resource,selected:xI(B,p),onClick:function(Z){return t._select(Nn(Nn(Nn({},B),t.props.resource&&{sourceResource:t.props.resource}),l&&{isBackgroundEvent:!0}),Z)},onDoubleClick:function(Z){return t._doubleClick(B,Z)},isBackgroundEvent:l,onKeyPress:function(Z){return t._keyPress(B,Z)},resizable:C})})},t._selectable=function(){var o=t.containerRef.current,a=t.props,l=a.longPressThreshold,u=a.localizer,h=t._selector=new GJ(function(){return o},{longPressThreshold:l}),p=function(w){var _=t.props.onSelecting,E=t.state||{},T=m(w),C=T.startDate,x=T.endDate;_&&(u.eq(E.startDate,C,"minutes")&&u.eq(E.endDate,x,"minutes")||_({start:C,end:x,resourceId:t.props.resource})===!1)||(t.state.start!==T.start||t.state.end!==T.end||t.state.selecting!==T.selecting)&&t.setState(T)},m=function(w){var _=t.slotMetrics.closestSlotFromPoint(w,Ym(o));t.state.selecting||(t._initialSlot=_);var E=t._initialSlot;u.lte(E,_)?_=t.slotMetrics.nextSlot(_):u.gt(E,_)&&(E=t.slotMetrics.nextSlot(E));var T=t.slotMetrics.getRange(u.min(E,_),u.max(E,_));return Nn(Nn({},T),{},{selecting:!0,top:"".concat(T.top,"%"),height:"".concat(T.height,"%")})},y=function(w,_){if(!Rx(t.containerRef.current,w)){var E=m(w),T=E.startDate,C=E.endDate;t._selectSlot({startDate:T,endDate:C,action:_,box:w})}t.setState({selecting:!1})};h.on("selecting",p),h.on("selectStart",p),h.on("beforeSelect",function(b){if(t.props.selectable==="ignoreEvents")return!Rx(t.containerRef.current,b)}),h.on("click",function(b){return y(b,"click")}),h.on("doubleClick",function(b){return y(b,"doubleClick")}),h.on("select",function(b){t.state.selecting&&(t._selectSlot(Nn(Nn({},t.state),{},{action:"select",bounds:b})),t.setState({selecting:!1}))}),h.on("reset",function(){t.state.selecting&&t.setState({selecting:!1})})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t._selectSlot=function(o){for(var a=o.startDate,l=o.endDate,u=o.action,h=o.bounds,p=o.box,m=a,y=[];t.props.localizer.lte(m,l);)y.push(m),m=new Date(+m+t.props.step*60*1e3);Xn(t.props.onSelectSlot,{slots:y,start:a,end:l,resourceId:t.props.resource,action:u,bounds:h,box:p})},t._select=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Xn(t.props.onSelectEvent,a)},t._doubleClick=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Xn(t.props.onDoubleClickEvent,a)},t._keyPress=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Xn(t.props.onKeyPressEvent,a)},t.slotMetrics=Bj(t.props),t.containerRef=$.createRef(),t}return cs(e,n),ci(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var s=this.props,o=s.getNow,a=s.isNow,l=s.localizer,u=s.date,h=s.min,p=s.max,m=l.neq(r.getNow(),o(),"minutes");if(r.isNow!==a||m){if(this.clearTimeIndicatorInterval(),a){var y=!m&&l.eq(r.date,u,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(y)}}else a&&(l.neq(r.min,h,"minutes")||l.neq(r.max,p,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,s=r.max,o=r.getNow,a=o();if(a>=i&&a<=s){var l=this.slotMetrics.getCurrentTimePosition(a);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.max,o=r.rtl,a=r.isNow,l=r.resource,u=r.accessors,h=r.localizer,p=r.getters,m=p.dayProp,y=Pc(p,MIe),b=r.components,w=b.eventContainerWrapper,_=Pc(b,OIe);this.slotMetrics=this.slotMetrics.update(this.props);var E=this.slotMetrics,T=this.state,C=T.selecting,x=T.top,I=T.height,F=T.startDate,k=T.endDate,L={start:F,end:k},N=m(s,l),A=N.className,B=N.style,z=_.dayColumnWrapper||DIe;return ie.createElement(z,{ref:this.containerRef,date:i,style:B,className:Rr(A,"rbc-day-slot","rbc-time-column",a&&"rbc-now",a&&"rbc-today",C&&"rbc-slot-selecting"),slotMetrics:E,resource:l},E.groups.map(function(U,Q){return ie.createElement(nQ,{key:Q,group:U,resource:l,getters:y,components:_})}),ie.createElement(w,{localizer:h,resource:l,accessors:u,getters:y,components:_,slotMetrics:E},ie.createElement("div",{className:Rr("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),C&&ie.createElement("div",{className:"rbc-slot-selection",style:{top:x,height:I}},ie.createElement("span",null,h.format(L,"selectRangeFormat"))),a&&this.intervalTriggered&&ie.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])})(ie.Component);rQ.defaultProps={dragThroughEvents:!0,timeslots:2};var iQ=function(e){var t=e.label;return ie.createElement(ie.Fragment,null,t)},LIe=(function(n){function e(){var t;li(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=ls(this,e,[].concat(i)),t.handleHeaderClick=function(o,a,l){l.preventDefault(),Xn(t.props.onDrillDown,[o,a])},t.renderRow=function(o){var a=t.props,l=a.events,u=a.rtl,h=a.selectable,p=a.getNow,m=a.range,y=a.getters,b=a.localizer,w=a.accessors,_=a.components,E=a.resizable,T=w.resourceId(o),C=o?l.filter(function(x){return w.resource(x)===T}):l;return ie.createElement(B_,{isAllDay:!0,rtl:u,getNow:p,minRows:2,maxRows:t.props.allDayMaxRows+1,range:m,events:C,resourceId:T,className:"rbc-allday-cell",selectable:h,selected:t.props.selected,components:_,accessors:w,getters:y,localizer:b,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyPress:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:E})},t}return cs(e,n),ci(e,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,o=s.localizer,a=s.getDrilldownView,l=s.getNow,u=s.getters.dayProp,h=s.components.header,p=h===void 0?Nj:h,m=l();return r.map(function(y,b){var w=a(y),_=o.format(y,"dayFormat"),E=u(y),T=E.className,C=E.style,x=ie.createElement(p,{date:y,label:_,localizer:o});return ie.createElement("div",{key:b,style:C,className:Rr("rbc-header",T,o.isSameDate(y,m)&&"rbc-today")},w?ie.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(F){return i.handleHeaderClick(y,w,F)}},x):ie.createElement("span",null,x))})}},{key:"render",value:function(){var r=this,i=this.props,s=i.width,o=i.rtl,a=i.resources,l=i.range,u=i.events,h=i.getNow,p=i.accessors,m=i.selectable,y=i.components,b=i.getters,w=i.scrollRef,_=i.localizer,E=i.isOverflowing,T=i.components,C=T.timeGutterHeader,x=T.resourceHeader,I=x===void 0?iQ:x,F=i.resizable,k={};E&&(k[o?"marginLeft":"marginRight"]="".concat(yj()-1,"px"));var L=a.groupEvents(u);return ie.createElement("div",{style:k,ref:w,className:Rr("rbc-time-header",E&&"rbc-overflowing")},ie.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},C&&ie.createElement(C,null)),a.map(function(N,A){var B=ya(N,2),z=B[0],U=B[1];return ie.createElement("div",{className:"rbc-time-header-content",key:z||A},U&&ie.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(A)},ie.createElement("div",{className:"rbc-header"},ie.createElement(I,{index:A,label:p.resourceTitle(U),resource:U}))),ie.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(l)),ie.createElement(B_,{isAllDay:!0,rtl:o,getNow:h,minRows:2,maxRows:r.props.allDayMaxRows+1,range:l,events:L.get(z)||[],resourceId:U&&z,className:"rbc-allday-cell",selectable:m,selected:r.props.selected,components:y,accessors:p,getters:b,localizer:_,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:F}))}))}}])})(ie.Component),FIe=(function(n){function e(){var t;li(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=ls(this,e,[].concat(i)),t.handleHeaderClick=function(o,a,l){l.preventDefault(),Xn(t.props.onDrillDown,[o,a])},t}return cs(e,n),ci(e,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,o=s.localizer,a=s.getDrilldownView,l=s.getNow,u=s.getters.dayProp,h=s.components,p=h.header,m=p===void 0?Nj:p,y=h.resourceHeader,b=y===void 0?iQ:y,w=s.resources,_=s.accessors,E=s.events,T=s.rtl,C=s.selectable,x=s.components,I=s.getters,F=s.resizable,k=l(),L=w.groupEvents(E);return r.map(function(N,A){var B=a(N),z=o.format(N,"dayFormat"),U=u(N),Q=U.className,te=U.style,X=ie.createElement(m,{date:N,label:z,localizer:o});return ie.createElement("div",{key:A,className:"rbc-time-header-content rbc-resource-grouping"},ie.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},ie.createElement("div",{style:te,className:Rr("rbc-header",Q,o.isSameDate(N,k)&&"rbc-today")},B?ie.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(J){return i.handleHeaderClick(N,B,J)}},X):ie.createElement("span",null,X))),ie.createElement("div",{className:"rbc-row"},w.map(function(ne,J){var se=ya(ne,2),de=se[0],q=se[1];return ie.createElement("div",{key:"resource_".concat(de,"_").concat(J),className:Rr("rbc-header",Q,o.isSameDate(N,k)&&"rbc-today")},ie.createElement(b,{index:J,label:_.resourceTitle(q),resource:q}))})),ie.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},w.map(function(ne,J){var se=ya(ne,2),de=se[0],q=se[1],Y=(L.get(de)||[]).filter(function(Z){return o.isSameDate(Z.start,N)||o.isSameDate(Z.end,N)});return ie.createElement(B_,{key:"resource_".concat(de,"_").concat(J),isAllDay:!0,rtl:T,getNow:l,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[N],events:Y,resourceId:q&&de,className:"rbc-allday-cell",selectable:C,selected:i.props.selected,components:x,accessors:_,getters:I,localizer:o,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:F})})))})}},{key:"render",value:function(){var r=this.props,i=r.width,s=r.rtl,o=r.range,a=r.scrollRef,l=r.isOverflowing,u=r.components.timeGutterHeader,h={};return l&&(h[s?"marginLeft":"marginRight"]="".concat(yj()-1,"px")),ie.createElement("div",{style:h,ref:a,className:Rr("rbc-time-header",l&&"rbc-overflowing")},ie.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},u&&ie.createElement(u,null)),this.renderHeaderCells(o))}}])})(ie.Component);function NIe(n){var e=n.min,t=n.max,r=n.localizer;return r.getTimezoneOffset(e)!==r.getTimezoneOffset(t)?{start:r.add(e,-1,"day"),end:r.add(t,-1,"day")}:{start:e,end:t}}var BIe=function(e){var t=e.min,r=e.max,i=e.timeslots,s=e.step,o=e.localizer,a=e.getNow,l=e.resource,u=e.components,h=e.getters,p=e.gutterRef,m=u.timeGutterWrapper,y=$.useMemo(function(){return NIe({min:t,max:r,localizer:o})},[t==null?void 0:t.toISOString(),r==null?void 0:r.toISOString(),o]),b=y.start,w=y.end,_=$.useState(Bj({min:b,max:w,timeslots:i,step:s,localizer:o})),E=ya(_,2),T=E[0],C=E[1];$.useEffect(function(){T&&C(T.update({min:b,max:w,timeslots:i,step:s,localizer:o}))},[b==null?void 0:b.toISOString(),w==null?void 0:w.toISOString(),i,s]);var x=$.useCallback(function(I,F){if(F)return null;var k=T.dateIsInGroup(a(),F);return ie.createElement("span",{className:Rr("rbc-label",k&&"rbc-now")},o.format(I,"timeGutterFormat"))},[T,o,a]);return ie.createElement(m,{slotMetrics:T},ie.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:p},T.groups.map(function(I,F){return ie.createElement(nQ,{key:F,group:I,resource:l,components:u,renderSlot:x,getters:h})})))},$Ie=ie.forwardRef(function(n,e){return ie.createElement(BIe,Object.assign({gutterRef:e},n))}),$O={};function jIe(n,e){return{map:function(r){return n?n.map(function(i,s){return r([e.resourceId(i),i],s)}):[r([$O,null],0)]},groupEvents:function(r){var i=new Map;return n?(r.forEach(function(s){var o=e.resource(s)||$O;if(Array.isArray(o))o.forEach(function(l){var u=i.get(l)||[];u.push(s),i.set(l,u)});else{var a=i.get(o)||[];a.push(s),i.set(o,a)}}),i):(i.set($O,r),i)}}}var Z0=(function(n){function e(t){var r;return li(this,e),r=ls(this,e,[t]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){L9(r.rafHandle),r.rafHandle=yJ(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];Xn(r.props.onKeyPressEvent,s)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];Xn(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];Xn(r.props.onDoubleClickEvent,s)},r.handleShowMore=function(i,s,o,a,l){var u=r.props,h=u.popup,p=u.onDrillDown,m=u.onShowMore,y=u.getDrilldownView,b=u.doShowMoreDrillDown;if(r.clearSelection(),h){var w=gJ(o,r.containerRef.current);r.setState({overlay:{date:s,events:i,position:Nn(Nn({},w),{},{width:"200px"}),target:l}})}else b&&Xn(p,[s,y(s)||_s.DAY]);Xn(m,[i,s,a])},r.handleSelectAllDaySlot=function(i,s){var o=r.props.onSelectSlot,a=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),Xn(o,{slots:i,start:a,end:l,action:s.action,resourceId:s.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var s=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==s&&(r._updatingOverflow=!0,r.setState({isOverflowing:s},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=IJ(function(i,s){return jIe(i,s)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=ie.createRef(),r.contentRef=ie.createRef(),r.containerRef=ie.createRef(),r._scrollRatio=null,r.gutterRef=$.createRef(),r}return cs(e,n),ci(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),L9(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,i,s,o,a,l,u,h,p,m){var y=this.props,b=y.min,w=y.max,_=(o.get(i)||[]).filter(function(T){return l.inRange(r,u.start(T),u.end(T),"day")}),E=(a.get(i)||[]).filter(function(T){return l.inRange(r,u.start(T),u.end(T),"day")});return ie.createElement(rQ,Object.assign({},this.props,{localizer:l,min:l.merge(r,b),max:l.merge(r,w),resource:s&&i,components:h,isNow:l.isSameDate(r,m),key:"".concat(i,"-").concat(r),date:r,events:_,backgroundEvents:E,dayLayoutAlgorithm:p}))}},{key:"renderResourcesFirst",value:function(r,i,s,o,a,l,u,h,p){var m=this;return i.map(function(y){var b=ya(y,2),w=b[0],_=b[1];return r.map(function(E){return m.renderDayColumn(E,w,_,s,o,a,l,h,p,u)})})}},{key:"renderRangeFirst",value:function(r,i,s,o,a,l,u,h,p){var m=this;return r.map(function(y){return ie.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:y},i.map(function(b){var w=ya(b,2),_=w[0],E=w[1];return ie.createElement("div",{style:{flex:1},key:l.resourceId(E)},m.renderDayColumn(y,_,E,s,o,a,l,h,p,u))}))})}},{key:"renderEvents",value:function(r,i,s,o){var a=this.props,l=a.accessors,u=a.localizer,h=a.resourceGroupingLayout,p=a.components,m=a.dayLayoutAlgorithm,y=this.memoizedResources(this.props.resources,l),b=y.groupEvents(i),w=y.groupEvents(s);return h?this.renderRangeFirst(r,y,b,w,u,l,o,p,m):this.renderResourcesFirst(r,y,b,w,u,l,o,p,m)}},{key:"render",value:function(){var r,i=this.props,s=i.events,o=i.backgroundEvents,a=i.range,l=i.width,u=i.rtl,h=i.selected,p=i.getNow,m=i.resources,y=i.components,b=i.accessors,w=i.getters,_=i.localizer,E=i.min,T=i.max,C=i.showMultiDayTimes,x=i.longPressThreshold,I=i.resizable,F=i.resourceGroupingLayout;l=l||this.state.gutterWidth;var k=a[0],L=a[a.length-1];this.slots=a.length;var N=[],A=[],B=[];s.forEach(function(U){if(N_(U,k,L,b,_)){var Q=b.start(U),te=b.end(U);b.allDay(U)||_.startAndEndAreDateOnly(Q,te)||!C&&!_.isSameDate(Q,te)?N.push(U):A.push(U)}}),o.forEach(function(U){N_(U,k,L,b,_)&&B.push(U)}),N.sort(function(U,Q){return uF(U,Q,b,_)});var z={range:a,events:N,width:l,rtl:u,getNow:p,localizer:_,selected:h,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(m,b),selectable:this.props.selectable,accessors:b,getters:w,components:y,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:x,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:I};return ie.createElement("div",{className:Rr("rbc-time-view",m&&"rbc-time-view-resources"),ref:this.containerRef},m&&m.length>1&&F?ie.createElement(FIe,z):ie.createElement(LIe,z),this.props.popup&&this.renderOverlay(),ie.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},ie.createElement($Ie,{date:k,ref:this.gutterRef,localizer:_,min:_.merge(k,E),max:_.merge(k,T),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:y,className:"rbc-time-gutter",getters:w}),this.renderEvents(a,A,B,p())))}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,u=a.localizer,h=a.components,p=a.getters,m=a.selected,y=a.popupOffset,b=a.handleDragStart,w=function(){return s.setState({overlay:null})};return ie.createElement(Fj,{overlay:o,accessors:l,localizer:u,components:h,getters:p,selected:m,popupOffset:y,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:b,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:w})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,s=(i=r.gutterRef)!==null&&i!==void 0&&i.current?lF(r.gutterRef.current):void 0;s&&r.state.gutterWidth!==s&&r.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,s=r.max,o=r.scrollToTime,a=r.localizer,l=a.diff(a.merge(o,i),o,"milliseconds"),u=a.diff(i,s,"milliseconds");this._scrollRatio=l/u}}])})($.Component);Z0.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var UIe=["date","localizer","min","max","scrollToTime","enableAutoScroll"],II=(function(n){function e(){return li(this,e),ls(this,e,arguments)}return cs(e,n),ci(e,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,h=r.scrollToTime,p=h===void 0?s.startOf(new Date,"day"):h,m=r.enableAutoScroll,y=m===void 0?!0:m,b=Pc(r,UIe),w=e.range(i,{localizer:s});return ie.createElement(Z0,Object.assign({},b,{range:w,eventOffset:10,localizer:s,min:a,max:u,scrollToTime:p,enableAutoScroll:y}))}}])})(ie.Component);II.range=function(n,e){var t=e.localizer;return[t.startOf(n,"day")]};II.navigate=function(n,e,t){var r=t.localizer;switch(e){case Zs.PREVIOUS:return r.add(n,-1,"day");case Zs.NEXT:return r.add(n,1,"day");default:return n}};II.title=function(n,e){var t=e.localizer;return t.format(n,"dayHeaderFormat")};var VIe=["date","localizer","min","max","scrollToTime","enableAutoScroll"],hf=(function(n){function e(){return li(this,e),ls(this,e,arguments)}return cs(e,n),ci(e,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,h=r.scrollToTime,p=h===void 0?s.startOf(new Date,"day"):h,m=r.enableAutoScroll,y=m===void 0?!0:m,b=Pc(r,VIe),w=e.range(i,this.props);return ie.createElement(Z0,Object.assign({},b,{range:w,eventOffset:15,localizer:s,min:a,max:u,scrollToTime:p,enableAutoScroll:y}))}}])})(ie.Component);hf.defaultProps=Z0.defaultProps;hf.navigate=function(n,e,t){var r=t.localizer;switch(e){case Zs.PREVIOUS:return r.add(n,-1,"week");case Zs.NEXT:return r.add(n,1,"week");default:return n}};hf.range=function(n,e){var t=e.localizer,r=t.startOfWeek(),i=t.startOf(n,"week",r),s=t.endOf(n,"week",r);return t.range(i,s)};hf.title=function(n,e){var t=e.localizer,r=hf.range(n,{localizer:t}),i=LJ(r),s=i[0],o=i.slice(1);return t.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var HIe=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function $j(n,e){return hf.range(n,e).filter(function(t){return[6,0].indexOf(t.getDay())===-1})}var y1=(function(n){function e(){return li(this,e),ls(this,e,arguments)}return cs(e,n),ci(e,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,h=r.scrollToTime,p=h===void 0?s.startOf(new Date,"day"):h,m=r.enableAutoScroll,y=m===void 0?!0:m,b=Pc(r,HIe),w=$j(i,this.props);return ie.createElement(Z0,Object.assign({},b,{range:w,eventOffset:15,localizer:s,min:a,max:u,scrollToTime:p,enableAutoScroll:y}))}}])})(ie.Component);y1.defaultProps=Z0.defaultProps;y1.range=$j;y1.navigate=hf.navigate;y1.title=function(n,e){var t=e.localizer,r=$j(n,{localizer:t}),i=LJ(r),s=i[0],o=i.slice(1);return t.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var kI=30;function PI(n){var e=n.accessors,t=n.components,r=n.date,i=n.events,s=n.getters,o=n.length,a=o===void 0?kI:o,l=n.localizer,u=n.onDoubleClickEvent,h=n.onSelectEvent,p=n.selected,m=$.useRef(null),y=$.useRef(null),b=$.useRef(null),w=$.useRef(null),_=$.useRef(null);$.useEffect(function(){C()});var E=function(L,N,A){var B=t.event,z=t.date;return N=N.filter(function(U){return N_(U,l.startOf(L,"day"),l.endOf(L,"day"),e,l)}),N.map(function(U,Q){var te=e.title(U),X=e.end(U),ne=e.start(U),J=s.eventProp(U,ne,X,xI(U,p)),se=Q===0&&l.format(L,"agendaDateFormat"),de=Q===0?ie.createElement("td",{rowSpan:N.length,className:"rbc-agenda-date-cell"},z?ie.createElement(z,{day:L,label:se}):se):!1;return ie.createElement("tr",{key:A+"_"+Q,className:J.className,style:J.style},de,ie.createElement("td",{className:"rbc-agenda-time-cell"},T(L,U)),ie.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(Y){return h&&h(U,Y)},onDoubleClick:function(Y){return u&&u(U,Y)}},B?ie.createElement(B,{event:U,title:te}):te))},[])},T=function(L,N){var A="",B=t.time,z=l.messages.allDay,U=e.end(N),Q=e.start(N);return e.allDay(N)||(l.eq(Q,U)?z=l.format(Q,"agendaTimeFormat"):l.isSameDate(Q,U)?z=l.format({start:Q,end:U},"agendaTimeRangeFormat"):l.isSameDate(L,Q)?z=l.format(Q,"agendaTimeFormat"):l.isSameDate(L,U)&&(z=l.format(U,"agendaTimeFormat"))),l.gt(L,Q,"day")&&(A="rbc-continues-prior"),l.lt(L,U,"day")&&(A+=" rbc-continues-after"),ie.createElement("span",{className:A.trim()},B?ie.createElement(B,{event:N,day:L,label:z}):z)},C=function(){if(_.current){var L=m.current,N=_.current.firstChild;if(N){var A=w.current.scrollHeight>w.current.clientHeight,B=[],z=B;B=[lF(N.children[0]),lF(N.children[1])],(z[0]!==B[0]||z[1]!==B[1])&&(y.current.style.width=B[0]+"px",b.current.style.width=B[1]+"px"),A?(zhe(L,"rbc-header-overflowing"),L.style.marginRight=yj()+"px"):Whe(L,"rbc-header-overflowing")}}},x=l.messages,I=l.add(r,a,"day"),F=l.range(r,I,"day");return i=i.filter(function(k){return N_(k,l.startOf(r,"day"),l.endOf(I,"day"),e,l)}),i.sort(function(k,L){return+e.start(k)-+e.start(L)}),ie.createElement("div",{className:"rbc-agenda-view"},i.length!==0?ie.createElement(ie.Fragment,null,ie.createElement("table",{ref:m,className:"rbc-agenda-table"},ie.createElement("thead",null,ie.createElement("tr",null,ie.createElement("th",{className:"rbc-header",ref:y},x.date),ie.createElement("th",{className:"rbc-header",ref:b},x.time),ie.createElement("th",{className:"rbc-header"},x.event)))),ie.createElement("div",{className:"rbc-agenda-content",ref:w},ie.createElement("table",{className:"rbc-agenda-table"},ie.createElement("tbody",{ref:_},F.map(function(k,L){return E(k,i,L)}))))):ie.createElement("span",{className:"rbc-agenda-empty"},x.noEventsInRange))}PI.range=function(n,e){var t=e.length,r=t===void 0?kI:t,i=e.localizer,s=i.add(n,r,"day");return{start:n,end:s}};PI.navigate=function(n,e,t){var r=t.length,i=r===void 0?kI:r,s=t.localizer;switch(e){case Zs.PREVIOUS:return s.add(n,-i,"day");case Zs.NEXT:return s.add(n,i,"day");default:return n}};PI.title=function(n,e){var t=e.length,r=t===void 0?kI:t,i=e.localizer,s=i.add(n,r,"day");return i.format({start:n,end:s},"agendaHeaderFormat")};var rA=ip(ip(ip(ip(ip({},_s.MONTH,RI),_s.WEEK,hf),_s.WORK_WEEK,y1),_s.DAY,II),_s.AGENDA,PI),zIe=["action","date","today"];function WIe(n,e){var t=e.action,r=e.date,i=e.today,s=Pc(e,zIe);switch(n=typeof n=="string"?rA[n]:n,t){case Zs.TODAY:r=i||new Date;break;case Zs.DATE:break;default:x_(n&&typeof n.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=n.navigate(r,t,s)}return r}function qIe(n,e){var t=null;return typeof e=="function"?t=e(n):typeof e=="string"&&pd(n)==="object"&&n!=null&&e in n&&(t=n[e]),t}var ru=function(e){return function(t){return qIe(t,e)}},GIe=["view","date","getNow","onNavigate"],YIe=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function sQ(n){if(Array.isArray(n))return n;for(var e=[],t=0,r=Object.entries(n);t<r.length;t++){var i=ya(r[t],2),s=i[0],o=i[1];o&&e.push(s)}return e}function KIe(n,e){var t=e.views,r=sQ(t);return r.indexOf(n)!==-1}var oQ=(function(n){function e(){var t;li(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=ls(this,e,[].concat(i)),t.getViews=function(){var o=t.props.views;return Array.isArray(o)?wRe(o,function(a,l){return a[l]=rA[l]},{}):pd(o)==="object"?Vxe(o,function(a,l){return a===!0?rA[l]:a}):rA},t.getView=function(){var o=t.getViews();return o[t.props.view]},t.getDrilldownView=function(o){var a=t.props,l=a.view,u=a.drilldownView,h=a.getDrilldownView;return h?h(o,l,Object.keys(t.getViews())):u},t.handleRangeChange=function(o,a,l){var u=t.props,h=u.onRangeChange,p=u.localizer;h&&a.range&&h(a.range(o,{localizer:p}),l)},t.handleNavigate=function(o,a){var l=t.props,u=l.view,h=l.date,p=l.getNow,m=l.onNavigate,y=Pc(l,GIe),b=t.getView(),w=p();h=WIe(b,Nn(Nn({},y),{},{action:o,date:a||h||w,today:w})),m(h,u,o),t.handleRangeChange(h,b)},t.handleViewChange=function(o){o!==t.props.view&&KIe(o,t.props)&&t.props.onView(o);var a=t.getViews();t.handleRangeChange(t.props.date||t.props.getNow(),a[o],o)},t.handleSelectEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Xn(t.props.onSelectEvent,a)},t.handleDoubleClickEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Xn(t.props.onDoubleClickEvent,a)},t.handleKeyPressEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Xn(t.props.onKeyPressEvent,a)},t.handleSelectSlot=function(o){Xn(t.props.onSelectSlot,o)},t.handleDrillDown=function(o,a){var l=t.props.onDrillDown;if(l){l(o,a,t.drilldownView);return}a&&t.handleViewChange(a),t.handleNavigate(Zs.DATE,o)},t.state={context:e.getContext(t.props)},t}return cs(e,n),ci(e,[{key:"render",value:function(){var r=this.props,i=r.view,s=r.toolbar,o=r.events,a=r.backgroundEvents,l=r.resourceGroupingLayout,u=r.style,h=r.className,p=r.elementProps,m=r.date,y=r.getNow,b=r.length,w=r.showMultiDayTimes,_=r.onShowMore,E=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var T=Pc(r,YIe);m=m||y();var C=this.getView(),x=this.state.context,I=x.accessors,F=x.components,k=x.getters,L=x.localizer,N=x.viewNames,A=F.toolbar||QRe,B=C.title(m,{localizer:L,length:b});return ie.createElement("div",Object.assign({},p,{className:Rr(h,"rbc-calendar",T.rtl&&"rbc-rtl"),style:u}),s&&ie.createElement(A,{date:m,view:i,views:N,label:B,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:L}),ie.createElement(C,Object.assign({},T,{events:o,backgroundEvents:a,date:m,getNow:y,length:b,localizer:L,getters:k,components:F,accessors:I,showMultiDayTimes:w,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:_,doShowMoreDrillDown:E,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:e.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,s=r.endAccessor,o=r.allDayAccessor,a=r.tooltipAccessor,l=r.titleAccessor,u=r.resourceAccessor,h=r.resourceIdAccessor,p=r.resourceTitleAccessor,m=r.eventIdAccessor,y=r.eventPropGetter,b=r.backgroundEventPropGetter,w=r.slotPropGetter,_=r.slotGroupPropGetter,E=r.dayPropGetter,T=r.view,C=r.views,x=r.localizer,I=r.culture,F=r.messages,k=F===void 0?{}:F,L=r.components,N=L===void 0?{}:L,A=r.formats,B=A===void 0?{}:A,z=sQ(C),U=eIe(k);return{viewNames:z,localizer:JRe(x,I,B,U),getters:{eventProp:function(){return y&&y.apply(void 0,arguments)||{}},backgroundEventProp:function(){return b&&b.apply(void 0,arguments)||{}},slotProp:function(){return w&&w.apply(void 0,arguments)||{}},slotGroupProp:function(){return _&&_.apply(void 0,arguments)||{}},dayProp:function(){return E&&E.apply(void 0,arguments)||{}}},components:$xe(N[T]||{},gRe(N,z),{eventWrapper:lu,backgroundEventWrapper:lu,eventContainerWrapper:lu,dateCellWrapper:lu,weekWrapper:lu,timeSlotWrapper:lu,timeGutterWrapper:lu}),accessors:{start:ru(i),end:ru(s),allDay:ru(o),tooltip:ru(a),title:ru(l),resource:ru(u),resourceId:ru(h),resourceTitle:ru(p),eventId:ru(m)}}}}])})(ie.Component);oQ.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:_s.MONTH,views:[_s.MONTH,_s.WEEK,_s.DAY,_s.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:_s.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var XIe=eJ(oQ,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),JIe=function(e,t,r){var i=e.start,s=e.end;return r.format(i,"MMMM DD",t)+"  "+r.format(s,r.eq(i,s,"month")?"DD":"MMMM DD",t)},QIe=function(e,t,r){var i=e.start,s=e.end;return r.format(i,"L",t)+"  "+r.format(s,"L",t)},jO=function(e,t,r){var i=e.start,s=e.end;return r.format(i,"LT",t)+"  "+r.format(s,"LT",t)},ZIe=function(e,t,r){var i=e.start;return r.format(i,"LT",t)+"  "},eke=function(e,t,r){var i=e.end;return"  "+r.format(i,"LT",t)},tke={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:jO,eventTimeRangeFormat:jO,eventTimeRangeStartFormat:ZIe,eventTimeRangeEndFormat:eke,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:JIe,agendaHeaderFormat:QIe,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:jO};function Kd(n){var e=n&&n.toLowerCase();return e==="FullYear"?e="year":e||(e=void 0),e}function nke(n){var e=function(Y,Z){return Z?Y.locale(Z):Y};function t(q){return n(q).toDate().getTimezoneOffset()}function r(q,Y){var Z,le,ce=n(q).local(),ve=n(Y).local();if(!n.tz)return ce.toDate().getTimezoneOffset()-ve.toDate().getTimezoneOffset();var ye=(Z=ce==null||(le=ce._z)===null||le===void 0?void 0:le.name)!==null&&Z!==void 0?Z:n.tz.guess(),xe=n.tz.zone(ye).utcOffset(+ce),Oe=n.tz.zone(ye).utcOffset(+ve);return xe-Oe}function i(q){var Y=n(q).startOf("day");return r(Y,q)}function s(q,Y,Z){var le=Kd(Z),ce=le?n(q).startOf(le):n(q),ve=le?n(Y).startOf(le):n(Y);return[ce,ve,le]}function o(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Y=arguments.length>1?arguments[1]:void 0,Z=Kd(Y);return Z?n(q).startOf(Z).toDate():n(q).toDate()}function a(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Y=arguments.length>1?arguments[1]:void 0,Z=Kd(Y);return Z?n(q).endOf(Z).toDate():n(q).toDate()}function l(q,Y,Z){var le=s(q,Y,Z),ce=ya(le,3),ve=ce[0],ye=ce[1],xe=ce[2];return ve.isSame(ye,xe)}function u(q,Y,Z){return!l(q,Y,Z)}function h(q,Y,Z){var le=s(q,Y,Z),ce=ya(le,3),ve=ce[0],ye=ce[1],xe=ce[2];return ve.isAfter(ye,xe)}function p(q,Y,Z){var le=s(q,Y,Z),ce=ya(le,3),ve=ce[0],ye=ce[1],xe=ce[2];return ve.isBefore(ye,xe)}function m(q,Y,Z){var le=s(q,Y,Z),ce=ya(le,3),ve=ce[0],ye=ce[1],xe=ce[2];return ve.isSameOrBefore(ye,xe)}function y(q,Y,Z){var le=s(q,Y,Z),ce=ya(le,3),ve=ce[0],ye=ce[1],xe=ce[2];return ve.isSameOrBefore(ye,xe)}function b(q,Y,Z){var le=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",ce=Kd(le),ve=n(q),ye=n(Y),xe=n(Z);return ve.isBetween(ye,xe,ce,"[]")}function w(q,Y){var Z=n(q),le=n(Y),ce=n.min(Z,le);return ce.toDate()}function _(q,Y){var Z=n(q),le=n(Y),ce=n.max(Z,le);return ce.toDate()}function E(q,Y){if(!q&&!Y)return null;var Z=n(Y).format("HH:mm:ss"),le=n(q).startOf("day").format("MM/DD/YYYY");return n("".concat(le," ").concat(Z),"MM/DD/YYYY HH:mm:ss").toDate()}function T(q,Y,Z){var le=Kd(Z);return n(q).add(Y,le).toDate()}function C(q,Y){for(var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",le=Kd(Z),ce=n(q).toDate(),ve=[];y(ce,Y);)ve.push(ce),ce=T(ce,1,le);return ve}function x(q,Y){var Z=Kd(Y),le=o(q,Z);return l(le,q)?le:T(le,1,Z)}function I(q,Y){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",le=Kd(Z),ce=n(q),ve=n(Y);return ve.diff(ce,le)}function F(q){var Y=n(q);return Y.minutes()}function k(q){var Y=q?n.localeData(q):n.localeData();return Y?Y.firstDayOfWeek():0}function L(q){return n(q).startOf("month").startOf("week").toDate()}function N(q){return n(q).endOf("month").endOf("week").toDate()}function A(q){for(var Y=L(q),Z=N(q),le=[];y(Y,Z);)le.push(Y),Y=T(Y,1,"d");return le}function B(q,Y,Z){return n(q).startOf("day").minute(Y+Z).toDate()}function z(q,Y){return I(q,Y,"minutes")}function U(q){var Y=n(q).startOf("day"),Z=n(q);return Z.diff(Y,"minutes")+i(q)}function Q(q,Y){var Z=n(q),le=n(Y);return Z.isBefore(le,"day")}function te(q,Y,Z){var le=n(Y),ce=n(Z);return le.isSameOrAfter(ce,"minutes")}function X(q,Y){var Z=n(q),le=n(Y),ce=n.duration(le.diff(Z));return ce.days()}function ne(q){var Y=q.evtA,Z=Y.start,le=Y.end,ce=Y.allDay,ve=q.evtB,ye=ve.start,xe=ve.end,Oe=ve.allDay,ke=+o(Z,"day")-+o(ye,"day"),Xe=X(Z,le),je=X(ye,xe);return ke||je-Xe||!!Oe-!!ce||+Z-+ye||+le-+xe}function J(q){var Y=q.event,Z=Y.start,le=Y.end,ce=q.range,ve=ce.start,ye=ce.end,xe=n(Z).startOf("day"),Oe=n(le),ke=n(ve),Xe=n(ye),je=xe.isSameOrBefore(Xe,"day"),dt=!xe.isSame(Oe,"minutes"),Ye=dt?Oe.isAfter(ke,"minutes"):Oe.isSameOrAfter(ke,"minutes");return je&&Ye}function se(q,Y){var Z=n(q),le=n(Y);return Z.isSame(le,"day")}function de(){var q=new Date,Y=/-/.test(q.toString())?"-":"",Z=q.getTimezoneOffset(),le=Number("".concat(Y).concat(Math.abs(Z))),ce=n().utcOffset();return ce>le?1:0}return new XRe({formats:tke,firstOfWeek:k,firstVisibleDay:L,lastVisibleDay:N,visibleDays:A,format:function(Y,Z,le){return e(n(Y),le).format(Z)},lt:p,lte:y,gt:h,gte:m,eq:l,neq:u,merge:E,inRange:b,startOf:o,endOf:a,range:C,add:T,diff:I,ceil:x,min:w,max:_,minutes:F,getSlotDate:B,getTimezoneOffset:t,getDstOffset:r,getTotalMin:z,getMinutesFromMidnight:U,continuesPrior:Q,continuesAfter:te,sortEvents:ne,inEventRange:J,isSameDate:se,daySpan:X,browserTZOffset:de})}const Zw={modalContainer:{width:"900px",boxSizing:"border-box",padding:6,display:"flex",flexDirection:"column",gap:3},superHeader:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-end",gap:1},header:{display:"flex",flexDirection:"column",gap:1},divider:{width:"100%",height:"2px",borderRadius:"4px",backgroundColor:"#E0E0E0"},agendaItemContainer:{display:"flex",flexDirection:"row",gap:2,alignItems:"center"}},rke=n=>{const{SessionKey:e,CommitteeCode:t,MeetingDate:r}=n,i=KK(new Date(r));return`https://olis.oregonlegislature.gov/liz/${e}/Committees/${t}/${i}/Agenda`},ike=({open:n,onClose:e,committeeMeetingId:t})=>{const{getCommitteeMeetingWithItemsByGuid:r}=r1(),{getFullCommitteeNameByCode:i}=F$(),s=r(t);if(!s)return null;const{CommitteeMeeting:o,AgendaItems:a}=s;return M.jsx(QB,{maxWidth:"lg",open:!!n,onClose:e,children:M.jsxs(Ee,{sx:Zw.modalContainer,children:[M.jsxs(Ee,{sx:Zw.superHeader,children:[M.jsx($$,{url:rke(o)}),M.jsx(Ts,{onClick:e,children:M.jsx(YK,{})})]}),M.jsxs(Ee,{sx:Zw.header,children:[M.jsx(Ne,{variant:"h1",children:i(o.CommitteeCode)}),M.jsx(Ne,{variant:"subtitle2",children:N$(new Date(o.MeetingDate))})]}),M.jsx(Ne,{variant:"h3",children:"My Tracked Measures"}),M.jsx(Ee,{sx:Zw.divider}),a.map(l=>M.jsxs(Ee,{sx:Zw.agendaItemContainer,children:[M.jsx(eI,{id:Jn(l),withModal:!0}),M.jsx(Ne,{children:l.MeetingType})]}))]})})},ske=nke(Le);function oke(){const[n,e]=$.useState(!1),{getCalendarEvents:t}=r1(),[r,i]=$.useState(void 0),s=a=>{i(a.id),e(!0)},o=()=>e(!1);return M.jsxs(M.Fragment,{children:[M.jsx(Ne,{children:"The calendar currently shows the committe meetings with a public hearing or work session about bills you're tracking"}),M.jsx(XIe,{localizer:ske,events:t(),startAccessor:"start",endAccessor:"end",style:{height:600,width:"1100px"},onSelectEvent:a=>{s(a)},defaultView:"week",step:15,timeslots:4,min:Le("7 am","h a").toDate(),max:Le("6 pm","h a").toDate(),eventPropGetter:a=>({style:{backgroundColor:a.color||"green",color:"black",borderRadius:"4px",padding:"5px"}})}),r&&M.jsx(ike,{open:n,onClose:o,committeeMeetingId:r})]})}const ake={breadcrumbsContainer:{display:"flex",flexDirection:"row",gap:2,height:"41.3px",alignItems:"flex-end"}},lke=({measureId:n,pagesList:e,lastPageTitle:t})=>M.jsxs(Ee,{sx:ake.breadcrumbsContainer,children:[M.jsx(eI,{id:n,withModal:!1,shouldNavigateToBillOnClick:!0}),M.jsx(Ne,{children:"/"}),e.map(r=>M.jsxs(M.Fragment,{children:[M.jsx(yB,{to:r.url,children:r.title}),M.jsx(Ne,{children:"/"})]})),M.jsx(Ne,{children:t})]}),UO=n=>({fontWeight:n.isBold?"bold":"normal",fontSize:n.height+4}),cke=({bill:n})=>{if(!n)return null;const e=t=>t.map((r,i)=>M.jsxs("div",{children:[r.pre.map((s,o)=>{let a,l=s[0].text;return(l.startsWith("(")||l.startsWith("SECTION"))&&(a="	"),M.jsx(Ne,{children:s.map((u,h)=>M.jsx(Ne,{component:"span",sx:UO(u),children:a&&h===0?a+u.text:u.text},"pre-"+h))},"LINE-pre-"+o)}),r.content.map(s=>{let o=[...s];const a=o.shift();if(a){const l={text:"	",height:a.height,isBold:a.isBold,x:a.x,y:a.y};if(o.length>0){let u=o[0].text;(u.startsWith("(")||u.startsWith("SECTION"))&&o.unshift(l)}o.unshift(l),o.unshift(a)}return M.jsx(Ne,{children:o.map((l,u)=>M.jsx(Ne,{component:"span",sx:UO(l),children:l.text},"pre-"+u))},"LINE-content-"+i)}),r.post.map(s=>s.map((o,a)=>M.jsx(Ne,{component:"span",sx:UO(o),children:o.text},"post-"+a)))]},i+1));return M.jsx("div",{style:{backgroundColor:"#f4f4f4",padding:10,borderRadius:5,fontFamily:"Verdana",whiteSpace:"pre-wrap"},children:n&&e(n)})},ws=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),dF=[.001,0,0,.001,0,0],VO=1.35,Po={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},eh={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},$_="pdfjs_internal_editor_",St={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Yt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},uke={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},hF={TRIANGLES:1,LATTICE:2},Ai={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},iA={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ur={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},fy={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},DI={ERRORS:0,WARNINGS:1,INFOS:5},j_={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},eb={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},dke={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let MI=DI.WARNINGS;function hke(n){Number.isInteger(n)&&(MI=n)}function fke(){return MI}function OI(n){MI>=DI.INFOS&&console.info(`Info: ${n}`)}function yt(n){MI>=DI.WARNINGS&&console.warn(`Warning: ${n}`)}function Bn(n){throw new Error(n)}function Kt(n,e){n||Bn(e)}function pke(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function aQ(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=wke(n)}catch{}}const r=e?URL.parse(n,e):URL.parse(n);return pke(r)?r:null}function lQ(n,e,t=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):t&&aQ(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Tt(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const cg=(function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class fq extends cg{constructor(e,t){super(e,"PasswordException"),this.code=t}}class HO extends cg{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class fF extends cg{constructor(e){super(e,"InvalidPDFException")}}class Ix extends cg{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}}class mke extends cg{constructor(e){super(e,"FormatError")}}class ff extends cg{constructor(e){super(e,"AbortException")}}function cQ(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Bn("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function v1(n){typeof n!="string"&&Bn("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function gke(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function yke(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function vke(){try{return new Function(""),!0}catch{return!1}}class Bi{static get isLittleEndian(){return Tt(this,"isLittleEndian",yke())}static get isEvalSupported(){return Tt(this,"isEvalSupported",vke())}static get isOffscreenCanvasSupported(){return Tt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Tt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Tt(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Tt(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Tt(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return Tt(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const zO=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var nd,sA,pF;class Ge{static makeHexColor(e,t,r){return`#${zO[e]}${zO[t]}${zO[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,r=0){const i=e[r],s=e[r+1];e[r]=i*t[0]+s*t[2]+t[4],e[r+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],u=t[5];for(let h=0;h<6;h+=2){const p=e[r+h],m=e[r+h+1];e[r+h]=p*i+m*o+l,e[r+h+1]=p*s+m*a+u}}static applyInverseTransform(e,t){const r=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-r*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,r){const i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],u=t[5],h=e[0],p=e[1],m=e[2],y=e[3];let b=i*h+l,w=b,_=i*m+l,E=_,T=a*p+u,C=T,x=a*y+u,I=x;if(s!==0||o!==0){const F=s*h,k=s*m,L=o*p,N=o*y;b+=L,E+=L,_+=N,w+=N,T+=F,I+=F,x+=k,C+=k}r[0]=Math.min(r[0],b,_,w,E),r[1]=Math.min(r[1],T,x,C,I),r[2]=Math.max(r[2],b,_,w,E),r[3]=Math.max(r[3],T,x,C,I)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],i=e[1],s=e[2],o=e[3],a=r**2+i**2,l=r*s+i*o,u=s**2+o**2,h=(a+u)/2,p=Math.sqrt(h**2-(a*u-l**2));t[0]=Math.sqrt(h+p||1),t[1]=Math.sqrt(h-p||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],t,i)}static bezierBoundingBox(e,t,r,i,s,o,a,l,u){u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],t,l),H(this,nd,pF).call(this,e,r,s,a,t,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),u),H(this,nd,pF).call(this,e,r,s,a,t,i,o,l,3*(-t+3*(i-o)+l),6*(t-2*i+o),3*(i-t),u)}}nd=new WeakSet,sA=function(e,t,r,i,s,o,a,l,u,h){if(u<=0||u>=1)return;const p=1-u,m=u*u,y=m*u,b=p*(p*(p*e+3*u*t)+3*m*r)+y*i,w=p*(p*(p*s+3*u*o)+3*m*a)+y*l;h[0]=Math.min(h[0],b),h[1]=Math.min(h[1],w),h[2]=Math.max(h[2],b),h[3]=Math.max(h[3],w)},pF=function(e,t,r,i,s,o,a,l,u,h,p,m){if(Math.abs(u)<1e-12){Math.abs(h)>=1e-12&&H(this,nd,sA).call(this,e,t,r,i,s,o,a,l,-p/h,m);return}const y=h**2-4*p*u;if(y<0)return;const b=Math.sqrt(y),w=2*u;H(this,nd,sA).call(this,e,t,r,i,s,o,a,l,(-h+b)/w,m),H(this,nd,sA).call(this,e,t,r,i,s,o,a,l,(-h-b)/w,m)},j(Ge,nd);function wke(n){return decodeURIComponent(escape(n))}let WO=null,pq=null;function bke(n){return WO||(WO=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,pq=new Map([["","t"]])),n.replaceAll(WO,(e,t,r)=>t?t.normalize("NFKC"):pq.get(r))}function uQ(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),cQ(n)}const Cy="pdfjs_internal_id_";function _ke(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[r,i,...s]=t;if(!n(r)&&!Number.isInteger(r)||!e(i))return!1;const o=s.length;let a=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;a=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||a&&l===null))return!1;return!0}function bs(n,e,t){return Math.min(Math.max(n,e),t)}function dQ(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(cQ(n))}function Ske(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):v1(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class U_{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(U_.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const u of s.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class hQ{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,u]of Object.entries(o))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var p,m;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const y=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=y}a&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const y=document.createTextNode(i.value);o.append(y),a&&U_.shouldBuildText(i.name)&&u.push(y)}return{textDivs:u}}const h=[[i,-1,o]];for(;h.length>0;){const[y,b,w]=h.at(-1);if(b+1===y.children.length){h.pop();continue}const _=y.children[++h.at(-1)[1]];if(_===null)continue;const{name:E}=_;if(E==="#text"){const C=document.createTextNode(_.value);u.push(C),w.append(C);continue}const T=(p=_==null?void 0:_.attributes)!=null&&p.xmlns?document.createElementNS(_.attributes.xmlns,E):document.createElement(E);if(w.append(T),_.attributes&&this.setAttributes({html:T,element:_,storage:t,intent:s,linkService:r}),((m=_.children)==null?void 0:m.length)>0)h.push([_,-1,T]);else if(_.value){const C=document.createTextNode(_.value);a&&U_.shouldBuildText(E)&&u.push(C),T.append(C)}}for(const y of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const iu="http://www.w3.org/2000/svg",sp=class sp{};_e(sp,"CSS",96),_e(sp,"PDF",72),_e(sp,"PDF_TO_CSS_UNITS",sp.CSS/sp.PDF);let pf=sp;async function w1(n,e="text"){if(bb(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class b1{constructor({viewBox:e,userUnit:t,scale:r,rotation:i,offsetX:s=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=o,r*=t;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let h,p,m,y;switch(i%=360,i<0&&(i+=360),i){case 180:h=-1,p=0,m=0,y=1;break;case 90:h=0,p=1,m=1,y=0;break;case 270:h=0,p=-1,m=-1,y=0;break;case 0:h=1,p=0,m=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(m=-m,y=-y);let b,w,_,E;h===0?(b=Math.abs(u-e[1])*r+s,w=Math.abs(l-e[0])*r+o,_=(e[3]-e[1])*r,E=(e[2]-e[0])*r):(b=Math.abs(l-e[0])*r+s,w=Math.abs(u-e[1])*r+o,_=(e[2]-e[0])*r,E=(e[3]-e[1])*r),this.transform=[h*r,p*r,m*r,y*r,b-h*r*l-m*r*u,w-p*r*l-y*r*u],this.width=_,this.height=E}get rawDims(){const e=this.viewBox;return Tt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new b1({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const r=[e,t];return Ge.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];Ge.applyTransform(t,this.transform);const r=[e[2],e[3]];return Ge.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return Ge.applyInverseTransform(r,this.transform),r}}class jj extends cg{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function LI(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function Uj(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function Eke(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function Cke(n,e="document.pdf"){if(typeof n!="string")return e;if(LI(n))return yt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return e;const i=a=>{try{let l=decodeURIComponent(a);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:a):l}catch{return a}},s=/\.pdf$/i,o=r.pathname.split("/").at(-1);if(s.test(o))return i(o);if(r.searchParams.size>0){const a=Array.from(r.searchParams.values()).reverse();for(const u of a)if(s.test(u))return i(u);const l=Array.from(r.searchParams.keys()).reverse();for(const u of l)if(s.test(u))return i(u)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class mq{constructor(){_e(this,"started",Object.create(null));_e(this,"times",[])}time(e){e in this.started&&yt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||yt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function bb(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function ka(n){n.preventDefault()}function xr(n){n.preventDefault(),n.stopPropagation()}function Tke(n){console.log("Deprecated API usage: "+n)}var z_;class kx{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;f(this,z_)||D(this,z_,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=f(this,z_).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,u==="-"?(o+=h,a+=p):u==="+"&&(o-=h,a-=p),new Date(Date.UTC(r,i,s,o,a,l))}}z_=new WeakMap,j(kx,z_);function Ake(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new b1({viewBox:s,userUnit:1,scale:e,rotation:t})}function _1(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(yt(`Not a valid color format: "${n}"`),[0,0,0])}function xke(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,_1(r))}e.remove()}function pr(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function Vl(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function Km(n,e,t=!1,r=!0){if(e instanceof b1){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,a=Bi.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,u=`var(--total-scale-factor) * ${s}px`,h=a?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,p=a?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(o.width=h,o.height=p):(o.width=p,o.height=h)}r&&n.setAttribute("data-main-rotation",e.rotation)}class Dc{constructor(){const{pixelRatio:e}=Dc;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,i,s=-1){let o=1/0,a=1/0,l=1/0;r=Dc.capPixels(r,s),r>0&&(o=Math.sqrt(r/(e*t))),i!==-1&&(a=i/e,l=i/t);const u=Math.min(o,a,l);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,r):r}return e}}const mF=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Rke{static get isDarkMode(){var e;return Tt(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class Ike{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),Tt(this,"commentForegroundColor",_1(r))}}function kke(n,e,t,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return n=Math.round(n*r+i),e=Math.round(e*r+i),t=Math.round(t*r+i),[n,e,t]}function gq(n,e){const t=n[0]/255,r=n[1]/255,i=n[2]/255,s=Math.max(t,r,i),o=Math.min(t,r,i),a=(s+o)/2;if(s===o)e[0]=e[1]=0;else{const l=s-o;switch(e[1]=a<.5?l/(s+o):l/(2-s-o),s){case t:e[0]=((r-i)/l+(r<i?6:0))*60;break;case r:e[0]=((i-t)/l+2)*60;break;case i:e[0]=((t-r)/l+4)*60;break}}e[2]=a}function gF(n,e){const t=n[0],r=n[1],i=n[2],s=(1-Math.abs(2*i-1))*r,o=s*(1-Math.abs(t/60%2-1)),a=i-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+a,e[1]=o+a,e[2]=a;break;case 1:e[0]=o+a,e[1]=s+a,e[2]=a;break;case 2:e[0]=a,e[1]=s+a,e[2]=o+a;break;case 3:e[0]=a,e[1]=o+a,e[2]=s+a;break;case 4:e[0]=o+a,e[1]=a,e[2]=s+a;break;case 5:case 6:e[0]=s+a,e[1]=a,e[2]=o+a;break}}function yq(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function vq(n,e,t){gF(n,t),t.map(yq);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];gF(e,t),t.map(yq);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const wq=new Map;function Pke(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=wq.get(t);if(r)return r;const i=new Float32Array(9),s=i.subarray(0,3),o=i.subarray(3,6);gq(n,o);const a=i.subarray(6,9);gq(e,a);const l=a[2]<.5,u=l?12:4.5;if(o[2]=l?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),vq(o,a,s)<u){let h,p;l?(h=o[2],p=1):(h=0,p=o[2]);const m=.005;for(;p-h>m;){const y=o[2]=(h+p)/2;l===vq(o,a,s)<u?h=y:p=y}o[2]=l?p:h}return gF(o,s),r=Ge.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),wq.set(t,r),r}function fQ({html:n,dir:e,className:t},r){const i=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const o=n.split(/(?:\r\n?|\n)/);for(let a=0,l=o.length;a<l;++a){const u=o[a];s.append(document.createTextNode(u)),a<l-1&&s.append(document.createElement("br"))}i.append(s)}else hQ.render({xfaHtml:n,div:i,intent:"richText"});i.firstChild.classList.add("richText",t),r.append(i)}function pQ(n){const e=new Path2D;if(!n)return e;for(let t=0,r=n.length;t<r;)switch(n[t++]){case eb.moveTo:e.moveTo(n[t++],n[t++]);break;case eb.lineTo:e.lineTo(n[t++],n[t++]);break;case eb.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case eb.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case eb.closePath:e.closePath();break;default:yt(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}var th,nh,ta,na,W_,rh,Uy,Vy,q_,Hx,mQ,Ni,gQ,yQ,py,_b;const cu=class cu{constructor(e){j(this,Ni);j(this,th,null);j(this,nh,null);j(this,ta);j(this,na,null);j(this,W_,null);j(this,rh,null);j(this,Uy,null);j(this,Vy,null);D(this,ta,e),f(cu,q_)||D(cu,q_,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=D(this,th,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=f(this,ta)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",ka,{signal:t}),e.addEventListener("pointerdown",H(cu,Hx,mQ),{signal:t}));const r=D(this,na,document.createElement("div"));r.className="buttons",e.append(r);const i=f(this,ta).toolbarPosition;if(i){const{style:s}=e,o=f(this,ta)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return f(this,th)}hide(){var e;f(this,th).classList.add("hidden"),(e=f(this,nh))==null||e.hideDropdown()}show(){var e,t;f(this,th).classList.remove("hidden"),(e=f(this,W_))==null||e.shown(),(t=f(this,rh))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=f(this,ta),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",f(cu,q_)[e]),H(this,Ni,py).call(this,r)&&r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),f(this,na).append(r)}async addAltText(e){const t=await e.render();H(this,Ni,py).call(this,t),f(this,na).append(t,f(this,Ni,_b)),D(this,W_,e)}addComment(e,t=null){if(f(this,rh))return;const r=e.renderForToolbar();if(!r)return;H(this,Ni,py).call(this,r);const i=D(this,Uy,f(this,Ni,_b));t?(f(this,na).insertBefore(r,t),f(this,na).insertBefore(i,t)):f(this,na).append(r,i),D(this,rh,e),e.toolbar=this}addColorPicker(e){if(f(this,nh))return;D(this,nh,e);const t=e.renderButton();H(this,Ni,py).call(this,t),f(this,na).append(t,f(this,Ni,_b))}async addEditSignatureButton(e){const t=D(this,Vy,await e.renderEditButton(f(this,ta)));H(this,Ni,py).call(this,t),f(this,na).append(t,f(this,Ni,_b))}removeButton(e){var t,r;switch(e){case"comment":(t=f(this,rh))==null||t.removeToolbarCommentButton(),D(this,rh,null),(r=f(this,Uy))==null||r.remove(),D(this,Uy,null);break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,r){if(!t&&e==="comment")return;const i=f(this,na).querySelector(r);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){f(this,Vy)&&(f(this,Vy).title=e)}remove(){var e;f(this,th).remove(),(e=f(this,nh))==null||e.destroy(),D(this,nh,null)}};th=new WeakMap,nh=new WeakMap,ta=new WeakMap,na=new WeakMap,W_=new WeakMap,rh=new WeakMap,Uy=new WeakMap,Vy=new WeakMap,q_=new WeakMap,Hx=new WeakSet,mQ=function(e){e.stopPropagation()},Ni=new WeakSet,gQ=function(e){f(this,ta)._focusEventsAllowed=!1,xr(e)},yQ=function(e){f(this,ta)._focusEventsAllowed=!0,xr(e)},py=function(e){const t=f(this,ta)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",H(this,Ni,gQ).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",H(this,Ni,yQ).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ka,{signal:t}),!0)},_b=function(){const e=document.createElement("div");return e.className="divider",e},j(cu,Hx),j(cu,q_,null);let yF=cu;var G_,gp,du,md,vQ,wQ,vF;class Dke{constructor(e){j(this,md);j(this,G_,null);j(this,gp,null);j(this,du);D(this,du,e)}show(e,t,r){const[i,s]=H(this,md,wQ).call(this,t,r),{style:o}=f(this,gp)||D(this,gp,H(this,md,vQ).call(this));e.append(f(this,gp)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,gp).remove()}}G_=new WeakMap,gp=new WeakMap,du=new WeakMap,md=new WeakSet,vQ=function(){const e=D(this,gp,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=f(this,du)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",ka,{signal:t});const r=D(this,G_,document.createElement("div"));return r.className="buttons",e.append(r),f(this,du).hasCommentManager()&&H(this,md,vF).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{f(this,du).commentSelection("floating_button")}),H(this,md,vF).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{f(this,du).highlightSelection("floating_button")}),e},wQ=function(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(t?s.width:0);if(o>r){i=a,r=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]},vF=function(e,t,r,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const o=document.createElement("span");s.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",r);const a=f(this,du)._signal;a instanceof AbortSignal&&!a.aborted&&(s.addEventListener("contextmenu",ka,{signal:a}),s.addEventListener("click",i,{signal:a})),f(this,G_).append(s)};function bQ(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var yp,vp,Hy,wp;const Sn=class Sn{static initializeAndAddPointerId(e){(f(Sn,vp)||D(Sn,vp,new Set)).add(e)}static setPointer(e,t){f(Sn,yp)||D(Sn,yp,t),f(Sn,wp)??D(Sn,wp,e)}static setTimeStamp(e){D(Sn,Hy,e)}static isSamePointerId(e){return f(Sn,yp)===e}static isSamePointerIdOrRemove(e){var t;return f(Sn,yp)===e?!0:((t=f(Sn,vp))==null||t.delete(e),!1)}static isSamePointerType(e){return f(Sn,wp)===e}static isInitializedAndDifferentPointerType(e){return f(Sn,wp)!==null&&!Sn.isSamePointerType(e)}static isSameTimeStamp(e){return f(Sn,Hy)===e}static isUsingMultiplePointers(){var e;return((e=f(Sn,vp))==null?void 0:e.size)>=1}static clearPointerType(){D(Sn,wp,null)}static clearPointerIds(){D(Sn,yp,NaN),D(Sn,vp,null)}static clearTimeStamp(){D(Sn,Hy,NaN)}};yp=new WeakMap,vp=new WeakMap,Hy=new WeakMap,wp=new WeakMap,j(Sn,yp,NaN),j(Sn,vp,null),j(Sn,Hy,NaN),j(Sn,wp,null);let Ki=Sn;var zx;class Mke{constructor(){j(this,zx,0)}get id(){return`${$_}${Qr(this,zx)._++}`}}zx=new WeakMap;var zy,Y_,Xi,Wy,oA;const Zj=class Zj{constructor(){j(this,Wy);j(this,zy,uQ());j(this,Y_,0);j(this,Xi,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Tt(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return H(this,Wy,oA).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return H(this,Wy,oA).call(this,e,e)}async getFromBlob(e,t){const r=await t;return H(this,Wy,oA).call(this,e,r)}async getFromId(e){f(this,Xi)||D(this,Xi,new Map);const t=f(this,Xi).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){f(this,Xi)||D(this,Xi,new Map);let r=f(this,Xi).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${f(this,zy)}_${Qr(this,Y_)._++}`,refCounter:1,isSvg:!1},f(this,Xi).set(e,r),f(this,Xi).set(r.id,r),r}getSvgUrl(e){const t=f(this,Xi).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;f(this,Xi)||D(this,Xi,new Map);const t=f(this,Xi).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${f(this,zy)}_`)}};zy=new WeakMap,Y_=new WeakMap,Xi=new WeakMap,Wy=new WeakSet,oA=async function(e,t){f(this,Xi)||D(this,Xi,new Map);let r=f(this,Xi).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${f(this,zy)}_${Qr(this,Y_)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await w1(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=Zj._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((u,h)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,u()},o.onload=async()=>{const p=r.svgUrl=o.result;a.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},a.onerror=o.onerror=h});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){yt(i),r=null}return f(this,Xi).set(e,r),r&&f(this,Xi).set(r.id,r),r};let wF=Zj;var Mr,ih,K_,fr;class Oke{constructor(e=128){j(this,Mr,[]);j(this,ih,!1);j(this,K_);j(this,fr,-1);D(this,K_,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),f(this,ih))return;const l={cmd:e,undo:t,post:r,type:s};if(f(this,fr)===-1){f(this,Mr).length>0&&(f(this,Mr).length=0),D(this,fr,0),f(this,Mr).push(l);return}if(o&&f(this,Mr)[f(this,fr)].type===s){a&&(l.undo=f(this,Mr)[f(this,fr)].undo),f(this,Mr)[f(this,fr)]=l;return}const u=f(this,fr)+1;u===f(this,K_)?f(this,Mr).splice(0,1):(D(this,fr,u),u<f(this,Mr).length&&f(this,Mr).splice(u)),f(this,Mr).push(l)}undo(){if(f(this,fr)===-1)return;D(this,ih,!0);const{undo:e,post:t}=f(this,Mr)[f(this,fr)];e(),t==null||t(),D(this,ih,!1),D(this,fr,f(this,fr)-1)}redo(){if(f(this,fr)<f(this,Mr).length-1){D(this,fr,f(this,fr)+1),D(this,ih,!0);const{cmd:e,post:t}=f(this,Mr)[f(this,fr)];e(),t==null||t(),D(this,ih,!1)}}hasSomethingToUndo(){return f(this,fr)!==-1}hasSomethingToRedo(){return f(this,fr)<f(this,Mr).length-1}cleanType(e){if(f(this,fr)!==-1){for(let t=f(this,fr);t>=0;t--)if(f(this,Mr)[t].type!==e){f(this,Mr).splice(t+1,f(this,fr)-t),D(this,fr,t);return}f(this,Mr).length=0,D(this,fr,-1)}}destroy(){D(this,Mr,null)}}Mr=new WeakMap,ih=new WeakMap,K_=new WeakMap,fr=new WeakMap;var Wx,_Q;class S1{constructor(e){j(this,Wx);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Bi.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(H(this,Wx,_Q).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...o,t)(),s||xr(t))}}Wx=new WeakSet,_Q=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const qx=class qx{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return xke(e),Tt(this,"_colors",e)}convert(e){const t=_1(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return qx._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Ge.makeHexColor(...t):e}};_e(qx,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let bF=qx;var qy,fo,Gy,_r,ti,Yy,ra,Ky,ia,Ji,sh,oh,Xy,ah,Gl,sa,bp,X_,J_,Jy,Q_,Yl,lh,Qy,ch,Kl,Gx,uh,Zy,Z_,dh,_p,ev,hh,eS,Hr,yn,hu,fh,ph,tS,tv,nS,mh,Xl,fu,rS,iS,oa,De,aA,_F,SQ,EQ,Sb,CQ,TQ,AQ,SF,xQ,RQ,IQ,kQ,ps,su,PQ,DQ,EF,MQ,Eb,CF;const Ay=class Ay{constructor(e,t,r,i,s,o,a,l,u,h,p,m,y,b,w,_){j(this,De);j(this,qy,new AbortController);j(this,fo,null);j(this,Gy,null);j(this,_r,new Map);j(this,ti,new Map);j(this,Yy,null);j(this,ra,null);j(this,Ky,null);j(this,ia,new Oke);j(this,Ji,null);j(this,sh,null);j(this,oh,null);j(this,Xy,0);j(this,ah,new Set);j(this,Gl,null);j(this,sa,null);j(this,bp,new Set);_e(this,"_editorUndoBar",null);j(this,X_,!1);j(this,J_,!1);j(this,Jy,!1);j(this,Q_,null);j(this,Yl,null);j(this,lh,null);j(this,Qy,null);j(this,ch,!1);j(this,Kl,null);j(this,Gx,new Mke);j(this,uh,!1);j(this,Zy,!1);j(this,Z_,!1);j(this,dh,null);j(this,_p,null);j(this,ev,null);j(this,hh,null);j(this,eS,null);j(this,Hr,St.NONE);j(this,yn,new Set);j(this,hu,null);j(this,fh,null);j(this,ph,null);j(this,tS,null);j(this,tv,null);j(this,nS,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});j(this,mh,[0,0]);j(this,Xl,null);j(this,fu,null);j(this,rS,null);j(this,iS,null);j(this,oa,null);const E=this._signal=f(this,qy).signal;D(this,fu,e),D(this,rS,t),D(this,iS,r),D(this,Yy,i),D(this,Ji,s),D(this,fh,o),D(this,tv,l),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:E}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:E}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:E}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:E}),a._on("setpreference",this.onSetPreference.bind(this),{signal:E}),a._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:E}),window.addEventListener("pointerdown",()=>{D(this,Zy,!0)},{capture:!0,signal:E}),window.addEventListener("pointerup",()=>{D(this,Zy,!1)},{capture:!0,signal:E}),H(this,De,CQ).call(this),H(this,De,kQ).call(this),H(this,De,SF).call(this),D(this,ra,l.annotationStorage),D(this,Q_,l.filterFactory),D(this,ph,u),D(this,Qy,h||null),D(this,X_,p),D(this,J_,m),D(this,Jy,y),D(this,eS,b||null),this.viewParameters={realScale:pf.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=w||null,this._supportsPinchToZoom=_!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=Ay.prototype,t=o=>f(o,fu).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Tt(this,"_keyboardManager",new S1([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&f(o,fu).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&f(o,fu).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i,s,o,a,l,u;(e=f(this,oa))==null||e.resolve(),D(this,oa,null),(t=f(this,qy))==null||t.abort(),D(this,qy,null),this._signal=null;for(const h of f(this,ti).values())h.destroy();f(this,ti).clear(),f(this,_r).clear(),f(this,bp).clear(),(r=f(this,hh))==null||r.clear(),D(this,fo,null),f(this,yn).clear(),f(this,ia).destroy(),(i=f(this,Yy))==null||i.destroy(),(s=f(this,Ji))==null||s.destroy(),(o=f(this,fh))==null||o.destroy(),(a=f(this,Kl))==null||a.hide(),D(this,Kl,null),(l=f(this,ev))==null||l.destroy(),D(this,ev,null),D(this,Gy,null),f(this,Yl)&&(clearTimeout(f(this,Yl)),D(this,Yl,null)),f(this,Xl)&&(clearTimeout(f(this,Xl)),D(this,Xl,null)),(u=this._editorUndoBar)==null||u.destroy(),D(this,tv,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return f(this,eS)}get useNewAltTextFlow(){return f(this,J_)}get useNewAltTextWhenAddingImage(){return f(this,Jy)}get hcmFilter(){return Tt(this,"hcmFilter",f(this,ph)?f(this,Q_).addHCMFilter(f(this,ph).foreground,f(this,ph).background):"none")}get direction(){return Tt(this,"direction",getComputedStyle(f(this,fu)).direction)}get _highlightColors(){return Tt(this,"_highlightColors",f(this,Qy)?new Map(f(this,Qy).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Tt(this,"highlightColors",null);const t=new Map,r=!!f(this,ph);for(const[i,s]of e){const o=i.endsWith("_HCM");if(r&&o){t.set(i.replace("_HCM",""),s);continue}!r&&!o&&t.set(i,s)}return Tt(this,"highlightColors",t)}get highlightColorNames(){return Tt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),D(this,oh,e)}setMainHighlightColorPicker(e){D(this,ev,e)}editAltText(e,t=!1){var r;(r=f(this,Yy))==null||r.editAltText(this,e,t)}hasCommentManager(){return!!f(this,Ji)}editComment(e,t,r,i){var s;(s=f(this,Ji))==null||s.showDialog(this,e,t,r,i)}selectComment(e,t){const r=f(this,ti).get(e),i=r==null?void 0:r.getEditorByUID(t);i==null||i.toggleComment(!0,!0)}updateComment(e){var t;(t=f(this,Ji))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=f(this,Ji))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=f(this,Ji))==null||t.removeComments([e.uid])}toggleComment(e,t,r=void 0){var i;(i=f(this,Ji))==null||i.toggleCommentPopup(e,t,r)}makeCommentColor(e,t){var r;return e&&((r=f(this,Ji))==null?void 0:r.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=f(this,Ji))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(f(this,ti).has(e-1))return;const{resolve:t,promise:r}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){var t;(t=f(this,fh))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return f(this,fh)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":D(this,Jy,t);break}}onPageChanging({pageNumber:e}){D(this,Xy,e-1)}focusMainContainer(){f(this,fu).focus()}findParent(e,t){for(const r of f(this,ti).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return r}return null}disableUserSelect(e=!1){f(this,rS).classList.toggle("noUserSelect",e)}addShouldRescale(e){f(this,bp).add(e)}removeShouldRescale(e){f(this,bp).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*pf.PDF_TO_CSS_UNITS;for(const r of f(this,bp))r.onScaleChanging();(t=f(this,oh))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:o,focusOffset:a}=r,l=r.toString(),h=H(this,De,aA).call(this,r).closest(".textLayer"),p=this.getSelectionBoxes(h);if(!p)return;r.empty();const m=H(this,De,_F).call(this,h),y=f(this,Hr)===St.NONE,b=()=>{const w=m==null?void 0:m.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:i,anchorOffset:s,focusNode:o,focusOffset:a,text:l});y&&this.showAllEditors("highlight",!0,!0),t&&(w==null||w.editComment())};if(y){this.switchToMode(St.HIGHLIGHT,b);return}b()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!f(this,ra))return null;const t=`${$_}${e}`,r=f(this,ra).getRawValue(t);return r&&f(this,ra).remove(t),r}addToAnnotationStorage(e){!e.isEmpty()&&f(this,ra)&&!f(this,ra).has(e.id)&&f(this,ra).setValue(e.id,e)}a11yAlert(e,t=null){const r=f(this,iS);r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,f(this,ch)&&(D(this,ch,!1),H(this,De,Sb).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of f(this,yn))if(t.div.contains(e)){D(this,_p,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!f(this,_p))return;const[e,t]=f(this,_p);D(this,_p,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){H(this,De,SF).call(this),this.setEditingState(!0)}removeEditListeners(){H(this,De,xQ).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of f(this,sa))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of f(this,sa))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=f(this,fo))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of f(this,yn)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of f(this,sa))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){yt(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const u=await i.deserialize(l);if(!u)return;s.push(u)}const o=()=>{for(const l of s)H(this,De,EF).call(this,l);H(this,De,CF).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){yt(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,Hr)!==St.NONE&&!this.isEditorHandlingKeyboard&&Ay._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,ch)&&(D(this,ch,!1),H(this,De,Sb).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(H(this,De,TQ).call(this),H(this,De,RQ).call(this),H(this,De,ps).call(this,{isEditing:f(this,Hr)!==St.NONE,isEmpty:H(this,De,Eb).call(this),hasSomethingToUndo:f(this,ia).hasSomethingToUndo(),hasSomethingToRedo:f(this,ia).hasSomethingToRedo(),hasSelectedEditor:!1})):(H(this,De,AQ).call(this),H(this,De,IQ).call(this),H(this,De,ps).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!f(this,sa)){D(this,sa,e);for(const t of f(this,sa))H(this,De,su).call(this,t.defaultPropertiesToUpdate)}}getId(){return f(this,Gx).id}get currentLayer(){return f(this,ti).get(f(this,Xy))}getLayer(e){return f(this,ti).get(e)}get currentPageIndex(){return f(this,Xy)}addLayer(e){f(this,ti).set(e.pageIndex,e),f(this,uh)?e.enable():e.disable()}removeLayer(e){f(this,ti).delete(e.pageIndex)}async updateMode(e,t=null,r=!1,i=!1,s=!1){var o,a,l,u,h,p;if(f(this,Hr)!==e&&!(f(this,oa)&&(await f(this,oa).promise,!f(this,oa)))){if(D(this,oa,Promise.withResolvers()),(o=f(this,oh))==null||o.commitOrRemove(),f(this,Hr)===St.POPUP&&((a=f(this,Ji))==null||a.hideSidebar()),(l=f(this,Ji))==null||l.destroyPopup(),D(this,Hr,e),e===St.NONE){this.setEditingState(!1),H(this,De,DQ).call(this);for(const m of f(this,_r).values())m.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),f(this,oa).resolve();return}for(const m of f(this,_r).values())m.addStandaloneCommentButton();e===St.SIGNATURE&&await((h=f(this,fh))==null?void 0:h.loadSignatures()),this.setEditingState(!0),await H(this,De,PQ).call(this),this.unselectAll();for(const m of f(this,ti).values())m.updateMode(e);if(e===St.POPUP){f(this,Gy)||D(this,Gy,await f(this,tv).getAnnotationsByType(new Set(f(this,sa).map(b=>b._editorType))));const m=new Set,y=[];for(const b of f(this,_r).values()){const{annotationElementId:w,hasComment:_,deleted:E}=b;w&&m.add(w),_&&!E&&y.push(b.getData())}for(const b of f(this,Gy)){const{id:w,popupRef:_,contentsObj:E}=b;_&&(E!=null&&E.str)&&!m.has(w)&&!f(this,ah).has(w)&&y.push(b)}(p=f(this,Ji))==null||p.showSidebar(y)}if(!t){r&&this.addNewEditorFromKeyboard(),f(this,oa).resolve();return}for(const m of f(this,_r).values())m.uid===t?(this.setSelected(m),s?m.editComment():i?m.enterInEditMode():m.focus()):m.unselect();f(this,oa).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==f(this,Hr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(f(this,sa)){switch(e){case Yt.CREATE:this.currentLayer.addNewEditor(t);return;case Yt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,tS)||D(this,tS,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const r of f(this,yn))r.updateParams(e,t);else for(const r of f(this,sa))r.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const o of f(this,_r).values())o.editorType===e&&o.show(t);(((s=f(this,tS))==null?void 0:s.get(Yt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&H(this,De,su).call(this,[[Yt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(f(this,Z_)!==e){D(this,Z_,e);for(const t of f(this,ti).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of f(this,_r).values())t.pageIndex===e&&(yield t)}getEditor(e){return f(this,_r).get(e)}addEditor(e){f(this,_r).set(e.id,e)}removeEditor(e){var t,r;e.div.contains(document.activeElement)&&(f(this,Yl)&&clearTimeout(f(this,Yl)),D(this,Yl,setTimeout(()=>{this.focusMainContainer(),D(this,Yl,null)},0))),f(this,_r).delete(e.id),e.annotationElementId&&((t=f(this,hh))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!f(this,ah).has(e.annotationElementId))&&((r=f(this,ra))==null||r.remove(e.id))}addDeletedAnnotationElement(e){f(this,ah).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return f(this,ah).has(e)}removeDeletedAnnotationElement(e){f(this,ah).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){f(this,fo)!==e&&(D(this,fo,e),e&&H(this,De,su).call(this,e.propertiesToUpdate))}updateUI(e){f(this,De,MQ)===e&&H(this,De,su).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){H(this,De,su).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(f(this,yn).has(e)){f(this,yn).delete(e),e.unselect(),H(this,De,ps).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,yn).add(e),e.select(),H(this,De,su).call(this,e.propertiesToUpdate),H(this,De,ps).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),(t=f(this,oh))==null||t.commitOrRemove();for(const r of f(this,yn))r!==e&&r.unselect();f(this,yn).clear(),f(this,yn).add(e),e.select(),H(this,De,su).call(this,e.propertiesToUpdate),H(this,De,ps).call(this,{hasSelectedEditor:!0})}isSelected(e){return f(this,yn).has(e)}get firstSelectedEditor(){return f(this,yn).values().next().value}unselect(e){e.unselect(),f(this,yn).delete(e),H(this,De,ps).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,yn).size!==0}get isEnterHandled(){return f(this,yn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;f(this,ia).undo(),H(this,De,ps).call(this,{hasSomethingToUndo:f(this,ia).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:H(this,De,Eb).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){f(this,ia).redo(),H(this,De,ps).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,ia).hasSomethingToRedo(),isEmpty:H(this,De,Eb).call(this)})}addCommands(e){f(this,ia).add(e),H(this,De,ps).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:H(this,De,Eb).call(this)})}cleanUndoStack(e){f(this,ia).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...f(this,yn)],r=()=>{var o;(o=this._editorUndoBar)==null||o.show(i,t.length===1?t[0].editorType:t.length);for(const a of t)a.remove()},i=()=>{for(const o of t)H(this,De,EF).call(this,o)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=f(this,fo))==null||e.commitOrRemove()}hasSomethingToControl(){return f(this,fo)||this.hasSelection}selectAll(){for(const e of f(this,yn))e.commit();H(this,De,CF).call(this,f(this,_r).values())}unselectAll(){var e;if(!(f(this,fo)&&(f(this,fo).commitOrRemove(),f(this,Hr)!==St.NONE))&&!((e=f(this,oh))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of f(this,yn))t.unselect();f(this,yn).clear(),H(this,De,ps).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;f(this,mh)[0]+=e,f(this,mh)[1]+=t;const[i,s]=f(this,mh),o=[...f(this,yn)],a=1e3;f(this,Xl)&&clearTimeout(f(this,Xl)),D(this,Xl,setTimeout(()=>{D(this,Xl,null),f(this,mh)[0]=f(this,mh)[1]=0,this.addCommands({cmd:()=>{for(const l of o)f(this,_r).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of o)f(this,_r).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),D(this,Gl,new Map);for(const e of f(this,yn))f(this,Gl).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,Gl))return!1;this.disableUserSelect(!1);const e=f(this,Gl);D(this,Gl,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||(t=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(i,s,o,a)=>{if(f(this,_r).has(i.id)){const l=f(this,ti).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(f(this,Gl))for(const r of f(this,Gl).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||f(this,yn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return f(this,fo)===e}getActive(){return f(this,fo)}getMode(){return f(this,Hr)}isEditingMode(){return f(this,Hr)!==St.NONE}get imageManager(){return Tt(this,"imageManager",new wF)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,h=t.rangeCount;u<h;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,h,p,m)=>({x:(h-i)/o,y:1-(u+p-r)/s,width:m/o,height:p/s});break;case"180":a=(u,h,p,m)=>({x:1-(u+p-r)/s,y:1-(h+m-i)/o,width:p/s,height:m/o});break;case"270":a=(u,h,p,m)=>({x:1-(h+m-i)/o,y:(u-r)/s,width:m/o,height:p/s});break;default:a=(u,h,p,m)=>({x:(u-r)/s,y:(h-i)/o,width:p/s,height:m/o});break}const l=[];for(let u=0,h=t.rangeCount;u<h;u++){const p=t.getRangeAt(u);if(!p.collapsed)for(const{x:m,y,width:b,height:w}of p.getClientRects())b===0||w===0||l.push(a(m,y,b,w))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(f(this,Ky)||D(this,Ky,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=f(this,Ky))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=f(this,Ky))==null?void 0:i.get(e.data.id);if(!t)return;const r=f(this,ra).getRawValue(t);r&&(f(this,Hr)===St.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,t,r){var s;const i=(s=f(this,hh))==null?void 0:s.get(e);i&&(i.setCanvas(t,r),f(this,hh).delete(e))}addMissingCanvas(e,t){(f(this,hh)||D(this,hh,new Map)).set(e,t)}};qy=new WeakMap,fo=new WeakMap,Gy=new WeakMap,_r=new WeakMap,ti=new WeakMap,Yy=new WeakMap,ra=new WeakMap,Ky=new WeakMap,ia=new WeakMap,Ji=new WeakMap,sh=new WeakMap,oh=new WeakMap,Xy=new WeakMap,ah=new WeakMap,Gl=new WeakMap,sa=new WeakMap,bp=new WeakMap,X_=new WeakMap,J_=new WeakMap,Jy=new WeakMap,Q_=new WeakMap,Yl=new WeakMap,lh=new WeakMap,Qy=new WeakMap,ch=new WeakMap,Kl=new WeakMap,Gx=new WeakMap,uh=new WeakMap,Zy=new WeakMap,Z_=new WeakMap,dh=new WeakMap,_p=new WeakMap,ev=new WeakMap,hh=new WeakMap,eS=new WeakMap,Hr=new WeakMap,yn=new WeakMap,hu=new WeakMap,fh=new WeakMap,ph=new WeakMap,tS=new WeakMap,tv=new WeakMap,nS=new WeakMap,mh=new WeakMap,Xl=new WeakMap,fu=new WeakMap,rS=new WeakMap,iS=new WeakMap,oa=new WeakMap,De=new WeakSet,aA=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},_F=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of f(this,ti).values())if(r.hasTextLayer(e))return r;return null},SQ=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=H(this,De,aA).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(f(this,Kl)||D(this,Kl,new Dke(this)),f(this,Kl).show(r,i,this.direction==="ltr"))},EQ=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){f(this,hu)&&((s=f(this,Kl))==null||s.hide(),D(this,hu,null),H(this,De,ps).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===f(this,hu))return;const i=H(this,De,aA).call(this,e).closest(".textLayer");if(!i){f(this,hu)&&((o=f(this,Kl))==null||o.hide(),D(this,hu,null),H(this,De,ps).call(this,{hasSelectedText:!1}));return}if((a=f(this,Kl))==null||a.hide(),D(this,hu,t),H(this,De,ps).call(this,{hasSelectedText:!0}),!(f(this,Hr)!==St.HIGHLIGHT&&f(this,Hr)!==St.NONE)&&(f(this,Hr)===St.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),D(this,ch,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=f(this,Hr)===St.HIGHLIGHT?H(this,De,_F).call(this,i):null;if(l==null||l.toggleDrawing(),f(this,Zy)){const u=new AbortController,h=this.combinedSignal(u),p=m=>{m.type==="pointerup"&&m.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),m.type==="pointerup"&&H(this,De,Sb).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:h}),window.addEventListener("blur",p,{signal:h})}else l==null||l.toggleDrawing(!0),H(this,De,Sb).call(this,"main_toolbar")}},Sb=function(e=""){f(this,Hr)===St.HIGHLIGHT?this.highlightSelection(e):f(this,X_)&&H(this,De,SQ).call(this)},CQ=function(){document.addEventListener("selectionchange",H(this,De,EQ).bind(this),{signal:this._signal})},TQ=function(){if(f(this,lh))return;D(this,lh,new AbortController);const e=this.combinedSignal(f(this,lh));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},AQ=function(){var e;(e=f(this,lh))==null||e.abort(),D(this,lh,null)},SF=function(){if(f(this,dh))return;D(this,dh,new AbortController);const e=this.combinedSignal(f(this,dh));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},xQ=function(){var e;(e=f(this,dh))==null||e.abort(),D(this,dh,null)},RQ=function(){if(f(this,sh))return;D(this,sh,new AbortController);const e=this.combinedSignal(f(this,sh));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},IQ=function(){var e;(e=f(this,sh))==null||e.abort(),D(this,sh,null)},kQ=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},ps=function(e){Object.entries(e).some(([r,i])=>f(this,nS)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,nS),e)}),f(this,Hr)===St.HIGHLIGHT&&e.hasSelectedEditor===!1&&H(this,De,su).call(this,[[Yt.HIGHLIGHT_FREE,!0]]))},su=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},PQ=async function(){if(!f(this,uh)){D(this,uh,!0);const e=[];for(const t of f(this,ti).values())e.push(t.enable());await Promise.all(e);for(const t of f(this,_r).values())t.enable()}},DQ=function(){if(this.unselectAll(),f(this,uh)){D(this,uh,!1);for(const e of f(this,ti).values())e.disable();for(const e of f(this,_r).values())e.disable()}},EF=function(e){const t=f(this,ti).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},MQ=function(){let e=null;for(e of f(this,yn));return e},Eb=function(){if(f(this,_r).size===0)return!0;if(f(this,_r).size===1)for(const e of f(this,_r).values())return e.isEmpty();return!1},CF=function(e){for(const t of f(this,yn))t.unselect();f(this,yn).clear();for(const t of e)t.isEmpty()||(f(this,yn).add(t),t.select());H(this,De,ps).call(this,{hasSelectedEditor:this.hasSelection})},_e(Ay,"TRANSLATE_SMALL",1),_e(Ay,"TRANSLATE_BIG",10);let Xm=Ay;var pi,Jl,tl,nv,Ql,po,rv,Zl,$s,pu,Sp,ec,gh,gl,Cb,lA;const ms=class ms{constructor(e){j(this,gl);j(this,pi,null);j(this,Jl,!1);j(this,tl,null);j(this,nv,null);j(this,Ql,null);j(this,po,null);j(this,rv,!1);j(this,Zl,null);j(this,$s,null);j(this,pu,null);j(this,Sp,null);j(this,ec,!1);D(this,$s,e),D(this,ec,e._uiManager.useNewAltTextFlow),f(ms,gh)||D(ms,gh,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){ms._l10n??(ms._l10n=e)}async render(){const e=D(this,tl,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=D(this,nv,document.createElement("span"));e.append(t),f(this,ec)?(e.classList.add("new"),e.setAttribute("data-l10n-id",f(ms,gh).missing),t.setAttribute("data-l10n-id",f(ms,gh)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=f(this,$s)._uiManager._signal;e.addEventListener("contextmenu",ka,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),f(this,$s)._uiManager.editAltText(f(this,$s)),f(this,ec)&&f(this,$s)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:f(this,gl,Cb)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(D(this,rv,!0),i(s))},{signal:r}),await H(this,gl,lA).call(this),e}finish(){f(this,tl)&&(f(this,tl).focus({focusVisible:f(this,rv)}),D(this,rv,!1))}isEmpty(){return f(this,ec)?f(this,pi)===null:!f(this,pi)&&!f(this,Jl)}hasData(){return f(this,ec)?f(this,pi)!==null||!!f(this,pu):this.isEmpty()}get guessedText(){return f(this,pu)}async setGuessedText(e){f(this,pi)===null&&(D(this,pu,e),D(this,Sp,await ms._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),H(this,gl,lA).call(this))}toggleAltTextBadge(e=!1){var t;if(!f(this,ec)||f(this,pi)){(t=f(this,Zl))==null||t.remove(),D(this,Zl,null);return}if(!f(this,Zl)){const r=D(this,Zl,document.createElement("div"));r.className="noAltTextBadge",f(this,$s).div.append(r)}f(this,Zl).classList.toggle("hidden",!e)}serialize(e){let t=f(this,pi);return!e&&f(this,pu)===t&&(t=f(this,Sp)),{altText:t,decorative:f(this,Jl),guessedText:f(this,pu),textWithDisclaimer:f(this,Sp)}}get data(){return{altText:f(this,pi),decorative:f(this,Jl)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(D(this,pu,r),D(this,Sp,i)),!(f(this,pi)===e&&f(this,Jl)===t)&&(s||(D(this,pi,e),D(this,Jl,t)),H(this,gl,lA).call(this))}toggle(e=!1){f(this,tl)&&(!e&&f(this,po)&&(clearTimeout(f(this,po)),D(this,po,null)),f(this,tl).disabled=!e)}shown(){f(this,$s)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:f(this,gl,Cb)}})}destroy(){var e,t;(e=f(this,tl))==null||e.remove(),D(this,tl,null),D(this,nv,null),D(this,Ql,null),(t=f(this,Zl))==null||t.remove(),D(this,Zl,null)}};pi=new WeakMap,Jl=new WeakMap,tl=new WeakMap,nv=new WeakMap,Ql=new WeakMap,po=new WeakMap,rv=new WeakMap,Zl=new WeakMap,$s=new WeakMap,pu=new WeakMap,Sp=new WeakMap,ec=new WeakMap,gh=new WeakMap,gl=new WeakSet,Cb=function(){return f(this,pi)&&"added"||f(this,pi)===null&&this.guessedText&&"review"||"missing"},lA=async function(){var i,s,o;const e=f(this,tl);if(!e)return;if(f(this,ec)){if(e.classList.toggle("done",!!f(this,pi)),e.setAttribute("data-l10n-id",f(ms,gh)[f(this,gl,Cb)]),(i=f(this,nv))==null||i.setAttribute("data-l10n-id",f(ms,gh)[`${f(this,gl,Cb)}-label`]),!f(this,pi)){(s=f(this,Ql))==null||s.remove();return}}else{if(!f(this,pi)&&!f(this,Jl)){e.classList.remove("done"),(o=f(this,Ql))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=f(this,Ql);if(!t){D(this,Ql,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${f(this,$s).id}`;const a=100,l=f(this,$s)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(f(this,po)),D(this,po,null)},{once:!0}),e.addEventListener("mouseenter",()=>{D(this,po,setTimeout(()=>{D(this,po,null),f(this,Ql).classList.add("show"),f(this,$s)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;f(this,po)&&(clearTimeout(f(this,po)),D(this,po,null)),(u=f(this,Ql))==null||u.classList.remove("show")},{signal:l})}f(this,Jl)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=f(this,pi)),t.parentNode||e.append(t);const r=f(this,$s).getElementForAltText();r==null||r.setAttribute("aria-describedby",t.id)},j(ms,gh,null),_e(ms,"_l10n",null);let Px=ms;var xi,aa,Ep,Vn,sS,Cp,nl,Tp,Ap,xp,oS,TF;class yT{constructor(e){j(this,oS);j(this,xi,null);j(this,aa,null);j(this,Ep,!1);j(this,Vn,null);j(this,sS,null);j(this,Cp,null);j(this,nl,null);j(this,Tp,null);j(this,Ap,!1);j(this,xp,null);D(this,Vn,e)}renderForToolbar(){const e=D(this,aa,document.createElement("button"));return e.className="comment",H(this,oS,TF).call(this,e,!1)}renderForStandalone(){const e=D(this,xi,document.createElement("button"));e.className="annotationCommentButton";const t=f(this,Vn).commentButtonPosition;if(t){const{style:r}=e;r.insetInlineEnd=`calc(${100*(f(this,Vn)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=f(this,Vn).commentButtonColor;i&&(r.backgroundColor=i)}return H(this,oS,TF).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=f(this,xi)??f(this,aa))==null||e.focus()},0)}onUpdatedColor(){if(!f(this,xi))return;const e=f(this,Vn).commentButtonColor;e&&(f(this,xi).style.backgroundColor=e),f(this,Vn)._uiManager.updatePopupColor(f(this,Vn))}get commentButtonWidth(){var e;return(((e=f(this,xi))==null?void 0:e.getBoundingClientRect().width)??0)/f(this,Vn).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(f(this,xp))return f(this,xp);if(!f(this,xi))return null;const{x:e,y:t,height:r}=f(this,xi).getBoundingClientRect(),{x:i,y:s,width:o,height:a}=f(this,Vn).parent.boundingClientRect;return[(e-i)/o,(t+r-s)/a]}set commentPopupPositionInLayer(e){D(this,xp,e)}hasDefaultPopupPosition(){return f(this,xp)===null}removeStandaloneCommentButton(){var e;(e=f(this,xi))==null||e.remove(),D(this,xi,null)}removeToolbarCommentButton(){var e;(e=f(this,aa))==null||e.remove(),D(this,aa,null)}setCommentButtonStates({selected:e,hasPopup:t}){f(this,xi)&&(f(this,xi).classList.toggle("selected",e),f(this,xi).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let r,i;if(t)[r,i]=t;else{[r,i]=f(this,Vn).commentButtonPosition;const{width:h,height:p,x:m,y}=f(this,Vn);r=m+r*h,i=y+i*p}const s=f(this,Vn).parent.boundingClientRect,{x:o,y:a,width:l,height:u}=s;f(this,Vn)._uiManager.editComment(f(this,Vn),o+r*l,a+i*u,{...e,parentDimensions:s})}finish(){f(this,aa)&&(f(this,aa).focus({focusVisible:f(this,Ep)}),D(this,Ep,!1))}isDeleted(){return f(this,Ap)||f(this,nl)===""}isEmpty(){return f(this,nl)===null}hasBeenEdited(){return this.isDeleted()||f(this,nl)!==f(this,sS)}serialize(){return this.data}get data(){return{text:f(this,nl),richText:f(this,Cp),date:f(this,Tp),deleted:this.isDeleted()}}set data(e){if(e!==f(this,nl)&&D(this,Cp,null),e===null){D(this,nl,""),D(this,Ap,!0);return}D(this,nl,e),D(this,Tp,new Date),D(this,Ap,!1)}setInitialText(e,t=null){D(this,sS,e),this.data=e,D(this,Tp,null),D(this,Cp,t)}shown(){}destroy(){var e,t;(e=f(this,aa))==null||e.remove(),D(this,aa,null),(t=f(this,xi))==null||t.remove(),D(this,xi,null),D(this,nl,""),D(this,Cp,null),D(this,Tp,null),D(this,Vn,null),D(this,Ep,!1),D(this,Ap,!1)}}xi=new WeakMap,aa=new WeakMap,Ep=new WeakMap,Vn=new WeakMap,sS=new WeakMap,Cp=new WeakMap,nl=new WeakMap,Tp=new WeakMap,Ap=new WeakMap,xp=new WeakMap,oS=new WeakSet,TF=function(e,t){if(!f(this,Vn)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[f(this,Vn)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=f(this,Vn)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",ka,{signal:r}),t&&(e.addEventListener("focusin",s=>{f(this,Vn)._focusEventsAllowed=!1,xr(s)},{capture:!0,signal:r}),e.addEventListener("focusout",s=>{f(this,Vn)._focusEventsAllowed=!0,xr(s)},{capture:!0,signal:r})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),e===f(this,aa)?this.edit():f(this,Vn).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(D(this,Ep,!0),i(s))},{signal:r}),e.addEventListener("pointerenter",()=>{f(this,Vn).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{f(this,Vn).toggleComment(!1,!1)},{signal:r}),e};var iv,Rp,aS,lS,cS,uS,dS,mu,Ip,gu,kp,yu,mf,OQ,LQ,FQ;const eU=class eU{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:o=null,signal:a}){j(this,mf);j(this,iv);j(this,Rp,!1);j(this,aS,null);j(this,lS);j(this,cS);j(this,uS);j(this,dS);j(this,mu,null);j(this,Ip);j(this,gu,null);j(this,kp);j(this,yu,null);D(this,iv,e),D(this,aS,r),D(this,lS,t),D(this,cS,i),D(this,uS,s),D(this,dS,o),D(this,kp,new AbortController),D(this,Ip,AbortSignal.any([a,f(this,kp).signal])),e.addEventListener("touchstart",H(this,mf,OQ).bind(this),{passive:!1,signal:f(this,Ip)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Dc.pixelRatio}destroy(){var e,t;(e=f(this,kp))==null||e.abort(),D(this,kp,null),(t=f(this,mu))==null||t.abort(),D(this,mu,null)}};iv=new WeakMap,Rp=new WeakMap,aS=new WeakMap,lS=new WeakMap,cS=new WeakMap,uS=new WeakMap,dS=new WeakMap,mu=new WeakMap,Ip=new WeakMap,gu=new WeakMap,kp=new WeakMap,yu=new WeakMap,mf=new WeakSet,OQ=function(e){var i,s,o;if((i=f(this,lS))!=null&&i.call(this))return;if(e.touches.length===1){if(f(this,mu))return;const a=D(this,mu,new AbortController),l=AbortSignal.any([f(this,Ip),a.signal]),u=f(this,iv),h={capture:!0,signal:l,passive:!1},p=m=>{var y;m.pointerType==="touch"&&((y=f(this,mu))==null||y.abort(),D(this,mu,null))};u.addEventListener("pointerdown",m=>{m.pointerType==="touch"&&(xr(m),p(m))},h),u.addEventListener("pointerup",p,h),u.addEventListener("pointercancel",p,h);return}if(!f(this,yu)){D(this,yu,new AbortController);const a=AbortSignal.any([f(this,Ip),f(this,yu).signal]),l=f(this,iv),u={signal:a,capture:!1,passive:!1};l.addEventListener("touchmove",H(this,mf,LQ).bind(this),u);const h=H(this,mf,FQ).bind(this);l.addEventListener("touchend",h,u),l.addEventListener("touchcancel",h,u),u.capture=!0,l.addEventListener("pointerdown",xr,u),l.addEventListener("pointermove",xr,u),l.addEventListener("pointercancel",xr,u),l.addEventListener("pointerup",xr,u),(s=f(this,cS))==null||s.call(this)}if(xr(e),e.touches.length!==2||(o=f(this,aS))!=null&&o.call(this)){D(this,gu,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),D(this,gu,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},LQ=function(e){var x;if(!f(this,gu)||e.touches.length!==2)return;xr(e);let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:i,screenY:s}=t,{screenX:o,screenY:a}=r,l=f(this,gu),{touch0X:u,touch0Y:h,touch1X:p,touch1Y:m}=l,y=p-u,b=m-h,w=o-i,_=a-s,E=Math.hypot(w,_)||1,T=Math.hypot(y,b)||1;if(!f(this,Rp)&&Math.abs(T-E)<=eU.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=o,l.touch1Y=a,!f(this,Rp)){D(this,Rp,!0);return}const C=[(i+o)/2,(s+a)/2];(x=f(this,uS))==null||x.call(this,C,T,E)},FQ=function(e){var t;e.touches.length>=2||(f(this,yu)&&(f(this,yu).abort(),D(this,yu,null),(t=f(this,dS))==null||t.call(this)),f(this,gu)&&(xr(e),D(this,gu,null),D(this,Rp,!1)))};let Dx=eU;var Pp,rl,ir,Mn,vu,sv,yh,hS,Ri,Dp,wu,la,vh,fS,Mp,mo,pS,Op,bu,tc,ov,av,ca,Lp,mS,Yx,ct,AF,gS,xF,cA,NQ,BQ,RF,uA,IF,$Q,jQ,UQ,kF,VQ,PF,HQ,zQ,WQ,DF,Tb;const _t=class _t{constructor(e){j(this,ct);j(this,Pp,null);j(this,rl,null);j(this,ir,null);j(this,Mn,null);j(this,vu,null);j(this,sv,!1);j(this,yh,null);j(this,hS,"");j(this,Ri,null);j(this,Dp,null);j(this,wu,null);j(this,la,null);j(this,vh,null);j(this,fS,"");j(this,Mp,!1);j(this,mo,null);j(this,pS,!1);j(this,Op,!1);j(this,bu,!1);j(this,tc,null);j(this,ov,0);j(this,av,0);j(this,ca,null);j(this,Lp,null);_e(this,"isSelected",!1);_e(this,"_isCopy",!1);_e(this,"_editToolbar",null);_e(this,"_initialOptions",Object.create(null));_e(this,"_initialData",null);_e(this,"_isVisible",!0);_e(this,"_uiManager",null);_e(this,"_focusEventsAllowed",!0);j(this,mS,!1);j(this,Yx,_t._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=_t.prototype._resizeWithKeyboard,t=Xm.TRANSLATE_SMALL,r=Xm.TRANSLATE_BIG;return Tt(this,"_resizerKeyboardManager",new S1([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],_t.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Tt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Lke({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(_t._l10n??(_t._l10n=e),_t._l10nResizer||(_t._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),_t._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);_t._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Bn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,mS)}set _isDraggable(e){var t;D(this,mS,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,Yx)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(H(this,ct,Tb).call(this),(t=f(this,la))==null||t.remove(),D(this,la,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(f(this,Mp)?D(this,Mp,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,i]=this.parentDimensions;this.setAt(e*r,t*i,this.width*r,this.height*i),this._onTranslated()}translate(e,t){H(this,ct,AF).call(this,this.parentDimensions,e,t)}translateInPage(e,t){f(this,mo)||D(this,mo,[this.x,this.y,this.width,this.height]),H(this,ct,AF).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){f(this,mo)||D(this,mo,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[l,u]=this.getBaseTranslation();o+=l,a+=u;const{style:h}=r;h.left=`${(100*o).toFixed(2)}%`,h.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!f(this,mo)&&(f(this,mo)[0]!==this.x||f(this,mo)[1]!==this.y)}get _hasBeenResized(){return!!f(this,mo)&&(f(this,mo)[2]!==this.width||f(this,mo)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=_t,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,i]}=this;let{x:s,y:o,width:a,height:l}=this;if(a*=r,l*=i,s*=r,o*=i,this._mustFixPosition)switch(e){case 0:s=bs(s,0,r-a),o=bs(o,0,i-l);break;case 90:s=bs(s,0,r-l),o=bs(o,a,i);break;case 180:s=bs(s,a,r),o=bs(o,l,i);break;case 270:s=bs(s,l,r),o=bs(o,0,i-a);break}this.x=s/=r,this.y=o/=i;const[u,h]=this.getBaseTranslation();s+=u,o+=h,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return H(r=_t,gS,xF).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return H(r=_t,gS,xF).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(){const{div:{style:e},width:t,height:r}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=f(this,ir))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||f(this,Op))return this._editToolbar;this._editToolbar=new yF(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)await this._editToolbar.addButton(t,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=f(this,ir))==null||t.destroy()}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return f(this,ir)||(Px.initialize(_t._l10n),D(this,ir,new Px(this)),f(this,Pp)&&(f(this,ir).data=f(this,Pp),D(this,Pp,null))),f(this,ir)}get altTextData(){var e;return(e=f(this,ir))==null?void 0:e.data}set altTextData(e){f(this,ir)&&(f(this,ir).data=e)}get guessedAltText(){var e;return(e=f(this,ir))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=f(this,ir))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=f(this,ir))==null?void 0:t.serialize(e)}hasAltText(){return!!f(this,ir)&&!f(this,ir).isEmpty()}hasAltTextData(){var e;return((e=f(this,ir))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=f(this,Mn))==null||e.focusButton()}addCommentButton(){return this.canAddComment?f(this,Mn)||D(this,Mn,new yT(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(f(this,vu)){this._uiManager.isEditingMode()&&f(this,vu).classList.remove("hidden");return}this.hasComment&&(D(this,vu,f(this,Mn).renderForStandalone()),this.div.append(f(this,vu)))}}removeStandaloneCommentButton(){f(this,Mn).removeStandaloneCommentButton(),D(this,vu,null)}hideStandaloneCommentButton(){var e;(e=f(this,vu))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:r,deleted:i}}=f(this,Mn);return{text:t,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){f(this,Mn)||D(this,Mn,new yT(this)),f(this,Mn).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:r}){if(!t||(f(this,Mn)||D(this,Mn,new yT(this)),f(this,Mn).setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=f(this,Mn))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=f(this,Mn))==null?void 0:e.isDeleted()}get hasComment(){return!!f(this,Mn)&&!f(this,Mn).isEmpty()&&!f(this,Mn).isDeleted()}async editComment(e){f(this,Mn)||D(this,Mn,new yT(this)),f(this,Mn).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){f(this,Mn).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[o]=this.pageTranslation,a=o+s+1,l=i-100,u=a+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[a,l,u,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){f(this,Mn).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var o;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=f(this,sv)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),H(this,ct,PF).call(this);const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),bQ(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(f(this,Lp)||D(this,Lp,new Dx({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:H(this,ct,$Q).bind(this),onPinching:H(this,ct,jQ).bind(this),onPinchEnd:H(this,ct,UQ).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(o=this._uiManager._editorUndoBar)==null||o.hide(),e}pointerdown(e){const{isMac:t}=Bi.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(D(this,Mp,!0),this._isDraggable){H(this,ct,VQ).call(this,e);return}H(this,ct,kF).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){f(this,tc)&&clearTimeout(f(this,tc)),D(this,tc,setTimeout(()=>{var e;D(this,tc,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,u=e/i,h=t/i,p=this.x*s,m=this.y*o,y=this.width*s,b=this.height*o;switch(r){case 0:return[p+u+a,o-m-h-b+l,p+u+y+a,o-m-h+l];case 90:return[p+h+a,o-m+u+l,p+h+b+a,o-m+u+y+l];case 180:return[p-u-y+a,o-m+h+l,p-u+a,o-m+h+b+l];case 270:return[p-h-b+a,o-m-u-y+l,p-h+a,o-m-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-i,l,a];case 180:return[s,t-i,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&_t._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=f(this,Mn))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:r,opacity:i,deleted:s,richText:o},uid:a,pageIndex:l,creationDate:u,modificationDate:h}=this;return{id:a,pageIndex:l,rect:this.getPDFRect(),richText:o,contentsObj:{str:e},creationDate:u,modificationDate:r||h,popupRef:!s,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),D(this,Op,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),D(this,Op,!1),!0):!1}isInEditMode(){return f(this,Op)}shouldGetKeyboardEvents(){return f(this,bu)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return t<o&&i>0&&e<s&&r>0}rebuild(){H(this,ct,PF).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,D(i,Pp,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,o]=i.pageDimensions,[a,l,u,h]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=u/s,i.height=h/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t,r;if((e=f(this,vh))==null||e.abort(),D(this,vh,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),f(this,tc)&&(clearTimeout(f(this,tc)),D(this,tc,null)),H(this,ct,Tb).call(this),this.removeEditToolbar(),f(this,ca)){for(const i of f(this,ca).values())clearTimeout(i);D(this,ca,null)}this.parent=null,(t=f(this,Lp))==null||t.destroy(),D(this,Lp,null),(r=f(this,la))==null||r.remove(),D(this,la,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(H(this,ct,NQ).call(this),f(this,Ri).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[r,i,s,o]=this.getPDFRect();return[_t._round(r+(s-r)*e),_t._round(i+(o-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return f(this,Mn).commentPopupPositionInLayer}set commentPopupPosition(e){f(this,Mn).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return f(this,Mn).hasDefaultPopupPosition()}get commentButtonWidth(){return f(this,Mn).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;(t=f(this,Mn))==null||t.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),D(this,wu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=f(this,Ri).children;if(!f(this,rl)){D(this,rl,Array.from(t));const o=H(this,ct,HQ).bind(this),a=H(this,ct,zQ).bind(this),l=this._uiManager._signal;for(const u of f(this,rl)){const h=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:l}),u.addEventListener("blur",a,{signal:l}),u.addEventListener("focus",H(this,ct,WQ).bind(this,h),{signal:l}),u.setAttribute("data-l10n-id",_t._l10nResizer[h])}}const r=f(this,rl)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(f(this,rl).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)f(this,Ri).append(f(this,Ri).firstChild);else if(s>i)for(let a=0;a<s-i;a++)f(this,Ri).firstChild.before(f(this,Ri).lastChild);let o=0;for(const a of t){const u=f(this,rl)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",_t._l10nResizer[u])}}H(this,ct,DF).call(this,0),D(this,bu,!0),f(this,Ri).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){f(this,bu)&&H(this,ct,IF).call(this,f(this,fS),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){H(this,ct,Tb).call(this),this.div.focus()}select(){var e,t,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=f(this,ir))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,r,i,s;this.isSelected&&(this.isSelected=!1,(e=f(this,Ri))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=f(this,ir))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return f(this,pS)}set isEditing(e){D(this,pS,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){f(this,ca)||D(this,ca,new Map);const{action:r}=e;let i=f(this,ca).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),f(this,ca).delete(r),f(this,ca).size===0&&D(this,ca,null)},_t._telemetryTimeout),f(this,ca).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),D(this,sv,!1)}disable(){this.div&&(this.div.tabIndex=-1),D(this,sv,!0)}updateFakeAnnotationElement(e){if(!f(this,la)&&!this.deleted){D(this,la,e.addFakeAnnotation(this));return}if(this.deleted){f(this,la).remove(),D(this,la,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&f(this,la).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Pp=new WeakMap,rl=new WeakMap,ir=new WeakMap,Mn=new WeakMap,vu=new WeakMap,sv=new WeakMap,yh=new WeakMap,hS=new WeakMap,Ri=new WeakMap,Dp=new WeakMap,wu=new WeakMap,la=new WeakMap,vh=new WeakMap,fS=new WeakMap,Mp=new WeakMap,mo=new WeakMap,pS=new WeakMap,Op=new WeakMap,bu=new WeakMap,tc=new WeakMap,ov=new WeakMap,av=new WeakMap,ca=new WeakMap,Lp=new WeakMap,mS=new WeakMap,Yx=new WeakMap,ct=new WeakSet,AF=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},gS=new WeakSet,xF=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},cA=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},NQ=function(){if(f(this,Ri))return;D(this,Ri,document.createElement("div")),f(this,Ri).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");f(this,Ri).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",H(this,ct,BQ).bind(this,r),{signal:t}),i.addEventListener("contextmenu",ka,{signal:t}),i.tabIndex=-1}this.div.prepend(f(this,Ri))},BQ=function(e,t){var h;t.preventDefault();const{isMac:r}=Bi.platform;if(t.button!==0||t.ctrlKey&&r)return;(h=f(this,ir))==null||h.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,D(this,Dp,[t.screenX,t.screenY]);const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",H(this,ct,IF).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",xr,{passive:!1,signal:o}),window.addEventListener("contextmenu",ka,{signal:o}),D(this,wu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var p;s.abort(),this.parent.togglePointerEvents(!0),(p=f(this,ir))==null||p.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=a,this.div.style.cursor=l,H(this,ct,uA).call(this)};window.addEventListener("pointerup",u,{signal:o}),window.addEventListener("blur",u,{signal:o})},RF=function(e,t,r,i){this.width=r,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},uA=function(){if(!f(this,wu))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=f(this,wu);D(this,wu,null);const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===r&&l===i||this.addCommands({cmd:H(this,ct,RF).bind(this,s,o,a,l),undo:H(this,ct,RF).bind(this,e,t,r,i),mustExec:!0})},IF=function(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,u=_t.MIN_SIZE/r,h=_t.MIN_SIZE/i,p=H(this,ct,cA).call(this,this.rotation),m=(X,ne)=>[p[0]*X+p[2]*ne,p[1]*X+p[3]*ne],y=H(this,ct,cA).call(this,360-this.rotation),b=(X,ne)=>[y[0]*X+y[2]*ne,y[1]*X+y[3]*ne];let w,_,E=!1,T=!1;switch(e){case"topLeft":E=!0,w=(X,ne)=>[0,0],_=(X,ne)=>[X,ne];break;case"topMiddle":w=(X,ne)=>[X/2,0],_=(X,ne)=>[X/2,ne];break;case"topRight":E=!0,w=(X,ne)=>[X,0],_=(X,ne)=>[0,ne];break;case"middleRight":T=!0,w=(X,ne)=>[X,ne/2],_=(X,ne)=>[0,ne/2];break;case"bottomRight":E=!0,w=(X,ne)=>[X,ne],_=(X,ne)=>[0,0];break;case"bottomMiddle":w=(X,ne)=>[X/2,ne],_=(X,ne)=>[X/2,0];break;case"bottomLeft":E=!0,w=(X,ne)=>[0,ne],_=(X,ne)=>[X,0];break;case"middleLeft":T=!0,w=(X,ne)=>[0,ne/2],_=(X,ne)=>[X,ne/2];break}const C=w(a,l),x=_(a,l);let I=m(...x);const F=_t._round(s+I[0]),k=_t._round(o+I[1]);let L=1,N=1,A,B;if(t.fromKeyboard)({deltaX:A,deltaY:B}=t);else{const{screenX:X,screenY:ne}=t,[J,se]=f(this,Dp);[A,B]=this.screenToPageTranslation(X-J,ne-se),f(this,Dp)[0]=X,f(this,Dp)[1]=ne}if([A,B]=b(A/r,B/i),E){const X=Math.hypot(a,l);L=N=Math.max(Math.min(Math.hypot(x[0]-C[0]-A,x[1]-C[1]-B)/X,1/a,1/l),u/a,h/l)}else T?L=bs(Math.abs(x[0]-C[0]-A),u,1)/a:N=bs(Math.abs(x[1]-C[1]-B),h,1)/l;const z=_t._round(a*L),U=_t._round(l*N);I=m(..._(z,U));const Q=F-I[0],te=k-I[1];f(this,mo)||D(this,mo,[this.x,this.y,this.width,this.height]),this.width=z,this.height=U,this.x=Q,this.y=te,this.setDims(),this.fixAndSetPosition(),this._onResizing()},$Q=function(){var e;D(this,wu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=f(this,ir))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},jQ=function(e,t,r){let s=.7*(r/t)+1-.7;if(s===1)return;const o=H(this,ct,cA).call(this,this.rotation),a=(F,k)=>[o[0]*F+o[2]*k,o[1]*F+o[3]*k],[l,u]=this.parentDimensions,h=this.x,p=this.y,m=this.width,y=this.height,b=_t.MIN_SIZE/l,w=_t.MIN_SIZE/u;s=Math.max(Math.min(s,1/m,1/y),b/m,w/y);const _=_t._round(m*s),E=_t._round(y*s);if(_===m&&E===y)return;f(this,mo)||D(this,mo,[h,p,m,y]);const T=a(m/2,y/2),C=_t._round(h+T[0]),x=_t._round(p+T[1]),I=a(_/2,E/2);this.x=C-I[0],this.y=x-I[1],this.width=_,this.height=E,this.setDims(),this.fixAndSetPosition(),this._onResizing()},UQ=function(){var e;(e=f(this,ir))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),H(this,ct,uA).call(this)},kF=function(e){const{isMac:t}=Bi.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},VQ=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),o={capture:!0,passive:!1,signal:s},a=u=>{i.abort(),D(this,yh,null),D(this,Mp,!1),this._uiManager.endDragSession()||H(this,ct,kF).call(this,u),r&&this._onStopDragging()};t&&(D(this,ov,e.clientX),D(this,av,e.clientY),D(this,yh,e.pointerId),D(this,hS,e.pointerType),window.addEventListener("pointermove",u=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:h,clientY:p,pointerId:m}=u;if(m!==f(this,yh)){xr(u);return}const[y,b]=this.screenToPageTranslation(h-f(this,ov),p-f(this,av));D(this,ov,h),D(this,av,p),this._uiManager.dragSelectedEditors(y,b)},o),window.addEventListener("touchmove",xr,o),window.addEventListener("pointerdown",u=>{u.pointerType===f(this,hS)&&(f(this,Lp)||u.isPrimary)&&a(u),xr(u)},o));const l=u=>{if(!f(this,yh)||f(this,yh)===u.pointerId){a(u);return}xr(u)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},PF=function(){if(f(this,vh)||!this.div)return;D(this,vh,new AbortController);const e=this._uiManager.combinedSignal(f(this,vh));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},HQ=function(e){_t._resizerKeyboardManager.exec(this,e)},zQ=function(e){var t;f(this,bu)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==f(this,Ri)&&H(this,ct,Tb).call(this)},WQ=function(e){D(this,fS,f(this,bu)?e:"")},DF=function(e){if(f(this,rl))for(const t of f(this,rl))t.tabIndex=e},Tb=function(){D(this,bu,!1),H(this,ct,DF).call(this,-1),H(this,ct,uA).call(this)},j(_t,gS),_e(_t,"_l10n",null),_e(_t,"_l10nResizer",null),_e(_t,"_borderLineWidth",-1),_e(_t,"_colorManager",new bF),_e(_t,"_zIndex",1),_e(_t,"_telemetryTimeout",1e3);let Hn=_t;class Lke extends Hn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const bq=3285377520,Zo=4294901760,Hl=65535;class qQ{constructor(e){this.h1=e?e&4294967295:bq,this.h2=e?e&4294967295:bq}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let w=0,_=e.length;w<_;w++){const E=e.charCodeAt(w);E<=255?t[r++]=E:(t[r++]=E>>>8,t[r++]=E&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,l=0,u=this.h1,h=this.h2;const p=3432918353,m=461845907,y=p&Hl,b=m&Hl;for(let w=0;w<i;w++)w&1?(a=o[w],a=a*p&Zo|a*y&Hl,a=a<<15|a>>>17,a=a*m&Zo|a*b&Hl,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(l=o[w],l=l*p&Zo|l*y&Hl,l=l<<15|l>>>17,l=l*m&Zo|l*b&Hl,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*p&Zo|a*y&Hl,a=a<<15|a>>>17,a=a*m&Zo|a*b&Hl,i&1?u^=a:h^=a}this.h1=u,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Zo|e*36045&Hl,t=t*4283543511&Zo|((t<<16|e>>>16)*2950163797&Zo)>>>16,e^=t>>>1,e=e*444984403&Zo|e*60499&Hl,t=t*3301882366&Zo|((t<<16|e>>>16)*3120437893&Zo)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const MF=Object.freeze({map:null,hash:"",transfer:void 0});var Fp,Np,_u,Ii,Kx,GQ;class Vj{constructor(){j(this,Kx);j(this,Fp,!1);j(this,Np,null);j(this,_u,null);j(this,Ii,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=f(this,Ii).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return f(this,Ii).get(e)}remove(e){const t=f(this,Ii).get(e);if(t!==void 0&&(t instanceof Hn&&f(this,_u).delete(t.annotationElementId),f(this,Ii).delete(e),f(this,Ii).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of f(this,Ii).values())if(r instanceof Hn)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=f(this,Ii).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,f(this,Ii).set(e,t);i&&H(this,Kx,GQ).call(this),t instanceof Hn&&((f(this,_u)||D(this,_u,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return f(this,Ii).has(e)}get size(){return f(this,Ii).size}resetModified(){f(this,Fp)&&(D(this,Fp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new YQ(this)}get serializable(){if(f(this,Ii).size===0)return MF;const e=new Map,t=new qQ,r=[],i=Object.create(null);let s=!1;for(const[o,a]of f(this,Ii)){const l=a instanceof Hn?a.serialize(!1,i):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:MF}get editorStats(){let e=null;const t=new Map;let r=0,i=0;for(const s of f(this,Ii).values()){if(!(s instanceof Hn)){s.popup&&(s.popup.deleted?i+=1:r+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(r+=1);const o=s.telemetryFinalData;if(!o)continue;const{type:a}=o;t.has(a)||t.set(a,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[a]||(e[a]=new Map);for(const[u,h]of Object.entries(o)){if(u==="type")continue;let p=l.get(u);p||(p=new Map,l.set(u,p));const m=p.get(h)??0;p.set(h,m+1)}}if((i>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:r}),!e)return null;for(const[s,o]of t)e[s]=o.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){D(this,Np,null)}updateEditor(e,t){var i;const r=(i=f(this,_u))==null?void 0:i.get(e);return r?(r.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=f(this,_u))==null?void 0:t.get(e))||null}get modifiedIds(){if(f(this,Np))return f(this,Np);const e=[];if(f(this,_u))for(const t of f(this,_u).values())t.serialize()&&e.push(t.annotationElementId);return D(this,Np,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return f(this,Ii).entries()}}Fp=new WeakMap,Np=new WeakMap,_u=new WeakMap,Ii=new WeakMap,Kx=new WeakSet,GQ=function(){f(this,Fp)||(D(this,Fp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var yS;class YQ extends Vj{constructor(t){super();j(this,yS);const{map:r,hash:i,transfer:s}=t.serializable,o=structuredClone(r,s?{transfer:s}:null);D(this,yS,{map:o,hash:i,transfer:s})}get print(){Bn("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,yS)}get modifiedIds(){return Tt(this,"modifiedIds",{ids:new Set,hash:""})}}yS=new WeakMap;var lv;class Fke{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){j(this,lv,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),f(this,lv).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(!(!e||f(this,lv).has(e.loadedName))){if(Kt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:o}=e,a=new FontFace(i,s,o);this.addNativeFontFace(a);try{await a.load(),f(this,lv).add(i),r==null||r(e)}catch{yt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Bn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw yt(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Tt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Tt(this,"isSyncFontLoadingSupported",ws||Bi.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Kt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Tt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(x,I){return x.charCodeAt(I)<<24|x.charCodeAt(I+1)<<16|x.charCodeAt(I+2)<<8|x.charCodeAt(I+3)&255}function i(x,I,F,k){const L=x.substring(0,I),N=x.substring(I+F);return L+k+N}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let u=0;function h(x,I){if(++u>30){yt("Load test font never loaded."),I();return}if(l.font="30px "+x,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){I();return}setTimeout(h.bind(null,x,I))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=i(m,976,p.length,p);const b=16,w=1482184792;let _=r(m,b);for(s=0,o=p.length-3;s<o;s+=4)_=_-w+r(p,s)|0;s<p.length&&(_=_-w+r(p+"XXX",s)|0),m=i(m,b,4,gke(_));const E=`url(data:font/opentype;base64,${btoa(m)});`,T=`@font-face {font-family:"${p}";src:${E}}`;this.insertRule(T);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const x of[e.loadedName,p]){const I=this._document.createElement("span");I.textContent="Hi",I.style.fontFamily=x,C.append(I)}this._document.body.append(C),h(p,()=>{C.remove(),t.complete()})}}lv=new WeakMap;var En;class Nke{constructor(e,t=null,r,i){j(this,En);this.compiledGlyphs=Object.create(null),D(this,En,e),this._inspectFont=t,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${dQ(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let i;try{i=e.get(r)}catch(o){yt(`getPathGenerator - ignoring character: "${o}".`)}const s=pQ(i);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=s}get black(){return f(this,En).black}get bold(){return f(this,En).bold}get disableFontFace(){return f(this,En).disableFontFace??!1}get fontExtraProperties(){return f(this,En).fontExtraProperties??!1}get isInvalidPDFjsFont(){return f(this,En).isInvalidPDFjsFont}get isType3Font(){return f(this,En).isType3Font}get italic(){return f(this,En).italic}get missingFile(){return f(this,En).missingFile}get remeasure(){return f(this,En).remeasure}get vertical(){return f(this,En).vertical}get ascent(){return f(this,En).ascent}get defaultWidth(){return f(this,En).defaultWidth}get descent(){return f(this,En).descent}get bbox(){return f(this,En).bbox}get fontMatrix(){return f(this,En).fontMatrix}get fallbackName(){return f(this,En).fallbackName}get loadedName(){return f(this,En).loadedName}get mimetype(){return f(this,En).mimetype}get name(){return f(this,En).name}get data(){return f(this,En).data}clearData(){f(this,En).clearData()}get cssFontInfo(){return f(this,En).cssFontInfo}get systemFontInfo(){return f(this,En).systemFontInfo}get defaultVMetrics(){return f(this,En).defaultVMetrics}}En=new WeakMap;var cv,uv,vS,dv,dA;const xy=class xy{constructor(e){j(this,dv);j(this,cv);j(this,uv);j(this,vS);D(this,cv,e),D(this,uv,new DataView(f(this,cv))),D(this,vS,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let i=0;for(const u of xy.strings){const h=t.encode(e[u]);r[u]=h,i+=4+h.length}const s=new ArrayBuffer(i),o=new Uint8Array(s),a=new DataView(s);let l=0;for(const u of xy.strings){const h=r[u],p=h.length;a.setUint32(l,p),o.set(h,l+4),l+=4+p}return Kt(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return H(this,dv,dA).call(this,0)}get fontWeight(){return H(this,dv,dA).call(this,1)}get italicAngle(){return H(this,dv,dA).call(this,2)}};cv=new WeakMap,uv=new WeakMap,vS=new WeakMap,dv=new WeakSet,dA=function(e){Kt(e<xy.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=f(this,uv).getUint32(t)+4;const r=f(this,uv).getUint32(t);return f(this,vS).decode(new Uint8Array(f(this,cv),t+4,r))},_e(xy,"strings",["fontFamily","fontWeight","italicAngle"]);let Mx=xy;var wh,nc,Bp,$p,Ab;const Ry=class Ry{constructor(e){j(this,$p);j(this,wh);j(this,nc);j(this,Bp);D(this,wh,e),D(this,nc,new DataView(f(this,wh))),D(this,Bp,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let i=0;for(const m of Ry.strings){const y=t.encode(e[m]);r[m]=y,i+=4+y.length}i+=4;let s,o,a=1+i;e.style&&(s=t.encode(e.style.style),o=t.encode(e.style.weight),a+=4+s.length+4+o.length);const l=new ArrayBuffer(a),u=new Uint8Array(l),h=new DataView(l);let p=0;h.setUint8(p++,e.guessFallback?1:0),h.setUint32(p,0),p+=4,i=0;for(const m of Ry.strings){const y=r[m],b=y.length;i+=4+b,h.setUint32(p,b),u.set(y,p+4),p+=4+b}return h.setUint32(p-i-4,i),e.style&&(h.setUint32(p,s.length),u.set(s,p+4),p+=4+s.length,h.setUint32(p,o.length),u.set(o,p+4),p+=4+o.length),Kt(p<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(p)}get guessFallback(){return f(this,nc).getUint8(0)!==0}get css(){return H(this,$p,Ab).call(this,0)}get loadedName(){return H(this,$p,Ab).call(this,1)}get baseFontName(){return H(this,$p,Ab).call(this,2)}get src(){return H(this,$p,Ab).call(this,3)}get style(){let e=1;e+=4+f(this,nc).getUint32(e);const t=f(this,nc).getUint32(e),r=f(this,Bp).decode(new Uint8Array(f(this,wh),e+4,t));e+=4+t;const i=f(this,nc).getUint32(e),s=f(this,Bp).decode(new Uint8Array(f(this,wh),e+4,i));return{style:r,weight:s}}};wh=new WeakMap,nc=new WeakMap,Bp=new WeakMap,$p=new WeakSet,Ab=function(e){Kt(e<Ry.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=f(this,nc).getUint32(t)+4;const r=f(this,nc).getUint32(t);return f(this,Bp).decode(new Uint8Array(f(this,wh),t+4,r))},_e(Ry,"strings",["css","loadedName","baseFontName","src"]);let Ox=Ry;var hv,fv,pv,mv,go,rc,wS,Cn,Ar,Za,hA,xb;const Et=class Et{constructor({data:e,extra:t}){j(this,Ar);j(this,rc);j(this,wS);j(this,Cn);D(this,rc,e),D(this,wS,new TextDecoder),D(this,Cn,new DataView(f(this,rc))),t&&Object.assign(this,t)}get black(){return H(this,Ar,Za).call(this,0)}get bold(){return H(this,Ar,Za).call(this,1)}get disableFontFace(){return H(this,Ar,Za).call(this,2)}get fontExtraProperties(){return H(this,Ar,Za).call(this,3)}get isInvalidPDFjsFont(){return H(this,Ar,Za).call(this,4)}get isType3Font(){return H(this,Ar,Za).call(this,5)}get italic(){return H(this,Ar,Za).call(this,6)}get missingFile(){return H(this,Ar,Za).call(this,7)}get remeasure(){return H(this,Ar,Za).call(this,8)}get vertical(){return H(this,Ar,Za).call(this,9)}get ascent(){return H(this,Ar,hA).call(this,0)}get defaultWidth(){return H(this,Ar,hA).call(this,1)}get descent(){return H(this,Ar,hA).call(this,2)}get bbox(){let e=f(Et,fv);if(f(this,Cn).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(f(this,Cn).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=f(Et,pv);if(f(this,Cn).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(f(this,Cn).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=f(Et,mv);if(f(this,Cn).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(f(this,Cn).getInt16(e,!0)),e+=2;return r}get fallbackName(){return H(this,Ar,xb).call(this,0)}get loadedName(){return H(this,Ar,xb).call(this,1)}get mimetype(){return H(this,Ar,xb).call(this,2)}get name(){return H(this,Ar,xb).call(this,3)}get data(){let e=f(Et,go);const t=f(this,Cn).getUint32(e);e+=4+t;const r=f(this,Cn).getUint32(e);e+=4+r;const i=f(this,Cn).getUint32(e);e+=4+i;const s=f(this,Cn).getUint32(e);if(s!==0)return new Uint8Array(f(this,rc),e+4,s)}clearData(){let e=f(Et,go);const t=f(this,Cn).getUint32(e);e+=4+t;const r=f(this,Cn).getUint32(e);e+=4+r;const i=f(this,Cn).getUint32(e);e+=4+i;const s=f(this,Cn).getUint32(e);new Uint8Array(f(this,rc),e+4,s).fill(0),f(this,Cn).setUint32(e,0)}get cssFontInfo(){let e=f(Et,go);const t=f(this,Cn).getUint32(e);e+=4+t;const r=f(this,Cn).getUint32(e);e+=4+r;const i=f(this,Cn).getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(f(this,rc),e+4,i)),new Mx(s.buffer)}get systemFontInfo(){let e=f(Et,go);const t=f(this,Cn).getUint32(e);e+=4+t;const r=f(this,Cn).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(f(this,rc),e+4,r)),new Ox(i.buffer)}static write(e){const t=e.systemFontInfo?Ox.write(e.systemFontInfo):null,r=e.cssFontInfo?Mx.write(e.cssFontInfo):null,i=new TextEncoder,s={};let o=0;for(const w of Et.strings)s[w]=i.encode(e[w]),o+=4+s[w].length;const a=f(Et,go)+4+o+4+(t?t.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(a),u=new Uint8Array(l),h=new DataView(l);let p=0;const m=Et.bools.length;let y=0,b=0;for(let w=0;w<m;w++){const _=e[Et.bools[w]];y|=(_===void 0?0:_?2:1)<<b,b+=2,(b===8||w===m-1)&&(h.setUint8(p++,y),y=0,b=0)}Kt(p===f(Et,hv),"FontInfo.write: Boolean properties offset mismatch");for(const w of Et.numbers)h.setFloat64(p,e[w]),p+=8;if(Kt(p===f(Et,fv),"FontInfo.write: Number properties offset mismatch"),e.bbox){h.setUint8(p++,4);for(const w of e.bbox)h.setInt16(p,w,!0),p+=2}else h.setUint8(p++,0),p+=8;if(Kt(p===f(Et,pv),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){h.setUint8(p++,6);for(const w of e.fontMatrix)h.setFloat64(p,w,!0),p+=8}else h.setUint8(p++,0),p+=48;if(Kt(p===f(Et,mv),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){h.setUint8(p++,1);for(const w of e.defaultVMetrics)h.setInt16(p,w,!0),p+=2}else h.setUint8(p++,0),p+=6;Kt(p===f(Et,go),"FontInfo.write: DefaultVMetrics properties offset mismatch"),h.setUint32(f(Et,go),0),p+=4;for(const w of Et.strings){const _=s[w],E=_.length;h.setUint32(p,E),u.set(_,p+4),p+=4+E}if(h.setUint32(f(Et,go),p-f(Et,go)-4),!t)h.setUint32(p,0),p+=4;else{const w=t.byteLength;h.setUint32(p,w),Kt(p+4+w<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),p+4),p+=4+w}if(!r)h.setUint32(p,0),p+=4;else{const w=r.byteLength;h.setUint32(p,w),Kt(p+4+w<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(r),p+4),p+=4+w}return e.data===void 0?(h.setUint32(p,0),p+=4):(h.setUint32(p,e.data.length),u.set(e.data,p+4),p+=4+e.data.length),Kt(p<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(p)}};hv=new WeakMap,fv=new WeakMap,pv=new WeakMap,mv=new WeakMap,go=new WeakMap,rc=new WeakMap,wS=new WeakMap,Cn=new WeakMap,Ar=new WeakSet,Za=function(e){Kt(e<Et.bools.length,"Invalid boolean index");const t=Math.floor(e/4),r=e*2%8,i=f(this,Cn).getUint8(t)>>r&3;return i===0?void 0:i===2},hA=function(e){return Kt(e<Et.numbers.length,"Invalid number index"),f(this,Cn).getFloat64(f(Et,hv)+e*8)},xb=function(e){Kt(e<Et.strings.length,"Invalid string index");let t=f(Et,go)+4;for(let s=0;s<e;s++)t+=f(this,Cn).getUint32(t)+4;const r=f(this,Cn).getUint32(t),i=new Uint8Array(r);return i.set(new Uint8Array(f(this,rc),t+4,r)),f(this,wS).decode(i)},_e(Et,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),_e(Et,"numbers",["ascent","defaultWidth","descent"]),_e(Et,"strings",["fallbackName","loadedName","mimetype","name"]),j(Et,hv,Math.ceil(Et.bools.length*2/8)),j(Et,fv,f(Et,hv)+Et.numbers.length*8),j(Et,pv,f(Et,fv)+1+8),j(Et,mv,f(Et,pv)+1+48),j(Et,go,f(Et,mv)+1+6);let OF=Et;var bS,_S,SS,ES,CS,TS,AS,xS;const Un=class Un{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,r=null,i=[],s=[],o=[],a=[],l=null,u=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,r=e[2],o=e[3],t===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,l=e[1],i=e[2],s=e[3],a=e[4]||[],r=e[6],u=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const h=Math.floor(i.length/2),p=Math.floor(s.length/3),m=o.length,y=a.length;let b=0;for(const I of a)b+=1,b=Math.ceil(b/4)*4,b+=4+I.coords.length*4,b+=4+I.colors.length*4,I.verticesPerRow!==void 0&&(b+=4);const w=20+h*8+p*3+m*8+(r?16:0)+(u?3:0)+b,_=new ArrayBuffer(w),E=new DataView(_),T=new Uint8Array(_);E.setUint8(f(Un,bS),t),E.setUint8(f(Un,_S),r?1:0),E.setUint8(f(Un,SS),u?1:0),E.setUint8(f(Un,ES),l),E.setUint32(f(Un,CS),h,!0),E.setUint32(f(Un,TS),p,!0),E.setUint32(f(Un,AS),m,!0),E.setUint32(f(Un,xS),y,!0);let C=20;new Float32Array(_,C,h*2).set(i),C+=h*8,T.set(s,C),C+=p*3;for(const[I,F]of o)E.setFloat32(C,I,!0),C+=4,E.setUint32(C,parseInt(F.slice(1),16),!0),C+=4;if(r)for(const I of r)E.setFloat32(C,I,!0),C+=4;u&&(T.set(u,C),C+=3);for(let I=0;I<a.length;I++){const F=a[I];E.setUint8(C,F.type),C+=1,C=Math.ceil(C/4)*4,E.setUint32(C,F.coords.length,!0),C+=4,new Int32Array(_,C,F.coords.length).set(F.coords),C+=F.coords.length*4,E.setUint32(C,F.colors.length,!0),C+=4,new Int32Array(_,C,F.colors.length).set(F.colors),C+=F.colors.length*4,F.verticesPerRow!==void 0&&(E.setUint32(C,F.verticesPerRow,!0),C+=4)}return _}getIR(){const e=this.view,t=this.data[f(Un,bS)],r=!!this.data[f(Un,_S)],i=!!this.data[f(Un,SS)],s=e.getUint32(f(Un,CS),!0),o=e.getUint32(f(Un,TS),!0),a=e.getUint32(f(Un,AS),!0),l=e.getUint32(f(Un,xS),!0);let u=20;const h=new Float32Array(this.buffer,u,s*2);u+=s*8;const p=new Uint8Array(this.buffer,u,o*3);u+=o*3;const m=[];for(let _=0;_<a;++_){const E=e.getFloat32(u,!0);u+=4;const T=e.getUint32(u,!0);u+=4,m.push([E,`#${T.toString(16).padStart(6,"0")}`])}let y=null;if(r){y=[];for(let _=0;_<4;++_)y.push(e.getFloat32(u,!0)),u+=4}let b=null;i&&(b=new Uint8Array(this.buffer,u,3),u+=3);const w=[];for(let _=0;_<l;++_){const E=e.getUint8(u);u+=1,u=Math.ceil(u/4)*4;const T=e.getUint32(u,!0);u+=4;const C=new Int32Array(this.buffer,u,T);u+=T*4;const x=e.getUint32(u,!0);u+=4;const I=new Int32Array(this.buffer,u,x);u+=x*4;const F={type:E,coords:C,colors:I};E===hF.LATTICE&&(F.verticesPerRow=e.getUint32(u,!0),u+=4),w.push(F)}if(t===1)return["RadialAxial","axial",y,m,Array.from(h.slice(0,2)),Array.from(h.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",y,m,[h[0],h[1]],[h[3],h[4]],h[2],h[5]];if(t===3){const _=this.data[f(Un,ES)];let E=null;if(h.length>0){let T=h[0],C=h[0],x=h[1],I=h[1];for(let F=0;F<h.length;F+=2){const k=h[F],L=h[F+1];T=T>k?k:T,x=x>L?L:x,C=C<k?k:C,I=I<L?L:I}E=[T,x,C,I]}return["Mesh",_,h,p,w,E,y,b]}throw new Error(`Unsupported pattern kind: ${t}`)}};bS=new WeakMap,_S=new WeakMap,SS=new WeakMap,ES=new WeakMap,CS=new WeakMap,TS=new WeakMap,AS=new WeakMap,xS=new WeakMap,j(Un,bS,0),j(Un,_S,1),j(Un,SS,2),j(Un,ES,3),j(Un,CS,4),j(Un,TS,8),j(Un,AS,12),j(Un,xS,16);let LF=Un;function Bke(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(ws)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function $ke(n){if(ws&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return v1(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function vT(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const FF=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,jke=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",Uke=_ke.bind(null,FF,jke);var Su,Xx;class Vke{constructor(){j(this,Su,new Map);j(this,Xx,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};f(this,Xx).then(()=>{for(const[i]of f(this,Su))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){yt("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}f(this,Su).set(t,i)}removeEventListener(e,t){const r=f(this,Su).get(t);r==null||r(),f(this,Su).delete(t)}terminate(){for(const[,e]of f(this,Su))e==null||e();f(this,Su).clear()}}Su=new WeakMap,Xx=new WeakMap;const wT={DATA:1,ERROR:2},jr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function _q(){}function Fs(n){if(n instanceof ff||n instanceof fF||n instanceof fq||n instanceof Ix||n instanceof HO)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Bn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ff(n.message);case"InvalidPDFException":return new fF(n.message);case"PasswordException":return new fq(n.message,n.code);case"ResponseException":return new Ix(n.message,n.status,n.missing);case"UnknownErrorException":return new HO(n.message,n.details)}return new HO(n.message,n.toString())}var gv,Ea,KQ,XQ,JQ,fA;class Rb{constructor(e,t,r){j(this,Ea);j(this,gv,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",H(this,Ea,KQ).bind(this),{signal:f(this,gv).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:u.desiredSize},i),h.promise},pull:u=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,l.postMessage({sourceName:o,targetName:a,stream:jr.PULL,streamId:s,desiredSize:u.desiredSize}),h.promise},cancel:u=>{Kt(u instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:jr.CANCEL,streamId:s,reason:Fs(u)}),h.promise}},r)}destroy(){var e;(e=f(this,gv))==null||e.abort(),D(this,gv,null)}}gv=new WeakMap,Ea=new WeakSet,KQ=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){H(this,Ea,JQ).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===wT.DATA)i.resolve(e.data);else if(e.callback===wT.ERROR)i.reject(Fs(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(o){s.postMessage({sourceName:r,targetName:i,callback:wT.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:r,targetName:i,callback:wT.ERROR,callbackId:e.callbackId,reason:Fs(o)})});return}if(e.streamId){H(this,Ea,XQ).call(this,e);return}t(e.data)},XQ=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(u,h=1,p){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=h,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:jr.ENQUEUE,streamId:t,chunk:u},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:jr.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){Kt(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:jr.ERROR,streamId:t,reason:Fs(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(a,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:jr.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:jr.START_COMPLETE,streamId:t,reason:Fs(u)})})},JQ=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case jr.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Fs(e.reason));break;case jr.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Fs(e.reason));break;case jr.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:jr.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||_q).then(function(){s.postMessage({sourceName:r,targetName:i,stream:jr.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:jr.PULL_COMPLETE,streamId:t,reason:Fs(u)})});break;case jr.ENQUEUE:if(Kt(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case jr.CLOSE:if(Kt(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),H(this,Ea,fA).call(this,o,t);break;case jr.ERROR:Kt(o,"error should have stream controller"),o.controller.error(Fs(e.reason)),H(this,Ea,fA).call(this,o,t);break;case jr.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Fs(e.reason)),H(this,Ea,fA).call(this,o,t);break;case jr.CANCEL:if(!a)break;const l=Fs(e.reason);Promise.try(a.onCancel||_q,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:jr.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:jr.CANCEL_COMPLETE,streamId:t,reason:Fs(u)})}),a.sinkCapability.reject(l),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},fA=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var RS;class QQ{constructor({enableHWA:e=!1}){j(this,RS,!1);D(this,RS,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!f(this,RS)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Bn("Abstract method `_createCanvas` called.")}}RS=new WeakMap;class Hke extends QQ{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class ZQ{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Bn("Abstract method `_fetch` called.")}}class Sq extends ZQ{async _fetch(e){const t=await w1(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):v1(t)}}class eZ{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var jp,yv,Eu,Cu,Qi,Up,Vp,He,Yi,Ib,my,pA,gy,tZ,NF,yy,kb,Pb,BF,Db;class zke extends eZ{constructor({docId:t,ownerDocument:r=globalThis.document}){super();j(this,He);j(this,jp);j(this,yv);j(this,Eu);j(this,Cu);j(this,Qi);j(this,Up);j(this,Vp,0);D(this,Cu,t),D(this,Qi,r)}addFilter(t){if(!t)return"none";let r=f(this,He,Yi).get(t);if(r)return r;const[i,s,o]=H(this,He,pA).call(this,t),a=t.length===1?i:`${i}${s}${o}`;if(r=f(this,He,Yi).get(a),r)return f(this,He,Yi).set(t,r),r;const l=`g_${f(this,Cu)}_transfer_map_${Qr(this,Vp)._++}`,u=H(this,He,gy).call(this,l);f(this,He,Yi).set(t,u),f(this,He,Yi).set(a,u);const h=H(this,He,yy).call(this,l);return H(this,He,Pb).call(this,i,s,o,h),u}addHCMFilter(t,r){var b;const i=`${t}-${r}`,s="base";let o=f(this,He,Ib).get(s);if((o==null?void 0:o.key)===i||(o?((b=o.filter)==null||b.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},f(this,He,Ib).set(s,o)),!t||!r))return o.url;const a=H(this,He,Db).call(this,t);t=Ge.makeHexColor(...a);const l=H(this,He,Db).call(this,r);if(r=Ge.makeHexColor(...l),f(this,He,my).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const u=new Array(256);for(let w=0;w<=255;w++){const _=w/255;u[w]=_<=.03928?_/12.92:((_+.055)/1.055)**2.4}const h=u.join(","),p=`g_${f(this,Cu)}_hcm_filter`,m=o.filter=H(this,He,yy).call(this,p);H(this,He,Pb).call(this,h,h,h,m),H(this,He,NF).call(this,m);const y=(w,_)=>{const E=a[w]/255,T=l[w]/255,C=new Array(_+1);for(let x=0;x<=_;x++)C[x]=E+x/_*(T-E);return C.join(",")};return H(this,He,Pb).call(this,y(0,5),y(1,5),y(2,5),m),o.url=H(this,He,gy).call(this,p),o.url}addAlphaFilter(t){let r=f(this,He,Yi).get(t);if(r)return r;const[i]=H(this,He,pA).call(this,[t]),s=`alpha_${i}`;if(r=f(this,He,Yi).get(s),r)return f(this,He,Yi).set(t,r),r;const o=`g_${f(this,Cu)}_alpha_map_${Qr(this,Vp)._++}`,a=H(this,He,gy).call(this,o);f(this,He,Yi).set(t,a),f(this,He,Yi).set(s,a);const l=H(this,He,yy).call(this,o);return H(this,He,BF).call(this,i,l),a}addLuminosityFilter(t){let r=f(this,He,Yi).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=H(this,He,pA).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=f(this,He,Yi).get(s),r)return f(this,He,Yi).set(t,r),r;const o=`g_${f(this,Cu)}_luminosity_map_${Qr(this,Vp)._++}`,a=H(this,He,gy).call(this,o);f(this,He,Yi).set(t,a),f(this,He,Yi).set(s,a);const l=H(this,He,yy).call(this,o);return H(this,He,tZ).call(this,l),t&&H(this,He,BF).call(this,i,l),a}addHighlightHCMFilter(t,r,i,s,o){var T;const a=`${r}-${i}-${s}-${o}`;let l=f(this,He,Ib).get(t);if((l==null?void 0:l.key)===a||(l?((T=l.filter)==null||T.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},f(this,He,Ib).set(t,l)),!r||!i))return l.url;const[u,h]=[r,i].map(H(this,He,Db).bind(this));let p=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),m=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[y,b]=[s,o].map(H(this,He,Db).bind(this));m<p&&([p,m,y,b]=[m,p,b,y]),f(this,He,my).style.color="";const w=(C,x,I)=>{const F=new Array(256),k=(m-p)/I,L=C/255,N=(x-C)/(255*I);let A=0;for(let B=0;B<=I;B++){const z=Math.round(p+B*k),U=L+B*N;for(let Q=A;Q<=z;Q++)F[Q]=U;A=z+1}for(let B=A;B<256;B++)F[B]=F[A-1];return F.join(",")},_=`g_${f(this,Cu)}_hcm_${t}_filter`,E=l.filter=H(this,He,yy).call(this,_);return H(this,He,NF).call(this,E),H(this,He,Pb).call(this,w(y[0],b[0],5),w(y[1],b[1],5),w(y[2],b[2],5),E),l.url=H(this,He,gy).call(this,_),l.url}destroy(t=!1){var r,i,s,o;t&&((r=f(this,Up))!=null&&r.size)||((i=f(this,Eu))==null||i.parentNode.parentNode.remove(),D(this,Eu,null),(s=f(this,yv))==null||s.clear(),D(this,yv,null),(o=f(this,Up))==null||o.clear(),D(this,Up,null),D(this,Vp,0))}}jp=new WeakMap,yv=new WeakMap,Eu=new WeakMap,Cu=new WeakMap,Qi=new WeakMap,Up=new WeakMap,Vp=new WeakMap,He=new WeakSet,Yi=function(){return f(this,yv)||D(this,yv,new Map)},Ib=function(){return f(this,Up)||D(this,Up,new Map)},my=function(){if(!f(this,Eu)){const t=f(this,Qi).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=f(this,Qi).createElementNS(iu,"svg");i.setAttribute("width",0),i.setAttribute("height",0),D(this,Eu,f(this,Qi).createElementNS(iu,"defs")),t.append(i),i.append(f(this,Eu)),f(this,Qi).body.append(t)}return f(this,Eu)},pA=function(t){if(t.length===1){const u=t[0],h=new Array(256);for(let m=0;m<256;m++)h[m]=u[m]/255;const p=h.join(",");return[p,p,p]}const[r,i,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)o[u]=r[u]/255,a[u]=i[u]/255,l[u]=s[u]/255;return[o.join(","),a.join(","),l.join(",")]},gy=function(t){if(f(this,jp)===void 0){D(this,jp,"");const r=f(this,Qi).URL;r!==f(this,Qi).baseURI&&(LI(r)?yt('#createUrl: ignore "data:"-URL for performance reasons.'):D(this,jp,lQ(r,"")))}return`url(${f(this,jp)}#${t})`},tZ=function(t){const r=f(this,Qi).createElementNS(iu,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},NF=function(t){const r=f(this,Qi).createElementNS(iu,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},yy=function(t){const r=f(this,Qi).createElementNS(iu,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),f(this,He,my).append(r),r},kb=function(t,r,i){const s=f(this,Qi).createElementNS(iu,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},Pb=function(t,r,i,s){const o=f(this,Qi).createElementNS(iu,"feComponentTransfer");s.append(o),H(this,He,kb).call(this,o,"feFuncR",t),H(this,He,kb).call(this,o,"feFuncG",r),H(this,He,kb).call(this,o,"feFuncB",i)},BF=function(t,r){const i=f(this,Qi).createElementNS(iu,"feComponentTransfer");r.append(i),H(this,He,kb).call(this,i,"feFuncA",t)},Db=function(t){return f(this,He,my).style.color=t,_1(getComputedStyle(f(this,He,my)).getPropertyValue("color"))};class nZ{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Bn("Abstract method `_fetch` called.")}}class Eq extends nZ{async _fetch(e){const t=await w1(e,"arraybuffer");return new Uint8Array(t)}}class rZ{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Bn("Abstract method `_fetch` called.")}}class Cq extends rZ{async _fetch(e){const t=await w1(e,"arraybuffer");return new Uint8Array(t)}}ws&&yt("Please use the `legacy` build in Node.js environments.");async function Hj(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class Wke extends eZ{}class qke extends QQ{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class Gke extends ZQ{async _fetch(e){return Hj(e)}}class Yke extends nZ{async _fetch(e){return Hj(e)}}class Kke extends rZ{async _fetch(e){return Hj(e)}}const sy="__forcedDependency",{floor:Tq,ceil:Aq}=Math;function bT(n,e,t,r,i,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],r),n[e*4+2]=Math.max(n[e*4+2],i),n[e*4+3]=Math.max(n[e*4+3],s)}const $F=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var vv,bh;class Xke{constructor(e,t){j(this,vv);j(this,bh);D(this,vv,e),D(this,bh,t)}get length(){return f(this,vv).length}isEmpty(e){return f(this,vv)[e]===$F}minX(e){return f(this,bh)[e*4+0]/256}minY(e){return f(this,bh)[e*4+1]/256}maxX(e){return(f(this,bh)[e*4+2]+1)/256}maxY(e){return(f(this,bh)[e*4+3]+1)/256}}vv=new WeakMap,bh=new WeakMap;const _T=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var js,Us,Hp,il,zp,Tu,vn,Tn,Au,Vs,IS,wv,Wp,qp,xu,Zi,ic,kS,jF;class Jke{constructor(e,t,r=!1){j(this,kS);j(this,js,{__proto__:null});j(this,Us,{__proto__:null,transform:[],moveText:[],sameLineText:[],[sy]:[]});j(this,Hp,new Map);j(this,il,[]);j(this,zp,[]);j(this,Tu,[[1,0,0,1,0,0]]);j(this,vn,[-1/0,-1/0,1/0,1/0]);j(this,Tn,new Float64Array([1/0,1/0,-1/0,-1/0]));j(this,Au,-1);j(this,Vs,new Set);j(this,IS,new Map);j(this,wv,new Map);j(this,Wp);j(this,qp);j(this,xu);j(this,Zi);j(this,ic);D(this,Wp,e.width),D(this,qp,e.height),H(this,kS,jF).call(this,t),r&&D(this,ic,new Map)}growOperationsCount(e){e>=f(this,Zi).length&&H(this,kS,jF).call(this,e,f(this,Zi))}save(e){return D(this,js,{__proto__:f(this,js)}),D(this,Us,{__proto__:f(this,Us),transform:{__proto__:f(this,Us).transform},moveText:{__proto__:f(this,Us).moveText},sameLineText:{__proto__:f(this,Us).sameLineText},[sy]:{__proto__:f(this,Us)[sy]}}),D(this,vn,{__proto__:f(this,vn)}),f(this,il).push(e),this}restore(e){var i;const t=Object.getPrototypeOf(f(this,js));if(t===null)return this;D(this,js,t),D(this,Us,Object.getPrototypeOf(f(this,Us))),D(this,vn,Object.getPrototypeOf(f(this,vn)));const r=f(this,il).pop();return r!==void 0&&((i=_T(f(this,ic),e))==null||i.dependencies.add(r),f(this,Zi)[e]=f(this,Zi)[r]),this}recordOpenMarker(e){return f(this,il).push(e),this}getOpenMarker(){return f(this,il).length===0?null:f(this,il).at(-1)}recordCloseMarker(e){var r;const t=f(this,il).pop();return t!==void 0&&((r=_T(f(this,ic),e))==null||r.dependencies.add(t),f(this,Zi)[e]=f(this,Zi)[t]),this}beginMarkedContent(e){return f(this,zp).push(e),this}endMarkedContent(e){var r;const t=f(this,zp).pop();return t!==void 0&&((r=_T(f(this,ic),e))==null||r.dependencies.add(t),f(this,Zi)[e]=f(this,Zi)[t]),this}pushBaseTransform(e){return f(this,Tu).push(Ge.multiplyByDOMMatrix(f(this,Tu).at(-1),e.getTransform())),this}popBaseTransform(){return f(this,Tu).length>1&&f(this,Tu).pop(),this}recordSimpleData(e,t){return f(this,js)[e]=t,this}recordIncrementalData(e,t){return f(this,Us)[e].push(t),this}resetIncrementalData(e,t){return f(this,Us)[e].length=0,this}recordNamedData(e,t){return f(this,Hp).set(e,t),this}recordSimpleDataFromNamed(e,t,r){f(this,js)[e]=f(this,Hp).get(t)??r}recordFutureForcedDependency(e,t){return this.recordIncrementalData(sy,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in f(this,js)&&this.recordFutureForcedDependency(t,f(this,js)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of f(this,Vs))this.recordFutureForcedDependency(sy,e);return this}resetBBox(e){return f(this,Au)!==e&&(D(this,Au,e),f(this,Tn)[0]=1/0,f(this,Tn)[1]=1/0,f(this,Tn)[2]=-1/0,f(this,Tn)[3]=-1/0),this}recordClipBox(e,t,r,i,s,o){const a=Ge.multiplyByDOMMatrix(f(this,Tu).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];Ge.axialAlignedBoundingBox([r,s,i,o],a,l);const u=Ge.intersect(f(this,vn),l);return u?(f(this,vn)[0]=u[0],f(this,vn)[1]=u[1],f(this,vn)[2]=u[2],f(this,vn)[3]=u[3]):(f(this,vn)[0]=f(this,vn)[1]=1/0,f(this,vn)[2]=f(this,vn)[3]=-1/0),this}recordBBox(e,t,r,i,s,o){const a=f(this,vn);if(a[0]===1/0)return this;const l=Ge.multiplyByDOMMatrix(f(this,Tu).at(-1),t.getTransform());if(a[0]===-1/0)return Ge.axialAlignedBoundingBox([r,s,i,o],l,f(this,Tn)),this;const u=[1/0,1/0,-1/0,-1/0];return Ge.axialAlignedBoundingBox([r,s,i,o],l,u),f(this,Tn)[0]=Math.min(f(this,Tn)[0],Math.max(u[0],a[0])),f(this,Tn)[1]=Math.min(f(this,Tn)[1],Math.max(u[1],a[1])),f(this,Tn)[2]=Math.max(f(this,Tn)[2],Math.min(u[2],a[2])),f(this,Tn)[3]=Math.max(f(this,Tn)[3],Math.min(u[3],a[3])),this}recordCharacterBBox(e,t,r,i=1,s=0,o=0,a){const l=r.bbox;let u,h;if(l&&(u=l[2]!==l[0]&&l[3]!==l[1]&&f(this,wv).get(r),u!==!1&&(h=[0,0,0,0],Ge.axialAlignedBoundingBox(l,r.fontMatrix,h),(i!==1||s!==0||o!==0)&&Ge.scaleMinMax([i,0,0,-i,s,o],h),u)))return this.recordBBox(e,t,h[0],h[2],h[1],h[3]);if(!a)return this.recordFullPageBBox(e);const p=a();return l&&h&&u===void 0&&(u=h[0]<=s-p.actualBoundingBoxLeft&&h[2]>=s+p.actualBoundingBoxRight&&h[1]<=o-p.actualBoundingBoxAscent&&h[3]>=o+p.actualBoundingBoxDescent,f(this,wv).set(r,u),u)?this.recordBBox(e,t,h[0],h[2],h[1],h[3]):this.recordBBox(e,t,s-p.actualBoundingBoxLeft,s+p.actualBoundingBoxRight,o-p.actualBoundingBoxAscent,o+p.actualBoundingBoxDescent)}recordFullPageBBox(e){return f(this,Tn)[0]=Math.max(0,f(this,vn)[0]),f(this,Tn)[1]=Math.max(0,f(this,vn)[1]),f(this,Tn)[2]=Math.min(f(this,Wp),f(this,vn)[2]),f(this,Tn)[3]=Math.min(f(this,qp),f(this,vn)[3]),this}getSimpleIndex(e){return f(this,js)[e]}recordDependencies(e,t){const r=f(this,Vs),i=f(this,js),s=f(this,Us);for(const o of t)o in f(this,js)?r.add(i[o]):o in s&&s[o].forEach(r.add,r);return this}recordNamedDependency(e,t){return f(this,Hp).has(t)&&f(this,Vs).add(f(this,Hp).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[sy]),f(this,ic)){const r=_T(f(this,ic),e),{dependencies:i}=r;f(this,Vs).forEach(i.add,i),f(this,il).forEach(i.add,i),f(this,zp).forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(f(this,Au)===e){const r=Tq(f(this,Tn)[0]*256/f(this,Wp)),i=Tq(f(this,Tn)[1]*256/f(this,qp)),s=Aq(f(this,Tn)[2]*256/f(this,Wp)),o=Aq(f(this,Tn)[3]*256/f(this,qp));bT(f(this,xu),e,r,i,s,o);for(const a of f(this,Vs))a!==e&&bT(f(this,xu),a,r,i,s,o);for(const a of f(this,il))a!==e&&bT(f(this,xu),a,r,i,s,o);for(const a of f(this,zp))a!==e&&bT(f(this,xu),a,r,i,s,o);t||(f(this,Vs).clear(),D(this,Au,-1))}return this}recordShowTextOperation(e,t=!1){const r=Array.from(f(this,Vs));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return f(this,Au)===e&&(D(this,Au,-1),f(this,vn)[0]=Math.max(f(this,vn)[0],f(this,Tn)[0]),f(this,vn)[1]=Math.max(f(this,vn)[1],f(this,Tn)[1]),f(this,vn)[2]=Math.min(f(this,vn)[2],f(this,Tn)[2]),f(this,vn)[3]=Math.min(f(this,vn)[3],f(this,Tn)[3]),t||f(this,Vs).clear()),this}_takePendingDependencies(){const e=f(this,Vs);return D(this,Vs,new Set),e}_extractOperation(e){const t=f(this,IS).get(e);return f(this,IS).delete(e),t}_pushPendingDependencies(e){for(const t of e)f(this,Vs).add(t)}take(){return f(this,wv).clear(),new Xke(f(this,Zi),f(this,xu))}takeDebugMetadata(){return f(this,ic)}}js=new WeakMap,Us=new WeakMap,Hp=new WeakMap,il=new WeakMap,zp=new WeakMap,Tu=new WeakMap,vn=new WeakMap,Tn=new WeakMap,Au=new WeakMap,Vs=new WeakMap,IS=new WeakMap,wv=new WeakMap,Wp=new WeakMap,qp=new WeakMap,xu=new WeakMap,Zi=new WeakMap,ic=new WeakMap,kS=new WeakSet,jF=function(e,t){const r=new ArrayBuffer(e*4);D(this,xu,new Uint8ClampedArray(r)),D(this,Zi,new Uint32Array(r)),t&&t.length>0?(f(this,Zi).set(t),f(this,Zi).fill($F,t.length)):f(this,Zi).fill($F)};var On,Sr,sl,bv,_v;const tU=class tU{constructor(e,t,r){j(this,On);j(this,Sr);j(this,sl);j(this,bv,0);j(this,_v,0);if(e instanceof tU&&f(e,sl)===!!r)return e;D(this,On,e),D(this,Sr,t),D(this,sl,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return Qr(this,_v)._++,f(this,On).save(f(this,Sr)),this}restore(e){return f(this,_v)>0&&(f(this,On).restore(f(this,Sr)),Qr(this,_v)._--),this}recordOpenMarker(e){return Qr(this,bv)._++,this}getOpenMarker(){return f(this,bv)>0?f(this,Sr):f(this,On).getOpenMarker()}recordCloseMarker(e){return Qr(this,bv)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return f(this,On).pushBaseTransform(e),this}popBaseTransform(){return f(this,On).popBaseTransform(),this}recordSimpleData(e,t){return f(this,On).recordSimpleData(e,f(this,Sr)),this}recordIncrementalData(e,t){return f(this,On).recordIncrementalData(e,f(this,Sr)),this}resetIncrementalData(e,t){return f(this,On).resetIncrementalData(e,f(this,Sr)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,r){return f(this,On).recordSimpleDataFromNamed(e,t,f(this,Sr)),this}recordFutureForcedDependency(e,t){return f(this,On).recordFutureForcedDependency(e,f(this,Sr)),this}inheritSimpleDataAsFutureForcedDependencies(e){return f(this,On).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return f(this,On).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return f(this,sl)||f(this,On).resetBBox(f(this,Sr)),this}recordClipBox(e,t,r,i,s,o){return f(this,sl)||f(this,On).recordClipBox(f(this,Sr),t,r,i,s,o),this}recordBBox(e,t,r,i,s,o){return f(this,sl)||f(this,On).recordBBox(f(this,Sr),t,r,i,s,o),this}recordCharacterBBox(e,t,r,i,s,o,a){return f(this,sl)||f(this,On).recordCharacterBBox(f(this,Sr),t,r,i,s,o,a),this}recordFullPageBBox(e){return f(this,sl)||f(this,On).recordFullPageBBox(f(this,Sr)),this}getSimpleIndex(e){return f(this,On).getSimpleIndex(e)}recordDependencies(e,t){return f(this,On).recordDependencies(f(this,Sr),t),this}recordNamedDependency(e,t){return f(this,On).recordNamedDependency(f(this,Sr),t),this}recordOperation(e){return f(this,On).recordOperation(f(this,Sr),!0),this}recordShowTextOperation(e){return f(this,On).recordShowTextOperation(f(this,Sr),!0),this}bboxToClipBoxDropOperation(e){return f(this,sl)||f(this,On).bboxToClipBoxDropOperation(f(this,Sr),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};On=new WeakMap,Sr=new WeakMap,sl=new WeakMap,bv=new WeakMap,_v=new WeakMap;let Lx=tU;const ea={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Mi={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function UF(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class zj{isModifyingCurrentTransform(){return!1}getPattern(){Bn("Abstract method `getPattern` called.")}}class Qke extends zj{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Mi.STROKE||i===Mi.FILL){const o=t.current.getClippedPathBoundingBox(i,pr(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",a,l),h=u.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),r=Ge.transform(r,[1,0,0,1,o[0],o[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),UF(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(u.canvas,"no-repeat");const p=new DOMMatrix(r);s.setTransform(p)}else UF(e,this._bbox),s=this._createGradient(e);return s}}function qO(n,e,t,r,i,s,o,a){const l=e.coords,u=e.colors,h=n.data,p=n.width*4;let m;l[t+1]>l[r+1]&&(m=t,t=r,r=m,m=s,s=o,o=m),l[r+1]>l[i+1]&&(m=r,r=i,i=m,m=o,o=a,a=m),l[t+1]>l[r+1]&&(m=t,t=r,r=m,m=s,s=o,o=m);const y=(l[t]+e.offsetX)*e.scaleX,b=(l[t+1]+e.offsetY)*e.scaleY,w=(l[r]+e.offsetX)*e.scaleX,_=(l[r+1]+e.offsetY)*e.scaleY,E=(l[i]+e.offsetX)*e.scaleX,T=(l[i+1]+e.offsetY)*e.scaleY;if(b>=T)return;const C=u[s],x=u[s+1],I=u[s+2],F=u[o],k=u[o+1],L=u[o+2],N=u[a],A=u[a+1],B=u[a+2],z=Math.round(b),U=Math.round(T);let Q,te,X,ne,J,se,de,q;for(let Y=z;Y<=U;Y++){if(Y<_){const ye=Y<b?0:(b-Y)/(b-_);Q=y-(y-w)*ye,te=C-(C-F)*ye,X=x-(x-k)*ye,ne=I-(I-L)*ye}else{let ye;Y>T?ye=1:_===T?ye=0:ye=(_-Y)/(_-T),Q=w-(w-E)*ye,te=F-(F-N)*ye,X=k-(k-A)*ye,ne=L-(L-B)*ye}let Z;Y<b?Z=0:Y>T?Z=1:Z=(b-Y)/(b-T),J=y-(y-E)*Z,se=C-(C-N)*Z,de=x-(x-A)*Z,q=I-(I-B)*Z;const le=Math.round(Math.min(Q,J)),ce=Math.round(Math.max(Q,J));let ve=p*Y+le*4;for(let ye=le;ye<=ce;ye++)Z=(Q-ye)/(Q-J),Z<0?Z=0:Z>1&&(Z=1),h[ve++]=te-(te-se)*Z|0,h[ve++]=X-(X-de)*Z|0,h[ve++]=ne-(ne-q)*Z|0,h[ve++]=255}}function Zke(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case hF.LATTICE:const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,u=a-1;for(s=0;s<l;s++){let h=s*a;for(let p=0;p<u;p++,h++)qO(n,t,r[h],r[h+1],r[h+a],i[h],i[h+1],i[h+a]),qO(n,t,r[h+a+1],r[h+1],r[h+a],i[h+a+1],i[h+1],i[h+a])}break;case hF.TRIANGLES:for(s=0,o=r.length;s<o;s+=3)qO(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class ePe extends zj{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,h=Math.ceil(this._bounds[3])-l,p=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),y=u/p,b=h/m,w={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/y,scaleY:1/b},_=p+4,E=m+4,T=r.getCanvas("mesh",_,E),C=T.context,x=C.createImageData(p,m);if(t){const F=x.data;for(let k=0,L=F.length;k<L;k+=4)F[k]=t[0],F[k+1]=t[1],F[k+2]=t[2],F[k+3]=255}for(const F of this._figures)Zke(x,F,w);return C.putImageData(x,2,2),{canvas:T.canvas,offsetX:a-2*y,offsetY:l-2*b,scaleX:y,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,i){UF(e,this._bbox);const s=new Float32Array(2);if(i===Mi.SHADING)Ge.singularValueDecompose2dScale(pr(e),s);else if(this.matrix){Ge.singularValueDecompose2dScale(this.matrix,s);const[a,l]=s;Ge.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=a,s[1]*=l}else Ge.singularValueDecompose2dScale(t.baseTransform,s);const o=this._createMeshCanvas(s,i===Mi.SHADING?null:this._background,t.cachedCanvases);return i!==Mi.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class tPe extends zj{getPattern(){return"hotpink"}}function nPe(n){switch(n[0]){case"RadialAxial":return new Qke(n);case"Mesh":return new ePe(n);case"Dummy":return new tPe}throw new Error(`Unknown IR type: ${n[0]}`)}const xq={COLORED:1,UNCOLORED:2},Jx=class Jx{constructor(e,t,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,t){var se,de;const{bbox:r,operatorList:i,paintType:s,tilingType:o,color:a,canvasGraphicsFactory:l}=this;let{xstep:u,ystep:h}=this;u=Math.abs(u),h=Math.abs(h),OI("TilingType: "+o);const p=r[0],m=r[1],y=r[2],b=r[3],w=y-p,_=b-m,E=new Float32Array(2);Ge.singularValueDecompose2dScale(this.matrix,E);const[T,C]=E;Ge.singularValueDecompose2dScale(this.baseTransform,E);const x=T*E[0],I=C*E[1];let F=w,k=_,L=!1,N=!1;const A=Math.ceil(u*x),B=Math.ceil(h*I),z=Math.ceil(w*x),U=Math.ceil(_*I);A>=z?F=u:L=!0,B>=U?k=h:N=!0;const Q=this.getSizeAndScale(F,this.ctx.canvas.width,x),te=this.getSizeAndScale(k,this.ctx.canvas.height,I),X=e.cachedCanvases.getCanvas("pattern",Q.size,te.size),ne=X.context,J=l.createCanvasGraphics(ne,t);if(J.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(J,s,a),ne.translate(-Q.scale*p,-te.scale*m),J.transform(0,Q.scale,0,0,te.scale,0,0),ne.save(),(se=J.dependencyTracker)==null||se.save(),this.clipBbox(J,p,m,y,b),J.baseTransform=pr(J.ctx),J.executeOperatorList(i),J.endDrawing(),(de=J.dependencyTracker)==null||de.restore(),ne.restore(),L||N){const q=X.canvas;L&&(F=u),N&&(k=h);const Y=this.getSizeAndScale(F,this.ctx.canvas.width,x),Z=this.getSizeAndScale(k,this.ctx.canvas.height,I),le=Y.size,ce=Z.size,ve=e.cachedCanvases.getCanvas("pattern-workaround",le,ce),ye=ve.context,xe=L?Math.floor(w/u):0,Oe=N?Math.floor(_/h):0;for(let ke=0;ke<=xe;ke++)for(let Xe=0;Xe<=Oe;Xe++)ye.drawImage(q,le*ke,ce*Xe,le,ce,0,0,le,ce);return{canvas:ve.canvas,scaleX:Y.scale,scaleY:Z.scale,offsetX:p,offsetY:m}}return{canvas:X.canvas,scaleX:Q.scale,scaleY:te.scale,offsetX:p,offsetY:m}}getSizeAndScale(e,t,r){const i=Math.max(Jx.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,a=s-r;e.ctx.rect(t,r,o,a),Ge.axialAlignedBoundingBox([t,r,i,s],pr(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case xq.COLORED:const{fillStyle:o,strokeStyle:a}=this.ctx;i.fillStyle=s.fillColor=o,i.strokeStyle=s.strokeColor=a;break;case xq.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new mke(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,i,s){let o=r;i!==Mi.SHADING&&(o=Ge.transform(o,t.baseTransform),this.matrix&&(o=Ge.transform(o,this.matrix)));const a=this.createPatternCanvas(t,s);let l=new DOMMatrix(o);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);const u=e.createPattern(a.canvas,"repeat");return u.setTransform(l),u}};_e(Jx,"MAX_PATTERN_SIZE",3e3);let VF=Jx;function rPe({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=Bi.isLittleEndian?4278190080:255,[l,u]=o?[s,a]:[a,s],h=r>>3,p=r&7,m=n.length;t=new Uint32Array(t.buffer);let y=0;for(let b=0;b<i;b++){for(const _=e+h;e<_;e++){const E=e<m?n[e]:255;t[y++]=E&128?u:l,t[y++]=E&64?u:l,t[y++]=E&32?u:l,t[y++]=E&16?u:l,t[y++]=E&8?u:l,t[y++]=E&4?u:l,t[y++]=E&2?u:l,t[y++]=E&1?u:l}if(p===0)continue;const w=e<m?n[e++]:255;for(let _=0;_<p;_++)t[y++]=w&1<<7-_?u:l}return{srcPos:e,destPos:y}}const Rq=16,Iq=100,iPe=15,kq=10,qs=16,GO=new DOMMatrix,Do=new Float32Array(2),Ty=new Float32Array([1/0,1/0,-1/0,-1/0]);function sPe(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,i,s,o,a){e.transform(t,r,i,s,o,a),this.__originalTransform(t,r,i,s,o,a)},n.setTransform=function(t,r,i,s,o,a){e.setTransform(t,r,i,s,o,a),this.__originalSetTransform(t,r,i,s,o,a)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,a){e.bezierCurveTo(t,r,i,s,o,a),this.__originalBezierCurveTo(t,r,i,s,o,a)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class oPe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function ST(n,e,t,r,i,s,o,a,l,u){const[h,p,m,y,b,w]=pr(n);if(p===0&&m===0){const T=o*h+b,C=Math.round(T),x=a*y+w,I=Math.round(x),F=(o+l)*h+b,k=Math.abs(Math.round(F)-C)||1,L=(a+u)*y+w,N=Math.abs(Math.round(L)-I)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(y),C,I),n.drawImage(e,t,r,i,s,0,0,k,N),n.setTransform(h,p,m,y,b,w),[k,N]}if(h===0&&y===0){const T=a*m+b,C=Math.round(T),x=o*p+w,I=Math.round(x),F=(a+u)*m+b,k=Math.abs(Math.round(F)-C)||1,L=(o+l)*p+w,N=Math.abs(Math.round(L)-I)||1;return n.setTransform(0,Math.sign(p),Math.sign(m),0,C,I),n.drawImage(e,t,r,i,s,0,0,N,k),n.setTransform(h,p,m,y,b,w),[N,k]}n.drawImage(e,t,r,i,s,o,a,l,u);const _=Math.hypot(h,p),E=Math.hypot(m,y);return[_*l,E*u]}class Pq{constructor(e,t,r){_e(this,"alphaIsShape",!1);_e(this,"fontSize",0);_e(this,"fontSizeScale",1);_e(this,"textMatrix",null);_e(this,"textMatrixScale",1);_e(this,"fontMatrix",dF);_e(this,"leading",0);_e(this,"x",0);_e(this,"y",0);_e(this,"lineX",0);_e(this,"lineY",0);_e(this,"charSpacing",0);_e(this,"wordSpacing",0);_e(this,"textHScale",1);_e(this,"textRenderingMode",Ai.FILL);_e(this,"textRise",0);_e(this,"fillColor","#000000");_e(this,"strokeColor","#000000");_e(this,"patternFill",!1);_e(this,"patternStroke",!1);_e(this,"fillAlpha",1);_e(this,"strokeAlpha",1);_e(this,"lineWidth",1);_e(this,"activeSMask",null);_e(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Ty.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Mi.FILL,t=null){const r=this.minMax.slice();if(e===Mi.STROKE){t||Bn("Stroke bounding box must include transform."),Ge.singularValueDecompose2dScale(t,Do);const i=Do[0]*this.lineWidth/2,s=Do[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=Ge.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Ty,0)}getClippedPathBoundingBox(e=Mi.FILL,t=null){return Ge.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Dq(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%qs,s=(t-i)/qs,o=i===0?s:s+1,a=n.createImageData(r,qs);let l=0,u;const h=e.data,p=a.data;let m,y,b,w;if(e.kind===iA.GRAYSCALE_1BPP){const _=h.byteLength,E=new Uint32Array(p.buffer,0,p.byteLength>>2),T=E.length,C=r+7>>3,x=4294967295,I=Bi.isLittleEndian?4278190080:255;for(m=0;m<o;m++){for(b=m<s?qs:i,u=0,y=0;y<b;y++){const F=_-l;let k=0;const L=F>C?r:F*8-7,N=L&-8;let A=0,B=0;for(;k<N;k+=8)B=h[l++],E[u++]=B&128?x:I,E[u++]=B&64?x:I,E[u++]=B&32?x:I,E[u++]=B&16?x:I,E[u++]=B&8?x:I,E[u++]=B&4?x:I,E[u++]=B&2?x:I,E[u++]=B&1?x:I;for(;k<L;k++)A===0&&(B=h[l++],A=128),E[u++]=B&A?x:I,A>>=1}for(;u<T;)E[u++]=0;n.putImageData(a,0,m*qs)}}else if(e.kind===iA.RGBA_32BPP){for(y=0,w=r*qs*4,m=0;m<s;m++)p.set(h.subarray(l,l+w)),l+=w,n.putImageData(a,0,y),y+=qs;m<o&&(w=r*i*4,p.set(h.subarray(l,l+w)),n.putImageData(a,0,y))}else if(e.kind===iA.RGB_24BPP)for(b=qs,w=r*b,m=0;m<o;m++){for(m>=s&&(b=i,w=r*b),u=0,y=w;y--;)p[u++]=h[l++],p[u++]=h[l++],p[u++]=h[l++],p[u++]=255;n.putImageData(a,0,m*qs)}else throw new Error(`bad image kind: ${e.kind}`)}function Mq(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%qs,s=(t-i)/qs,o=i===0?s:s+1,a=n.createImageData(r,qs);let l=0;const u=e.data,h=a.data;for(let p=0;p<o;p++){const m=p<s?qs:i;({srcPos:l}=rPe({src:u,srcPos:l,dest:h,width:r,height:m,nonBlackColor:0})),n.putImageData(a,0,p*qs)}}function tb(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function ET(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function Oq(n,e){if(e)return!0;Ge.singularValueDecompose2dScale(n,Do);const t=Math.fround(Dc.pixelRatio*pf.PDF_TO_CSS_UNITS);return Do[0]<=t&&Do[1]<=t}const aPe=["butt","round","square"],lPe=["miter","round","bevel"],cPe={},Lq={};var Tl,HF,zF,WF;const nU=class nU{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,u,h){j(this,Tl);this.ctx=e,this.current=new Pq(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new oPe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=h??null}getObject(e,t,r=null){var i;return typeof t=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):r}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...pr(this.compositeCtx))}this.ctx.save(),ET(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=pr(this.ctx)}executeOperatorList(e,t,r,i,s){var E;const o=e.argsArray,a=e.fnArray;let l=t||0;const u=o.length;if(u===l)return l;const h=u-l>kq&&typeof r=="function",p=h?Date.now()+iPe:0;let m=0;const y=this.commonObjs,b=this.objs;let w,_;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(!s||s(l))if(w=a[l],_=o[l]??null,w!==j_.dependency)_===null?this[w](l):this[w](l,..._);else for(const T of _){(E=this.dependencyTracker)==null||E.recordNamedData(T,l);const C=T.startsWith("g_")?y:b;if(!C.has(T))return C.get(T,r),l}if(l++,l===u)return l;if(h&&++m>kq){if(Date.now()>p)return r(),l;m=0}}}endDrawing(){H(this,Tl,HF).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),H(this,Tl,zF).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,u="prescale1",h,p;for(;s>2&&a>1||o>2&&l>1;){let m=a,y=l;s>2&&a>1&&(m=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/m),o>2&&l>1&&(y=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/y),h=this.cachedCanvases.getCanvas(u,m,y),p=h.context,p.clearRect(0,0,m,y),p.drawImage(e,0,0,a,l,0,0,m,y),e=h.canvas,a=m,l=y,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e,t){var A,B;const r=this.ctx,{width:i,height:s}=t,o=this.current.fillColor,a=this.current.patternFill,l=pr(r);let u,h,p,m;if((t.bitmap||t.data)&&t.count>1){const z=t.bitmap||t.data.buffer;h=JSON.stringify(a?l:[l.slice(0,4),o]),u=this._cachedBitmapsMap.get(z),u||(u=new Map,this._cachedBitmapsMap.set(z,u));const U=u.get(h);if(U&&!a){const Q=Math.round(Math.min(l[0],l[2])+l[4]),te=Math.round(Math.min(l[1],l[3])+l[5]);return(A=this.dependencyTracker)==null||A.recordDependencies(e,ea.transformAndFill),{canvas:U,offsetX:Q,offsetY:te}}p=U}p||(m=this.cachedCanvases.getCanvas("maskCanvas",i,s),Mq(m.context,t));let y=Ge.transform(l,[1/i,0,0,-1/s,0,0]);y=Ge.transform(y,[1,0,0,1,0,-s]);const b=Ty.slice();Ge.axialAlignedBoundingBox([0,0,i,s],y,b);const[w,_,E,T]=b,C=Math.round(E-w)||1,x=Math.round(T-_)||1,I=this.cachedCanvases.getCanvas("fillCanvas",C,x),F=I.context,k=w,L=_;F.translate(-k,-L),F.transform(...y),p||(p=this._scaleImage(m.canvas,Vl(F)),p=p.img,u&&a&&u.set(h,p)),F.imageSmoothingEnabled=Oq(pr(F),t.interpolate),ST(F,p,0,0,p.width,p.height,0,0,i,s),F.globalCompositeOperation="source-in";const N=Ge.transform(Vl(F),[1,0,0,1,-k,-L]);return F.fillStyle=a?o.getPattern(r,this,N,Mi.FILL,e):o,F.fillRect(0,0,i,s),u&&!a&&(this.cachedCanvases.delete("fillCanvas"),u.set(h,I.canvas)),(B=this.dependencyTracker)==null||B.recordDependencies(e,ea.transformAndFill),{canvas:I.canvas,offsetX:Math.round(k),offsetY:Math.round(L)}}setLineWidth(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=aPe[t]}setLineJoin(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=lPe[t]}setMiterLimit(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,r){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=r)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var r,i,s,o,a;for(const[l,u]of t)switch(l){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(o=this.dependencyTracker)==null||o.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(a=this.dependencyTracker)==null||a.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,t,r);this.suspendedCtx=this.ctx;const o=this.ctx=s.context;o.setTransform(this.suspendedCtx.getTransform()),tb(this.suspendedCtx,o),sPe(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),tb(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,a,l,u,h,p){let m=e.canvas,y=l-h,b=u-p;if(o)if(y<0||b<0||y+r>m.width||b+i>m.height){const _=this.cachedCanvases.getCanvas("maskExtension",r,i),E=_.context;E.drawImage(m,-y,-b),E.globalCompositeOperation="destination-atop",E.fillStyle=o,E.fillRect(0,0,r,i),E.globalCompositeOperation="source-over",m=_.canvas,y=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(y,b,r,i),e.clip(_),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(y,b,r,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const w=new Path2D;w.rect(l,u,r,i),t.clip(w),t.globalCompositeOperation="destination-in",t.drawImage(m,y,b,r,i,l,u,r,i),t.restore()}save(e){var r;this.inSMaskMode&&tb(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&tb(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,r,i,s,o,a){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,r,i,s,o,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r,i){let[s]=r;if(!i){s||(s=r[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const o=t===j_.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-o,i[2]+o,i[1]-o,i[3]+o).recordDependencies(e,["transform"])}s instanceof Path2D||(s=r[0]=pQ(s)),Ge.axialAlignedBoundingBox(i,pr(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,r=!0){var o;const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const a=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,Vl(i),Mi.STROKE,e),a){const l=new Path2D;l.addPath(t,i.getTransform().invertSelf().multiplySelf(a)),t=l}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);(o=this.dependencyTracker)==null||o.recordDependencies(e,ea.stroke),r&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Mi.STROKE,pr(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,r=!0){var u,h,p;const i=this.ctx,s=this.current.fillColor,o=this.current.patternFill;let a=!1;if(o){const m=s.isModifyingCurrentTransform()?i.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),i.save(),i.fillStyle=s.getPattern(i,this,Vl(i),Mi.FILL,e),m){const y=new Path2D;y.addPath(t,i.getTransform().invertSelf().multiplySelf(m)),t=y}a=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),(h=this.dependencyTracker)==null||h.recordDependencies(e,ea.fill),a&&(i.restore(),(p=this.dependencyTracker)==null||p.restore(e)),r&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var r;this.ctx.fill(t),(r=this.dependencyTracker)==null||r.recordDependencies(e,ea.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=cPe}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=Lq}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,s=r.getTransform().invertSelf();for(const{transform:o,x:a,y:l,fontSize:u,path:h}of t)h&&i.addPath(h,new DOMMatrix(o).preMultiplySelf(s).translate(a,l).scale(u,-u));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,r){var p,m;(p=this.dependencyTracker)==null||p.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),s=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=i.fontMatrix||dF,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&yt("Invalid font matrix for font "+t),r<0?(r=-r,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const o=i.loadedName||"sans-serif",a=((m=i.systemFontInfo)==null?void 0:m.css)||`"${o}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const u=i.italic?"italic":"normal";let h=r;r<Rq?h=Rq:r>Iq&&(h=Iq),this.current.fontSizeScale=r/h,this.ctx.font=`${u} ${l} ${h}px ${a}`}setTextRenderingMode(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,t,r){this.setLeading(e,-r),this.moveText(e,t,r)}setTextMatrix(e,t){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=t,r.textMatrixScale=Math.hypot(t[0],t[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,r,i,s,o){var E,T,C,x;const a=this.ctx,l=this.current,u=l.font,h=l.textRenderingMode,p=l.fontSize/l.fontSizeScale,m=h&Ai.FILL_STROKE_MASK,y=!!(h&Ai.ADD_TO_PATH_FLAG),b=l.patternFill&&!u.missingFile,w=l.patternStroke&&!u.missingFile;let _;if((u.disableFontFace||y||b||w)&&!u.missingFile&&(_=u.getPathGenerator(this.commonObjs,t)),_&&(u.disableFontFace||b||w)){a.save(),a.translate(r,i),a.scale(p,-p),(E=this.dependencyTracker)==null||E.recordCharacterBBox(e,a,u);let I;if(m===Ai.FILL||m===Ai.FILL_STROKE)if(s){I=a.getTransform(),a.setTransform(...s);const F=H(this,Tl,WF).call(this,_,I,s);a.fill(F)}else a.fill(_);if(m===Ai.STROKE||m===Ai.FILL_STROKE)if(o){I||(I=a.getTransform()),a.setTransform(...o);const{a:F,b:k,c:L,d:N}=I,A=Ge.inverseTransform(o),B=Ge.transform([F,k,L,N,0,0],A);Ge.singularValueDecompose2dScale(B,Do),a.lineWidth*=Math.max(Do[0],Do[1])/p,a.stroke(H(this,Tl,WF).call(this,_,I,o))}else a.lineWidth/=p,a.stroke(_);a.restore()}else(m===Ai.FILL||m===Ai.FILL_STROKE)&&(a.fillText(t,r,i),(T=this.dependencyTracker)==null||T.recordCharacterBBox(e,a,u,p,r,i,()=>a.measureText(t))),(m===Ai.STROKE||m===Ai.FILL_STROKE)&&(this.dependencyTracker&&((C=this.dependencyTracker)==null||C.recordCharacterBBox(e,a,u,p,r,i,()=>a.measureText(t)).recordDependencies(e,ea.stroke)),a.strokeText(t,r,i));y&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:pr(a),x:r,y:i,fontSize:p,path:_}),(x=this.dependencyTracker)==null||x.recordCharacterBBox(e,a,u,p,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return Tt(this,"isFontSubpixelAAEnabled",r)}showText(e,t){var L,N,A,B;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,ea.showText).resetBBox(e),this.current.textRenderingMode&Ai.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,t),(L=this.dependencyTracker)==null||L.recordShowTextOperation(e);return}const s=r.fontSize;if(s===0){(N=this.dependencyTracker)==null||N.recordOperation(e);return}const o=this.ctx,a=r.fontSizeScale,l=r.charSpacing,u=r.wordSpacing,h=r.fontDirection,p=r.textHScale*h,m=t.length,y=i.vertical,b=y?1:-1,w=i.defaultVMetrics,_=s*r.fontMatrix[0],E=r.textRenderingMode===Ai.FILL&&!i.disableFontFace&&!r.patternFill;o.save(),r.textMatrix&&o.transform(...r.textMatrix),o.translate(r.x,r.y+r.textRise),h>0?o.scale(p,-1):o.scale(p,1);let T,C;if(r.patternFill){o.save();const z=r.fillColor.getPattern(o,this,Vl(o),Mi.FILL,e);T=pr(o),o.restore(),o.fillStyle=z}if(r.patternStroke){o.save();const z=r.strokeColor.getPattern(o,this,Vl(o),Mi.STROKE,e);C=pr(o),o.restore(),o.strokeStyle=z}let x=r.lineWidth;const I=r.textMatrixScale;if(I===0||x===0){const z=r.textRenderingMode&Ai.FILL_STROKE_MASK;(z===Ai.STROKE||z===Ai.FILL_STROKE)&&(x=this.getSinglePixelWidth())}else x/=I;if(a!==1&&(o.scale(a,a),x/=a),o.lineWidth=x,i.isInvalidPDFjsFont){const z=[];let U=0;for(const te of t)z.push(te.unicode),U+=te.width;const Q=z.join("");if(o.fillText(Q,0,0),this.dependencyTracker!==null){const te=o.measureText(Q);this.dependencyTracker.recordBBox(e,this.ctx,-te.actualBoundingBoxLeft,te.actualBoundingBoxRight,-te.actualBoundingBoxAscent,te.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=U*_*p,o.restore(),this.compose();return}let F=0,k;for(k=0;k<m;++k){const z=t[k];if(typeof z=="number"){F+=b*z*s/1e3;continue}let U=!1;const Q=(z.isSpace?u:0)+l,te=z.fontChar,X=z.accent;let ne,J,se=z.width;if(y){const Y=z.vmetric||w,Z=-(z.vmetric?Y[1]:se*.5)*_,le=Y[2]*_;se=Y?-Y[0]:se,ne=Z/a,J=(F+le)/a}else ne=F/a,J=0;let de;if(i.remeasure&&se>0){de=o.measureText(te);const Y=de.width*1e3/s*a;if(se<Y&&this.isFontSubpixelAAEnabled){const Z=se/Y;U=!0,o.save(),o.scale(Z,1),ne/=Z}else se!==Y&&(ne+=(se-Y)/2e3*s/a)}if(this.contentVisible&&(z.isInFont||i.missingFile)){if(E&&!X)o.fillText(te,ne,J),(A=this.dependencyTracker)==null||A.recordCharacterBBox(e,o,de?{bbox:null}:i,s/a,ne,J,()=>de??o.measureText(te));else if(this.paintChar(e,te,ne,J,T,C),X){const Y=ne+s*X.offset.x/a,Z=J-s*X.offset.y/a;this.paintChar(e,X.fontChar,Y,Z,T,C)}}const q=y?se*_-Q*h:se*_+Q*h;F+=q,U&&o.restore()}y?r.y-=F:r.x+=F*p,o.restore(),this.compose(),(B=this.dependencyTracker)==null||B.recordShowTextOperation(e)}showType3Text(e,t){const r=this.ctx,i=this.current,s=i.font,o=i.fontSize,a=i.fontDirection,l=s.vertical?1:-1,u=i.charSpacing,h=i.wordSpacing,p=i.textHScale*a,m=i.fontMatrix||dF,y=t.length,b=i.textRenderingMode===Ai.INVISIBLE;let w,_,E,T;if(b||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(p,a);const C=this.dependencyTracker;for(this.dependencyTracker=C?new Lx(C,e):null,w=0;w<y;++w){if(_=t[w],typeof _=="number"){T=l*_*o/1e3,this.ctx.translate(T,0),i.x+=T*p;continue}const x=(_.isSpace?h:0)+u,I=s.charProcOperatorList[_.operatorListId];I?this.contentVisible&&(this.save(),r.scale(o,o),r.transform(...m),this.executeOperatorList(I),this.restore()):yt(`Type3 character "${_.operatorListId}" is not available.`);const F=[_.width,0];Ge.applyTransform(F,m),E=F[0]*o+x,r.translate(E,0),i.x+=E*p}r.restore(),C&&(this.dependencyTracker=C)}setCharWidth(e,t,r){}setCharWidthAndBounds(e,t,r,i,s,o,a){var u;const l=new Path2D;l.rect(i,s,o-i,a-s),this.ctx.clip(l),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,i,o,s,a).recordClipBox(e,this.ctx,i,o,s,a),this.endPath(e)}getColorN_Pattern(e,t){let r;if(t[0]==="TilingPattern"){const i=this.baseTransform||pr(this.ctx),s={createCanvasGraphics:(o,a)=>new nU(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Lx(this.dependencyTracker,a,!0):null)};r=new VF(t,this.ctx,s,i)}else r=this._getPattern(e,t[1],t[2]);return r}setStrokeColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,r=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=nPe(this.getObject(e,t)),this.cachedPatterns.set(t,i)),r&&(i.matrix=r),i}shadingFill(e,t){var o;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,t);r.fillStyle=i.getPattern(r,this,Vl(r),Mi.SHADING,e);const s=Vl(r);if(s){const{width:a,height:l}=r.canvas,u=Ty.slice();Ge.axialAlignedBoundingBox([0,0,a,l],s,u);const[h,p,m,y]=u;this.ctx.fillRect(h,p,m-h,y-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(o=this.dependencyTracker)==null||o.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,ea.transform).recordDependencies(e,ea.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Bn("Should not call beginInlineImage")}beginImageData(){Bn("Should not call beginImageData")}paintFormXObjectBegin(e,t,r){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=pr(this.ctx),r)){Ge.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[s,o,a,l]=r,u=new Path2D;u.rect(s,o,a-s,l-o),this.ctx.clip(u),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,s,a,o,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var C;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;t.isolated||OI("TODO: Support non-isolated groups."),t.knockout&&yt("Knockout groups not supported.");const i=pr(r);if(t.matrix&&r.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Ty.slice();Ge.axialAlignedBoundingBox(t.bbox,pr(r),s);const o=[0,0,r.canvas.width,r.canvas.height];s=Ge.intersect(s,o)||[0,0,0,0];const a=Math.floor(s[0]),l=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-a,1),h=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,h]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(p,u,h),y=m.context;y.translate(-a,-l),y.transform(...i);let b=new Path2D;const[w,_,E,T]=t.bbox;if(b.rect(w,_,E-w,T-_),t.matrix){const x=new Path2D;x.addPath(b,new DOMMatrix(t.matrix)),b=x}y.clip(b),t.smask&&this.smaskStack.push({canvas:m.canvas,context:y,offsetX:a,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(a,l),r.save()),tb(r,y),this.ctx=y,(C=this.dependencyTracker)==null||C.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=pr(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...o);const a=Ty.slice();Ge.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],o,a),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,t,r,i,s,o){if(H(this,Tl,HF).call(this),ET(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const a=r[2]-r[0],l=r[3]-r[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=a,r[3]=l,Ge.singularValueDecompose2dScale(pr(this.ctx),Do);const{viewportScale:u}=this,h=Math.ceil(a*this.outputScaleX*u),p=Math.ceil(l*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(h,p);const{canvas:m,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(t,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(Do[0],0,0,-Do[1],0,l*Do[1]),ET(this.ctx)}else{ET(this.ctx),this.endPath(e);const u=new Path2D;u.rect(r[0],r[1],a,l),this.ctx.clip(u)}}this.current=new Pq(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),H(this,Tl,zF).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var a;if(!this.contentVisible)return;const r=t.count;t=this.getObject(e,t.data,t),t.count=r;const i=this.ctx,s=this._createMaskCanvas(e,t),o=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,s.offsetX,s.offsetY),(a=this.dependencyTracker)==null||a.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+o.width,s.offsetY,s.offsetY+o.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r,i=0,s=0,o,a){var p,m,y;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const u=pr(l);l.transform(r,i,s,o,0,0);const h=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,h.offsetX-u[4],h.offsetY-u[5]),(p=this.dependencyTracker)==null||p.resetBBox(e);for(let b=0,w=a.length;b<w;b+=2){const _=Ge.transform(u,[r,i,s,o,a[b],a[b+1]]);l.drawImage(h.canvas,_[4],_[5]),(m=this.dependencyTracker)==null||m.recordBBox(e,this.ctx,_[4],_[4]+h.canvas.width,_[5],_[5]+h.canvas.height)}l.restore(),this.compose(),(y=this.dependencyTracker)==null||y.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var o,a,l;if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;(o=this.dependencyTracker)==null||o.resetBBox(e).recordDependencies(e,ea.transformAndFill);for(const u of t){const{data:h,width:p,height:m,transform:y}=u,b=this.cachedCanvases.getCanvas("maskCanvas",p,m),w=b.context;w.save();const _=this.getObject(e,h,u);Mq(w,_),w.globalCompositeOperation="source-in",w.fillStyle=s?i.getPattern(w,this,Vl(r),Mi.FILL,e):i,w.fillRect(0,0,p,m),w.restore(),r.save(),r.transform(...y),r.scale(1,-1),ST(r,b.canvas,0,0,p,m,0,-1,1,1),(a=this.dependencyTracker)==null||a.recordBBox(e,r,0,p,0,m),r.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const r=this.getObject(e,t);if(!r){yt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,t,r,i,s){if(!this.contentVisible)return;const o=this.getObject(e,t);if(!o){yt("Dependent image isn't ready yet");return}const a=o.width,l=o.height,u=[];for(let h=0,p=s.length;h<p;h+=2)u.push({transform:[r,0,0,i,s[h],s[h+1]],x:0,y:0,w:a,h:l});this.paintInlineImageXObjectGroup(e,o,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const r=t.width,i=t.height,s=this.ctx;this.save(e);const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none"),s.scale(1/r,-1/i);let a;if(t.bitmap)a=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)a=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",r,i).context;Dq(p,t),a=this.applyTransferMapsToCanvas(p)}const l=this._scaleImage(a,Vl(s));s.imageSmoothingEnabled=Oq(pr(s),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,s,0,r,-i,0).recordDependencies(e,ea.imageXObject).recordOperation(e),ST(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,r){var o,a,l;if(!this.contentVisible)return;const i=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const u=t.width,h=t.height,m=this.cachedCanvases.getCanvas("inlineImage",u,h).context;Dq(m,t),s=this.applyTransferMapsToCanvas(m)}(o=this.dependencyTracker)==null||o.resetBBox(e);for(const u of r)i.save(),i.transform(...u.transform),i.scale(1,-1),ST(i,s,u.x,u.y,u.w,u.h,0,-1,1,1),(a=this.dependencyTracker)==null||a.recordBBox(e,i,0,1,-1,0),i.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,ea.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,r){}beginMarkedContent(e,t){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,r){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,r){var o,a;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===Lq?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(o=this.dependencyTracker)==null||o.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(a=this.dependencyTracker)==null||a.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=pr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)o=a=1/l;else{const h=l*e;o=a=h<1?1/h:1}else if(e===0)o=1/l,a=1/u;else{const h=l*e,p=u*e;o=h<1?1/h:1,a=p<1?1/p:1}}else{const l=Math.abs(t*s-r*i),u=Math.hypot(t,r),h=Math.hypot(i,s);if(e===0)o=h/l,a=u/l;else{const p=e*l;o=h>p?h/p:1,a=u>p?u/p:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:i}}=this,[s,o]=this.getScaleForStroking();if(s===o){r.lineWidth=(i||1)*s,r.stroke(e);return}const a=r.getLineDash();t&&r.save(),r.scale(s,o),GO.a=1/s,GO.d=1/o;const l=new Path2D;if(l.addPath(e,GO),a.length>0){const u=Math.max(s,o);r.setLineDash(a.map(h=>h/u)),r.lineDashOffset/=u}r.lineWidth=i||1,r.stroke(l),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Tl=new WeakSet,HF=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},zF=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},WF=function(e,t,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),i};let jy=nU;for(const n in j_)jy.prototype[n]!==void 0&&(jy.prototype[j_[n]]=jy.prototype[n]);var PS,DS;class fl{static get workerPort(){return f(this,PS)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");D(this,PS,e)}static get workerSrc(){return f(this,DS)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");D(this,DS,e)}}PS=new WeakMap,DS=new WeakMap,j(fl,PS,null),j(fl,DS,"");var Sv,MS;class uPe{constructor({parsedData:e,rawData:t}){j(this,Sv);j(this,MS);D(this,Sv,e),D(this,MS,t)}getRaw(){return f(this,MS)}get(e){return f(this,Sv).get(e)??null}[Symbol.iterator](){return f(this,Sv).entries()}}Sv=new WeakMap,MS=new WeakMap;const vy=Symbol("INTERNAL");var OS,LS,FS,Ev;class dPe{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){j(this,OS,!1);j(this,LS,!1);j(this,FS,!1);j(this,Ev,!0);D(this,OS,!!(e&Po.DISPLAY)),D(this,LS,!!(e&Po.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(f(this,FS))return f(this,Ev);if(!f(this,Ev))return!1;const{print:e,view:t}=this.usage;return f(this,OS)?(t==null?void 0:t.viewState)!=="OFF":f(this,LS)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==vy&&Bn("Internal method `_setVisible` called."),D(this,FS,r),D(this,Ev,t)}}OS=new WeakMap,LS=new WeakMap,FS=new WeakMap,Ev=new WeakMap;var _h,An,Cv,Tv,NS,qF;class hPe{constructor(e,t=Po.DISPLAY){j(this,NS);j(this,_h,null);j(this,An,new Map);j(this,Cv,null);j(this,Tv,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,D(this,Tv,e.order);for(const r of e.groups)f(this,An).set(r.id,new dPe(t,r));if(e.baseState==="OFF")for(const r of f(this,An).values())r._setVisible(vy,!1);for(const r of e.on)f(this,An).get(r)._setVisible(vy,!0);for(const r of e.off)f(this,An).get(r)._setVisible(vy,!1);D(this,Cv,this.getHash())}}isVisible(e){if(f(this,An).size===0)return!0;if(!e)return OI("Optional content group not defined."),!0;if(e.type==="OCG")return f(this,An).has(e.id)?f(this,An).get(e.id).visible:(yt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return H(this,NS,qF).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!f(this,An).has(t))return yt(`Optional content group not found: ${t}`),!0;if(f(this,An).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!f(this,An).has(t))return yt(`Optional content group not found: ${t}`),!0;if(!f(this,An).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!f(this,An).has(t))return yt(`Optional content group not found: ${t}`),!0;if(!f(this,An).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!f(this,An).has(t))return yt(`Optional content group not found: ${t}`),!0;if(f(this,An).get(t).visible)return!1}return!0}return yt(`Unknown optional content policy ${e.policy}.`),!0}return yt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=f(this,An).get(e);if(!i){yt(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const o of i.rbGroups)for(const a of o)a!==e&&((s=f(this,An).get(a))==null||s._setVisible(vy,!1,!0));i._setVisible(vy,!!t,!0),D(this,_h,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=f(this,An).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}D(this,_h,null)}get hasInitialVisibility(){return f(this,Cv)===null||this.getHash()===f(this,Cv)}getOrder(){return f(this,An).size?f(this,Tv)?f(this,Tv).slice():[...f(this,An).keys()]:null}getGroup(e){return f(this,An).get(e)||null}getHash(){if(f(this,_h)!==null)return f(this,_h);const e=new qQ;for(const[t,r]of f(this,An))e.update(`${t}:${r.visible}`);return D(this,_h,e.hexdigest())}[Symbol.iterator](){return f(this,An).entries()}}_h=new WeakMap,An=new WeakMap,Cv=new WeakMap,Tv=new WeakMap,NS=new WeakSet,qF=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=H(this,NS,qF).call(this,s);else if(f(this,An).has(s))o=f(this,An).get(s).visible;else return yt(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class fPe{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Kt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});Kt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Kt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new pPe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new mPe(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class pPe{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=Uj(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class mPe{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function gPe(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let h=a(t);return h=unescape(h),h=l(h),h=u(h),s(h)}if(t=o(n),t){const h=u(t);return s(h)}if(t=r("filename","i").exec(n),t){t=t[1];let h=a(t);return h=u(h),s(h)}function r(h,p){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function i(h,p){if(h){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const m=new TextDecoder(h,{fatal:!0}),y=v1(p);p=m.decode(y),e=!1}catch{}}return p}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function o(h){const p=[];let m;const y=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=y.exec(h))!==null;){let[,w,_,E]=m;if(w=parseInt(w,10),w in p){if(w===0)break;continue}p[w]=[_,E]}const b=[];for(let w=0;w<p.length&&w in p;++w){let[_,E]=p[w];E=a(E),_&&(E=unescape(E),w===0&&(E=l(E))),b.push(E)}return b.join("")}function a(h){if(h.startsWith('"')){const p=h.slice(1).split('\\"');for(let m=0;m<p.length;++m){const y=p[m].indexOf('"');y!==-1&&(p[m]=p[m].slice(0,y),p.length=m+1),p[m]=p[m].replaceAll(/\\(.)/g,"$1")}h=p.join('"')}return h}function l(h){const p=h.indexOf("'");if(p===-1)return h;const m=h.slice(0,p),b=h.slice(p+1).replace(/^[^']*'/,"");return i(m,b)}function u(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,m,y,b){if(y==="q"||y==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,_){return String.fromCharCode(parseInt(_,16))}),i(m,b);try{b=atob(b)}catch{}return i(m,b)})}return""}function iZ(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function FI(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function sZ({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function oZ(n){const e=n.get("Content-Disposition");if(e){let t=gPe(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Uj(t))return t}return null}function E1(n,e){return new Ix(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function aZ(n){return n===200||n===206}function lZ(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function cZ(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(yt(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class yPe{constructor(e){_e(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=iZ(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Kt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new vPe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new wPe(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class vPe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,lZ(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=FI(s.url),!aZ(s.status))throw E1(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:a,suggestedLength:l}=sZ({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=oZ(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ff("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:cZ(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class wPe{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const o=i.url;fetch(o,lZ(s,this._withCredentials,this._abortController)).then(a=>{const l=FI(a.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!aZ(a.status))throw E1(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:cZ(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const YO=200,KO=206;function bPe(n){const e=n.response;return typeof e!="string"?e:v1(e).buffer}class _Pe{constructor({url:e,httpHeaders:t,withCredentials:r}){_e(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=iZ(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=KO):i.expectedStatus=YO,t.responseType="arraybuffer",Kt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||YO;if(!(s===YO&&r.expectedStatus===KO)&&s!==r.expectedStatus){r.onError(i.status);return}const a=bPe(i);if(s===KO){const l=i.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?r.onDone({begin:parseInt(u[1],10),chunk:a}):(yt('Missing or invalid "Content-Range" header.'),r.onError(0))}else a?r.onDone({begin:0,chunk:a}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class SPe{constructor(e){this._source=e,this._manager=new _Pe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Kt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new EPe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new CPe(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class EPe{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=FI(t.responseURL);const r=t.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[l,...u]=a.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=sZ({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=oZ(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=E1(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class CPe{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=FI((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=E1(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const TPe=/^[a-z][a-z0-9\-+.]+:/i;function APe(n){if(TPe.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class xPe{constructor(e){this.source=e,this.url=APe(e.url),Kt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Kt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new RPe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new IPe(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class RPe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=E1(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ff("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class IPe{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const nb=Symbol("INITIAL_DATA");var yo,BS,GF;class uZ{constructor(){j(this,BS);j(this,yo,Object.create(null))}get(e,t=null){if(t){const i=H(this,BS,GF).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=f(this,yo)[e];if(!r||r.data===nb)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=f(this,yo)[e];return!!t&&t.data!==nb}delete(e){const t=f(this,yo)[e];return!t||t.data===nb?!1:(delete f(this,yo)[e],!0)}resolve(e,t=null){const r=H(this,BS,GF).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in f(this,yo)){const{data:r}=f(this,yo)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}D(this,yo,Object.create(null))}*[Symbol.iterator](){for(const e in f(this,yo)){const{data:t}=f(this,yo)[e];t!==nb&&(yield[e,t])}}}yo=new WeakMap,BS=new WeakSet,GF=function(e){var t;return(t=f(this,yo))[e]||(t[e]={...Promise.withResolvers(),data:nb})};const kPe=1e5,Fq=30;var oG,Sh,Hs,$S,jS,Gp,Ru,US,VS,Yp,Av,xv,Eh,Rv,HS,Iv,Kp,zS,WS,kv,Xp,qS,Ch,Pv,gd,dZ,hZ,YF,Bo,mA,KF,fZ,pZ;const Zr=class Zr{constructor({textContentSource:e,container:t,viewport:r}){j(this,gd);j(this,Sh,Promise.withResolvers());j(this,Hs,null);j(this,$S,!1);j(this,jS,!!((oG=globalThis.FontInspector)!=null&&oG.enabled));j(this,Gp,null);j(this,Ru,null);j(this,US,0);j(this,VS,0);j(this,Yp,null);j(this,Av,null);j(this,xv,0);j(this,Eh,0);j(this,Rv,Object.create(null));j(this,HS,[]);j(this,Iv,null);j(this,Kp,[]);j(this,zS,new WeakMap);j(this,WS,null);var l;if(e instanceof ReadableStream)D(this,Iv,e);else if(typeof e=="object")D(this,Iv,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');D(this,Hs,D(this,Av,t)),D(this,Eh,r.scale*Dc.pixelRatio),D(this,xv,r.rotation),D(this,Ru,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;D(this,WS,[1,0,0,-1,-o,a+s]),D(this,VS,i),D(this,US,s),H(l=Zr,Bo,fZ).call(l),Km(t,r),f(this,Sh).promise.finally(()=>{f(Zr,Pv).delete(this),D(this,Ru,null),D(this,Rv,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Bi.platform;return Tt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{f(this,Yp).read().then(({value:t,done:r})=>{if(r){f(this,Sh).resolve();return}f(this,Gp)??D(this,Gp,t.lang),Object.assign(f(this,Rv),t.styles),H(this,gd,dZ).call(this,t.items),e()},f(this,Sh).reject)};return D(this,Yp,f(this,Iv).getReader()),f(Zr,Pv).add(this),e(),f(this,Sh).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*Dc.pixelRatio,i=e.rotation;if(i!==f(this,xv)&&(t==null||t(),D(this,xv,i),Km(f(this,Av),{rotation:i})),r!==f(this,Eh)){t==null||t(),D(this,Eh,r);const o={div:null,properties:null,ctx:H(s=Zr,Bo,mA).call(s,f(this,Gp))};for(const a of f(this,Kp))o.properties=f(this,zS).get(a),o.div=a,H(this,gd,YF).call(this,o)}}cancel(){var t;const e=new ff("TextLayer task cancelled.");(t=f(this,Yp))==null||t.cancel(e).catch(()=>{}),D(this,Yp,null),f(this,Sh).reject(e)}get textDivs(){return f(this,Kp)}get textContentItemsStr(){return f(this,HS)}static cleanup(){if(!(f(this,Pv).size>0)){f(this,kv).clear();for(const{canvas:e}of f(this,Xp).values())e.remove();f(this,Xp).clear()}}};Sh=new WeakMap,Hs=new WeakMap,$S=new WeakMap,jS=new WeakMap,Gp=new WeakMap,Ru=new WeakMap,US=new WeakMap,VS=new WeakMap,Yp=new WeakMap,Av=new WeakMap,xv=new WeakMap,Eh=new WeakMap,Rv=new WeakMap,HS=new WeakMap,Iv=new WeakMap,Kp=new WeakMap,zS=new WeakMap,WS=new WeakMap,kv=new WeakMap,Xp=new WeakMap,qS=new WeakMap,Ch=new WeakMap,Pv=new WeakMap,gd=new WeakSet,dZ=function(e){var i,s;if(f(this,$S))return;(s=f(this,Ru)).ctx??(s.ctx=H(i=Zr,Bo,mA).call(i,f(this,Gp)));const t=f(this,Kp),r=f(this,HS);for(const o of e){if(t.length>kPe){yt("Ignoring additional textDivs for performance reasons."),D(this,$S,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=f(this,Hs);D(this,Hs,document.createElement("span")),f(this,Hs).classList.add("markedContent"),o.id&&f(this,Hs).setAttribute("id",`${o.id}`),a.append(f(this,Hs))}else o.type==="endMarkedContent"&&D(this,Hs,f(this,Hs).parentNode);continue}r.push(o.str),H(this,gd,hZ).call(this,o)}},hZ=function(e){var w;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};f(this,Kp).push(t);const i=Ge.transform(f(this,WS),e.transform);let s=Math.atan2(i[1],i[0]);const o=f(this,Rv)[e.fontName];o.vertical&&(s+=Math.PI/2);let a=f(this,jS)&&o.fontSubstitution||o.fontFamily;a=Zr.fontFamilyMap.get(a)||a;const l=Math.hypot(i[2],i[3]),u=l*H(w=Zr,Bo,pZ).call(w,a,o,f(this,Gp));let h,p;s===0?(h=i[4],p=i[5]-u):(h=i[4]+u*Math.sin(s),p=i[5]-u*Math.cos(s));const m="calc(var(--total-scale-factor) *",y=t.style;f(this,Hs)===f(this,Av)?(y.left=`${(100*h/f(this,VS)).toFixed(2)}%`,y.top=`${(100*p/f(this,US)).toFixed(2)}%`):(y.left=`${m}${h.toFixed(2)}px)`,y.top=`${m}${p.toFixed(2)}px)`),y.fontSize=`${m}${(f(Zr,Ch)*l).toFixed(2)}px)`,y.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,f(this,jS)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const _=Math.abs(e.transform[0]),E=Math.abs(e.transform[3]);_!==E&&Math.max(_,E)/Math.min(_,E)>1.5&&(b=!0)}if(b&&(r.canvasWidth=o.vertical?e.height:e.width),f(this,zS).set(t,r),f(this,Ru).div=t,f(this,Ru).properties=r,H(this,gd,YF).call(this,f(this,Ru)),r.hasText&&f(this,Hs).append(t),r.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),f(this,Hs).append(_)}},YF=function(e){var a;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let o="";if(f(Zr,Ch)>1&&(o=`scale(${1/f(Zr,Ch)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:u,fontSize:h}=r;H(a=Zr,Bo,KF).call(a,i,h*f(this,Eh),l);const{width:p}=i.measureText(t.textContent);p>0&&(o=`scaleX(${u*f(this,Eh)/p}) ${o}`)}r.angle!==0&&(o=`rotate(${r.angle}deg) ${o}`),o.length>0&&(s.transform=o)},Bo=new WeakSet,mA=function(e=null){let t=f(this,Xp).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,Xp).set(e,t),f(this,qS).set(t,{size:0,family:""})}return t},KF=function(e,t,r){const i=f(this,qS).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},fZ=function(){if(f(this,Ch)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),D(this,Ch,e.getBoundingClientRect().height),e.remove()},pZ=function(e,t,r){const i=f(this,kv).get(e);if(i)return i;const s=H(this,Bo,mA).call(this,r);s.canvas.width=s.canvas.height=Fq,H(this,Bo,KF).call(this,s,Fq,e);const o=s.measureText(""),a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let u=.8;return a?u=a/(a+l):(Bi.platform.isFirefox&&yt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),f(this,kv).set(e,u),u},j(Zr,Bo),j(Zr,kv,new Map),j(Zr,Xp,new Map),j(Zr,qS,new WeakMap),j(Zr,Ch,null),j(Zr,Pv,new Set);let V_=Zr;const PPe=100;function mZ(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new XF,{docId:t}=e,r=n.url?Bke(n.url):null,i=n.data?$ke(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof gZ?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let h=n.worker instanceof H_?n.worker:null;const p=n.verbosity,m=typeof n.docBaseUrl=="string"&&!LI(n.docBaseUrl)?n.docBaseUrl:null,y=vT(n.cMapUrl),b=n.cMapPacked!==!1,w=n.CMapReaderFactory||(ws?Gke:Sq),_=vT(n.iccUrl),E=vT(n.standardFontDataUrl),T=n.StandardFontDataFactory||(ws?Yke:Eq),C=vT(n.wasmUrl),x=n.WasmFactory||(ws?Kke:Cq),I=n.stopAtErrors!==!0,F=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,k=n.isEvalSupported!==!1,L=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!ws,N=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!ws&&(Bi.platform.isFirefox||!globalThis.chrome),A=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,B=typeof n.disableFontFace=="boolean"?n.disableFontFace:ws,z=n.fontExtraProperties===!0,U=n.enableXfa===!0,Q=n.ownerDocument||globalThis.document,te=n.disableRange===!0,X=n.disableStream===!0,ne=n.disableAutoFetch===!0,J=n.pdfBug===!0,se=n.CanvasFactory||(ws?qke:Hke),de=n.FilterFactory||(ws?Wke:zke),q=n.enableHWA===!0,Y=n.useWasm!==!1,Z=l?l.length:n.length??NaN,le=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!ws&&!B,ce=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(w===Sq&&T===Eq&&x===Cq&&y&&E&&C&&bb(y,document.baseURI)&&bb(E,document.baseURI)&&bb(C,document.baseURI)),ve=null;hke(p);const ye={canvasFactory:new se({ownerDocument:Q,enableHWA:q}),filterFactory:new de({docId:t,ownerDocument:Q}),cMapReaderFactory:ce?null:new w({baseUrl:y,isCompressed:b}),standardFontDataFactory:ce?null:new T({baseUrl:E}),wasmFactory:ce?null:new x({baseUrl:C})};h||(h=H_.create({verbosity:p,port:fl.workerPort}),e._worker=h);const xe={docId:t,apiVersion:"5.4.394",data:i,password:a,disableAutoFetch:ne,rangeChunkSize:u,length:Z,docBaseUrl:m,enableXfa:U,evaluatorOptions:{maxImageSize:F,disableFontFace:B,ignoreErrors:I,isEvalSupported:k,isOffscreenCanvasSupported:L,isImageDecoderSupported:N,canvasMaxAreaInBytes:A,fontExtraProperties:z,useSystemFonts:le,useWasm:Y,useWorkerFetch:ce,cMapUrl:y,iccUrl:_,standardFontDataUrl:E,wasmUrl:C}},Oe={ownerDocument:Q,pdfBug:J,styleElement:ve,loadingParams:{disableAutoFetch:ne,enableXfa:U}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const ke=h.messageHandler.sendWithPromise("GetDocRequest",xe,i?[i.buffer]:null);let Xe;if(l)Xe=new fPe(l,{disableRange:te,disableStream:X});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const je=bb(r)?yPe:ws?xPe:SPe;Xe=new je({url:r,length:Z,httpHeaders:s,withCredentials:o,rangeChunkSize:u,disableRange:te,disableStream:X})}return ke.then(je=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const dt=new Rb(t,je,h.port),Ye=new OPe(dt,e,Xe,Oe,ye,q);e._transport=Ye,dt.send("Ready",null)})}).catch(e._capability.reject),e}var Qx;const Zx=class Zx{constructor(){_e(this,"_capability",Promise.withResolvers());_e(this,"_transport",null);_e(this,"_worker",null);_e(this,"docId",`d${Qr(Zx,Qx)._++}`);_e(this,"destroyed",!1);_e(this,"onPassword",null);_e(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};Qx=new WeakMap,j(Zx,Qx,0);let XF=Zx;var Jp,GS,YS,KS,XS;class gZ{constructor(e,t,r=!1,i=null){j(this,Jp,Promise.withResolvers());j(this,GS,[]);j(this,YS,[]);j(this,KS,[]);j(this,XS,[]);this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){f(this,XS).push(e)}addProgressListener(e){f(this,KS).push(e)}addProgressiveReadListener(e){f(this,YS).push(e)}addProgressiveDoneListener(e){f(this,GS).push(e)}onDataRange(e,t){for(const r of f(this,XS))r(e,t)}onDataProgress(e,t){f(this,Jp).promise.then(()=>{for(const r of f(this,KS))r(e,t)})}onDataProgressiveRead(e){f(this,Jp).promise.then(()=>{for(const t of f(this,YS))t(e)})}onDataProgressiveDone(){f(this,Jp).promise.then(()=>{for(const e of f(this,GS))e()})}transportReady(){f(this,Jp).resolve()}requestDataRange(e,t){Bn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}Jp=new WeakMap,GS=new WeakMap,YS=new WeakMap,KS=new WeakMap,XS=new WeakMap;class DPe{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Tt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Iu,Qp,Mb;class MPe{constructor(e,t,r,i=!1){j(this,Qp);j(this,Iu,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new mq:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new uZ,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new b1({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Tt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:r,intent:i="display",annotationMode:s=eh.ENABLE,transform:o=null,background:a=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:h=null,printAnnotationStorage:p=null,isEditing:m=!1,recordOperations:y=!1,operationsFilter:b=null}){var N,A,B;(N=this._stats)==null||N.time("Overall");const w=this._transport.getRenderingIntent(i,s,p,m),{renderingIntent:_,cacheKey:E}=w;D(this,Iu,!1),l||(l=this._transport.getOptionalContentConfig(_));let T=this._intentStates.get(E);T||(T=Object.create(null),this._intentStates.set(E,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const C=!!(_&Po.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(A=this._stats)==null||A.time("Page Request"),this._pumpOperatorList(w));const x=!!(this._pdfBug&&((B=globalThis.StepperManager)!=null&&B.enabled)),I=!this.recordedBBoxes&&(y||x),F=z=>{var U,Q;if(T.renderTasks.delete(k),I){const te=(U=k.gfx)==null?void 0:U.dependencyTracker.take();te&&(k.stepper&&k.stepper.setOperatorBBoxes(te,k.gfx.dependencyTracker.takeDebugMetadata()),y&&(this.recordedBBoxes=te))}C&&D(this,Iu,!0),H(this,Qp,Mb).call(this),z?(k.capability.reject(z),this._abortOperatorList({intentState:T,reason:z instanceof Error?z:new Error(z)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Q=globalThis.Stats)!=null&&Q.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new JF({callback:F,params:{canvas:t,canvasContext:e,dependencyTracker:I?new Jke(t,T.operatorList.length,x):null,viewport:r,transform:o,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:h,enableHWA:this._transport.enableHWA,operationsFilter:b});(T.renderTasks||(T.renderTasks=new Set)).add(k);const L=k.task;return Promise.all([T.displayReadyCapability.promise,l]).then(([z,U])=>{var Q;if(this.destroyed){F();return}if((Q=this._stats)==null||Q.time("Rendering"),!(U.renderingIntent&_))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:z,optionalContentConfig:U}),k.operatorListChanged()}).catch(F),L}getOperatorList({intent:e="display",annotationMode:t=eh.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var u;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,t,r,i,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>U_.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:u}){if(u){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),D(this,Iu,!1),Promise.all(e)}cleanup(e=!1){D(this,Iu,!0);const t=H(this,Qp,Mb).call(this);return e&&t&&this._stats&&(this._stats=new mq),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&H(this,Qp,Mb).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:o}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},o).getReader(),u=this._intentStates.get(t);u.streamReader=l;const h=()=>{l.read().then(({value:p,done:m})=>{if(m){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,u),h())},p=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const m of u.renderTasks)m.operatorListChanged();H(this,Qp,Mb).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(p);else if(u.opListReadCapability)u.opListReadCapability.reject(p);else throw p}})};h()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof jj){let i=PPe;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new ff(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Iu=new WeakMap,Qp=new WeakSet,Mb=function(){if(!f(this,Iu)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),D(this,Iu,!1),!0};var Th,ol,ku,Zp,eR,em,tm,Ss,gA,yZ,vZ,Ob,Dv,yA;const rr=class rr{constructor({name:e=null,port:t=null,verbosity:r=fke()}={}){j(this,Ss);j(this,Th,Promise.withResolvers());j(this,ol,null);j(this,ku,null);j(this,Zp,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,t){if(f(rr,tm).has(t))throw new Error("Cannot use more than one PDFWorker per port.");f(rr,tm).set(t,this),H(this,Ss,yZ).call(this,t)}else H(this,Ss,vZ).call(this)}get promise(){return f(this,Th).promise}get port(){return f(this,ku)}get messageHandler(){return f(this,ol)}destroy(){var e,t;this.destroyed=!0,(e=f(this,Zp))==null||e.terminate(),D(this,Zp,null),f(rr,tm).delete(f(this,ku)),D(this,ku,null),(t=f(this,ol))==null||t.destroy(),D(this,ol,null)}static create(e){const t=f(this,tm).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new rr(e)}static get workerSrc(){if(fl.workerSrc)return fl.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Tt(this,"_setupFakeWorkerGlobal",(async()=>f(this,Dv,yA)?f(this,Dv,yA):(await import(this.workerSrc)).WorkerMessageHandler)())}};Th=new WeakMap,ol=new WeakMap,ku=new WeakMap,Zp=new WeakMap,eR=new WeakMap,em=new WeakMap,tm=new WeakMap,Ss=new WeakSet,gA=function(){f(this,Th).resolve(),f(this,ol).send("configure",{verbosity:this.verbosity})},yZ=function(e){D(this,ku,e),D(this,ol,new Rb("main","worker",e)),f(this,ol).on("ready",()=>{}),H(this,Ss,gA).call(this)},vZ=function(){if(f(rr,em)||f(rr,Dv,yA)){H(this,Ss,Ob).call(this);return}let{workerSrc:e}=rr;try{rr._isSameOrigin(window.location,e)||(e=rr._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new Rb("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?f(this,Th).reject(new Error("Worker was destroyed")):H(this,Ss,Ob).call(this)},s=new AbortController;t.addEventListener("error",()=>{f(this,Zp)||i()},{signal:s.signal}),r.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}D(this,ol,r),D(this,ku,t),D(this,Zp,t),H(this,Ss,gA).call(this)}),r.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{H(this,Ss,Ob).call(this)}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{OI("The worker has been disabled.")}H(this,Ss,Ob).call(this)},Ob=function(){f(rr,em)||(yt("Setting up fake worker."),D(rr,em,!0)),rr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){f(this,Th).reject(new Error("Worker was destroyed"));return}const t=new Vke;D(this,ku,t);const r=`fake${Qr(rr,eR)._++}`,i=new Rb(r+"_worker",r,t);e.setup(i,t),D(this,ol,new Rb(r,r+"_worker",t)),H(this,Ss,gA).call(this)}).catch(e=>{f(this,Th).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Dv=new WeakSet,yA=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},j(rr,Dv),j(rr,eR,0),j(rr,em,!1),j(rr,tm,new WeakMap),ws&&(D(rr,em,!0),fl.workerSrc||(fl.workerSrc="./pdf.worker.mjs")),rr._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(t,r);return r.origin===i.origin},rr._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},rr.fromPort=e=>{if(Tke("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return rr.create(e)};let H_=rr;var Pu,sc,Mv,Ov,Du,nm,Lb;class OPe{constructor(e,t,r,i,s,o){j(this,nm);j(this,Pu,new Map);j(this,sc,new Map);j(this,Mv,new Map);j(this,Ov,new Map);j(this,Du,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new uZ,this.fontLoader=new Fke({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}get annotationStorage(){return Tt(this,"annotationStorage",new Vj)}getRenderingIntent(e,t=eh.ENABLE,r=null,i=!1,s=!1){let o=Po.DISPLAY,a=MF;switch(e){case"any":o=Po.ANY;break;case"display":break;case"print":o=Po.PRINT;break;default:yt(`getRenderingIntent - invalid intent: ${e}`)}const l=o&Po.PRINT&&r instanceof YQ?r:this.annotationStorage;switch(t){case eh.DISABLE:o+=Po.ANNOTATIONS_DISABLE;break;case eh.ENABLE:break;case eh.ENABLE_FORMS:o+=Po.ANNOTATIONS_FORMS;break;case eh.ENABLE_STORAGE:o+=Po.ANNOTATIONS_STORAGE,a=l.serializable;break;default:yt(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(o+=Po.IS_EDITING),s&&(o+=Po.OPLIST);const{ids:u,hash:h}=l.modifiedIds,p=[o,a.hash,h];return{renderingIntent:o,cacheKey:p.join("_"),annotationStorageSerializable:a,modifiedIds:u}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=f(this,Du))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of f(this,sc).values())e.push(i._destroy());f(this,sc).clear(),f(this,Mv).clear(),f(this,Ov).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),f(this,Pu).clear(),this.filterFactory.destroy(),V_.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new ff("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{Kt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}Kt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:o}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(r,i)=>{Kt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}Kt(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new DPe(r,this))}),e.on("DocException",r=>{t._capability.reject(Fs(r))}),e.on("PasswordRequest",r=>{D(this,Du,Promise.withResolvers());try{if(!t.onPassword)throw Fs(r);const i=s=>{s instanceof Error?f(this,Du).reject(s):f(this,Du).resolve({password:s})};t.onPassword(i,r.code)}catch(i){f(this,Du).reject(i)}return f(this,Du).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;f(this,sc).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const m=s.error;yt(`Error during font loading: ${m}`),this.commonObjs.resolve(r,m);break}const a=new OF(s),l=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(m,y)=>globalThis.FontInspector.fontAdded(m,y):null,u=new Nke(a,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(r,u)});break;case"CopyLocalImage":const{imageRef:h}=s;Kt(h,"The imageRef must be defined.");for(const m of f(this,sc).values())for(const[,y]of m.objs)if((y==null?void 0:y.ref)===h)return y.dataLen?(this.commonObjs.resolve(r,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(r,s);break;case"Pattern":const p=new LF(s);this.commonObjs.resolve(r,p.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var l;if(this.destroyed)return;const a=f(this,sc).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&yt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=f(this,Mv).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&f(this,Ov).set(s.refStr,e);const o=new MPe(t,s,this,this._params.pdfBug);return f(this,sc).set(t,o),o});return f(this,Mv).set(t,i),i}getPageIndex(e){return FF(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return H(this,nm,Lb).call(this,"GetFieldObjects")}hasJSActions(){return H(this,nm,Lb).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return H(this,nm,Lb).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return H(this,nm,Lb).call(this,"GetOptionalContentConfig").then(t=>new hPe(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=f(this,Pu).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new uPe(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return f(this,Pu).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of f(this,sc).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),f(this,Pu).clear(),this.filterFactory.destroy(!0),V_.cleanup()}}cachedPageNumber(e){if(!FF(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return f(this,Ov).get(t)??null}}Pu=new WeakMap,sc=new WeakMap,Mv=new WeakMap,Ov=new WeakMap,Du=new WeakMap,nm=new WeakSet,Lb=function(e,t=null){const r=f(this,Pu).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return f(this,Pu).set(e,i),i};var Ah;class LPe{constructor(e){j(this,Ah,null);_e(this,"onContinue",null);_e(this,"onError",null);D(this,Ah,e)}get promise(){return f(this,Ah).capability.promise}cancel(e=0){f(this,Ah).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=f(this,Ah).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=f(this,Ah);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Ah=new WeakMap;var xh,rm;const op=class op{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:h=!1,pdfBug:p=!1,pageColors:m=null,enableHWA:y=!1,operationsFilter:b=null}){j(this,xh,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=p,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new LPe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=y,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=b}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,u;if(this.cancelled)return;if(this._canvas){if(f(op,rm).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(op,rm).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s,dependencyTracker:o}=this.params,a=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new jy(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var r,i,s;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),f(this,xh)&&(window.cancelAnimationFrame(f(this,xh)),D(this,xh,null)),f(op,rm).delete(this._canvas),e||(e=new jj(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?D(this,xh,window.requestAnimationFrame(()=>{D(this,xh,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(op,rm).delete(this._canvas),this.callback())))}};xh=new WeakMap,rm=new WeakMap,j(op,rm,new WeakSet);let JF=op;const FPe="5.4.394",NPe="2cc809ade";var vo,im,Lv,ni,JS,Fv,Mu,QS,Rh,al,ZS,xn,QF,ZF,eN,tp,wZ,Xd;const Ns=class Ns{constructor({editor:e=null,uiManager:t=null}){j(this,xn);j(this,vo,null);j(this,im,null);j(this,Lv);j(this,ni,null);j(this,JS,!1);j(this,Fv,!1);j(this,Mu,null);j(this,QS);j(this,Rh,null);j(this,al,null);var r,i;e?(D(this,Fv,!1),D(this,Mu,e)):D(this,Fv,!0),D(this,al,(e==null?void 0:e._uiManager)||t),D(this,QS,f(this,al)._eventBus),D(this,Lv,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=f(this,al))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),f(Ns,ZS)||D(Ns,ZS,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Tt(this,"_keyboardManager",new S1([[["Escape","mac+Escape"],Ns.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ns.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ns.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ns.prototype._moveToPrevious],[["Home","mac+Home"],Ns.prototype._moveToBeginning],[["End","mac+End"],Ns.prototype._moveToEnd]]))}renderButton(){const e=D(this,vo,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",f(this,Mu)&&(e.ariaControls=`${f(this,Mu).id}_colorpicker_dropdown`);const t=f(this,al)._signal;e.addEventListener("click",H(this,xn,tp).bind(this),{signal:t}),e.addEventListener("keydown",H(this,xn,eN).bind(this),{signal:t});const r=D(this,im,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=f(this,Lv),e.append(r),e}renderMainDropdown(){const e=D(this,ni,H(this,xn,QF).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===f(this,vo)){H(this,xn,tp).call(this,e);return}const t=e.target.getAttribute("data-color");t&&H(this,xn,ZF).call(this,t,e)}_moveToNext(e){var t,r;if(!f(this,xn,Xd)){H(this,xn,tp).call(this,e);return}if(e.target===f(this,vo)){(t=f(this,ni).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=f(this,ni))==null?void 0:t.firstChild)||e.target===f(this,vo)){f(this,xn,Xd)&&this._hideDropdownFromKeyboard();return}f(this,xn,Xd)||H(this,xn,tp).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!f(this,xn,Xd)){H(this,xn,tp).call(this,e);return}(t=f(this,ni).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!f(this,xn,Xd)){H(this,xn,tp).call(this,e);return}(t=f(this,ni).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=f(this,ni))==null||e.classList.add("hidden"),f(this,vo).ariaExpanded="false",(t=f(this,Rh))==null||t.abort(),D(this,Rh,null)}_hideDropdownFromKeyboard(){var e;if(!f(this,Fv)){if(!f(this,xn,Xd)){(e=f(this,Mu))==null||e.unselect();return}this.hideDropdown(),f(this,vo).focus({preventScroll:!0,focusVisible:f(this,JS)})}}updateColor(e){if(f(this,im)&&(f(this,im).style.backgroundColor=e),!f(this,ni))return;const t=f(this,al).highlightColors.values();for(const r of f(this,ni).children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=f(this,vo))==null||e.remove(),D(this,vo,null),D(this,im,null),(t=f(this,ni))==null||t.remove(),D(this,ni,null)}};vo=new WeakMap,im=new WeakMap,Lv=new WeakMap,ni=new WeakMap,JS=new WeakMap,Fv=new WeakMap,Mu=new WeakMap,QS=new WeakMap,Rh=new WeakMap,al=new WeakMap,ZS=new WeakMap,xn=new WeakSet,QF=function(){const e=document.createElement("div"),t=f(this,al)._signal;e.addEventListener("contextmenu",ka,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),f(this,Mu)&&(e.id=`${f(this,Mu).id}_colorpicker_dropdown`);for(const[r,i]of f(this,al).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",f(Ns,ZS)[r]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.ariaSelected=i===f(this,Lv),s.addEventListener("click",H(this,xn,ZF).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",H(this,xn,eN).bind(this),{signal:t}),e},ZF=function(e,t){t.stopPropagation(),f(this,QS).dispatch("switchannotationeditorparams",{source:this,type:Yt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},eN=function(e){Ns._keyboardManager.exec(this,e)},tp=function(e){if(f(this,xn,Xd)){this.hideDropdown();return}if(D(this,JS,e.detail===0),f(this,Rh)||(D(this,Rh,new AbortController),window.addEventListener("pointerdown",H(this,xn,wZ).bind(this),{signal:f(this,al).combinedSignal(f(this,Rh))})),f(this,vo).ariaExpanded="true",f(this,ni)){f(this,ni).classList.remove("hidden");return}const t=D(this,ni,H(this,xn,QF).call(this));f(this,vo).append(t)},wZ=function(e){var t;(t=f(this,ni))!=null&&t.contains(e.target)||this.hideDropdown()},Xd=function(){return f(this,ni)&&!f(this,ni).classList.contains("hidden")},j(Ns,ZS,null);let Fx=Ns;var oc,eE,Nv,tE;const ap=class ap{constructor(e){j(this,oc,null);j(this,eE,null);j(this,Nv,null);D(this,eE,e),D(this,Nv,e._uiManager),f(ap,tE)||D(ap,tE,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(f(this,oc))return f(this,oc);const{editorType:e,colorType:t,color:r}=f(this,eE),i=D(this,oc,document.createElement("input"));return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",f(ap,tE)[e]),i.addEventListener("input",()=>{f(this,Nv).updateParams(t,i.value)},{signal:f(this,Nv)._signal}),i}update(e){f(this,oc)&&(f(this,oc).value=e)}destroy(){var e;(e=f(this,oc))==null||e.remove(),D(this,oc,null)}hideDropdown(){}};oc=new WeakMap,eE=new WeakMap,Nv=new WeakMap,tE=new WeakMap,j(ap,tE,null);let Nx=ap;function Nq(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function rb(n){return Math.max(0,Math.min(255,255*n))}class Bq{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=rb(e),[e,e,e]}static G_HTML([e]){const t=Nq(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(rb)}static RGB_HTML(e){return`#${e.map(Nq).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[rb(1-Math.min(1,e+i)),rb(1-Math.min(1,r+i)),rb(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class BPe{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Bn("Abstract method `_createSVG` called.")}}class Bx extends BPe{_createSVG(e){return document.createElementNS(iu,e)}}const $Pe=9,Jm=new WeakSet,jPe=new Date().getTimezoneOffset()*60*1e3;class XO{static create(e){switch(e.data.annotationType){case Ur.LINK:return new Wj(e);case Ur.TEXT:return new VPe(e);case Ur.WIDGET:switch(e.data.fieldType){case"Tx":return new HPe(e);case"Btn":return e.data.radioButton?new SZ(e):e.data.checkBox?new WPe(e):new qPe(e);case"Ch":return new GPe(e);case"Sig":return new zPe(e)}return new ug(e);case Ur.POPUP:return new nN(e);case Ur.FREETEXT:return new xZ(e);case Ur.LINE:return new KPe(e);case Ur.SQUARE:return new XPe(e);case Ur.CIRCLE:return new JPe(e);case Ur.POLYLINE:return new RZ(e);case Ur.CARET:return new ZPe(e);case Ur.INK:return new qj(e);case Ur.POLYGON:return new QPe(e);case Ur.HIGHLIGHT:return new IZ(e);case Ur.UNDERLINE:return new eDe(e);case Ur.SQUIGGLY:return new tDe(e);case Ur.STRIKEOUT:return new nDe(e);case Ur.STAMP:return new kZ(e);case Ur.FILEATTACHMENT:return new rDe(e);default:return new gr(e)}}}var sm,Bv,ua,nE,tN;const rU=class rU{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){j(this,nE);j(this,sm,null);j(this,Bv,!1);j(this,ua,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return rU._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,t=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var a;const e=(a=this.annotationStorage)==null?void 0:a.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:r,rect:i}=this.data;let s=-1/0,o=-1/0;if((t==null?void 0:t.length)>=8){for(let l=0;l<t.length;l+=8)t[l+1]>o?(o=t[l+1],s=t[l+2]):t[l+1]===o&&(s=Math.max(s,t[l+2]));return[s,o]}if((r==null?void 0:r.length)>=1){for(const l of r)for(let u=0,h=l.length;u<h;u+=2)l[u+1]>o?(o=l[u+1],s=l[u]):l[u+1]===o&&(s=Math.max(s,l[u]));if(s!==1/0)return[s,o]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/r,e[1]=100*(e[1]-o)/i,e}get commentText(){var t,r,i;const{data:e}=this;return((r=(t=this.annotationStorage.getRawValue(`${$_}${e.id}`))==null?void 0:t.popup)==null?void 0:r.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:t}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:r})||this.annotationStorage.setValue(`${$_}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=f(this,ua))==null?void 0:e.popup)||this.popup)==null||t.remove(),D(this,ua,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(f(this,sm)||D(this,sm,{rect:this.data.rect.slice(0)}));const{rect:t,popup:r}=e;t&&H(this,nE,tN).call(this,t);let i=((s=f(this,ua))==null?void 0:s.popup)||this.popup;!i&&(r!=null&&r.text)&&(this._createPopup(r),i=f(this,ua).popup),i&&(i.updateEdited(e),r!=null&&r.deleted&&(i.remove(),D(this,ua,null),this.popup=null))}resetEdited(){var e;f(this,sm)&&(H(this,nE,tN).call(this,f(this,sm).rect),(e=f(this,ua))==null||e.popup.resetEdited(),D(this,sm,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof ug)&&!(this instanceof Wj)&&(s.tabIndex=0);const{style:o}=s;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof nN){const{rotation:w}=t;return!t.hasOwnCanvas&&w!==0&&this.setRotation(w,s),s}const{width:a,height:l}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const w=t.borderStyle.horizontalCornerRadius,_=t.borderStyle.verticalCornerRadius;if(w>0||_>0){const T=`calc(${w}px * var(--total-scale-factor)) / calc(${_}px * var(--total-scale-factor))`;o.borderRadius=T}else if(this instanceof SZ){const T=`calc(${a}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;o.borderRadius=T}switch(t.borderStyle.style){case fy.SOLID:o.borderStyle="solid";break;case fy.DASHED:o.borderStyle="dashed";break;case fy.BEVELED:yt("Unimplemented border style: beveled");break;case fy.INSET:yt("Unimplemented border style: inset");break;case fy.UNDERLINE:o.borderBottomStyle="solid";break}const E=t.borderColor||null;E?(D(this,Bv,!0),o.borderColor=Ge.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):o.borderWidth=0}const u=Ge.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:p,pageX:m,pageY:y}=i.rawDims;o.left=`${100*(u[0]-m)/h}%`,o.top=`${100*(u[1]-y)/p}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(o.width=`${100*a/h}%`,o.height=`${100*l/p}%`):this.setRotation(b,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:o}=this;e%180!==0&&([s,o]=[o,s]),t.style.width=`${100*s/r}%`,t.style.height=`${100*o/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[r]=Bq[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:Bq[`${o}_rgb`](a)})};return Tt(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(w=>Math.fround(w));if(e.length===8){const[w,_,E,T]=e.subarray(2,6);if(i===w&&s===_&&t===E&&r===T)return}const{style:o}=this.container;let a;if(f(this,Bv)){const{borderColor:w,borderWidth:_}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const l=i-t,u=s-r,{svgFactory:h}=this,p=h.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const m=h.createElement("defs");p.append(m);const y=h.createElement("clipPath"),b=`clippath_${this.data.id}`;y.setAttribute("id",b),y.setAttribute("clipPathUnits","objectBoundingBox"),m.append(y);for(let w=2,_=e.length;w<_;w+=8){const E=e[w],T=e[w+1],C=e[w+2],x=e[w+3],I=h.createElement("rect"),F=(C-t)/l,k=(s-T)/u,L=(E-C)/l,N=(T-x)/u;I.setAttribute("x",F),I.setAttribute("y",k),I.setAttribute("width",L),I.setAttribute("height",N),y.append(I),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${F}" y="${k}" width="${L}" height="${N}"/>`)}f(this,Bv)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(p),this.container.style.clipPath=`url(#${b})`}_createPopup(e=null){const{data:t}=this;let r,i;e?(r={str:e.text},i=e.date):(r=t.contentsObj,i=t.modificationDate),D(this,ua,new nN({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:r,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(f(this,ua)||this.popup||this.data.popupRef)}get extraPopupElement(){return f(this,ua)}render(){Bn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!Jm.has(u)){yt(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&Jm.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};sm=new WeakMap,Bv=new WeakMap,ua=new WeakMap,nE=new WeakSet,tN=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e),t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(i)};let gr=rU;class UPe extends gr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var Mo,np,bZ,_Z;class Wj extends gr{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});j(this,Mo);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),s=!0):t.attachment?(H(this,Mo,bZ).call(this,i,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(H(this,Mo,_Z).call(this,i,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=i,this.container.append(i)),this.container}_bindLink(t,r,i=""){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&H(this,Mo,np).call(this),i&&(t.title=i)}_bindNamedAction(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),i&&(t.title=i),H(this,Mo,np).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}r.overlaidText&&(t.title=r.overlaidText),t.onclick||(t.onclick=()=>!1),H(this,Mo,np).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),H(this,Mo,np).call(this),!this._fieldObjects){yt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var p;i==null||i();const{fields:s,refs:o,include:a}=r,l=[];if(s.length!==0||o.length!==0){const m=new Set(o);for(const y of s){const b=this._fieldObjects[y]||[];for(const{id:w}of b)m.add(w)}for(const y of Object.values(this._fieldObjects))for(const b of y)m.has(b.id)===a&&l.push(b)}else for(const m of Object.values(this._fieldObjects))l.push(...m);const u=this.annotationStorage,h=[];for(const m of l){const{id:y}=m;switch(h.push(y),m.type){case"text":{const w=m.defaultValue||"";u.setValue(y,{value:w});break}case"checkbox":case"radiobutton":{const w=m.defaultValue===m.exportValues;u.setValue(y,{value:w});break}case"combobox":case"listbox":{const w=m.defaultValue||"";u.setValue(y,{value:w});break}default:continue}const b=document.querySelector(`[data-element-id="${y}"]`);if(b){if(!Jm.has(b)){yt(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}Mo=new WeakSet,np=function(){this.container.setAttribute("data-internal-link","")},bZ=function(t,r,i="",s=null){t.href=this.linkService.getAnchorUrl(""),r.description?t.title=r.description:i&&(t.title=i),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(r.content,r.filename,s),!1},H(this,Mo,np).call(this)},_Z=function(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),i&&(t.title=i),H(this,Mo,np).call(this)};class VPe extends gr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class ug extends gr{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Bi.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,a;for(const[l,u]of r)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,i),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ge.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||$Pe,s=e.style;let o;const a=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),h=Math.round(u/(VO*i))||1,p=u/h;o=Math.min(i,l(p/VO))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(u/VO))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=Ge.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class HPe extends ug{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",u??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Jm.add(r),this.contentElement=r,r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:p,datetimeType:m,timeStep:y}=this.data,b=!!m&&this.enableScripting;p&&(r.title=p),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",_=>{e.setValue(t,{value:_.target.value}),this.setPropertyOnSiblings(r,"value",_.target.value,"value"),h.formattedValue=null}),r.addEventListener("resetform",_=>{const E=this.data.defaultFieldValue??"";r.value=h.userValue=E,h.formattedValue=null});let w=_=>{const{formattedValue:E}=h;E!=null&&(_.target.value=E),_.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",E=>{var C;if(h.focused)return;const{target:T}=E;if(b&&(T.type=m,y&&(T.step=y)),h.userValue){const x=h.userValue;if(b)if(m==="time"){const I=new Date(x),F=[I.getHours(),I.getMinutes(),I.getSeconds()];T.value=F.map(k=>k.toString().padStart(2,"0")).join(":")}else T.value=new Date(x-jPe).toISOString().split(m==="date"?"T":".",1)[0];else T.value=x}h.lastCommittedValue=T.value,h.commitKey=1,(C=this.data.actions)!=null&&C.Focus||(h.focused=!0)}),r.addEventListener("updatefromsandbox",E=>{this.showElementAndHideCanvas(E.target);const T={value(C){h.userValue=C.detail.value??"",b||e.setValue(t,{value:h.userValue.toString()}),C.target.value=h.userValue},formattedValue(C){const{formattedValue:x}=C.detail;h.formattedValue=x,x!=null&&C.target!==document.activeElement&&(C.target.value=x);const I={formattedValue:x};b&&(I.value=x),e.setValue(t,I)},selRange(C){C.target.setSelectionRange(...C.detail.selRange)},charLimit:C=>{var k;const{charLimit:x}=C.detail,{target:I}=C;if(x===0){I.removeAttribute("maxLength");return}I.setAttribute("maxLength",x);let F=h.userValue;!F||F.length<=x||(F=F.slice(0,x),I.value=h.userValue=F,e.setValue(t,{value:F}),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:F,willCommit:!0,commitKey:1,selStart:I.selectionStart,selEnd:I.selectionEnd}}))}};this._dispatchEventFromSandbox(T,E)}),r.addEventListener("keydown",E=>{var x;h.commitKey=1;let T=-1;if(E.key==="Escape"?T=0:E.key==="Enter"&&!this.data.multiLine?T=2:E.key==="Tab"&&(h.commitKey=3),T===-1)return;const{value:C}=E.target;h.lastCommittedValue!==C&&(h.lastCommittedValue=C,h.userValue=C,(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,willCommit:!0,commitKey:T,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}}))});const _=w;w=null,r.addEventListener("blur",E=>{var x,I;if(!h.focused||!E.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(h.focused=!1);const{target:T}=E;let{value:C}=T;if(b){if(C&&m==="time"){const F=C.split(":").map(k=>parseInt(k,10));C=new Date(2e3,0,1,F[0],F[1],F[2]||0).valueOf(),T.step=""}else C.includes("T")||(C=`${C}T00:00`),C=new Date(C).valueOf();T.type="text"}h.userValue=C,h.lastCommittedValue!==C&&((I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,willCommit:!0,commitKey:h.commitKey,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}})),_(E)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",E=>{var N;h.lastCommittedValue=null;const{data:T,target:C}=E,{value:x,selectionStart:I,selectionEnd:F}=C;let k=I,L=F;switch(E.inputType){case"deleteWordBackward":{const A=x.substring(0,I).match(/\w*[^\w]*$/);A&&(k-=A[0].length);break}case"deleteWordForward":{const A=x.substring(I).match(/^[^\w]*\w*/);A&&(L+=A[0].length);break}case"deleteContentBackward":I===F&&(k-=1);break;case"deleteContentForward":I===F&&(L+=1);break}E.preventDefault(),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,change:T||"",willCommit:!1,selStart:k,selEnd:L}})}),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.value)}if(w&&r.addEventListener("blur",w),this.data.comb){const E=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${E}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class zPe extends ug{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class WPe extends ug{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Jm.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,r)){const h=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=h),e.setValue(u.id,{value:h})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class SZ extends ug{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(Jm.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:u=>{const h=o===u.detail.value;for(const p of this._getElementsByName(u.target.name)){const m=h&&p.id===r;p.domElement&&(p.domElement.checked=m),e.setValue(p.id,{value:m})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class qPe extends Wj{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class GPe extends ug{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Jm.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue;for(const m of i.options)m.selected=m.value===p});for(const h of this.data.options){const p=document.createElement("option");p.textContent=h.displayValue,p.value=h.exportValue,r.value.includes(h.exportValue)&&(p.setAttribute("selected",!0),s=!1),i.append(p)}let o=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),o=()=>{h.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=h=>{const p=h?"value":"textContent",{options:m,multiple:y}=i;return y?Array.prototype.filter.call(m,b=>b.selected).map(b=>b[p]):m.selectedIndex===-1?null:m[m.selectedIndex][p]};let l=a(!1);const u=h=>{const p=h.target.options;return Array.prototype.map.call(p,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const p={value(m){o==null||o();const y=m.detail.value,b=new Set(Array.isArray(y)?y:[y]);for(const w of i.options)w.selected=b.has(w.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(m){i.multiple=!0},remove(m){const y=i.options,b=m.detail.remove;y[b].selected=!1,i.remove(b),y.length>0&&Array.prototype.findIndex.call(y,_=>_.selected)===-1&&(y[0].selected=!0),e.setValue(t,{value:a(!0),items:u(m)}),l=a(!1)},clear(m){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(m){const{index:y,displayValue:b,exportValue:w}=m.detail.insert,_=i.children[y],E=document.createElement("option");E.textContent=b,E.value=w,_?_.before(E):i.append(E),e.setValue(t,{value:a(!0),items:u(m)}),l=a(!1)},items(m){const{items:y}=m.detail;for(;i.length!==0;)i.remove(0);for(const b of y){const{displayValue:w,exportValue:_}=b,E=document.createElement("option");E.textContent=w,E.value=_,i.append(E)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:u(m)}),l=a(!1)},indices(m){const y=new Set(m.detail.indices);for(const b of m.target.options)b.selected=y.has(b.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(p,h)}),i.addEventListener("input",h=>{var y;const p=a(!0),m=a(!1);e.setValue(t,{value:p}),h.preventDefault(),(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:m,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var rE,rN;class nN extends gr{constructor(t){const{data:r,elements:i,parent:s}=t,o=!!s._commentManager;super(t,{isRenderable:!o&&gr._hasPopupData(r)});j(this,rE);if(this.elements=i,o&&gr._hasPopupData(r)){const a=this.popup=H(this,rE,rN).call(this);for(const l of i)l.popup=a}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const r=this.popup=H(this,rE,rN).call(this),i=[];for(const s of this.elements)s.popup=r,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${Cy}${s}`).join(",")),this.container}}rE=new WeakSet,rN=function(){return new YPe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var wo,Ih,tR,nR,$v,jv,Er,ac,kh,om,Uv,Vv,lc,bo,Ou,Lu,Cr,Fu,Ph,iE,Nu,Hv,am,Dh,mi,Mh,Rt,vA,iN,sN,oN,wA,aN,EZ,CZ,TZ,AZ,bA,_A,lN;class YPe{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:u,parentRect:h,open:p,commentManager:m=null}){j(this,Rt);j(this,wo,null);j(this,Ih,H(this,Rt,TZ).bind(this));j(this,tR,H(this,Rt,lN).bind(this));j(this,nR,H(this,Rt,_A).bind(this));j(this,$v,H(this,Rt,bA).bind(this));j(this,jv,null);j(this,Er,null);j(this,ac,null);j(this,kh,null);j(this,om,null);j(this,Uv,null);j(this,Vv,null);j(this,lc,!1);j(this,bo,null);j(this,Ou,null);j(this,Lu,null);j(this,Cr,null);j(this,Fu,null);j(this,Ph,null);j(this,iE,null);j(this,Nu,null);j(this,Hv,null);j(this,am,null);j(this,Dh,!1);j(this,mi,null);j(this,Mh,null);D(this,Er,e),D(this,Hv,i),D(this,ac,o),D(this,Nu,a),D(this,Uv,l),D(this,jv,t),D(this,iE,u),D(this,Vv,h),D(this,om,r),D(this,wo,m),D(this,mi,r[0]),D(this,kh,kx.toDateObject(s)),this.trigger=r.flatMap(y=>y.getElementsToTriggerPopup()),m||(H(this,Rt,vA).call(this),f(this,Er).hidden=!0,p&&H(this,Rt,bA).call(this))}renderCommentButton(){if(f(this,Cr)){f(this,Cr).parentNode||f(this,mi).container.after(f(this,Cr));return}if(f(this,Fu)||H(this,Rt,iN).call(this),!f(this,Fu))return;const{signal:e}=D(this,Ou,new AbortController),t=f(this,mi).hasOwnCommentButton,r=()=>{f(this,wo).toggleCommentPopup(this,!0,void 0,!t)},i=()=>{f(this,wo).toggleCommentPopup(this,!1,!0,!t)},s=()=>{f(this,wo).toggleCommentPopup(this,!1,!1)};if(t){D(this,Cr,f(this,mi).container);for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",f(this,Ih),{signal:e}),o.addEventListener("click",r,{signal:e}),o.addEventListener("pointerenter",i,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),o.classList.add("popupTriggerArea")}else{const o=D(this,Cr,document.createElement("button"));o.className="annotationCommentButton";const a=f(this,mi).container;o.style.zIndex=a.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),H(this,Rt,oN).call(this),H(this,Rt,sN).call(this),o.addEventListener("keydown",f(this,Ih),{signal:e}),o.addEventListener("click",r,{signal:e}),o.addEventListener("pointerenter",i,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),a.after(o)}}get commentButtonColor(){const{color:e,opacity:t}=f(this,mi).commentData;return e?f(this,Uv)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=f(this,Cr))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}=f(this,mi).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}}get elementBeforePopup(){return f(this,Cr)}get comment(){return f(this,Mh)||D(this,Mh,f(this,mi).commentText),f(this,Mh)}set comment(e){e!==this.comment&&(f(this,mi).commentText=D(this,Mh,e))}focus(){var e;(e=f(this,mi).container)==null||e.focus()}get parentBoundingClientRect(){return f(this,mi).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){f(this,Cr)&&(f(this,Cr).classList.toggle("selected",e),f(this,Cr).ariaExpanded=t)}setSelectedCommentButton(e){f(this,Cr).classList.toggle("selected",e)}get commentPopupPosition(){if(f(this,Ph))return f(this,Ph);const{x:e,y:t,height:r}=f(this,Cr).getBoundingClientRect(),{x:i,y:s,width:o,height:a}=f(this,mi).layer.getBoundingClientRect();return[(e-i)/o,(t+r-s)/a]}set commentPopupPosition(e){D(this,Ph,e)}hasDefaultPopupPosition(){return f(this,Ph)===null}get commentButtonPosition(){return f(this,Fu)}get commentButtonWidth(){return f(this,Cr).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,r]=f(this,Ph)||this.commentButtonPosition.map(u=>u/100),i=this.parentBoundingClientRect,{x:s,y:o,width:a,height:l}=i;f(this,wo).showDialog(null,this,s+t*a,o+r*l,{...e,parentDimensions:i})}render(){var r,i;if(f(this,bo))return;const e=D(this,bo,document.createElement("div"));if(e.className="popup",f(this,jv)){const s=e.style.outlineColor=Ge.makeHexColor(...f(this,jv));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(r=f(this,Hv))!=null&&r.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=f(this,Hv)}if(e.append(t),f(this,kh)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:f(this,kh).valueOf()})),s.dateTime=f(this,kh).toISOString(),t.append(s)}fQ({html:f(this,Rt,wA)||f(this,ac).str,dir:(i=f(this,ac))==null?void 0:i.dir,className:"popupContent"},e),f(this,Er).append(e)}updateEdited({rect:e,popup:t,deleted:r}){var i;if(f(this,wo)){r?(this.remove(),D(this,Mh,null)):t&&(t.deleted?this.remove():(H(this,Rt,oN).call(this),D(this,Mh,t.text))),e&&(D(this,Fu,null),H(this,Rt,iN).call(this),H(this,Rt,sN).call(this));return}if(r||t!=null&&t.deleted){this.remove();return}H(this,Rt,vA).call(this),f(this,am)||D(this,am,{contentsObj:f(this,ac),richText:f(this,Nu)}),e&&D(this,Lu,null),t&&t.text&&(D(this,Nu,H(this,Rt,CZ).call(this,t.text)),D(this,kh,kx.toDateObject(t.date)),D(this,ac,null)),(i=f(this,bo))==null||i.remove(),D(this,bo,null)}resetEdited(){var e;f(this,am)&&({contentsObj:Qr(this,ac)._,richText:Qr(this,Nu)._}=f(this,am),D(this,am,null),(e=f(this,bo))==null||e.remove(),D(this,bo,null),D(this,Lu,null))}remove(){var e,t,r;if((e=f(this,Ou))==null||e.abort(),D(this,Ou,null),(t=f(this,bo))==null||t.remove(),D(this,bo,null),D(this,Dh,!1),D(this,lc,!1),(r=f(this,Cr))==null||r.remove(),D(this,Cr,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){D(this,Dh,this.isVisible),f(this,Dh)&&(f(this,Er).hidden=!0)}maybeShow(){f(this,wo)||(H(this,Rt,vA).call(this),f(this,Dh)&&(f(this,bo)||H(this,Rt,_A).call(this),D(this,Dh,!1),f(this,Er).hidden=!1))}get isVisible(){return f(this,wo)?!1:f(this,Er).hidden===!1}}wo=new WeakMap,Ih=new WeakMap,tR=new WeakMap,nR=new WeakMap,$v=new WeakMap,jv=new WeakMap,Er=new WeakMap,ac=new WeakMap,kh=new WeakMap,om=new WeakMap,Uv=new WeakMap,Vv=new WeakMap,lc=new WeakMap,bo=new WeakMap,Ou=new WeakMap,Lu=new WeakMap,Cr=new WeakMap,Fu=new WeakMap,Ph=new WeakMap,iE=new WeakMap,Nu=new WeakMap,Hv=new WeakMap,am=new WeakMap,Dh=new WeakMap,mi=new WeakMap,Mh=new WeakMap,Rt=new WeakSet,vA=function(){var t;if(f(this,Ou))return;D(this,Ou,new AbortController);const{signal:e}=f(this,Ou);for(const r of this.trigger)r.addEventListener("click",f(this,$v),{signal:e}),r.addEventListener("pointerenter",f(this,nR),{signal:e}),r.addEventListener("pointerleave",f(this,tR),{signal:e}),r.classList.add("popupTriggerArea");for(const r of f(this,om))(t=r.container)==null||t.addEventListener("keydown",f(this,Ih),{signal:e})},iN=function(){const e=f(this,om).find(t=>t.hasCommentButton);e&&D(this,Fu,e._normalizePoint(e.commentButtonPosition))},sN=function(){if(f(this,mi).extraPopupElement&&!f(this,mi).editor)return;f(this,Cr)||this.renderCommentButton();const[e,t]=f(this,Fu),{style:r}=f(this,Cr);r.left=`calc(${e}%)`,r.top=`calc(${t}% - var(--comment-button-dim))`},oN=function(){f(this,mi).extraPopupElement||(f(this,Cr)||this.renderCommentButton(),f(this,Cr).style.backgroundColor=this.commentButtonColor||"")},wA=function(){const e=f(this,Nu),t=f(this,ac);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&f(this,Nu).html||null},aN=function(){var e,t,r;return((r=(t=(e=f(this,Rt,wA))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},EZ=function(){var e,t,r;return((r=(t=(e=f(this,Rt,wA))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},CZ=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:f(this,Rt,EZ),fontSize:f(this,Rt,aN)?`calc(${f(this,Rt,aN)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},TZ=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&f(this,lc))&&H(this,Rt,bA).call(this)},AZ=function(){if(f(this,Lu)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=f(this,Uv);let o=!!f(this,Vv),a=o?f(this,Vv):f(this,iE);for(const b of f(this,om))if(!a||Ge.intersect(b.data.rect,a)!==null){a=b.data.rect,o=!0;break}const l=Ge.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),h=o?a[2]-a[0]+5:0,p=l[0]+h,m=l[1];D(this,Lu,[100*(p-i)/t,100*(m-s)/r]);const{style:y}=f(this,Er);y.left=`${f(this,Lu)[0]}%`,y.top=`${f(this,Lu)[1]}%`},bA=function(){if(f(this,wo)){f(this,wo).toggleCommentPopup(this,!1);return}D(this,lc,!f(this,lc)),f(this,lc)?(H(this,Rt,_A).call(this),f(this,Er).addEventListener("click",f(this,$v)),f(this,Er).addEventListener("keydown",f(this,Ih))):(H(this,Rt,lN).call(this),f(this,Er).removeEventListener("click",f(this,$v)),f(this,Er).removeEventListener("keydown",f(this,Ih)))},_A=function(){f(this,bo)||this.render(),this.isVisible?f(this,lc)&&f(this,Er).classList.add("focused"):(H(this,Rt,AZ).call(this),f(this,Er).hidden=!1,f(this,Er).style.zIndex=parseInt(f(this,Er).style.zIndex)+1e3)},lN=function(){f(this,Er).classList.remove("focused"),!(f(this,lc)||!this.isVisible)&&(f(this,Er).hidden=!0,f(this,Er).style.zIndex=parseInt(f(this,Er).style.zIndex)-1e3)};class xZ extends gr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=St.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var sE;class KPe extends gr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});j(this,sE,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=D(this,sE,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,sE)}addHighlightArea(){this.container.classList.add("highlightArea")}}sE=new WeakMap;var oE;class XPe extends gr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});j(this,oE,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=D(this,oE,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,oE)}addHighlightArea(){this.container.classList.add("highlightArea")}}oE=new WeakMap;var aE;class JPe extends gr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});j(this,aE,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=D(this,aE,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,aE)}addHighlightArea(){this.container.classList.add("highlightArea")}}aE=new WeakMap;var lE;class RZ extends gr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});j(this,lE,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s},width:o,height:a}=this;if(!r)return this.container;const l=this.svgFactory.create(o,a,!0);let u=[];for(let p=0,m=r.length;p<m;p+=2){const y=r[p]-t[0],b=t[3]-r[p+1];u.push(`${y},${b}`)}u=u.join(" ");const h=D(this,lE,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",u),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,lE)}addHighlightArea(){this.container.classList.add("highlightArea")}}lE=new WeakMap;class QPe extends RZ{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ZPe extends gr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var cE,lm,uE,cN;class qj extends gr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});j(this,uE);j(this,cE,null);j(this,lm,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?St.HIGHLIGHT:St.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:i,borderStyle:s,popupRef:o}}=this,{transform:a,width:l,height:u}=H(this,uE,cN).call(this,r,t),h=this.svgFactory.create(l,u,!0),p=D(this,cE,this.svgFactory.createElement("svg:g"));h.append(p),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",a);for(let m=0,y=i.length;m<y;m++){const b=this.svgFactory.createElement(this.svgElementName);f(this,lm).push(b),b.setAttribute("points",i[m].join(",")),p.append(b)}return!o&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:i,rect:s}=t,o=f(this,cE);if(r>=0&&o.setAttribute("stroke-width",r||1),i)for(let a=0,l=f(this,lm).length;a<l;a++)f(this,lm)[a].setAttribute("points",i[a].join(","));if(s){const{transform:a,width:l,height:u}=H(this,uE,cN).call(this,this.data.rotation,s);o.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return f(this,lm)}addHighlightArea(){this.container.classList.add("highlightArea")}}cE=new WeakMap,lm=new WeakMap,uE=new WeakSet,cN=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class IZ extends gr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=St.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class eDe extends gr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class tDe extends gr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class nDe extends gr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class kZ extends gr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=St.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var dE,hE,uN;class rDe extends gr{constructor(t){var i;super(t,{isRenderable:!0});j(this,hE);j(this,dE,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",H(this,hE,uN).bind(this)),D(this,dE,i);const{isMac:s}=Bi.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&H(this,hE,uN).call(this)}),!r.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return f(this,dE)}addHighlightArea(){this.container.classList.add("highlightArea")}}dE=new WeakMap,hE=new WeakSet,uN=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var cm,um,zv,Oh,fE,dm,_o,pE,rd,SA,hN;const iU=class iU{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o,structTreeLayer:a,commentManager:l,linkService:u,annotationStorage:h}){j(this,rd);j(this,cm,null);j(this,um,null);j(this,zv,null);j(this,Oh,new Map);j(this,fE,null);j(this,dm,null);j(this,_o,[]);j(this,pE,!1);this.div=e,D(this,cm,t),D(this,um,r),D(this,fE,a||null),D(this,dm,u||null),D(this,zv,h||new Vj),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return f(this,Oh).size>0}async render(e){var a;const{annotations:t}=e,r=this.div;Km(r,this.viewport);const i=new Map,s=[],o={data:null,layer:r,linkService:f(this,dm),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Bx,annotationStorage:f(this,zv),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===Ur.POPUP;if(u){const m=i.get(l.id);if(!m)continue;if(!this._commentManager){s.push(l);continue}o.elements=m}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;o.data=l;const h=XO.create(o);if(!h.isRenderable)continue;if(!u&&(f(this,_o).push(h),l.popupRef)){const m=i.get(l.popupRef);m?m.push(h):i.set(l.popupRef,[h])}const p=h.render();l.hidden&&(p.style.visibility="hidden"),h._isEditable&&(f(this,Oh).set(h.data.id,h),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(h))}await H(this,rd,SA).call(this);for(const l of s){const u=o.elements=i.get(l.id);o.data=l;const h=XO.create(o);if(!h.isRenderable)continue;const p=h.render();h.contentElement.id=`${Cy}${l.id}`,l.hidden&&(p.style.visibility="hidden"),u.at(-1).container.after(p)}H(this,rd,hN).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:f(this,dm),svgFactory:new Bx,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=iU._defaultBorderStyle),t.data=r;const i=XO.create(t);i.isRenderable&&(i.render(),i.contentElement.id=`${Cy}${r.id}`,f(this,_o).push(i))}await H(this,rd,SA).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Km(t,{rotation:e.rotation}),H(this,rd,hN).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(f(this,Oh).values())}getEditableAnnotation(e){return f(this,Oh).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:r,rotation:i}=e,s=new UPe({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:f(this,dm),annotationStorage:f(this,zv)});return s.render(),s.contentElement.id=`${Cy}${r}`,s.createOrUpdatePopup(),f(this,_o).push(s),s}removeAnnotation(e){var i;const t=f(this,_o).findIndex(s=>s.data.id===e);if(t<0)return;const[r]=f(this,_o).splice(t,1);(i=f(this,cm))==null||i.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);H(this,rd,SA).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Tt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:fy.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};cm=new WeakMap,um=new WeakMap,zv=new WeakMap,Oh=new WeakMap,fE=new WeakMap,dm=new WeakMap,_o=new WeakMap,pE=new WeakMap,rd=new WeakSet,SA=async function(){var r,i,s;if(f(this,_o).length===0)return;this.div.replaceChildren();const e=[];if(!f(this,pE)){D(this,pE,!0);for(const{contentElement:o,data:{id:a}}of f(this,_o)){const l=o.id=`${Cy}${a}`;e.push((r=f(this,fE))==null?void 0:r.getAriaAttributes(l).then(u=>{if(u)for(const[h,p]of u)o.setAttribute(h,p)}))}}f(this,_o).sort(({data:{rect:[o,a,l,u]}},{data:{rect:[h,p,m,y]}})=>{if(o===l&&a===u)return 1;if(h===m&&p===y)return-1;const b=u,w=a,_=(a+u)/2,E=y,T=p,C=(p+y)/2;if(_>=E&&C<=w)return-1;if(C>=b&&_<=T)return 1;const x=(o+l)/2,I=(h+m)/2;return x-I});const t=document.createDocumentFragment();for(const o of f(this,_o))t.append(o.container),this._commentManager?(s=((i=o.extraPopupElement)==null?void 0:i.popup)||o.popup)==null||s.renderCommentButton():o.extraPopupElement&&t.append(o.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),f(this,cm))for(const o of f(this,_o))f(this,cm).addPointerInTextLayer(o.contentElement,!1)},hN=function(){var t;if(!f(this,um))return;const e=this.div;for(const[r,i]of f(this,um)){const s=e.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):s.append(i);const a=f(this,Oh).get(r);a&&(a._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(r,s.id,i),a._hasNoCanvas=!1):a.canvas=i)}f(this,um).clear()};let dN=iU;const CT=/\r\n?|\n/g;var So,mE,hm,Eo,qr,PZ,DZ,MZ,EA,id,CA,TA,OZ,pN,LZ;const Kn=class Kn extends Hn{constructor(t){super({...t,name:"freeTextEditor"});j(this,qr);j(this,So,"");j(this,mE,`${this.id}-editor`);j(this,hm,null);j(this,Eo);_e(this,"_colorPicker",null);this.color=t.color||Kn._defaultColor||Hn._defaultLineColor,D(this,Eo,t.fontSize||Kn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=Kn.prototype,r=o=>o.isEmpty(),i=Xm.TRANSLATE_SMALL,s=Xm.TRANSLATE_BIG;return Tt(this,"_keyboardManager",new S1([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){Hn.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case Yt.FREETEXT_SIZE:Kn._defaultFontSize=r;break;case Yt.FREETEXT_COLOR:Kn._defaultColor=r;break}}updateParams(t,r){switch(t){case Yt.FREETEXT_SIZE:H(this,qr,PZ).call(this,r);break;case Yt.FREETEXT_COLOR:H(this,qr,DZ).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Yt.FREETEXT_SIZE,Kn._defaultFontSize],[Yt.FREETEXT_COLOR,Kn._defaultColor||Hn._defaultLineColor]]}get propertiesToUpdate(){return[[Yt.FREETEXT_SIZE,f(this,Eo)],[Yt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Nx(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Yt.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Kn._internalPadding*t,-(Kn._internalPadding+f(this,Eo))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),D(this,hm,new AbortController);const t=this._uiManager.combinedSignal(f(this,hm));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,mE)),this._isDraggable=!0,(t=f(this,hm))==null||t.abort(),D(this,hm,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=f(this,So),r=D(this,So,H(this,qr,MZ).call(this).trimEnd());if(t===r)return;const i=s=>{if(D(this,So,s),!s){this.remove();return}H(this,qr,TA).call(this),this._uiManager.rebuild(this),H(this,qr,EA).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),H(this,qr,EA).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Kn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,r;(this._isCopy||this.annotationElementId)&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,mE)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${f(this,Eo)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[h,p]=this.pageDimensions,[m,y]=this.pageTranslation;let b,w;switch(this.rotation){case 0:b=t+(a[0]-m)/h,w=r+this.height-(a[1]-y)/p;break;case 90:b=t+(a[0]-m)/h,w=r-(a[1]-y)/p,[l,u]=[u,-l];break;case 180:b=t-this.width+(a[0]-m)/h,w=r-(a[1]-y)/p,[l,u]=[-l,-u];break;case 270:b=t+(a[0]-m-this.height*p)/h,w=r+(a[1]-y-this.width*h)/p,[l,u]=[-u,l];break}this.setAt(b*s,w*o,l,u)}else this._moveAfterPaste(t,r);H(this,qr,TA).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,w,_;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=H(b=Kn,id,pN).call(b,r.getData("text")||"").replaceAll(CT,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:u}=a,h=[],p=[];if(l.nodeType===Node.TEXT_NODE){const E=l.parentElement;if(p.push(l.nodeValue.slice(u).replaceAll(CT,"")),E!==this.editorDiv){let T=h;for(const C of this.editorDiv.childNodes){if(C===E){T=p;continue}T.push(H(w=Kn,id,CA).call(w,C))}}h.push(l.nodeValue.slice(0,u).replaceAll(CT,""))}else if(l===this.editorDiv){let E=h,T=0;for(const C of this.editorDiv.childNodes)T++===u&&(E=p),E.push(H(_=Kn,id,CA).call(_,C))}D(this,So,`${h.join(`
`)}${s}${p.join(`
`)}`),H(this,qr,TA).call(this);const m=new Range;let y=Math.sumPrecise(h.map(E=>E.length));for(const{firstChild:E}of this.editorDiv.childNodes)if(E.nodeType===Node.TEXT_NODE){const T=E.nodeValue.length;if(y<=T){m.setStart(E,y),m.setEnd(E,y);break}y-=T}o.removeAllRanges(),o.addRange(m)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Kn._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,r,i){var a;let s=null;if(t instanceof xZ){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:h,rotation:p,id:m,popupRef:y,richText:b,contentsObj:w,creationDate:_,modificationDate:E},textContent:T,textPosition:C,parent:{page:{pageNumber:x}}}=t;if(!T||T.length===0)return null;s=t={annotationType:St.FREETEXT,color:Array.from(u),fontSize:l,value:T.join(`
`),position:C,pageIndex:x-1,rect:h.slice(0),rotation:p,annotationElementId:m,id:m,deleted:!1,popupRef:y,comment:(w==null?void 0:w.str)||null,richText:b,creationDate:_,modificationDate:E}}const o=await super.deserialize(t,r,i);return D(o,Eo,t.fontSize),o.color=Ge.makeHexColor(...t.color),D(o,So,H(a=Kn,id,pN).call(a,t.value)),o._initialData=s,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Hn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:r,fontSize:f(this,Eo),value:H(this,qr,OZ).call(this)});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!H(this,qr,LZ).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(!r)return null;const{style:i}=r;i.fontSize=`calc(${f(this,Eo)}px * var(--total-scale-factor))`,i.color=this.color,r.replaceChildren();for(const s of f(this,So).split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),r.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:f(this,So)}}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};So=new WeakMap,mE=new WeakMap,hm=new WeakMap,Eo=new WeakMap,qr=new WeakSet,PZ=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-f(this,Eo))*this.parentScale),D(this,Eo,s),H(this,qr,EA).call(this)},i=f(this,Eo);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Yt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},DZ=function(t){const r=s=>{this.color=s,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Yt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},MZ=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(H(i=Kn,id,CA).call(i,s)),r=s);return t.join(`
`)},EA=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},id=new WeakSet,CA=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(CT,"")},TA=function(){if(this.editorDiv.replaceChildren(),!!f(this,So))for(const t of f(this,So).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},OZ=function(){return f(this,So).replaceAll(""," ")},pN=function(t){return t.replaceAll(" ","")},LZ=function(t){const{value:r,fontSize:i,color:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},j(Kn,id),_e(Kn,"_freeTextDefaultContent",""),_e(Kn,"_internalPadding",0),_e(Kn,"_defaultColor",null),_e(Kn,"_defaultFontSize",10),_e(Kn,"_type","freetext"),_e(Kn,"_editorType",St.FREETEXT);let fN=Kn;class ze{toSVGPath(){Bn("Abstract method `toSVGPath` must be implemented.")}get box(){Bn("Abstract getter `box` must be implemented.")}serialize(e,t){Bn("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,i,s,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a]*i,o[a+1]=r+e[a+1]*s;return o}static _rescaleAndSwap(e,t,r,i,s,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a+1]*i,o[a+1]=r+e[a]*s;return o}static _translate(e,t,r,i){i||(i=new Float32Array(e.length));for(let s=0,o=e.length;s<o;s+=2)i[s]=t+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,i,s){switch(s){case 90:return[1-t/r,e/i];case 180:return[1-e/r,1-t/i];case 270:return[t/r,1-e/i];default:return[e/r,t/i]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,i,s,o){return[(e+5*r)/6,(t+5*i)/6,(5*r+s)/6,(5*i+o)/6,(r+s)/2,(i+o)/2]}}_e(ze,"PRECISION",1e-4);var Co,ll,Wv,qv,cc,Dt,fm,pm,gE,yE,Gv,Yv,Lh,vE,rR,iR,si,Fb,FZ,NZ,BZ,$Z,jZ,UZ;const uu=class uu{constructor({x:e,y:t},r,i,s,o,a=0){j(this,si);j(this,Co);j(this,ll,[]);j(this,Wv);j(this,qv);j(this,cc,[]);j(this,Dt,new Float32Array(18));j(this,fm);j(this,pm);j(this,gE);j(this,yE);j(this,Gv);j(this,Yv);j(this,Lh,[]);D(this,Co,r),D(this,Yv,s*i),D(this,qv,o),f(this,Dt).set([NaN,NaN,NaN,NaN,e,t],6),D(this,Wv,a),D(this,yE,f(uu,vE)*i),D(this,gE,f(uu,iR)*i),D(this,Gv,i),f(this,Lh).push(e,t)}isEmpty(){return isNaN(f(this,Dt)[8])}add({x:e,y:t}){var N;D(this,fm,e),D(this,pm,t);const[r,i,s,o]=f(this,Co);let[a,l,u,h]=f(this,Dt).subarray(8,12);const p=e-u,m=t-h,y=Math.hypot(p,m);if(y<f(this,gE))return!1;const b=y-f(this,yE),w=b/y,_=w*p,E=w*m;let T=a,C=l;a=u,l=h,u+=_,h+=E,(N=f(this,Lh))==null||N.push(e,t);const x=-E/b,I=_/b,F=x*f(this,Yv),k=I*f(this,Yv);return f(this,Dt).set(f(this,Dt).subarray(2,8),0),f(this,Dt).set([u+F,h+k],4),f(this,Dt).set(f(this,Dt).subarray(14,18),12),f(this,Dt).set([u-F,h-k],16),isNaN(f(this,Dt)[6])?(f(this,cc).length===0&&(f(this,Dt).set([a+F,l+k],2),f(this,cc).push(NaN,NaN,NaN,NaN,(a+F-r)/s,(l+k-i)/o),f(this,Dt).set([a-F,l-k],14),f(this,ll).push(NaN,NaN,NaN,NaN,(a-F-r)/s,(l-k-i)/o)),f(this,Dt).set([T,C,a,l,u,h],6),!this.isEmpty()):(f(this,Dt).set([T,C,a,l,u,h],6),Math.abs(Math.atan2(C-l,T-a)-Math.atan2(E,_))<Math.PI/2?([a,l,u,h]=f(this,Dt).subarray(2,6),f(this,cc).push(NaN,NaN,NaN,NaN,((a+u)/2-r)/s,((l+h)/2-i)/o),[a,l,T,C]=f(this,Dt).subarray(14,18),f(this,ll).push(NaN,NaN,NaN,NaN,((T+a)/2-r)/s,((C+l)/2-i)/o),!0):([T,C,a,l,u,h]=f(this,Dt).subarray(0,6),f(this,cc).push(((T+5*a)/6-r)/s,((C+5*l)/6-i)/o,((5*a+u)/6-r)/s,((5*l+h)/6-i)/o,((a+u)/2-r)/s,((l+h)/2-i)/o),[u,h,a,l,T,C]=f(this,Dt).subarray(12,18),f(this,ll).push(((T+5*a)/6-r)/s,((C+5*l)/6-i)/o,((5*a+u)/6-r)/s,((5*l+h)/6-i)/o,((a+u)/2-r)/s,((l+h)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=f(this,cc),t=f(this,ll);if(isNaN(f(this,Dt)[6])&&!this.isEmpty())return H(this,si,FZ).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);H(this,si,BZ).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return H(this,si,NZ).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,o){return new VZ(e,t,r,i,s,o)}getOutlines(){var p;const e=f(this,cc),t=f(this,ll),r=f(this,Dt),[i,s,o,a]=f(this,Co),l=new Float32Array((((p=f(this,Lh))==null?void 0:p.length)??0)+2);for(let m=0,y=l.length-2;m<y;m+=2)l[m]=(f(this,Lh)[m]-i)/o,l[m+1]=(f(this,Lh)[m+1]-s)/a;if(l[l.length-2]=(f(this,fm)-i)/o,l[l.length-1]=(f(this,pm)-s)/a,isNaN(r[6])&&!this.isEmpty())return H(this,si,$Z).call(this,l);const u=new Float32Array(f(this,cc).length+24+f(this,ll).length);let h=e.length;for(let m=0;m<h;m+=2){if(isNaN(e[m])){u[m]=u[m+1]=NaN;continue}u[m]=e[m],u[m+1]=e[m+1]}h=H(this,si,UZ).call(this,u,h);for(let m=t.length-6;m>=6;m-=6)for(let y=0;y<6;y+=2){if(isNaN(t[m+y])){u[h]=u[h+1]=NaN,h+=2;continue}u[h]=t[m+y],u[h+1]=t[m+y+1],h+=2}return H(this,si,jZ).call(this,u,h),this.newFreeDrawOutline(u,l,f(this,Co),f(this,Gv),f(this,Wv),f(this,qv))}};Co=new WeakMap,ll=new WeakMap,Wv=new WeakMap,qv=new WeakMap,cc=new WeakMap,Dt=new WeakMap,fm=new WeakMap,pm=new WeakMap,gE=new WeakMap,yE=new WeakMap,Gv=new WeakMap,Yv=new WeakMap,Lh=new WeakMap,vE=new WeakMap,rR=new WeakMap,iR=new WeakMap,si=new WeakSet,Fb=function(){const e=f(this,Dt).subarray(4,6),t=f(this,Dt).subarray(16,18),[r,i,s,o]=f(this,Co);return[(f(this,fm)+(e[0]-t[0])/2-r)/s,(f(this,pm)+(e[1]-t[1])/2-i)/o,(f(this,fm)+(t[0]-e[0])/2-r)/s,(f(this,pm)+(t[1]-e[1])/2-i)/o]},FZ=function(){const[e,t,r,i]=f(this,Co),[s,o,a,l]=H(this,si,Fb).call(this);return`M${(f(this,Dt)[2]-e)/r} ${(f(this,Dt)[3]-t)/i} L${(f(this,Dt)[4]-e)/r} ${(f(this,Dt)[5]-t)/i} L${s} ${o} L${a} ${l} L${(f(this,Dt)[16]-e)/r} ${(f(this,Dt)[17]-t)/i} L${(f(this,Dt)[14]-e)/r} ${(f(this,Dt)[15]-t)/i} Z`},NZ=function(e){const t=f(this,ll);e.push(`L${t[4]} ${t[5]} Z`)},BZ=function(e){const[t,r,i,s]=f(this,Co),o=f(this,Dt).subarray(4,6),a=f(this,Dt).subarray(16,18),[l,u,h,p]=H(this,si,Fb).call(this);e.push(`L${(o[0]-t)/i} ${(o[1]-r)/s} L${l} ${u} L${h} ${p} L${(a[0]-t)/i} ${(a[1]-r)/s}`)},$Z=function(e){const t=f(this,Dt),[r,i,s,o]=f(this,Co),[a,l,u,h]=H(this,si,Fb).call(this),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/o,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/o,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/o],0),this.newFreeDrawOutline(p,e,f(this,Co),f(this,Gv),f(this,Wv),f(this,qv))},jZ=function(e,t){const r=f(this,ll);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},UZ=function(e,t){const r=f(this,Dt).subarray(4,6),i=f(this,Dt).subarray(16,18),[s,o,a,l]=f(this,Co),[u,h,p,m]=H(this,si,Fb).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/a,(r[1]-o)/l,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-o)/l],t),t+=24},j(uu,vE,8),j(uu,rR,2),j(uu,iR,f(uu,vE)+f(uu,rR));let $x=uu;var Kv,mm,Bu,wE,To,bE,Or,sR,HZ;class VZ extends ze{constructor(t,r,i,s,o,a){super();j(this,sR);j(this,Kv);j(this,mm,new Float32Array(4));j(this,Bu);j(this,wE);j(this,To);j(this,bE);j(this,Or);D(this,Or,t),D(this,To,r),D(this,Kv,i),D(this,bE,s),D(this,Bu,o),D(this,wE,a),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],H(this,sR,HZ).call(this,a);const[l,u,h,p]=f(this,mm);for(let m=0,y=t.length;m<y;m+=2)t[m]=(t[m]-l)/h,t[m+1]=(t[m+1]-u)/p;for(let m=0,y=r.length;m<y;m+=2)r[m]=(r[m]-l)/h,r[m+1]=(r[m+1]-u)/p}toSVGPath(){const t=[`M${f(this,Or)[4]} ${f(this,Or)[5]}`];for(let r=6,i=f(this,Or).length;r<i;r+=6){if(isNaN(f(this,Or)[r])){t.push(`L${f(this,Or)[r+4]} ${f(this,Or)[r+5]}`);continue}t.push(`C${f(this,Or)[r]} ${f(this,Or)[r+1]} ${f(this,Or)[r+2]} ${f(this,Or)[r+3]} ${f(this,Or)[r+4]} ${f(this,Or)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],o){const a=i-t,l=s-r;let u,h;switch(o){case 0:u=ze._rescale(f(this,Or),t,s,a,-l),h=ze._rescale(f(this,To),t,s,a,-l);break;case 90:u=ze._rescaleAndSwap(f(this,Or),t,r,a,l),h=ze._rescaleAndSwap(f(this,To),t,r,a,l);break;case 180:u=ze._rescale(f(this,Or),i,r,-a,l),h=ze._rescale(f(this,To),i,r,-a,l);break;case 270:u=ze._rescaleAndSwap(f(this,Or),i,s,-a,-l),h=ze._rescaleAndSwap(f(this,To),i,s,-a,-l);break}return{outline:Array.from(u),points:[Array.from(h)]}}get box(){return f(this,mm)}newOutliner(t,r,i,s,o,a=0){return new $x(t,r,i,s,o,a)}getNewOutline(t,r){const[i,s,o,a]=f(this,mm),[l,u,h,p]=f(this,Kv),m=o*h,y=a*p,b=i*h+l,w=s*p+u,_=this.newOutliner({x:f(this,To)[0]*m+b,y:f(this,To)[1]*y+w},f(this,Kv),f(this,bE),t,f(this,wE),r??f(this,Bu));for(let E=2;E<f(this,To).length;E+=2)_.add({x:f(this,To)[E]*m+b,y:f(this,To)[E+1]*y+w});return _.getOutlines()}}Kv=new WeakMap,mm=new WeakMap,Bu=new WeakMap,wE=new WeakMap,To=new WeakMap,bE=new WeakMap,Or=new WeakMap,sR=new WeakSet,HZ=function(t){const r=f(this,Or);let i=r[4],s=r[5];const o=[i,s,i,s];let a=i,l=s,u=i,h=s;const p=t?Math.max:Math.min,m=new Float32Array(4);for(let b=6,w=r.length;b<w;b+=6){const _=r[b+4],E=r[b+5];isNaN(r[b])?(Ge.pointBoundingBox(_,E,o),l>E?(a=_,l=E):l===E&&(a=p(a,_)),h<E?(u=_,h=E):h===E&&(u=p(u,_))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,Ge.bezierBoundingBox(i,s,...r.slice(b,b+6),m),Ge.rectBoundingBox(m[0],m[1],m[2],m[3],o),l>m[1]?(a=m[0],l=m[1]):l===m[1]&&(a=p(a,m[0])),h<m[3]?(u=m[2],h=m[3]):h===m[3]&&(u=p(u,m[2]))),i=_,s=E}const y=f(this,mm);y[0]=o[0]-f(this,Bu),y[1]=o[1]-f(this,Bu),y[2]=o[2]-o[0]+2*f(this,Bu),y[3]=o[3]-o[1]+2*f(this,Bu),this.firstPoint=[a,l],this.lastPoint=[u,h]};var _E,SE,EE,Fh,cl,Es,zZ,AA,WZ,qZ,gN;class mN{constructor(e,t=0,r=0,i=!0){j(this,Es);j(this,_E);j(this,SE);j(this,EE);j(this,Fh,[]);j(this,cl,[]);const s=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:w,y:_,width:E,height:T}of e){const C=Math.floor((w-t)/o)*o,x=Math.ceil((w+E+t)/o)*o,I=Math.floor((_-t)/o)*o,F=Math.ceil((_+T+t)/o)*o,k=[C,I,F,!0],L=[x,I,F,!1];f(this,Fh).push(k,L),Ge.rectBoundingBox(C,I,x,F,s)}const a=s[2]-s[0]+2*r,l=s[3]-s[1]+2*r,u=s[0]-r,h=s[1]-r;let p=i?-1/0:1/0,m=1/0;const y=f(this,Fh).at(i?-1:-2),b=[y[0],y[2]];for(const w of f(this,Fh)){const[_,E,T,C]=w;!C&&i?E<m?(m=E,p=_):E===m&&(p=Math.max(p,_)):C&&!i&&(E<m?(m=E,p=_):E===m&&(p=Math.min(p,_))),w[0]=(_-u)/a,w[1]=(E-h)/l,w[2]=(T-h)/l}D(this,_E,new Float32Array([u,h,a,l])),D(this,SE,[p,m]),D(this,EE,b)}getOutlines(){f(this,Fh).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of f(this,Fh))t[3]?(e.push(...H(this,Es,gN).call(this,t)),H(this,Es,WZ).call(this,t)):(H(this,Es,qZ).call(this,t),e.push(...H(this,Es,gN).call(this,t)));return H(this,Es,zZ).call(this,e)}}_E=new WeakMap,SE=new WeakMap,EE=new WeakMap,Fh=new WeakMap,cl=new WeakMap,Es=new WeakSet,zZ=function(e){const t=[],r=new Set;for(const o of e){const[a,l,u]=o;t.push([a,l,o],[a,u,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],u=t[o+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,u,h,p]=o;r.delete(o);let m=a,y=l;for(s=[a,u],i.push(s);;){let b;if(r.has(h))b=h;else if(r.has(p))b=p;else break;r.delete(b),[a,l,u,h,p]=b,m!==a&&(s.push(m,y,a,y===l?l:u),m=a),y=y===l?u:l}s.push(m,y)}return new iDe(i,f(this,_E),f(this,SE),f(this,EE))},AA=function(e){const t=f(this,cl);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},WZ=function([,e,t]){const r=H(this,Es,AA).call(this,e);f(this,cl).splice(r,0,[e,t])},qZ=function([,e,t]){const r=H(this,Es,AA).call(this,e);for(let i=r;i<f(this,cl).length;i++){const[s,o]=f(this,cl)[i];if(s!==e)break;if(s===e&&o===t){f(this,cl).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=f(this,cl)[i];if(s!==e)break;if(s===e&&o===t){f(this,cl).splice(i,1);return}}},gN=function(e){const[t,r,i]=e,s=[[t,r,i]],o=H(this,Es,AA).call(this,i);for(let a=0;a<o;a++){const[l,u]=f(this,cl)[a];for(let h=0,p=s.length;h<p;h++){const[,m,y]=s[h];if(!(u<=m||y<=l)){if(m>=l){if(y>u)s[h][1]=u;else{if(p===1)return[];s.splice(h,1),h--,p--}continue}s[h][2]=l,y>u&&s.push([t,u,y])}}}return s};var CE,Xv;class iDe extends ze{constructor(t,r,i,s){super();j(this,CE);j(this,Xv);D(this,Xv,t),D(this,CE,r),this.firstPoint=i,this.lastPoint=s}toSVGPath(){const t=[];for(const r of f(this,Xv)){let[i,s]=r;t.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],o){const a=[],l=i-t,u=s-r;for(const h of f(this,Xv)){const p=new Array(h.length);for(let m=0;m<h.length;m+=2)p[m]=t+h[m]*l,p[m+1]=s-h[m+1]*u;a.push(p)}return a}get box(){return f(this,CE)}get classNamesForOutlining(){return["highlightOutline"]}}CE=new WeakMap,Xv=new WeakMap;class yN extends $x{newFreeDrawOutline(e,t,r,i,s,o){return new sDe(e,t,r,i,s,o)}}class sDe extends VZ{newOutliner(e,t,r,i,s,o=0){return new yN(e,t,r,i,s,o)}}var Jv,TE,$u,gm,AE,zs,xE,RE,ym,Ao,xo,ki,Qv,Zv,es,e0,da,IE,xt,vN,xA,GZ,YZ,KZ,wN,rp,va,wy,XZ,RA,IA,JZ,QZ,ZZ,eee,tee;const un=class un extends Hn{constructor(t){super({...t,name:"highlightEditor"});j(this,xt);j(this,Jv,null);j(this,TE,0);j(this,$u);j(this,gm,null);j(this,AE,null);j(this,zs,null);j(this,xE,null);j(this,RE,0);j(this,ym,null);j(this,Ao,null);j(this,xo,null);j(this,ki,!1);j(this,Qv,null);j(this,Zv,null);j(this,es,null);j(this,e0,"");j(this,da);j(this,IE,"");this.color=t.color||un._defaultColor,D(this,da,t.thickness||un._defaultThickness),this.opacity=t.opacity||un._defaultOpacity,D(this,$u,t.boxes||null),D(this,IE,t.methodOfCreation||""),D(this,e0,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(D(this,ki,!0),H(this,xt,xA).call(this,t),H(this,xt,rp).call(this)):f(this,$u)&&(D(this,Jv,t.anchorNode),D(this,TE,t.anchorOffset),D(this,xE,t.focusNode),D(this,RE,t.focusOffset),H(this,xt,vN).call(this),H(this,xt,rp).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=un.prototype;return Tt(this,"_keyboardManager",new S1([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,ki)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:f(this,da),methodOfCreation:f(this,IE)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;Hn.initialize(t,r),un._defaultColor||(un._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case Yt.HIGHLIGHT_COLOR:un._defaultColor=r;break;case Yt.HIGHLIGHT_THICKNESS:un._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return f(this,Zv)}get commentButtonPosition(){return f(this,Qv)}updateParams(t,r){switch(t){case Yt.HIGHLIGHT_COLOR:H(this,xt,GZ).call(this,r);break;case Yt.HIGHLIGHT_THICKNESS:H(this,xt,YZ).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Yt.HIGHLIGHT_COLOR,un._defaultColor],[Yt.HIGHLIGHT_THICKNESS,un._defaultThickness]]}get propertiesToUpdate(){return[[Yt.HIGHLIGHT_COLOR,this.color||un._defaultColor],[Yt.HIGHLIGHT_THICKNESS,f(this,da)||un._defaultThickness],[Yt.HIGHLIGHT_FREE,f(this,ki)]]}onUpdatedColor(){var t,r;(t=this.parent)==null||t.drawLayer.updateProperties(f(this,xo),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=f(this,AE))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",D(this,AE,new Fx({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(H(this,xt,IA).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,H(this,xt,IA).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){H(this,xt,wN).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(H(this,xt,rp).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?H(this,xt,wN).call(this):t&&(H(this,xt,rp).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,o,a;const{drawLayer:r}=this.parent;let i;f(this,ki)?(t=(t-this.rotation+360)%360,i=H(s=un,va,wy).call(s,f(this,Ao).box,t)):i=H(o=un,va,wy).call(o,[this.x,this.y,this.width,this.height],t),r.updateProperties(f(this,xo),{bbox:i,root:{"data-main-rotation":t}}),r.updateProperties(f(this,es),{bbox:H(a=un,va,wy).call(a,f(this,zs).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();f(this,e0)&&(t.setAttribute("aria-label",f(this,e0)),t.setAttribute("role","mark")),f(this,ki)?t.classList.add("free"):this.div.addEventListener("keydown",H(this,xt,XZ).bind(this),{signal:this._uiManager._signal});const r=D(this,ym,document.createElement("div"));return t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=f(this,gm),this.setDims(),bQ(this,f(this,ym),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,es),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,es),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:H(this,xt,RA).call(this,!0);break;case 1:case 3:H(this,xt,RA).call(this,!1);break}}select(){var t;super.select(),f(this,es)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,es),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),f(this,es)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,es),{rootClass:{selected:!1}}),f(this,ki)||H(this,xt,RA).call(this,!1))}get _mustFixPosition(){return!f(this,ki)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(f(this,xo),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(f(this,es),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:i,x:s,y:o}){const{x:a,y:l,width:u,height:h}=i.getBoundingClientRect(),p=new AbortController,m=t.combinedSignal(p),y=b=>{p.abort(),H(this,va,eee).call(this,t,b)};window.addEventListener("blur",y,{signal:m}),window.addEventListener("pointerup",y,{signal:m}),window.addEventListener("pointerdown",xr,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",ka,{signal:m}),i.addEventListener("pointermove",H(this,va,ZZ).bind(this,t),{signal:m}),this._freeHighlight=new yN({x:s,y:o},[a,l,u,h],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,i){var w,_,E,T;let s=null;if(t instanceof IZ){const{data:{quadPoints:C,rect:x,rotation:I,id:F,color:k,opacity:L,popupRef:N,richText:A,contentsObj:B,creationDate:z,modificationDate:U},parent:{page:{pageNumber:Q}}}=t;s=t={annotationType:St.HIGHLIGHT,color:Array.from(k),opacity:L,quadPoints:C,boxes:null,pageIndex:Q-1,rect:x.slice(0),rotation:I,annotationElementId:F,id:F,deleted:!1,popupRef:N,richText:A,comment:(B==null?void 0:B.str)||null,creationDate:z,modificationDate:U}}else if(t instanceof qj){const{data:{inkLists:C,rect:x,rotation:I,id:F,color:k,borderStyle:{rawWidth:L},popupRef:N,richText:A,contentsObj:B,creationDate:z,modificationDate:U},parent:{page:{pageNumber:Q}}}=t;s=t={annotationType:St.HIGHLIGHT,color:Array.from(k),thickness:L,inkLists:C,boxes:null,pageIndex:Q-1,rect:x.slice(0),rotation:I,annotationElementId:F,id:F,deleted:!1,popupRef:N,richText:A,comment:(B==null?void 0:B.str)||null,creationDate:z,modificationDate:U}}const{color:o,quadPoints:a,inkLists:l,opacity:u}=t,h=await super.deserialize(t,r,i);h.color=Ge.makeHexColor(...o),h.opacity=u||1,l&&D(h,da,t.thickness),h._initialData=s,t.comment&&h.setCommentData(t);const[p,m]=h.pageDimensions,[y,b]=h.pageTranslation;if(a){const C=D(h,$u,[]);for(let x=0;x<a.length;x+=8)C.push({x:(a[x]-y)/p,y:1-(a[x+1]-b)/m,width:(a[x+2]-a[x])/p,height:(a[x+1]-a[x+5])/m});H(w=h,xt,vN).call(w),H(_=h,xt,rp).call(_),h.rotate(h.rotation)}else if(l){D(h,ki,!0);const C=l[0],x={x:C[0]-y,y:m-(C[1]-b)},I=new yN(x,[0,0,p,m],1,f(h,da)/2,!0,.001);for(let L=0,N=C.length;L<N;L+=2)x.x=C[L]-y,x.y=m-(C[L+1]-b),I.add(x);const{id:F,clipPathId:k}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:I.toSVGPath()}},!0,!0);H(E=h,xt,xA).call(E,{highlightOutlines:I.getOutlines(),highlightId:F,clipPathId:k}),H(T=h,xt,rp).call(T),h.rotate(h.parentRotation)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=Hn._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:r,opacity:this.opacity,thickness:f(this,da),quadPoints:H(this,xt,JZ).call(this),outlines:H(this,xt,QZ).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!H(this,xt,tee).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Jv=new WeakMap,TE=new WeakMap,$u=new WeakMap,gm=new WeakMap,AE=new WeakMap,zs=new WeakMap,xE=new WeakMap,RE=new WeakMap,ym=new WeakMap,Ao=new WeakMap,xo=new WeakMap,ki=new WeakMap,Qv=new WeakMap,Zv=new WeakMap,es=new WeakMap,e0=new WeakMap,da=new WeakMap,IE=new WeakMap,xt=new WeakSet,vN=function(){const t=new mN(f(this,$u),.001);D(this,Ao,t.getOutlines()),[this.x,this.y,this.width,this.height]=f(this,Ao).box;const r=new mN(f(this,$u),.0025,.001,this._uiManager.direction==="ltr");D(this,zs,r.getOutlines());const{firstPoint:i}=f(this,Ao);D(this,Qv,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:s}=f(this,zs);D(this,Zv,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},xA=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var m,y;if(D(this,Ao,t),D(this,zs,t.getNewOutline(f(this,da)/2+1.5,.0025)),r>=0)D(this,xo,r),D(this,gm,i),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),D(this,es,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:f(this,zs).box,path:{d:f(this,zs).toSVGPath()}},!0));else if(this.parent){const b=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(f(this,xo),{bbox:H(m=un,va,wy).call(m,f(this,Ao).box,(b-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(f(this,es),{bbox:H(y=un,va,wy).call(y,f(this,zs).box,b),path:{d:f(this,zs).toSVGPath()}})}const[o,a,l,u]=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=u;break;case 90:{const[b,w]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*w/b,this.height=u*b/w;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[b,w]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*w/b,this.height=u*b/w;break}}const{firstPoint:h}=t;D(this,Qv,[(h[0]-o)/l,(h[1]-a)/u]);const{lastPoint:p}=f(this,zs);D(this,Zv,[(p[0]-o)/l,(p[1]-a)/u])},GZ=function(t){const r=(o,a)=>{this.color=o,this.opacity=a,this.onUpdatedColor()},i=this.color,s=this.opacity;this.addCommands({cmd:r.bind(this,t,un._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Yt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},YZ=function(t){const r=f(this,da),i=s=>{D(this,da,s),H(this,xt,KZ).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Yt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},KZ=function(t){f(this,ki)&&(H(this,xt,xA).call(this,{highlightOutlines:f(this,Ao).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},wN=function(){f(this,xo)===null||!this.parent||(this.parent.drawLayer.remove(f(this,xo)),D(this,xo,null),this.parent.drawLayer.remove(f(this,es)),D(this,es,null))},rp=function(t=this.parent){f(this,xo)===null&&({id:Qr(this,xo)._,clipPathId:Qr(this,gm)._}=t.drawLayer.draw({bbox:f(this,Ao).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:f(this,ki)},path:{d:f(this,Ao).toSVGPath()}},!1,!0),D(this,es,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:f(this,ki)},bbox:f(this,zs).box,path:{d:f(this,zs).toSVGPath()}},f(this,ki))),f(this,ym)&&(f(this,ym).style.clipPath=f(this,gm)))},va=new WeakSet,wy=function([t,r,i,s],o){switch(o){case 90:return[1-r-s,t,s,i];case 180:return[1-t-i,1-r-s,i,s];case 270:return[r,1-t-i,s,i]}return[t,r,i,s]},XZ=function(t){un._keyboardManager.exec(this,t)},RA=function(t){if(!f(this,Jv))return;const r=window.getSelection();t?r.setPosition(f(this,Jv),f(this,TE)):r.setPosition(f(this,xE),f(this,RE))},IA=function(){return f(this,ki)?this.rotation:0},JZ=function(){if(f(this,ki))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,o=f(this,$u),a=new Float32Array(o.length*8);let l=0;for(const{x:u,y:h,width:p,height:m}of o){const y=u*t+i,b=(1-h)*r+s;a[l]=a[l+4]=y,a[l+1]=a[l+3]=b,a[l+2]=a[l+6]=y+p*t,a[l+5]=a[l+7]=b-m*r,l+=8}return a},QZ=function(t){return f(this,Ao).serialize(t,H(this,xt,IA).call(this))},ZZ=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},eee=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},tee=function(t){const{color:r}=this._initialData;return this.hasEditedComment||t.color.some((i,s)=>i!==r[s])},j(un,va),_e(un,"_defaultColor",null),_e(un,"_defaultOpacity",1),_e(un,"_defaultThickness",12),_e(un,"_type","highlight"),_e(un,"_editorType",St.HIGHLIGHT),_e(un,"_freeHighlightId",-1),_e(un,"_freeHighlight",null),_e(un,"_freeHighlightClipId","");let jx=un;var vm;class nee{constructor(){j(this,vm,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){f(this,vm)[e]=t}toSVGProperties(){const e=f(this,vm);return D(this,vm,Object.create(null)),{root:e}}reset(){D(this,vm,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Bn("Not implemented")}}vm=new WeakMap;var Ro,t0,gi,wm,bm,rn,bN,_N,SN,Nb,ree,kA,Bb,by;const Nt=class Nt extends Hn{constructor(t){super(t);j(this,rn);j(this,Ro,null);j(this,t0);_e(this,"_colorPicker",null);_e(this,"_drawId",null);D(this,t0,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(H(this,rn,bN).call(this,t),H(this,rn,Nb).call(this))}static _mergeSVGProperties(t,r){const i=new Set(Object.keys(t));for(const[s,o]of Object.entries(r))i.has(s)?Object.assign(t[s],o):t[s]=o;return t}static getDefaultDrawingOptions(t){Bn("Not implemented")}static get typesMap(){Bn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(f(Nt,gi).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,r[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,r[s]]);return t}_updateProperty(t,r,i){const s=this._drawingOptions,o=s[r],a=l=>{var h;s.updateProperty(r,l);const u=f(this,Ro).updateProperty(r,l);u&&H(this,rn,Bb).call(this,u),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Nt._mergeSVGProperties(f(this,Ro).getPathResizingSVGProperties(H(this,rn,kA).call(this)),{bbox:H(this,rn,by).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Nt._mergeSVGProperties(f(this,Ro).getPathResizedSVGProperties(H(this,rn,kA).call(this)),{bbox:H(this,rn,by).call(this)}))}_onTranslating(t,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:H(this,rn,by).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Nt._mergeSVGProperties(f(this,Ro).getPathTranslatedSVGProperties(H(this,rn,kA).call(this),this.parentDimensions),{bbox:H(this,rn,by).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,f(this,t0)&&(D(this,t0,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){H(this,rn,SN).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(H(this,rn,Nb).call(this),H(this,rn,Bb).call(this,f(this,Ro).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),H(this,rn,SN).call(this)):t&&(this._uiManager.addShouldRescale(this),H(this,rn,Nb).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Nt._mergeSVGProperties({bbox:H(this,rn,by).call(this)},f(this,Ro).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&H(this,rn,Bb).call(this,f(this,Ro).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,r;this._isCopy&&(t=this.x,r=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");return i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,r),i}static createDrawerInstance(t,r,i,s,o){Bn("Not implemented")}static startDrawing(t,r,i,s){var _;const{target:o,offsetX:a,offsetY:l,pointerId:u,pointerType:h}=s;if(Ki.isInitializedAndDifferentPointerType(h))return;const{viewport:{rotation:p}}=t,{width:m,height:y}=o.getBoundingClientRect(),b=D(Nt,wm,new AbortController),w=t.combinedSignal(b);if(Ki.setPointer(h,u),window.addEventListener("pointerup",E=>{Ki.isSamePointerIdOrRemove(E.pointerId)&&this._endDraw(E)},{signal:w}),window.addEventListener("pointercancel",E=>{Ki.isSamePointerIdOrRemove(E.pointerId)&&this._currentParent.endDrawingSession()},{signal:w}),window.addEventListener("pointerdown",E=>{Ki.isSamePointerType(E.pointerType)&&(Ki.initializeAndAddPointerId(E.pointerId),f(Nt,gi).isCancellable()&&(f(Nt,gi).removeLastElement(),f(Nt,gi).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",ka,{signal:w}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),o.addEventListener("touchmove",E=>{Ki.isSameTimeStamp(E.timeStamp)&&xr(E)},{signal:w}),t.toggleDrawing(),(_=r._editorUndoBar)==null||_.hide(),f(Nt,gi)){t.drawLayer.updateProperties(this._currentDrawId,f(Nt,gi).startNew(a,l,m,y,p));return}r.updateUIForDefaultProperties(this),D(Nt,gi,this.createDrawerInstance(a,l,m,y,p)),D(Nt,bm,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(f(Nt,bm).toSVGProperties(),f(Nt,gi).defaultSVGProperties),!0,!1)}static _drawMove(t){if(Ki.isSameTimeStamp(t.timeStamp),!f(Nt,gi))return;const{offsetX:r,offsetY:i,pointerId:s}=t;if(Ki.isSamePointerId(s)){if(Ki.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,f(Nt,gi).add(r,i)),Ki.setTimeStamp(t.timeStamp),xr(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,D(Nt,gi,null),D(Nt,bm,null),Ki.clearPointerType(),Ki.clearTimeStamp()),f(Nt,wm)&&(f(Nt,wm).abort(),D(Nt,wm,null),Ki.clearPointerIds())}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,f(Nt,gi).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=f(Nt,gi),s=this._currentDrawId,o=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(o))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:Yt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(Yt.DRAW_STEP),!f(Nt,gi).isEmpty()){const{pageDimensions:[i,s],scale:o}=r,a=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:f(Nt,gi).getOutlines(i*o,s*o,o,this._INNER_MARGIN),drawingOptions:f(Nt,bm),mustBeCommitted:!t});return this._cleanup(!0),a}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,i,s,o,a){Bn("Not implemented")}static async deserialize(t,r,i){var p,m;const{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}=r.viewport,u=this.deserializeDraw(a,l,s,o,this._INNER_MARGIN,t),h=await super.deserialize(t,r,i);return h.createDrawingOptions(t),H(p=h,rn,bN).call(p,{drawOutlines:u}),H(m=h,rn,Nb).call(m),h.onScaleChanging(),h.rotate(),h}serializeDraw(t){const[r,i]=this.pageTranslation,[s,o]=this.pageDimensions;return f(this,Ro).serialize([r,i,s,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Ro=new WeakMap,t0=new WeakMap,gi=new WeakMap,wm=new WeakMap,bm=new WeakMap,rn=new WeakSet,bN=function({drawOutlines:t,drawId:r,drawingOptions:i}){D(this,Ro,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=H(this,rn,_N).call(this,t,this.parent),H(this,rn,Bb).call(this,t.box)},_N=function(t,r){const{id:i}=r.drawLayer.draw(Nt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},SN=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Nb=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=H(this,rn,_N).call(this,f(this,Ro),t)}},ree=function([t,r,i,s]){const{parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[r,1-t,i*(a/o),s*(o/a)];case 180:return[1-t,1-r,i,s];case 270:return[1-r,t,i*(a/o),s*(o/a)];default:return[t,r,i,s]}},kA=function(){const{x:t,y:r,width:i,height:s,parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[1-r,t,i*(o/a),s*(a/o)];case 180:return[1-t,1-r,i,s];case 270:return[r,1-t,i*(o/a),s*(a/o)];default:return[t,r,i,s]}},Bb=function(t){[this.x,this.y,this.width,this.height]=H(this,rn,ree).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},by=function(){const{x:t,y:r,width:i,height:s,rotation:o,parentRotation:a,parentDimensions:[l,u]}=this;switch((o*4+a)/90){case 1:return[1-r-s,t,s,i];case 2:return[1-t-i,1-r-s,i,s];case 3:return[r,1-t-i,s,i];case 4:return[t,r-i*(l/u),s*(u/l),i*(l/u)];case 5:return[1-r,t,i*(l/u),s*(u/l)];case 6:return[1-t-s*(u/l),1-r,s*(u/l),i*(l/u)];case 7:return[r-i*(l/u),1-t-s*(u/l),i*(l/u),s*(u/l)];case 8:return[t-i,r-s,i,s];case 9:return[1-r,t-i,s,i];case 10:return[1-t,1-r,i,s];case 11:return[r-s,1-t,s,i];case 12:return[t-s*(u/l),r,s*(u/l),i*(l/u)];case 13:return[1-r-i*(l/u),t-s*(u/l),i*(l/u),s*(u/l)];case 14:return[1-t,1-r-i*(l/u),s*(u/l),i*(l/u)];case 15:return[r,1-t,i*(l/u),s*(u/l)];default:return[t,r,i,s]}},_e(Nt,"_currentDrawId",-1),_e(Nt,"_currentParent",null),j(Nt,gi,null),j(Nt,wm,null),j(Nt,bm,null),_e(Nt,"_INNER_MARGIN",3);let Ux=Nt;var uc,yi,vi,_m,n0,gs,Pi,ha,Sm,Em,Cm,r0,PA;class oDe{constructor(e,t,r,i,s,o){j(this,r0);j(this,uc,new Float64Array(6));j(this,yi);j(this,vi);j(this,_m);j(this,n0);j(this,gs);j(this,Pi,"");j(this,ha,0);j(this,Sm,new C1);j(this,Em);j(this,Cm);D(this,Em,r),D(this,Cm,i),D(this,_m,s),D(this,n0,o),[e,t]=H(this,r0,PA).call(this,e,t);const a=D(this,yi,[NaN,NaN,NaN,NaN,e,t]);D(this,gs,[e,t]),D(this,vi,[{line:a,points:f(this,gs)}]),f(this,uc).set(a,0)}updateProperty(e,t){e==="stroke-width"&&D(this,n0,t)}isEmpty(){return!f(this,vi)||f(this,vi).length===0}isCancellable(){return f(this,gs).length<=10}add(e,t){[e,t]=H(this,r0,PA).call(this,e,t);const[r,i,s,o]=f(this,uc).subarray(2,6),a=e-s,l=t-o;return Math.hypot(f(this,Em)*a,f(this,Cm)*l)<=2?null:(f(this,gs).push(e,t),isNaN(r)?(f(this,uc).set([s,o,e,t],2),f(this,yi).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(f(this,uc)[0])&&f(this,yi).splice(6,6),f(this,uc).set([r,i,s,o,e,t],0),f(this,yi).push(...ze.createBezierPoints(r,i,s,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(f(this,gs).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,i,s){D(this,Em,r),D(this,Cm,i),D(this,_m,s),[e,t]=H(this,r0,PA).call(this,e,t);const o=D(this,yi,[NaN,NaN,NaN,NaN,e,t]);D(this,gs,[e,t]);const a=f(this,vi).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),f(this,vi).push({line:o,points:f(this,gs)}),f(this,uc).set(o,0),D(this,ha,0),this.toSVGPath(),null}getLastElement(){return f(this,vi).at(-1)}setLastElement(e){return f(this,vi)?(f(this,vi).push(e),D(this,yi,e.line),D(this,gs,e.points),D(this,ha,0),{path:{d:this.toSVGPath()}}):f(this,Sm).setLastElement(e)}removeLastElement(){if(!f(this,vi))return f(this,Sm).removeLastElement();f(this,vi).pop(),D(this,Pi,"");for(let e=0,t=f(this,vi).length;e<t;e++){const{line:r,points:i}=f(this,vi)[e];D(this,yi,r),D(this,gs,i),D(this,ha,0),this.toSVGPath()}return{path:{d:f(this,Pi)}}}toSVGPath(){const e=ze.svgRound(f(this,yi)[4]),t=ze.svgRound(f(this,yi)[5]);if(f(this,gs).length===2)return D(this,Pi,`${f(this,Pi)} M ${e} ${t} Z`),f(this,Pi);if(f(this,gs).length<=6){const i=f(this,Pi).lastIndexOf("M");D(this,Pi,`${f(this,Pi).slice(0,i)} M ${e} ${t}`),D(this,ha,6)}if(f(this,gs).length===4){const i=ze.svgRound(f(this,yi)[10]),s=ze.svgRound(f(this,yi)[11]);return D(this,Pi,`${f(this,Pi)} L ${i} ${s}`),D(this,ha,12),f(this,Pi)}const r=[];f(this,ha)===0&&(r.push(`M ${e} ${t}`),D(this,ha,6));for(let i=f(this,ha),s=f(this,yi).length;i<s;i+=6){const[o,a,l,u,h,p]=f(this,yi).slice(i,i+6).map(ze.svgRound);r.push(`C${o} ${a} ${l} ${u} ${h} ${p}`)}return D(this,Pi,f(this,Pi)+r.join(" ")),D(this,ha,f(this,yi).length),f(this,Pi)}getOutlines(e,t,r,i){const s=f(this,vi).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),f(this,Sm).build(f(this,vi),e,t,r,f(this,_m),f(this,n0),i),D(this,uc,null),D(this,yi,null),D(this,vi,null),D(this,Pi,null),f(this,Sm)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}uc=new WeakMap,yi=new WeakMap,vi=new WeakMap,_m=new WeakMap,n0=new WeakMap,gs=new WeakMap,Pi=new WeakMap,ha=new WeakMap,Sm=new WeakMap,Em=new WeakMap,Cm=new WeakMap,r0=new WeakSet,PA=function(e,t){return ze._normalizePoint(e,t,f(this,Em),f(this,Cm),f(this,_m))};var ys,kE,PE,Io,dc,hc,i0,s0,Tm,Oi,ou,iee,see,oee;class C1 extends ze{constructor(){super(...arguments);j(this,Oi);j(this,ys);j(this,kE,0);j(this,PE);j(this,Io);j(this,dc);j(this,hc);j(this,i0);j(this,s0);j(this,Tm)}build(t,r,i,s,o,a,l){D(this,dc,r),D(this,hc,i),D(this,i0,s),D(this,s0,o),D(this,Tm,a),D(this,PE,l??0),D(this,Io,t),H(this,Oi,see).call(this)}get thickness(){return f(this,Tm)}setLastElement(t){return f(this,Io).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return f(this,Io).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of f(this,Io)){if(t.push(`M${ze.svgRound(r[4])} ${ze.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12&&isNaN(r[6])){t.push(`L${ze.svgRound(r[10])} ${ze.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[o,a,l,u,h,p]=r.subarray(i,i+6).map(ze.svgRound);t.push(`C${o} ${a} ${l} ${u} ${h} ${p}`)}}return t.join("")}serialize([t,r,i,s],o){const a=[],l=[],[u,h,p,m]=H(this,Oi,iee).call(this);let y,b,w,_,E,T,C,x,I;switch(f(this,s0)){case 0:I=ze._rescale,y=t,b=r+s,w=i,_=-s,E=t+u*i,T=r+(1-h-m)*s,C=t+(u+p)*i,x=r+(1-h)*s;break;case 90:I=ze._rescaleAndSwap,y=t,b=r,w=i,_=s,E=t+h*i,T=r+u*s,C=t+(h+m)*i,x=r+(u+p)*s;break;case 180:I=ze._rescale,y=t+i,b=r,w=-i,_=s,E=t+(1-u-p)*i,T=r+h*s,C=t+(1-u)*i,x=r+(h+m)*s;break;case 270:I=ze._rescaleAndSwap,y=t+i,b=r+s,w=-i,_=-s,E=t+(1-h-m)*i,T=r+(1-u-p)*s,C=t+(1-h)*i,x=r+(1-u)*s;break}for(const{line:F,points:k}of f(this,Io))a.push(I(F,y,b,w,_,o?new Array(F.length):null)),l.push(I(k,y,b,w,_,o?new Array(k.length):null));return{lines:a,points:l,rect:[E,T,C,x]}}static deserialize(t,r,i,s,o,{paths:{lines:a,points:l},rotation:u,thickness:h}){const p=[];let m,y,b,w,_;switch(u){case 0:_=ze._rescale,m=-t/i,y=r/s+1,b=1/i,w=-1/s;break;case 90:_=ze._rescaleAndSwap,m=-r/s,y=-t/i,b=1/s,w=1/i;break;case 180:_=ze._rescale,m=t/i+1,y=-r/s,b=-1/i,w=1/s;break;case 270:_=ze._rescaleAndSwap,m=r/s+1,y=t/i+1,b=-1/s,w=-1/i;break}if(!a){a=[];for(const T of l){const C=T.length;if(C===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,T[0],T[1]]));continue}if(C===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,T[0],T[1],NaN,NaN,NaN,NaN,T[2],T[3]]));continue}const x=new Float32Array(3*(C-2));a.push(x);let[I,F,k,L]=T.subarray(0,4);x.set([NaN,NaN,NaN,NaN,I,F],0);for(let N=4;N<C;N+=2){const A=T[N],B=T[N+1];x.set(ze.createBezierPoints(I,F,k,L,A,B),(N-2)*3),[I,F,k,L]=[k,L,A,B]}}}for(let T=0,C=a.length;T<C;T++)p.push({line:_(a[T].map(x=>x??NaN),m,y,b,w),points:_(l[T].map(x=>x??NaN),m,y,b,w)});const E=new this.prototype.constructor;return E.build(p,i,s,1,u,h,o),E}get box(){return f(this,ys)}updateProperty(t,r){return t==="stroke-width"?H(this,Oi,oee).call(this,r):null}updateParentDimensions([t,r],i){const[s,o]=H(this,Oi,ou).call(this);D(this,dc,t),D(this,hc,r),D(this,i0,i);const[a,l]=H(this,Oi,ou).call(this),u=a-s,h=l-o,p=f(this,ys);return p[0]-=u,p[1]-=h,p[2]+=2*u,p[3]+=2*h,p}updateRotation(t){return D(this,kE,t),{path:{transform:this.rotationTransform}}}get viewBox(){return f(this,ys).map(ze.svgRound).join(" ")}get defaultProperties(){const[t,r]=f(this,ys);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ze.svgRound(t)} ${ze.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=f(this,ys);let i=0,s=0,o=0,a=0,l=0,u=0;switch(f(this,kE)){case 90:s=r/t,o=-t/r,l=t;break;case 180:i=-1,a=-1,l=t,u=r;break;case 270:s=-r/t,o=t/r,u=r;break;default:return""}return`matrix(${i} ${s} ${o} ${a} ${ze.svgRound(l)} ${ze.svgRound(u)})`}getPathResizingSVGProperties([t,r,i,s]){const[o,a]=H(this,Oi,ou).call(this),[l,u,h,p]=f(this,ys);if(Math.abs(h-o)<=ze.PRECISION||Math.abs(p-a)<=ze.PRECISION){const _=t+i/2-(l+h/2),E=r+s/2-(u+p/2);return{path:{"transform-origin":`${ze.svgRound(t)} ${ze.svgRound(r)}`,transform:`${this.rotationTransform} translate(${_} ${E})`}}}const m=(i-2*o)/(h-2*o),y=(s-2*a)/(p-2*a),b=h/i,w=p/s;return{path:{"transform-origin":`${ze.svgRound(l)} ${ze.svgRound(u)}`,transform:`${this.rotationTransform} scale(${b} ${w}) translate(${ze.svgRound(o)} ${ze.svgRound(a)}) scale(${m} ${y}) translate(${ze.svgRound(-o)} ${ze.svgRound(-a)})`}}}getPathResizedSVGProperties([t,r,i,s]){const[o,a]=H(this,Oi,ou).call(this),l=f(this,ys),[u,h,p,m]=l;if(l[0]=t,l[1]=r,l[2]=i,l[3]=s,Math.abs(p-o)<=ze.PRECISION||Math.abs(m-a)<=ze.PRECISION){const E=t+i/2-(u+p/2),T=r+s/2-(h+m/2);for(const{line:C,points:x}of f(this,Io))ze._translate(C,E,T,C),ze._translate(x,E,T,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ze.svgRound(t)} ${ze.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const y=(i-2*o)/(p-2*o),b=(s-2*a)/(m-2*a),w=-y*(u+o)+t+o,_=-b*(h+a)+r+a;if(y!==1||b!==1||w!==0||_!==0)for(const{line:E,points:T}of f(this,Io))ze._rescale(E,w,_,y,b,E),ze._rescale(T,w,_,y,b,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ze.svgRound(t)} ${ze.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],i){const[s,o]=i,a=f(this,ys),l=t-a[0],u=r-a[1];if(f(this,dc)===s&&f(this,hc)===o)for(const{line:h,points:p}of f(this,Io))ze._translate(h,l,u,h),ze._translate(p,l,u,p);else{const h=f(this,dc)/s,p=f(this,hc)/o;D(this,dc,s),D(this,hc,o);for(const{line:m,points:y}of f(this,Io))ze._rescale(m,l,u,h,p,m),ze._rescale(y,l,u,h,p,y);a[2]*=h,a[3]*=p}return a[0]=t,a[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ze.svgRound(t)} ${ze.svgRound(r)}`}}}get defaultSVGProperties(){const t=f(this,ys);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ze.svgRound(t[0])} ${ze.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}ys=new WeakMap,kE=new WeakMap,PE=new WeakMap,Io=new WeakMap,dc=new WeakMap,hc=new WeakMap,i0=new WeakMap,s0=new WeakMap,Tm=new WeakMap,Oi=new WeakSet,ou=function(t=f(this,Tm)){const r=f(this,PE)+t/2*f(this,i0);return f(this,s0)%180===0?[r/f(this,dc),r/f(this,hc)]:[r/f(this,hc),r/f(this,dc)]},iee=function(){const[t,r,i,s]=f(this,ys),[o,a]=H(this,Oi,ou).call(this,0);return[t+o,r+a,i-2*o,s-2*a]},see=function(){const t=D(this,ys,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of f(this,Io)){if(s.length<=12){for(let l=4,u=s.length;l<u;l+=6)Ge.pointBoundingBox(s[l],s[l+1],t);continue}let o=s[4],a=s[5];for(let l=6,u=s.length;l<u;l+=6){const[h,p,m,y,b,w]=s.subarray(l,l+6);Ge.bezierBoundingBox(o,a,h,p,m,y,b,w,t),o=b,a=w}}const[r,i]=H(this,Oi,ou).call(this);t[0]=bs(t[0]-r,0,1),t[1]=bs(t[1]-i,0,1),t[2]=bs(t[2]+r,0,1),t[3]=bs(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},oee=function(t){const[r,i]=H(this,Oi,ou).call(this);D(this,Tm,t);const[s,o]=H(this,Oi,ou).call(this),[a,l]=[s-r,o-i],u=f(this,ys);return u[0]-=a,u[1]-=l,u[2]+=2*a,u[3]+=2*l,u};class NI extends nee{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Hn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new NI(this._viewParameters);return e.updateAll(this),e}}var oR,aee;const Iy=class Iy extends Ux{constructor(t){super({...t,name:"inkEditor"});j(this,oR);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,r){Hn.initialize(t,r),this._defaultDrawingOptions=new NI(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return Tt(this,"typesMap",new Map([[Yt.INK_THICKNESS,"stroke-width"],[Yt.INK_COLOR,"stroke"],[Yt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,i,s,o){return new oDe(t,r,i,s,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,i,s,o,a){return C1.deserialize(t,r,i,s,o,a)}static async deserialize(t,r,i){let s=null;if(t instanceof qj){const{data:{inkLists:a,rect:l,rotation:u,id:h,color:p,opacity:m,borderStyle:{rawWidth:y},popupRef:b,richText:w,contentsObj:_,creationDate:E,modificationDate:T},parent:{page:{pageNumber:C}}}=t;s=t={annotationType:St.INK,color:Array.from(p),thickness:y,opacity:m,paths:{points:a},boxes:null,pageIndex:C-1,rect:l.slice(0),rotation:u,annotationElementId:h,id:h,deleted:!1,popupRef:b,richText:w,comment:(_==null?void 0:_.str)||null,creationDate:E,modificationDate:T}}const o=await super.deserialize(t,r,i);return o._initialData=s,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Nx(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Yt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:i}){this._drawingOptions=Iy.getDefaultDrawingOptions({stroke:Ge.makeHexColor(...t),"stroke-width":r,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":o,"stroke-width":a}}=this,l=Object.assign(super.serialize(t),{color:Hn._colorManager.convert(s),opacity:o,thickness:a,paths:{lines:r,points:i}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!H(this,oR,aee).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:r,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};oR=new WeakSet,aee=function(t){const{color:r,thickness:i,opacity:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((a,l)=>a!==r[l])||t.thickness!==i||t.opacity!==s||t.pageIndex!==o},_e(Iy,"_type","ink"),_e(Iy,"_editorType",St.INK),_e(Iy,"_defaultDrawingOptions",null);let EN=Iy;class CN extends C1{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const TT=8,ib=3;var Am,pn,TN,ul,lee,cee,AN,DA,uee,dee,hee,xN,RN,fee;class qu{static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:i},s,o,a,l){let u=new OffscreenCanvas(1,1),h=u.getContext("2d",{alpha:!1});const p=200,m=h.font=`${r} ${i} ${p}px ${t}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:b,actualBoundingBoxAscent:w,actualBoundingBoxDescent:_,fontBoundingBoxAscent:E,fontBoundingBoxDescent:T,width:C}=h.measureText(e),x=1.5,I=Math.ceil(Math.max(Math.abs(y)+Math.abs(b)||0,C)*x),F=Math.ceil(Math.max(Math.abs(w)+Math.abs(_)||p,Math.abs(E)+Math.abs(T)||p)*x);u=new OffscreenCanvas(I,F),h=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=m,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,I,F),h.fillStyle="black",h.fillText(e,I*(x-1)/2,F*(3-x)/2);const k=H(this,pn,xN).call(this,h.getImageData(0,0,I,F).data),L=H(this,pn,hee).call(this,k),N=H(this,pn,RN).call(this,L),A=H(this,pn,AN).call(this,k,I,F,N);return this.processDrawnLines({lines:{curves:A,width:I,height:F},pageWidth:s,pageHeight:o,rotation:a,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,r,i,s){const[o,a,l]=H(this,pn,fee).call(this,e),[u,h]=H(this,pn,dee).call(this,o,a,l,Math.hypot(a,l)*f(this,Am).sigmaSFactor,f(this,Am).sigmaR,f(this,Am).kernelSize),p=H(this,pn,RN).call(this,h),m=H(this,pn,AN).call(this,u,a,l,p);return this.processDrawnLines({lines:{curves:m,width:a,height:l},pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:o,areContours:a}){i%180!==0&&([t,r]=[r,t]);const{curves:l,width:u,height:h}=e,p=e.thickness??0,m=[],y=Math.min(t/u,r/h),b=y/t,w=y/r,_=[];for(const{points:T}of l){const C=o?H(this,pn,uee).call(this,T):T;if(!C)continue;_.push(C);const x=C.length,I=new Float32Array(x),F=new Float32Array(3*(x===2?2:x-2));if(m.push({line:F,points:I}),x===2){I[0]=C[0]*b,I[1]=C[1]*w,F.set([NaN,NaN,NaN,NaN,I[0],I[1]],0);continue}let[k,L,N,A]=C;k*=b,L*=w,N*=b,A*=w,I.set([k,L,N,A],0),F.set([NaN,NaN,NaN,NaN,k,L],0);for(let B=4;B<x;B+=2){const z=I[B]=C[B]*b,U=I[B+1]=C[B+1]*w;F.set(ze.createBezierPoints(k,L,N,A,z,U),(B-2)*3),[k,L,N,A]=[N,A,z,U]}}if(m.length===0)return null;const E=a?new CN:new C1;return E.build(m,t,r,1,i,a?0:p,s),{outline:E,newCurves:_,areContours:a,thickness:p,width:u,height:h}}static async compressSignature({outlines:e,areContours:t,thickness:r,width:i,height:s}){let o=1/0,a=-1/0,l=0;for(const C of e){l+=C.length;for(let x=2,I=C.length;x<I;x++){const F=C[x]-C[x-2];o=Math.min(o,F),a=Math.max(a,F)}}let u;o>=-128&&a<=127?u=Int8Array:o>=-32768&&a<=32767?u=Int16Array:u=Int32Array;const h=e.length,p=TT+ib*h,m=new Uint32Array(p);let y=0;m[y++]=p*Uint32Array.BYTES_PER_ELEMENT+(l-2*h)*u.BYTES_PER_ELEMENT,m[y++]=0,m[y++]=i,m[y++]=s,m[y++]=t?0:1,m[y++]=Math.max(0,Math.floor(r??0)),m[y++]=h,m[y++]=u.BYTES_PER_ELEMENT;for(const C of e)m[y++]=C.length-2,m[y++]=C[0],m[y++]=C[1];const b=new CompressionStream("deflate-raw"),w=b.writable.getWriter();await w.ready,w.write(m);const _=u.prototype.constructor;for(const C of e){const x=new _(C.length-2);for(let I=2,F=C.length;I<F;I++)x[I-2]=C[I]-C[I-2];w.write(x)}w.close();const E=await new Response(b.readable).arrayBuffer(),T=new Uint8Array(E);return dQ(T)}static async decompressSignature(e){try{const t=Ske(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,a=0;for await(const C of r)o||(o=new Uint8Array(new Uint32Array(C.buffer,0,4)[0])),o.set(C,a),a+=C.length;const l=new Uint32Array(o.buffer,0,o.length>>2),u=l[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const h=l[2],p=l[3],m=l[4]===0,y=l[5],b=l[6],w=l[7],_=[],E=(TT+ib*b)*Uint32Array.BYTES_PER_ELEMENT;let T;switch(w){case Int8Array.BYTES_PER_ELEMENT:T=new Int8Array(o.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:T=new Int16Array(o.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:T=new Int32Array(o.buffer,E);break}a=0;for(let C=0;C<b;C++){const x=l[ib*C+TT],I=new Float32Array(x+2);_.push(I);for(let F=0;F<ib-1;F++)I[F]=l[ib*C+TT+F+1];for(let F=0;F<x;F++)I[F+2]=I[F]+T[a++]}return{areContours:m,thickness:y,outlines:_,width:h,height:p}}catch(t){return yt(`decompressSignature: ${t}`),null}}}Am=new WeakMap,pn=new WeakSet,TN=function(e,t,r,i){return r-=e,i-=t,r===0?i>0?0:4:r===1?i+6:2-i},ul=new WeakMap,lee=function(e,t,r,i,s,o,a){const l=H(this,pn,TN).call(this,r,i,s,o);for(let u=0;u<8;u++){const h=(-u+l-a+16)%8,p=f(this,ul)[2*h],m=f(this,ul)[2*h+1];if(e[(r+p)*t+(i+m)]!==0)return h}return-1},cee=function(e,t,r,i,s,o,a){const l=H(this,pn,TN).call(this,r,i,s,o);for(let u=0;u<8;u++){const h=(u+l+a+16)%8,p=f(this,ul)[2*h],m=f(this,ul)[2*h+1];if(e[(r+p)*t+(i+m)]!==0)return h}return-1},AN=function(e,t,r,i){const s=e.length,o=new Int32Array(s);for(let h=0;h<s;h++)o[h]=e[h]<=i?1:0;for(let h=1;h<r-1;h++)o[h*t]=o[h*t+t-1]=0;for(let h=0;h<t;h++)o[h]=o[t*r-1-h]=0;let a=1,l;const u=[];for(let h=1;h<r-1;h++){l=1;for(let p=1;p<t-1;p++){const m=h*t+p,y=o[m];if(y===0)continue;let b=h,w=p;if(y===1&&o[m-1]===0)a+=1,w-=1;else if(y>=1&&o[m+1]===0)a+=1,w+=1,y>1&&(l=y);else{y!==1&&(l=Math.abs(y));continue}const _=[p,h],E=w===p+1,T={isHole:E,points:_,id:a,parent:0};u.push(T);let C;for(const B of u)if(B.id===l){C=B;break}C?C.isHole?T.parent=E?C.parent:l:T.parent=E?l:C.parent:T.parent=E?l:0;const x=H(this,pn,lee).call(this,o,t,h,p,b,w,0);if(x===-1){o[m]=-a,o[m]!==1&&(l=Math.abs(o[m]));continue}let I=f(this,ul)[2*x],F=f(this,ul)[2*x+1];const k=h+I,L=p+F;b=k,w=L;let N=h,A=p;for(;;){const B=H(this,pn,cee).call(this,o,t,N,A,b,w,1);I=f(this,ul)[2*B],F=f(this,ul)[2*B+1];const z=N+I,U=A+F;_.push(U,z);const Q=N*t+A;if(o[Q+1]===0?o[Q]=-a:o[Q]===1&&(o[Q]=a),z===h&&U===p&&N===k&&A===L){o[m]!==1&&(l=Math.abs(o[m]));break}else b=N,w=A,N=z,A=U}}}return u},DA=function(e,t,r,i){if(r-t<=4){for(let k=t;k<r-2;k+=2)i.push(e[k],e[k+1]);return}const s=e[t],o=e[t+1],a=e[r-4]-s,l=e[r-3]-o,u=Math.hypot(a,l),h=a/u,p=l/u,m=h*o-p*s,y=l/a,b=1/u,w=Math.atan(y),_=Math.cos(w),E=Math.sin(w),T=b*(Math.abs(_)+Math.abs(E)),C=b*(1-T+T**2),x=Math.max(Math.atan(Math.abs(E+_)*C),Math.atan(Math.abs(E-_)*C));let I=0,F=t;for(let k=t+2;k<r-2;k+=2){const L=Math.abs(m-h*e[k+1]+p*e[k]);L>I&&(F=k,I=L)}I>(u*x)**2?(H(this,pn,DA).call(this,e,t,F+2,i),H(this,pn,DA).call(this,e,F,r,i)):i.push(s,o)},uee=function(e){const t=[],r=e.length;return H(this,pn,DA).call(this,e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t},dee=function(e,t,r,i,s,o){const a=new Float32Array(o**2),l=-2*i**2,u=o>>1;for(let w=0;w<o;w++){const _=(w-u)**2;for(let E=0;E<o;E++)a[w*o+E]=Math.exp((_+(E-u)**2)/l)}const h=new Float32Array(256),p=-2*s**2;for(let w=0;w<256;w++)h[w]=Math.exp(w**2/p);const m=e.length,y=new Uint8Array(m),b=new Uint32Array(256);for(let w=0;w<r;w++)for(let _=0;_<t;_++){const E=w*t+_,T=e[E];let C=0,x=0;for(let F=0;F<o;F++){const k=w+F-u;if(!(k<0||k>=r))for(let L=0;L<o;L++){const N=_+L-u;if(N<0||N>=t)continue;const A=e[k*t+N],B=a[F*o+L]*h[Math.abs(A-T)];C+=A*B,x+=B}}const I=y[E]=Math.round(C/x);b[I]++}return[y,b]},hee=function(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t},xN=function(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let a=0,l=r.length;a<l;a++){const u=r[a]=e[a<<2];i=Math.max(i,u),s=Math.min(s,u)}const o=255/(i-s);for(let a=0,l=r.length;a<l;a++)r[a]=(r[a]-s)*o;return r},RN=function(e){let t,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let o=s,a=s;for(t=s;t<256;t++){const l=e[t];l>r&&(t-o>i&&(i=t-o,a=t-1),r=l,o=t)}for(t=a-1;t>=0&&!(e[t]>e[t+1]);t--);return t},fee=function(e){const t=e,{width:r,height:i}=e,{maxDim:s}=f(this,Am);let o=r,a=i;if(r>s||i>s){let m=r,y=i,b=Math.log2(Math.max(r,i)/s);const w=Math.floor(b);b=b===w?w-1:w;for(let E=0;E<b;E++){o=Math.ceil(m/2),a=Math.ceil(y/2);const T=new OffscreenCanvas(o,a);T.getContext("2d").drawImage(e,0,0,m,y,0,0,o,a),m=o,y=a,e!==t&&e.close(),e=T.transferToImageBitmap()}const _=Math.min(s/o,s/a);o=Math.round(o*_),a=Math.round(a*_)}const u=new OffscreenCanvas(o,a).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,o,a),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,o,a);const h=u.getImageData(0,0,o,a).data;return[H(this,pn,xN).call(this,h),o,a]},j(qu,pn),j(qu,Am,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),j(qu,ul,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class Gj extends nee{constructor(){super(),super.updateProperties({fill:Hn._defaultLineColor,"stroke-width":0})}clone(){const e=new Gj;return e.updateAll(this),e}}class Yj extends NI{constructor(e){super(e),super.updateProperties({stroke:Hn._defaultLineColor,"stroke-width":1})}clone(){const e=new Yj(this._viewParameters);return e.updateAll(this),e}}var Nh,fc,Bh,xm;const ho=class ho extends Ux{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});j(this,Nh,!1);j(this,fc,null);j(this,Bh,null);j(this,xm,null);this._willKeepAspectRatio=!0,D(this,Bh,t.signatureData||null),D(this,fc,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,r){Hn.initialize(t,r),this._defaultDrawingOptions=new Gj,this._defaultDrawnSignatureOptions=new Yj(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return Tt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!f(this,fc)}}static computeTelemetryFinalData(t){const r=t.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,r=this.y),super.render(),this._drawId===null)if(f(this,Bh)){const{lines:s,mustSmooth:o,areContours:a,description:l,uuid:u,heightInPage:h}=f(this,Bh),{rawDims:{pageWidth:p,pageHeight:m},rotation:y}=this.parent.viewport,b=qu.processDrawnLines({lines:s,pageWidth:p,pageHeight:m,rotation:y,innerMargin:ho._INNER_MARGIN,mustSmooth:o,areContours:a});this.addSignature(b,h,l,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:f(this,fc)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,r)),this.div}setUuid(t){D(this,xm,t),this.addEditToolbar()}getUuid(){return f(this,xm)}get description(){return f(this,fc)}set description(t){D(this,fc,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:r,thickness:i,width:s,height:o}=f(this,Bh),a=Math.max(s,o),l=qu.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:i,width:s,height:o},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,r,i,s){const{x:o,y:a}=this,{outline:l}=D(this,Bh,t);D(this,Nh,l instanceof CN),this.description=i;let u;f(this,Nh)?u=ho.getDefaultDrawingOptions():(u=ho._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:u});const[,h]=this.pageDimensions;let p=r/h;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=o,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return qu.process(t,r,i,s,ho._INNER_MARGIN)}getFromText(t,r){const{rawDims:{pageWidth:i,pageHeight:s},rotation:o}=this.parent.viewport;return qu.extractContoursFromText(t,r,i,s,o,ho._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return qu.processDrawnLines({lines:t,pageWidth:r,pageHeight:i,rotation:s,innerMargin:ho._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:r}){t?this._drawingOptions=ho.getDefaultDrawingOptions():(this._drawingOptions=ho._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:r,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:f(this,Nh),color:[0,0,0],thickness:f(this,Nh)?0:s});return this.addComment(o),t?(o.paths={lines:r,points:i},o.uuid=f(this,xm),o.isCopy=!0):o.lines=r,f(this,fc)&&(o.accessibilityData={type:"Figure",alt:f(this,fc)}),o}static deserializeDraw(t,r,i,s,o,a){return a.areContours?CN.deserialize(t,r,i,s,o,a):C1.deserialize(t,r,i,s,o,a)}static async deserialize(t,r,i){var o;const s=await super.deserialize(t,r,i);return D(s,Nh,t.areContours),s.description=((o=t.accessibilityData)==null?void 0:o.alt)||"",D(s,xm,t.uuid),s}};Nh=new WeakMap,fc=new WeakMap,Bh=new WeakMap,xm=new WeakMap,_e(ho,"_type","signature"),_e(ho,"_editorType",St.SIGNATURE),_e(ho,"_defaultDrawingOptions",null);let IN=ho;var sr,wi,$h,ju,jh,o0,Uu,Rm,pc,ko,a0,sn,$b,jb,MA,OA,LA,PN,FA,pee;class kN extends Hn{constructor(t){super({...t,name:"stampEditor"});j(this,sn);j(this,sr,null);j(this,wi,null);j(this,$h,null);j(this,ju,null);j(this,jh,null);j(this,o0,"");j(this,Uu,null);j(this,Rm,!1);j(this,pc,null);j(this,ko,!1);j(this,a0,!1);D(this,ju,t.bitmapUrl),D(this,jh,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,r){Hn.initialize(t,r)}static isHandlingMimeForPasting(t){return mF.includes(t)}static paste(t,r){r.pasteEditor({mode:St.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:o,height:a,channels:s.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),r&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;f(this,wi)&&(D(this,sr,null),this._uiManager.imageManager.deleteId(f(this,wi)),(t=f(this,Uu))==null||t.remove(),D(this,Uu,null),f(this,pc)&&(clearTimeout(f(this,pc)),D(this,pc,null))),super.remove()}rebuild(){if(!this.parent){f(this,wi)&&H(this,sn,MA).call(this);return}super.rebuild(),this.div!==null&&(f(this,wi)&&f(this,Uu)===null&&H(this,sn,MA).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(f(this,$h)||f(this,sr)||f(this,ju)||f(this,jh)||f(this,wi)||f(this,Rm))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;return this._isCopy&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),f(this,Rm)||(f(this,sr)?H(this,sn,OA).call(this):H(this,sn,MA).call(this)),this._isCopy&&this._moveAfterPaste(t,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,r){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(D(this,wi,i),s&&D(this,sr,s),D(this,Rm,!1),H(this,sn,OA).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;f(this,pc)!==null&&clearTimeout(f(this,pc)),D(this,pc,setTimeout(()=>{D(this,pc,null),H(this,sn,PN).call(this)},200))}copyCanvas(t,r,i=!1){t||(t=224);const{width:s,height:o}=f(this,sr),a=new Dc;let l=f(this,sr),u=s,h=o,p=null;if(r){if(s>r||o>r){const k=Math.min(r/s,r/o);u=Math.floor(s*k),h=Math.floor(o*k)}p=document.createElement("canvas");const y=p.width=Math.ceil(u*a.sx),b=p.height=Math.ceil(h*a.sy);f(this,ko)||(l=H(this,sn,LA).call(this,y,b));const w=p.getContext("2d");w.filter=this._uiManager.hcmFilter;let _="white",E="#cfcfd8";this._uiManager.hcmFilter!=="none"?E="black":Rke.isDarkMode&&(_="#8f8f9d",E="#42414d");const T=15,C=T*a.sx,x=T*a.sy,I=new OffscreenCanvas(C*2,x*2),F=I.getContext("2d");F.fillStyle=_,F.fillRect(0,0,C*2,x*2),F.fillStyle=E,F.fillRect(0,0,C,x),F.fillRect(C,x,C,x),w.fillStyle=w.createPattern(I,"repeat"),w.fillRect(0,0,y,b),w.drawImage(l,0,0,l.width,l.height,0,0,y,b)}let m=null;if(i){let y,b;if(a.symmetric&&l.width<t&&l.height<t)y=l.width,b=l.height;else if(l=f(this,sr),s>t||o>t){const E=Math.min(t/s,t/o);y=Math.floor(s*E),b=Math.floor(o*E),f(this,ko)||(l=H(this,sn,LA).call(this,y,b))}const _=new OffscreenCanvas(y,b).getContext("2d",{willReadFrequently:!0});_.drawImage(l,0,0,l.width,l.height,0,0,y,b),m={width:y,height:b,data:_.getImageData(0,0,y,b).data}}return{canvas:p,width:u,height:h,imageData:m}}static async deserialize(t,r,i){var _;let s=null,o=!1;if(t instanceof kZ){const{data:{rect:E,rotation:T,id:C,structParent:x,popupRef:I,richText:F,contentsObj:k,creationDate:L,modificationDate:N},container:A,parent:{page:{pageNumber:B}},canvas:z}=t;let U,Q;z?(delete t.canvas,{id:U,bitmap:Q}=i.imageManager.getFromCanvas(A.id,z),z.remove()):(o=!0,t._hasNoCanvas=!0);const te=((_=await r._structTree.getAriaAttributes(`${Cy}${C}`))==null?void 0:_.get("aria-label"))||"";s=t={annotationType:St.STAMP,bitmapId:U,bitmap:Q,pageIndex:B-1,rect:E.slice(0),rotation:T,annotationElementId:C,id:C,deleted:!1,accessibilityData:{decorative:!1,altText:te},isSvg:!1,structParent:x,popupRef:I,richText:F,comment:(k==null?void 0:k.str)||null,creationDate:L,modificationDate:N}}const a=await super.deserialize(t,r,i),{rect:l,bitmap:u,bitmapUrl:h,bitmapId:p,isSvg:m,accessibilityData:y}=t;o?(i.addMissingCanvas(t.id,a),D(a,Rm,!0)):p&&i.imageManager.isValidId(p)?(D(a,wi,p),u&&D(a,sr,u)):D(a,ju,h),D(a,ko,m);const[b,w]=a.pageDimensions;return a.width=(l[2]-l[0])/b,a.height=(l[3]-l[1])/w,y&&(a.altTextData=y),a._initialData=s,t.comment&&a.setCommentData(t),D(a,a0,!!s),a}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:f(this,wi),isSvg:f(this,ko)});if(this.addComment(i),t)return i.bitmapUrl=H(this,sn,FA).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=H(this,sn,pee).call(this,i);return l.isSame?null:(l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(r===null)return i;r.stamps||(r.stamps=new Map);const a=f(this,ko)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(f(this,wi)))r.stamps.set(f(this,wi),{area:a,serialized:i}),i.bitmap=H(this,sn,FA).call(this,!1);else if(f(this,ko)){const l=r.stamps.get(f(this,wi));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=H(this,sn,FA).call(this,!1))}return i}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}sr=new WeakMap,wi=new WeakMap,$h=new WeakMap,ju=new WeakMap,jh=new WeakMap,o0=new WeakMap,Uu=new WeakMap,Rm=new WeakMap,pc=new WeakMap,ko=new WeakMap,a0=new WeakMap,sn=new WeakSet,$b=function(t,r=!1){if(!t){this.remove();return}D(this,sr,t.bitmap),r||(D(this,wi,t.id),D(this,ko,t.isSvg)),t.file&&D(this,o0,t.file.name),H(this,sn,OA).call(this)},jb=function(){if(D(this,$h,null),this._uiManager.enableWaiting(!1),!!f(this,Uu)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,sr)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,sr)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},MA=function(){if(f(this,wi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,wi)).then(i=>H(this,sn,$b).call(this,i,!0)).finally(()=>H(this,sn,jb).call(this));return}if(f(this,ju)){const i=f(this,ju);D(this,ju,null),this._uiManager.enableWaiting(!0),D(this,$h,this._uiManager.imageManager.getFromUrl(i).then(s=>H(this,sn,$b).call(this,s)).finally(()=>H(this,sn,jb).call(this)));return}if(f(this,jh)){const i=f(this,jh);D(this,jh,null),this._uiManager.enableWaiting(!0),D(this,$h,this._uiManager.imageManager.getFromFile(i).then(s=>H(this,sn,$b).call(this,s)).finally(()=>H(this,sn,jb).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=mF.join(",");const r=this._uiManager._signal;D(this,$h,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),H(this,sn,$b).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>H(this,sn,jb).call(this))),t.click()},OA=function(){var u;const{div:t}=this;let{width:r,height:i}=f(this,sr);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const h=Math.min(a*s/r,a*o/i);r*=h,i*=h}this._uiManager.enableWaiting(!1);const l=D(this,Uu,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=r/s,this.height=i/o,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),H(this,sn,PN).call(this),f(this,a0)||(this.parent.addUndoableEditor(this),D(this,a0,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,o0)&&this.div.setAttribute("aria-description",f(this,o0)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},LA=function(t,r){const{width:i,height:s}=f(this,sr);let o=i,a=s,l=f(this,sr);for(;o>2*t||a>2*r;){const u=o,h=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const p=new OffscreenCanvas(o,a);p.getContext("2d").drawImage(l,0,0,u,h,0,0,o,a),l=p.transferToImageBitmap()}return l},PN=function(){const[t,r]=this.parentDimensions,{width:i,height:s}=this,o=new Dc,a=Math.ceil(i*t*o.sx),l=Math.ceil(s*r*o.sy),u=f(this,Uu);if(!u||u.width===a&&u.height===l)return;u.width=a,u.height=l;const h=f(this,ko)?f(this,sr):H(this,sn,LA).call(this,a,l),p=u.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(h,0,0,h.width,h.height,0,0,a,l)},FA=function(t){if(t){if(f(this,ko)){const s=this._uiManager.imageManager.getSvgUrl(f(this,wi));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=f(this,sr),r.getContext("2d").drawImage(f(this,sr),0,0),r.toDataURL()}if(f(this,ko)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*pf.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*pf.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(f(this,sr),0,0,f(this,sr).width,f(this,sr).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(f(this,sr))},pee=function(t){var a;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===r,o=(((a=t.accessibilityData)==null?void 0:a.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&o,isSameAltText:o}},_e(kN,"_type","stamp"),_e(kN,"_editorType",St.STAMP);var Im,l0,Uh,Vh,Vu,Ws,Hh,c0,u0,dl,Hu,bi,zu,zh,d0,Qe,Wh,Ln,MN,mee,Wl,ON,LN,NA;const el=class el{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:l,viewport:u,l10n:h}){j(this,Ln);j(this,Im);j(this,l0,!1);j(this,Uh,null);j(this,Vh,null);j(this,Vu,null);j(this,Ws,new Map);j(this,Hh,!1);j(this,c0,!1);j(this,u0,!1);j(this,dl,null);j(this,Hu,null);j(this,bi,null);j(this,zu,null);j(this,zh,null);j(this,d0,-1);j(this,Qe);const p=[...f(el,Wh).values()];if(!el._initialized){el._initialized=!0;for(const m of p)m.initialize(h,e)}e.registerEditorTypes(p),D(this,Qe,e),this.pageIndex=t,this.div=r,D(this,Im,s),D(this,Uh,o),this.viewport=u,D(this,bi,l),this.drawLayer=a,this._structTree=i,f(this,Qe).addLayer(this)}get isEmpty(){return f(this,Ws).size===0}get isInvisible(){return this.isEmpty&&f(this,Qe).getMode()===St.NONE}updateToolbar(e){f(this,Qe).updateToolbar(e)}updateMode(e=f(this,Qe).getMode()){switch(H(this,Ln,NA).call(this),e){case St.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case St.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case St.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===St.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const r of f(el,Wh).values())t.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=f(this,bi))==null?void 0:t.div)}setEditingState(e){f(this,Qe).setEditingState(e)}addCommands(e){f(this,Qe).addCommands(e)}cleanUndoStack(e){f(this,Qe).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=f(this,Uh))==null||t.togglePointerEvents(e)}async enable(){var r;D(this,u0,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=f(this,zh))==null||r.abort(),D(this,zh,null);const e=new Set;for(const i of f(this,Ln,MN))i.enableEditing(),i.show(!0),i.annotationElementId&&(f(this,Qe).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=f(this,Uh);if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),f(this,Qe).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}D(this,u0,!1),f(this,Qe)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(D(this,c0,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),f(this,bi)&&!f(this,zh)){D(this,zh,new AbortController);const s=f(this,Qe).combinedSignal(f(this,zh));f(this,bi).div.addEventListener("pointerdown",o=>{const{clientX:l,clientY:u,timeStamp:h}=o,p=f(this,d0);if(h-p>500){D(this,d0,h);return}D(this,d0,-1);const{classList:m}=this.div;m.toggle("getElements",!0);const y=document.elementsFromPoint(l,u);if(m.toggle("getElements",!1),!this.div.contains(y[0]))return;let b;const w=new RegExp(`^${$_}[0-9]+$`);for(const E of y)if(w.test(E.id)){b=E.id;break}if(!b)return;const _=f(this,Ws).get(b);(_==null?void 0:_.annotationElementId)===null&&(o.stopPropagation(),o.preventDefault(),_.dblclick(o))},{signal:s,capture:!0})}const e=f(this,Uh),t=[];if(e){const s=new Map,o=new Map;for(const l of f(this,Ln,MN)){if(l.disableEditing(),!l.annotationElementId){t.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else o.set(l.annotationElementId,l);(i=this.getEditableAnnotation(l.annotationElementId))==null||i.show(),l.remove()}const a=e.getEditableAnnotations();for(const l of a){const{id:u}=l.data;if(f(this,Qe).isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let h=o.get(u);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=s.get(u),h&&(f(this,Qe).addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}H(this,Ln,NA).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of f(el,Wh).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(t),D(this,c0,!1)}getEditableAnnotation(e){var t;return((t=f(this,Uh))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){f(this,Qe).getActive()!==e&&f(this,Qe).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=f(this,bi))!=null&&e.div&&!f(this,zu)){D(this,zu,new AbortController);const t=f(this,Qe).combinedSignal(f(this,zu));f(this,bi).div.addEventListener("pointerdown",H(this,Ln,mee).bind(this),{signal:t}),f(this,bi).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=f(this,bi))!=null&&e.div&&f(this,zu)&&(f(this,zu).abort(),D(this,zu,null),f(this,bi).div.classList.remove("highlighting"))}enableClick(){if(f(this,Vh))return;D(this,Vh,new AbortController);const e=f(this,Qe).combinedSignal(f(this,Vh));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=f(this,Vh))==null||e.abort(),D(this,Vh,null)}attach(e){f(this,Ws).set(e.id,e);const{annotationElementId:t}=e;t&&f(this,Qe).isDeletedAnnotationElement(t)&&f(this,Qe).removeDeletedAnnotationElement(e)}detach(e){var t;f(this,Ws).delete(e.id),(t=f(this,Im))==null||t.removePointerInTextLayer(e.contentDiv),!f(this,c0)&&e.annotationElementId&&f(this,Qe).addDeletedAnnotationElement(e)}remove(e){this.detach(e),f(this,Qe).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(f(this,Qe).addDeletedAnnotationElement(e.annotationElementId),Hn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),f(this,Qe).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!f(this,u0)),f(this,Qe).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!f(this,Vu)&&(e._focusEventsAllowed=!1,D(this,Vu,setTimeout(()=>{D(this,Vu,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:f(this,Qe)._signal}),t.focus())},0))),e._structTreeParentId=(r=f(this,Im))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getEditorByUID(e){for(const t of f(this,Ws).values())if(t.uid===e)return t;return null}getNextId(){return f(this,Qe).getId()}combinedSignal(e){return f(this,Qe).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=f(this,Ln,Wl))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await f(this,Qe).updateMode(e.mode);const{offsetX:r,offsetY:i}=H(this,Ln,LN).call(this),s=this.getNextId(),o=H(this,Ln,ON).call(this,{parent:this,id:s,x:r,y:i,uiManager:f(this,Qe),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=f(el,Wh).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,f(this,Qe)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=H(this,Ln,ON).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:f(this,Qe),isCentered:t,...r});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(H(this,Ln,LN).call(this),!0,e)}setSelected(e){f(this,Qe).setSelected(e)}toggleSelected(e){f(this,Qe).toggleSelected(e)}unselect(e){f(this,Qe).unselect(e)}pointerup(e){var i;const{isMac:t}=Bi.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!f(this,Hh)||(D(this,Hh,!1),(i=f(this,Ln,Wl))!=null&&i.isDrawer&&f(this,Ln,Wl).supportMultipleDrawings))return;if(!f(this,l0)){D(this,l0,!0);return}const r=f(this,Qe).getMode();if(r===St.STAMP||r===St.SIGNATURE){f(this,Qe).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(f(this,Qe).getMode()===St.HIGHLIGHT&&this.enableTextSelection(),f(this,Hh)){D(this,Hh,!1);return}const{isMac:t}=Bi.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(D(this,Hh,!0),(i=f(this,Ln,Wl))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=f(this,Qe).getActive();D(this,l0,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),f(this,dl)){f(this,Ln,Wl).startDrawing(this,f(this,Qe),!1,e);return}f(this,Qe).setCurrentDrawingSession(this),D(this,dl,new AbortController);const t=f(this,Qe).combinedSignal(f(this,dl));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(D(this,Hu,null),this.commitOrRemove())},{signal:t}),f(this,Ln,Wl).startDrawing(this,f(this,Qe),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&D(this,Hu,t);return}f(this,Hu)&&setTimeout(()=>{var t;(t=f(this,Hu))==null||t.focus(),D(this,Hu,null)},0)}endDrawingSession(e=!1){return f(this,dl)?(f(this,Qe).setCurrentDrawingSession(null),f(this,dl).abort(),D(this,dl,null),D(this,Hu,null),f(this,Ln,Wl).endDrawing(e)):null}findNewParent(e,t,r){const i=f(this,Qe).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return f(this,dl)?(this.endDrawingSession(),!0):!1}onScaleChanging(){f(this,dl)&&f(this,Ln,Wl).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=f(this,Qe).getActive())==null?void 0:e.parent)===this&&(f(this,Qe).commitOrRemove(),f(this,Qe).setActiveEditor(null)),f(this,Vu)&&(clearTimeout(f(this,Vu)),D(this,Vu,null));for(const r of f(this,Ws).values())(t=f(this,Im))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,f(this,Ws).clear(),f(this,Qe).removeLayer(this)}render({viewport:e}){this.viewport=e,Km(this.div,e);for(const t of f(this,Qe).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){f(this,Qe).commitOrRemove(),H(this,Ln,NA).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Km(this.div,{rotation:r}),t!==r)for(const i of f(this,Ws).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return f(this,Qe).viewParameters.realScale}};Im=new WeakMap,l0=new WeakMap,Uh=new WeakMap,Vh=new WeakMap,Vu=new WeakMap,Ws=new WeakMap,Hh=new WeakMap,c0=new WeakMap,u0=new WeakMap,dl=new WeakMap,Hu=new WeakMap,bi=new WeakMap,zu=new WeakMap,zh=new WeakMap,d0=new WeakMap,Qe=new WeakMap,Wh=new WeakMap,Ln=new WeakSet,MN=function(){return f(this,Ws).size!==0?f(this,Ws).values():f(this,Qe).getEditors(this.pageIndex)},mee=function(e){f(this,Qe).unselectAll();const{target:t}=e;if(t===f(this,bi).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&f(this,bi).div.contains(t)){const{isMac:r}=Bi.platform;if(e.button!==0||e.ctrlKey&&r)return;f(this,Qe).showAllEditors("highlight",!0,!0),f(this,bi).div.classList.add("free"),this.toggleDrawing(),jx.startHighlighting(this,f(this,Qe).direction==="ltr",{target:f(this,bi).div,x:e.x,y:e.y}),f(this,bi).div.addEventListener("pointerup",()=>{f(this,bi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:f(this,Qe)._signal}),e.preventDefault()}},Wl=function(){return f(el,Wh).get(f(this,Qe).getMode())},ON=function(e){const t=f(this,Ln,Wl);return t?new t.prototype.constructor(e):null},LN=function(){const{x:e,y:t,width:r,height:i}=this.boundingClientRect,s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),u=(s+a)/2-e,h=(o+l)/2-t,[p,m]=this.viewport.rotation%180===0?[u,h]:[h,u];return{offsetX:p,offsetY:m}},NA=function(){for(const e of f(this,Ws).values())e.isEmpty()&&e.remove()},_e(el,"_initialized",!1),j(el,Wh,new Map([fN,EN,kN,jx,IN].map(e=>[e._editorType,e])));let DN=el;var hl,vs,km,DE,aR,gee,Mc,NN,yee,BN;const ei=class ei{constructor({pageIndex:e}){j(this,Mc);j(this,hl,null);j(this,vs,new Map);j(this,km,new Map);this.pageIndex=e}setParent(e){if(!f(this,hl)){D(this,hl,e);return}if(f(this,hl)!==e){if(f(this,vs).size>0)for(const t of f(this,vs).values())t.remove(),e.append(t);D(this,hl,e)}}static get _svgFactory(){return Tt(this,"_svgFactory",new Bx)}draw(e,t=!1,r=!1){const i=Qr(ei,DE)._++,s=H(this,Mc,NN).call(this),o=ei._svgFactory.createElement("defs");s.append(o);const a=ei._svgFactory.createElement("path");o.append(a);const l=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke"),t&&f(this,km).set(i,a);const u=r?H(this,Mc,yee).call(this,o,l):null,h=ei._svgFactory.createElement("use");return s.append(h),h.setAttribute("href",`#${l}`),this.updateProperties(s,e),f(this,vs).set(i,s),{id:i,clipPathId:`url(#${u})`}}drawOutline(e,t){const r=Qr(ei,DE)._++,i=H(this,Mc,NN).call(this),s=ei._svgFactory.createElement("defs");i.append(s);const o=ei._svgFactory.createElement("path");s.append(o);const a=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const p=ei._svgFactory.createElement("mask");s.append(p),l=`mask_p${this.pageIndex}_${r}`,p.setAttribute("id",l),p.setAttribute("maskUnits","objectBoundingBox");const m=ei._svgFactory.createElement("rect");p.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const y=ei._svgFactory.createElement("use");p.append(y),y.setAttribute("href",`#${a}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const u=ei._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${a}`),l&&u.setAttribute("mask",`url(#${l})`);const h=u.cloneNode();return i.append(h),u.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(i,e),f(this,vs).set(r,i),r}finalizeDraw(e,t){f(this,km).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:r,bbox:i,rootClass:s,path:o}=t,a=typeof e=="number"?f(this,vs).get(e):e;if(a){if(r&&H(this,Mc,BN).call(this,a,r),i&&H(l=ei,aR,gee).call(l,a,i),s){const{classList:u}=a;for(const[h,p]of Object.entries(s))u.toggle(h,p)}if(o){const h=a.firstChild.firstChild;H(this,Mc,BN).call(this,h,o)}}}updateParent(e,t){if(t===this)return;const r=f(this,vs).get(e);r&&(f(t,hl).append(r),f(this,vs).delete(e),f(t,vs).set(e,r))}remove(e){f(this,km).delete(e),f(this,hl)!==null&&(f(this,vs).get(e).remove(),f(this,vs).delete(e))}destroy(){D(this,hl,null);for(const e of f(this,vs).values())e.remove();f(this,vs).clear(),f(this,km).clear()}};hl=new WeakMap,vs=new WeakMap,km=new WeakMap,DE=new WeakMap,aR=new WeakSet,gee=function(e,[t,r,i,s]){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},Mc=new WeakSet,NN=function(){const e=ei._svgFactory.create(1,1,!0);return f(this,hl).append(e),e.setAttribute("aria-hidden",!0),e},yee=function(e,t){const r=ei._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=ei._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},BN=function(e,t){for(const[r,i]of Object.entries(t))i===null?e.removeAttribute(r):e.setAttribute(r,i)},j(ei,aR),j(ei,DE,0);let FN=ei;globalThis._pdfjsTestingUtils={HighlightOutliner:mN};globalThis.pdfjsLib={AbortException:ff,AnnotationEditorLayer:DN,AnnotationEditorParamsType:Yt,AnnotationEditorType:St,AnnotationEditorUIManager:Xm,AnnotationLayer:dN,AnnotationMode:eh,AnnotationType:Ur,applyOpacity:kke,build:NPe,ColorPicker:Fx,createValidAbsoluteUrl:aQ,CSSConstants:Ike,DOMSVGFactory:Bx,DrawLayer:FN,FeatureTest:Bi,fetchData:w1,findContrastColor:Pke,getDocument:mZ,getFilenameFromUrl:Eke,getPdfFilenameFromUrl:Cke,getRGB:_1,getUuid:uQ,getXfaPageViewport:Ake,GlobalWorkerOptions:fl,ImageKind:iA,InvalidPDFException:fF,isDataScheme:LI,isPdfFile:Uj,isValidExplicitDest:Uke,MathClamp:bs,noContextMenu:ka,normalizeUnicode:bke,OPS:j_,OutputScale:Dc,PasswordResponses:dke,PDFDataRangeTransport:gZ,PDFDateString:kx,PDFWorker:H_,PermissionFlag:uke,PixelsPerInch:pf,RenderingCancelledException:jj,renderRichText:fQ,ResponseException:Ix,setLayerDimensions:Km,shadow:Tt,SignatureExtractor:qu,stopEvent:xr,SupportedImageMimeTypes:mF,TextLayer:V_,TouchManager:Dx,updateUrlHash:lQ,Util:Ge,VerbosityLevel:DI,version:FPe,XfaLayer:hQ};const vee="/assets/pdf.worker.min-Cpi8b8z3.mjs";fl.workerSrc=vee;const aDe=async n=>{const e=`https://pdf-proxy.annamnorm61.workers.dev/?url=${encodeURIComponent(n)}`,t=await mZ({url:e}).promise,r=[];for(let i=1;i<=t.numPages;i++){const s=await lDe(t,i);r.push(structuredClone(s))}return r},lDe=async(n,e)=>{const r=await(await n.getPage(e)).getTextContent(),i=cDe(r.items),s=uDe(i),o=hDe(s);return structuredClone(o)},cDe=n=>n.map(e=>({text:e.str,height:e.height,x:e.transform[4],y:e.transform[5],isBold:e.fontName.endsWith("_f2")})),uDe=n=>{var i;const e=[];let t=[],r=((i=n[0])==null?void 0:i.y)??0;n=[...n].sort((s,o)=>o.y-s.y);for(const s of n){if(Math.abs(s.y-r)>2){if(t.sort((l,u)=>l.x-u.x),t.length){e.push(t);const l=Math.round(Math.abs(s.y-r)/40);for(let u=0;u<l;u++)e.push([{height:1,isBold:!1,text:" ",x:s.x,y:s.y-u*23}])}t=[]}t.push(s),r=s.y}return e.push([...t]),e},dDe=n=>{let e=[];for(const t of n){const r=t.filter(i=>i.text!=="");r.length&&e.push(r)}return e},hDe=n=>{const e=[],t=[],r=[];let i=0;const s=dDe(n),o=(u,h)=>u<h.length,a=u=>!isNaN(+u.text)&&+u.text==1,l=u=>u.text===""||isNaN(+s[i][0].text.charAt(0));for(;o(i,s)&&!a(s[i][0]);)e.push(s[i]),i++;for(;o(i,s)&&!l(s[i][0]);)t.push(s[i]),i++;for(;o(i,s);)r.push(s[i]),i++;return{pre:e,content:t,post:r}},fDe=()=>{const[n,e]=$.useState(),[t,r]=$.useState(!1),i=l8(),s=i.id,o=i.name,{getMeasureById:a}=Ia(),l=a(s);if(!s||!l)return null;const{MeasureDocuments:u}=l,h=u.find(m=>m.VersionDescription===o),p=async()=>{if(h){const m=await aDe(h.DocumentUrl);r(!1),e(m)}};return $.useEffect(()=>{r(!0),p()},[h]),M.jsxs(Ee,{sx:{display:"flex",flexDirection:"column",gap:2},children:[M.jsxs(Ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[M.jsx(lke,{measureId:s,pagesList:[],lastPageTitle:o||""}),(h==null?void 0:h.DocumentUrl)&&M.jsx($$,{url:h==null?void 0:h.DocumentUrl})]}),t?M.jsx(Ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:M.jsx(PR,{})}):M.jsx(cke,{bill:n})]})},AT={container:{display:"flex",flexDirection:"column",gap:"16px",alignItems:"flex-start"},dateAndDaysAgo:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},date:{color:"darkgreen",fontWeight:600},daysAgo:{color:"#a7a7a7"}},$q=({dateString:n})=>{var e=new Date(`${n}T00:00:00.000`);return M.jsx(Ee,{sx:AT.container,children:M.jsxs(Ee,{sx:AT.dateAndDaysAgo,children:[M.jsx(Ee,{sx:AT.date,children:Zbe(e)}),M.jsx(Ee,{sx:AT.daysAgo,children:e_e(e)})]})})},pDe={container:{display:"flex",flexDirection:"column",gap:2}},mDe=({message:n,subtitle:e,sx:t})=>M.jsxs(Ee,{sx:{...pDe.container,...t},children:[M.jsx(Ne,{variant:"h3",children:n}),M.jsx(Ne,{variant:"body2",children:e})]}),Ls={emptyObject:{marginTop:4},pageContainer:{display:"flex",flexDirection:"column",gap:2},header:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"flex-end",gap:{xs:1,sm:"unset"}},buttonGroup:{width:{xs:"100%",sm:"fit-content"},display:"flex"},buttonInGroup:{flexGrow:1},container:{display:"flex",flexDirection:"column"},dateSection:{display:"flex",flexDirection:"column",gap:2},items:{display:"flex",flexDirection:"column",gap:{xs:3,sm:1}},dateSectionContainer:{padding:{xs:2,md:4},display:"flex",flexDirection:"column",gap:2,borderRadius:"8px"},future:{backgroundColor:"#f7f7f7"}},wee=n=>{const[e,t,r]=n.split("-").map(Number);return new Date(e,t-1,r)},gDe=n=>{const e={};return Object.keys(n).filter(r=>{const i=wee(r),s=new Date;s.setHours(0,0,0,0);const o=!!n[r].find(l=>new Date(l.Date)>=new Date),a=!!Object.keys(QR).includes(r);return i>=s&&(o||a)}).forEach(r=>{const[i,s,o]=r.split("-").map(Number),a=new Date;if(i===a.getFullYear()&&s===a.getMonth()+1&&o===a.getDate()){const l=[];n[r].forEach(u=>{const[h,p]=u.Date.split("T"),[m,y,b]=h.split("-").map(Number),[w,_,E]=p.split(":").map(Number),T=new Date(m,y-1,b).setHours(w,_,0,0);new Date(T)>new Date&&l.push(u),l.length&&(e[r]=l)})}else e[r]=n[r]}),e},yDe=n=>{const e={};return Object.keys(n).filter(r=>{const i=wee(r),s=new Date;s.setHours(0,0,0,0);const o=!!n[r].find(a=>new Date(a.Date)<=new Date);return i<=s&&o}).forEach(r=>{const[i,s,o]=r.split("-").map(Number),a=new Date;if(i===a.getFullYear()&&s===a.getMonth()+1&&o===a.getDate()){const l=[];n[r].forEach(u=>{const[h,p]=u.Date.split("T"),[m,y,b]=h.split("-").map(Number),[w,_,E]=p.split(":").map(Number),T=new Date(m,y-1,b).setHours(w,_,0,0);new Date(T)<new Date&&l.push(u),l.length&&(e[r]=l)})}else e[r]=n[r]}),e},JO={container:{width:"100%",boxSizing:"border-box",padding:1,backgroundColor:"#dedede",display:"flex",flexDirection:"row",justifyContent:"center",borderRadius:"8px",alignItems:"center",gap:2},text:{color:"black"}},vDe=({dateKey:n})=>{const e=QR[n];return M.jsxs(Ee,{sx:JO.container,children:[M.jsxs(Ne,{sx:JO.text,children:["Next Legislative Deadline: ",e]}),M.jsx(Ts,{href:Xbe,target:"_blank",children:M.jsx(ZK,{sx:JO.launchIcon,fontSize:"small"})})]})},wDe=()=>{const{unfilteredHistory:n,getFilteredUpdatesSortedByDate:e,getFilteredLatestUpdatesOnlyByDate:t,getFilteredUpdatesLength:r,getFilteredLatestUpdatesLength:i}=ZR(),[s,o]=$.useState("all"),[a,l]=$.useState(void 0),u=$.useMemo(()=>s==="all"?e():t(),[s,n]),h=$.useMemo(()=>s==="all"?r():i(),[s,n]),p=$.useMemo(()=>gDe(u),[u]),m=$.useMemo(()=>yDe(u),[u]),{areUserMeasuresLoading:y}=wa(),b=$.useMemo(()=>Object.keys(p).sort(),[p]);return Object.keys(u).length?M.jsxs(Ee,{sx:Ls.pageContainer,children:[M.jsxs(Ee,{sx:Ls.header,children:[M.jsxs(Wye,{sx:Ls.buttonGroup,value:s,exclusive:!0,onChange:(w,_)=>o(_),"aria-label":"update mode",children:[M.jsx(Qs,{title:"See every update from each measure",children:M.jsx(B5,{sx:Ls.buttonInGroup,value:"all",children:"All Updates"})}),M.jsx(Qs,{title:"See each measures last update only",children:M.jsx(B5,{sx:Ls.buttonInGroup,value:"last",children:"Last Update Only"})})]}),M.jsxs(Ne,{children:[h," items"]})]}),y&&M.jsx(Ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:M.jsx(PR,{})}),!y&&M.jsx(M.Fragment,{children:M.jsxs(Ee,{sx:Ls.container,children:[M.jsxs(Ee,{sx:{...Ls.dateSectionContainer,...Ls.future},children:[M.jsx(Ne,{variant:"h4",children:"Upcoming"}),b.map(w=>M.jsxs(Ee,{sx:Ls.dateSection,children:[M.jsx($q,{dateString:w}),M.jsxs(Ee,{sx:Ls.items,children:[Object.keys(QR).includes(w)&&M.jsx(vDe,{dateKey:w}),p[w].map(_=>M.jsx(KL,{selected:a===_.Key,toggleSelected:()=>l(a===_.Key?void 0:_.Key),updateItem:_,variant:"full"},_.Key))]})]},w))]}),M.jsxs(Ee,{sx:Ls.dateSectionContainer,children:[M.jsx(Ne,{variant:"h4",children:"Past"}),Object.entries(m).map(([w,_])=>M.jsxs(Ee,{sx:Ls.dateSection,children:[M.jsx($q,{dateString:w}),M.jsx(Ee,{sx:Ls.items,children:_.map(E=>M.jsx(KL,{selected:a===E.Key,toggleSelected:()=>l(a===E.Key?void 0:E.Key),updateItem:E,variant:"full"},E.Key))})]},w))]})]})})]}):M.jsx(mDe,{message:"Nothing to see here... yet! ",subtitle:"Start tracking bills to see where they have been.",sx:Ls.emptyObject})},jq=ie.memo(wDe);fl.workerSrc=vee;function bDe(){return M.jsx("div",{style:{padding:20},children:M.jsx("h2",{children:"Oregon Bill Viewer - Three Versions"})})}const _De=({})=>M.jsx(Ee,{children:"Votes!!"}),SDe=()=>{const{currentUser:n}=KE(),[e,t]=$.useState(""),[r,i]=$.useState("");$.useEffect(()=>{n!=null&&n.email&&t(n.email)},[n]);const s=()=>{console.log("submit",{email:e,feedback:r})};return M.jsxs(Ee,{sx:o=>({display:"flex",flexDirection:"column",gap:3,maxWidth:"800px",margin:"0 auto",padding:o.spacing(8,0)}),children:[M.jsx(Ne,{variant:"h2",children:"Share your feedback"}),M.jsxs(Ne,{variant:"body1",sx:{color:"text.secondary"},children:["Your thoughts and suggestions can help this tool improve. Whether you've found a bug, have a feature request, or just want to share your experience, please reach out.",M.jsx("br",{}),M.jsx("br",{}),"This form is the easiest for me to track, but I'm also available to connect at anna.mj.norman@gmail.com"]}),M.jsx(Dm,{label:"Email",type:"email",value:e,onChange:o=>t(o.target.value),required:!0,fullWidth:!0,placeholder:"Add an email here so I can get back to you",slotProps:{inputLabel:{shrink:!0}}}),M.jsx(Dm,{label:"Feedback",multiline:!0,rows:6,value:r,onChange:o=>i(o.target.value),placeholder:"Use this space to share your thoughts",required:!0,fullWidth:!0,slotProps:{inputLabel:{shrink:!0}}}),M.jsx(Wr,{variant:"contained",onClick:s,disabled:!e||!r,sx:{alignSelf:"flex-end"},children:"Submit"})]})};function bee(n,e){return function(){return n.apply(e,arguments)}}const{toString:EDe}=Object.prototype,{getPrototypeOf:Kj}=Object,{iterator:BI,toStringTag:_ee}=Symbol,$I=(n=>e=>{const t=EDe.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Il=n=>(n=n.toLowerCase(),e=>$I(e)===n),jI=n=>e=>typeof e===n,{isArray:ew}=Array,P0=jI("undefined");function T1(n){return n!==null&&!P0(n)&&n.constructor!==null&&!P0(n.constructor)&&eo(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const See=Il("ArrayBuffer");function CDe(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&See(n.buffer),e}const TDe=jI("string"),eo=jI("function"),Eee=jI("number"),A1=n=>n!==null&&typeof n=="object",ADe=n=>n===!0||n===!1,BA=n=>{if($I(n)!=="object")return!1;const e=Kj(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(_ee in n)&&!(BI in n)},xDe=n=>{if(!A1(n)||T1(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},RDe=Il("Date"),IDe=Il("File"),kDe=Il("Blob"),PDe=Il("FileList"),DDe=n=>A1(n)&&eo(n.pipe),MDe=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||eo(n.append)&&((e=$I(n))==="formdata"||e==="object"&&eo(n.toString)&&n.toString()==="[object FormData]"))},ODe=Il("URLSearchParams"),[LDe,FDe,NDe,BDe]=["ReadableStream","Request","Response","Headers"].map(Il),$De=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function x1(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),ew(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{if(T1(n))return;const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function Cee(n,e){if(T1(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const mp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Tee=n=>!P0(n)&&n!==mp;function $N(){const{caseless:n,skipUndefined:e}=Tee(this)&&this||{},t={},r=(i,s)=>{const o=n&&Cee(t,s)||s;BA(t[o])&&BA(i)?t[o]=$N(t[o],i):BA(i)?t[o]=$N({},i):ew(i)?t[o]=i.slice():(!e||!P0(i))&&(t[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&x1(arguments[i],r);return t}const jDe=(n,e,t,{allOwnKeys:r}={})=>(x1(e,(i,s)=>{t&&eo(i)?n[s]=bee(i,t):n[s]=i},{allOwnKeys:r}),n),UDe=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),VDe=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},HDe=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&Kj(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},zDe=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},WDe=n=>{if(!n)return null;if(ew(n))return n;let e=n.length;if(!Eee(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},qDe=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Kj(Uint8Array)),GDe=(n,e)=>{const r=(n&&n[BI]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},YDe=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},KDe=Il("HTMLFormElement"),XDe=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),Uq=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),JDe=Il("RegExp"),Aee=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};x1(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},QDe=n=>{Aee(n,(e,t)=>{if(eo(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(eo(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},ZDe=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return ew(n)?r(n):r(String(n).split(e)),t},eMe=()=>{},tMe=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function nMe(n){return!!(n&&eo(n.append)&&n[_ee]==="FormData"&&n[BI])}const rMe=n=>{const e=new Array(10),t=(r,i)=>{if(A1(r)){if(e.indexOf(r)>=0)return;if(T1(r))return r;if(!("toJSON"in r)){e[i]=r;const s=ew(r)?[]:{};return x1(r,(o,a)=>{const l=t(o,i+1);!P0(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return t(n,0)},iMe=Il("AsyncFunction"),sMe=n=>n&&(A1(n)||eo(n))&&eo(n.then)&&eo(n.catch),xee=((n,e)=>n?setImmediate:e?((t,r)=>(mp.addEventListener("message",({source:i,data:s})=>{i===mp&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),mp.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",eo(mp.postMessage)),oMe=typeof queueMicrotask<"u"?queueMicrotask.bind(mp):typeof process<"u"&&process.nextTick||xee,aMe=n=>n!=null&&eo(n[BI]),fe={isArray:ew,isArrayBuffer:See,isBuffer:T1,isFormData:MDe,isArrayBufferView:CDe,isString:TDe,isNumber:Eee,isBoolean:ADe,isObject:A1,isPlainObject:BA,isEmptyObject:xDe,isReadableStream:LDe,isRequest:FDe,isResponse:NDe,isHeaders:BDe,isUndefined:P0,isDate:RDe,isFile:IDe,isBlob:kDe,isRegExp:JDe,isFunction:eo,isStream:DDe,isURLSearchParams:ODe,isTypedArray:qDe,isFileList:PDe,forEach:x1,merge:$N,extend:jDe,trim:$De,stripBOM:UDe,inherits:VDe,toFlatObject:HDe,kindOf:$I,kindOfTest:Il,endsWith:zDe,toArray:WDe,forEachEntry:GDe,matchAll:YDe,isHTMLForm:KDe,hasOwnProperty:Uq,hasOwnProp:Uq,reduceDescriptors:Aee,freezeMethods:QDe,toObjectSet:ZDe,toCamelCase:XDe,noop:eMe,toFiniteNumber:tMe,findKey:Cee,global:mp,isContextDefined:Tee,isSpecCompliantForm:nMe,toJSONObject:rMe,isAsyncFn:iMe,isThenable:sMe,setImmediate:xee,asap:oMe,isIterable:aMe};function Ct(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}fe.inherits(Ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.status}}});const Ree=Ct.prototype,Iee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Iee[n]={value:n}});Object.defineProperties(Ct,Iee);Object.defineProperty(Ree,"isAxiosError",{value:!0});Ct.from=(n,e,t,r,i,s)=>{const o=Object.create(Ree);fe.toFlatObject(n,o,function(h){return h!==Error.prototype},u=>u!=="isAxiosError");const a=n&&n.message?n.message:"Error",l=e==null&&n?n.code:e;return Ct.call(o,a,l,t,r,i),n&&o.cause==null&&Object.defineProperty(o,"cause",{value:n,configurable:!0}),o.name=n&&n.name||"Error",s&&Object.assign(o,s),o};const lMe=null;function jN(n){return fe.isPlainObject(n)||fe.isArray(n)}function kee(n){return fe.endsWith(n,"[]")?n.slice(0,-2):n}function Vq(n,e,t){return n?n.concat(e).map(function(i,s){return i=kee(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function cMe(n){return fe.isArray(n)&&!n.some(jN)}const uMe=fe.toFlatObject(fe,{},null,function(e){return/^is[A-Z]/.test(e)});function UI(n,e,t){if(!fe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=fe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,_){return!fe.isUndefined(_[w])});const r=t.metaTokens,i=t.visitor||h,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&fe.isSpecCompliantForm(e);if(!fe.isFunction(i))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(fe.isDate(b))return b.toISOString();if(fe.isBoolean(b))return b.toString();if(!l&&fe.isBlob(b))throw new Ct("Blob is not supported. Use a Buffer instead.");return fe.isArrayBuffer(b)||fe.isTypedArray(b)?l&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,w,_){let E=b;if(b&&!_&&typeof b=="object"){if(fe.endsWith(w,"{}"))w=r?w:w.slice(0,-2),b=JSON.stringify(b);else if(fe.isArray(b)&&cMe(b)||(fe.isFileList(b)||fe.endsWith(w,"[]"))&&(E=fe.toArray(b)))return w=kee(w),E.forEach(function(C,x){!(fe.isUndefined(C)||C===null)&&e.append(o===!0?Vq([w],x,s):o===null?w:w+"[]",u(C))}),!1}return jN(b)?!0:(e.append(Vq(_,w,s),u(b)),!1)}const p=[],m=Object.assign(uMe,{defaultVisitor:h,convertValue:u,isVisitable:jN});function y(b,w){if(!fe.isUndefined(b)){if(p.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));p.push(b),fe.forEach(b,function(E,T){(!(fe.isUndefined(E)||E===null)&&i.call(e,E,fe.isString(T)?T.trim():T,w,m))===!0&&y(E,w?w.concat(T):[T])}),p.pop()}}if(!fe.isObject(n))throw new TypeError("data must be an object");return y(n),e}function Hq(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Xj(n,e){this._pairs=[],n&&UI(n,this,e)}const Pee=Xj.prototype;Pee.append=function(e,t){this._pairs.push([e,t])};Pee.toString=function(e){const t=e?function(r){return e.call(this,r,Hq)}:Hq;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function dMe(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Dee(n,e,t){if(!e)return n;const r=t&&t.encode||dMe;fe.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=fe.isURLSearchParams(e)?e.toString():new Xj(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class zq{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){fe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Mee={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hMe=typeof URLSearchParams<"u"?URLSearchParams:Xj,fMe=typeof FormData<"u"?FormData:null,pMe=typeof Blob<"u"?Blob:null,mMe={isBrowser:!0,classes:{URLSearchParams:hMe,FormData:fMe,Blob:pMe},protocols:["http","https","file","blob","url","data"]},Jj=typeof window<"u"&&typeof document<"u",UN=typeof navigator=="object"&&navigator||void 0,gMe=Jj&&(!UN||["ReactNative","NativeScript","NS"].indexOf(UN.product)<0),yMe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vMe=Jj&&window.location.href||"http://localhost",wMe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jj,hasStandardBrowserEnv:gMe,hasStandardBrowserWebWorkerEnv:yMe,navigator:UN,origin:vMe},Symbol.toStringTag,{value:"Module"})),rs={...wMe,...mMe};function bMe(n,e){return UI(n,new rs.classes.URLSearchParams,{visitor:function(t,r,i,s){return rs.isNode&&fe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function _Me(n){return fe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function SMe(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function Oee(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&fe.isArray(i)?i.length:o,l?(fe.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!fe.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&fe.isArray(i[o])&&(i[o]=SMe(i[o])),!a)}if(fe.isFormData(n)&&fe.isFunction(n.entries)){const t={};return fe.forEachEntry(n,(r,i)=>{e(_Me(r),i,t,0)}),t}return null}function EMe(n,e,t){if(fe.isString(n))try{return(e||JSON.parse)(n),fe.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const R1={transitional:Mee,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=fe.isObject(e);if(s&&fe.isHTMLForm(e)&&(e=new FormData(e)),fe.isFormData(e))return i?JSON.stringify(Oee(e)):e;if(fe.isArrayBuffer(e)||fe.isBuffer(e)||fe.isStream(e)||fe.isFile(e)||fe.isBlob(e)||fe.isReadableStream(e))return e;if(fe.isArrayBufferView(e))return e.buffer;if(fe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return bMe(e,this.formSerializer).toString();if((a=fe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return UI(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),EMe(e)):e}],transformResponse:[function(e){const t=this.transitional||R1.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(fe.isResponse(e)||fe.isReadableStream(e))return e;if(e&&fe.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?Ct.from(a,Ct.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rs.classes.FormData,Blob:rs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fe.forEach(["delete","get","head","post","put","patch"],n=>{R1.headers[n]={}});const CMe=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TMe=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&CMe[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Wq=Symbol("internals");function sb(n){return n&&String(n).trim().toLowerCase()}function $A(n){return n===!1||n==null?n:fe.isArray(n)?n.map($A):String(n)}function AMe(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const xMe=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function QO(n,e,t,r,i){if(fe.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!fe.isString(e)){if(fe.isString(r))return e.indexOf(r)!==-1;if(fe.isRegExp(r))return r.test(e)}}function RMe(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function IMe(n,e){const t=fe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let to=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,l,u){const h=sb(l);if(!h)throw new Error("header name must be a non-empty string");const p=fe.findKey(i,h);(!p||i[p]===void 0||u===!0||u===void 0&&i[p]!==!1)&&(i[p||l]=$A(a))}const o=(a,l)=>fe.forEach(a,(u,h)=>s(u,h,l));if(fe.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(fe.isString(e)&&(e=e.trim())&&!xMe(e))o(TMe(e),t);else if(fe.isObject(e)&&fe.isIterable(e)){let a={},l,u;for(const h of e){if(!fe.isArray(h))throw TypeError("Object iterator must return a key-value pair");a[u=h[0]]=(l=a[u])?fe.isArray(l)?[...l,h[1]]:[l,h[1]]:h[1]}o(a,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=sb(e),e){const r=fe.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return AMe(i);if(fe.isFunction(t))return t.call(this,i,r);if(fe.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=sb(e),e){const r=fe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||QO(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=sb(o),o){const a=fe.findKey(r,o);a&&(!t||QO(r,r[a],a,t))&&(delete r[a],i=!0)}}return fe.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||QO(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return fe.forEach(this,(i,s)=>{const o=fe.findKey(r,s);if(o){t[o]=$A(i),delete t[s];return}const a=e?RMe(s):String(s).trim();a!==s&&delete t[s],t[a]=$A(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return fe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&fe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Wq]=this[Wq]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=sb(o);r[a]||(IMe(i,o),r[a]=!0)}return fe.isArray(e)?e.forEach(s):s(e),this}};to.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fe.reduceDescriptors(to.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});fe.freezeMethods(to);function ZO(n,e){const t=this||R1,r=e||t,i=to.from(r.headers);let s=r.data;return fe.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Lee(n){return!!(n&&n.__CANCEL__)}function tw(n,e,t){Ct.call(this,n??"canceled",Ct.ERR_CANCELED,e,t),this.name="CanceledError"}fe.inherits(tw,Ct,{__CANCEL__:!0});function Fee(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ct("Request failed with status code "+t.status,[Ct.ERR_BAD_REQUEST,Ct.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function kMe(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function PMe(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),h=r[s];o||(o=u),t[i]=l,r[i]=u;let p=s,m=0;for(;p!==i;)m+=t[p++],p=p%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),u-o<e)return;const y=h&&u-h;return y?Math.round(m*1e3/y):void 0}}function DMe(n,e){let t=0,r=1e3/e,i,s;const o=(u,h=Date.now())=>{t=h,i=null,s&&(clearTimeout(s),s=null),n(...u)};return[(...u)=>{const h=Date.now(),p=h-t;p>=r?o(u,h):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-p)))},()=>i&&o(i)]}const Vx=(n,e,t=3)=>{let r=0;const i=PMe(50,250);return DMe(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),h=o<=a;r=o;const p={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&h?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(p)},t)},qq=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},Gq=n=>(...e)=>fe.asap(()=>n(...e)),MMe=rs.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,rs.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(rs.origin),rs.navigator&&/(msie|trident)/i.test(rs.navigator.userAgent)):()=>!0,OMe=rs.hasStandardBrowserEnv?{write(n,e,t,r,i,s,o){if(typeof document>"u")return;const a=[`${n}=${encodeURIComponent(e)}`];fe.isNumber(t)&&a.push(`expires=${new Date(t).toUTCString()}`),fe.isString(r)&&a.push(`path=${r}`),fe.isString(i)&&a.push(`domain=${i}`),s===!0&&a.push("secure"),fe.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function LMe(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function FMe(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Nee(n,e,t){let r=!LMe(e);return n&&(r||t==!1)?FMe(n,e):e}const Yq=n=>n instanceof to?{...n}:n;function Qm(n,e){e=e||{};const t={};function r(u,h,p,m){return fe.isPlainObject(u)&&fe.isPlainObject(h)?fe.merge.call({caseless:m},u,h):fe.isPlainObject(h)?fe.merge({},h):fe.isArray(h)?h.slice():h}function i(u,h,p,m){if(fe.isUndefined(h)){if(!fe.isUndefined(u))return r(void 0,u,p,m)}else return r(u,h,p,m)}function s(u,h){if(!fe.isUndefined(h))return r(void 0,h)}function o(u,h){if(fe.isUndefined(h)){if(!fe.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function a(u,h,p){if(p in e)return r(u,h);if(p in n)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,h,p)=>i(Yq(u),Yq(h),p,!0)};return fe.forEach(Object.keys({...n,...e}),function(h){const p=l[h]||i,m=p(n[h],e[h],h);fe.isUndefined(m)&&p!==a||(t[h]=m)}),t}const Bee=n=>{const e=Qm({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=to.from(o),e.url=Dee(Nee(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),fe.isFormData(t)){if(rs.hasStandardBrowserEnv||rs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(fe.isFunction(t.getHeaders)){const l=t.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([h,p])=>{u.includes(h.toLowerCase())&&o.set(h,p)})}}if(rs.hasStandardBrowserEnv&&(r&&fe.isFunction(r)&&(r=r(e)),r||r!==!1&&MMe(e.url))){const l=i&&s&&OMe.read(s);l&&o.set(i,l)}return e},NMe=typeof XMLHttpRequest<"u",BMe=NMe&&function(n){return new Promise(function(t,r){const i=Bee(n);let s=i.data;const o=to.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,h,p,m,y,b;function w(){y&&y(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function E(){if(!_)return;const C=to.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),I={data:!a||a==="text"||a==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:C,config:n,request:_};Fee(function(k){t(k),w()},function(k){r(k),w()},I),_=null}"onloadend"in _?_.onloadend=E:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(E)},_.onabort=function(){_&&(r(new Ct("Request aborted",Ct.ECONNABORTED,n,_)),_=null)},_.onerror=function(x){const I=x&&x.message?x.message:"Network Error",F=new Ct(I,Ct.ERR_NETWORK,n,_);F.event=x||null,r(F),_=null},_.ontimeout=function(){let x=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const I=i.transitional||Mee;i.timeoutErrorMessage&&(x=i.timeoutErrorMessage),r(new Ct(x,I.clarifyTimeoutError?Ct.ETIMEDOUT:Ct.ECONNABORTED,n,_)),_=null},s===void 0&&o.setContentType(null),"setRequestHeader"in _&&fe.forEach(o.toJSON(),function(x,I){_.setRequestHeader(I,x)}),fe.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),a&&a!=="json"&&(_.responseType=i.responseType),u&&([m,b]=Vx(u,!0),_.addEventListener("progress",m)),l&&_.upload&&([p,y]=Vx(l),_.upload.addEventListener("progress",p),_.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(h=C=>{_&&(r(!C||C.type?new tw(null,n,_):C),_.abort(),_=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const T=kMe(i.url);if(T&&rs.protocols.indexOf(T)===-1){r(new Ct("Unsupported protocol "+T+":",Ct.ERR_BAD_REQUEST,n));return}_.send(s||null)})},$Me=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const h=u instanceof Error?u:this.reason;r.abort(h instanceof Ct?h:new tw(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,s(new Ct(`timeout ${e} of ms exceeded`,Ct.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),n=null)};n.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>fe.asap(a),l}},jMe=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},UMe=async function*(n,e){for await(const t of VMe(n))yield*jMe(t,e)},VMe=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},Kq=(n,e,t,r)=>{const i=UMe(n,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:h}=await i.next();if(u){a(),l.close();return}let p=h.byteLength;if(t){let m=s+=p;t(m)}l.enqueue(new Uint8Array(h))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Xq=64*1024,{isFunction:xT}=fe,HMe=(({Request:n,Response:e})=>({Request:n,Response:e}))(fe.global),{ReadableStream:Jq,TextEncoder:Qq}=fe.global,Zq=(n,...e)=>{try{return!!n(...e)}catch{return!1}},zMe=n=>{n=fe.merge.call({skipUndefined:!0},HMe,n);const{fetch:e,Request:t,Response:r}=n,i=e?xT(e):typeof fetch=="function",s=xT(t),o=xT(r);if(!i)return!1;const a=i&&xT(Jq),l=i&&(typeof Qq=="function"?(b=>w=>b.encode(w))(new Qq):async b=>new Uint8Array(await new t(b).arrayBuffer())),u=s&&a&&Zq(()=>{let b=!1;const w=new t(rs.origin,{body:new Jq,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!w}),h=o&&a&&Zq(()=>fe.isReadableStream(new r("").body)),p={stream:h&&(b=>b.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!p[b]&&(p[b]=(w,_)=>{let E=w&&w[b];if(E)return E.call(w);throw new Ct(`Response type '${b}' is not supported`,Ct.ERR_NOT_SUPPORT,_)})});const m=async b=>{if(b==null)return 0;if(fe.isBlob(b))return b.size;if(fe.isSpecCompliantForm(b))return(await new t(rs.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(fe.isArrayBufferView(b)||fe.isArrayBuffer(b))return b.byteLength;if(fe.isURLSearchParams(b)&&(b=b+""),fe.isString(b))return(await l(b)).byteLength},y=async(b,w)=>{const _=fe.toFiniteNumber(b.getContentLength());return _??m(w)};return async b=>{let{url:w,method:_,data:E,signal:T,cancelToken:C,timeout:x,onDownloadProgress:I,onUploadProgress:F,responseType:k,headers:L,withCredentials:N="same-origin",fetchOptions:A}=Bee(b),B=e||fetch;k=k?(k+"").toLowerCase():"text";let z=$Me([T,C&&C.toAbortSignal()],x),U=null;const Q=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let te;try{if(F&&u&&_!=="get"&&_!=="head"&&(te=await y(L,E))!==0){let q=new t(w,{method:"POST",body:E,duplex:"half"}),Y;if(fe.isFormData(E)&&(Y=q.headers.get("content-type"))&&L.setContentType(Y),q.body){const[Z,le]=qq(te,Vx(Gq(F)));E=Kq(q.body,Xq,Z,le)}}fe.isString(N)||(N=N?"include":"omit");const X=s&&"credentials"in t.prototype,ne={...A,signal:z,method:_.toUpperCase(),headers:L.normalize().toJSON(),body:E,duplex:"half",credentials:X?N:void 0};U=s&&new t(w,ne);let J=await(s?B(U,A):B(w,ne));const se=h&&(k==="stream"||k==="response");if(h&&(I||se&&Q)){const q={};["status","statusText","headers"].forEach(ce=>{q[ce]=J[ce]});const Y=fe.toFiniteNumber(J.headers.get("content-length")),[Z,le]=I&&qq(Y,Vx(Gq(I),!0))||[];J=new r(Kq(J.body,Xq,Z,()=>{le&&le(),Q&&Q()}),q)}k=k||"text";let de=await p[fe.findKey(p,k)||"text"](J,b);return!se&&Q&&Q(),await new Promise((q,Y)=>{Fee(q,Y,{data:de,headers:to.from(J.headers),status:J.status,statusText:J.statusText,config:b,request:U})})}catch(X){throw Q&&Q(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new Ct("Network Error",Ct.ERR_NETWORK,b,U),{cause:X.cause||X}):Ct.from(X,X&&X.code,b,U)}}},WMe=new Map,$ee=n=>{let e=n&&n.env||{};const{fetch:t,Request:r,Response:i}=e,s=[r,i,t];let o=s.length,a=o,l,u,h=WMe;for(;a--;)l=s[a],u=h.get(l),u===void 0&&h.set(l,u=a?new Map:zMe(e)),h=u;return u};$ee();const Qj={http:lMe,xhr:BMe,fetch:{get:$ee}};fe.forEach(Qj,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const eG=n=>`- ${n}`,qMe=n=>fe.isFunction(n)||n===null||n===!1;function GMe(n,e){n=fe.isArray(n)?n:[n];const{length:t}=n;let r,i;const s={};for(let o=0;o<t;o++){r=n[o];let a;if(i=r,!qMe(r)&&(i=Qj[(a=String(r)).toLowerCase()],i===void 0))throw new Ct(`Unknown adapter '${a}'`);if(i&&(fe.isFunction(i)||(i=i.get(e))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=t?o.length>1?`since :
`+o.map(eG).join(`
`):" "+eG(o[0]):"as no adapter specified";throw new Ct("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const jee={getAdapter:GMe,adapters:Qj};function eL(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new tw(null,n)}function tG(n){return eL(n),n.headers=to.from(n.headers),n.data=ZO.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),jee.getAdapter(n.adapter||R1.adapter,n)(n).then(function(r){return eL(n),r.data=ZO.call(n,n.transformResponse,r),r.headers=to.from(r.headers),r},function(r){return Lee(r)||(eL(n),r&&r.response&&(r.response.data=ZO.call(n,n.transformResponse,r.response),r.response.headers=to.from(r.response.headers))),Promise.reject(r)})}const Uee="1.13.2",VI={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{VI[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const nG={};VI.transitional=function(e,t,r){function i(s,o){return"[Axios v"+Uee+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Ct(i(o," has been removed"+(t?" in "+t:"")),Ct.ERR_DEPRECATED);return t&&!nG[o]&&(nG[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};VI.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function YMe(n,e,t){if(typeof n!="object")throw new Ct("options must be an object",Ct.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new Ct("option "+s+" must be "+l,Ct.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ct("Unknown option "+s,Ct.ERR_BAD_OPTION)}}const jA={assertOptions:YMe,validators:VI},zl=jA.validators;let Lm=class{constructor(e){this.defaults=e||{},this.interceptors={request:new zq,response:new zq}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Qm(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&jA.assertOptions(r,{silentJSONParsing:zl.transitional(zl.boolean),forcedJSONParsing:zl.transitional(zl.boolean),clarifyTimeoutError:zl.transitional(zl.boolean)},!1),i!=null&&(fe.isFunction(i)?t.paramsSerializer={serialize:i}:jA.assertOptions(i,{encode:zl.function,serialize:zl.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),jA.assertOptions(t,{baseUrl:zl.spelling("baseURL"),withXsrfToken:zl.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&fe.merge(s.common,s[t.method]);s&&fe.forEach(["delete","get","head","post","put","patch","common"],b=>{delete s[b]}),t.headers=to.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(t)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let h,p=0,m;if(!l){const b=[tG.bind(this),void 0];for(b.unshift(...a),b.push(...u),m=b.length,h=Promise.resolve(t);p<m;)h=h.then(b[p++],b[p++]);return h}m=a.length;let y=t;for(;p<m;){const b=a[p++],w=a[p++];try{y=b(y)}catch(_){w.call(this,_);break}}try{h=tG.call(this,y)}catch(b){return Promise.reject(b)}for(p=0,m=u.length;p<m;)h=h.then(u[p++],u[p++]);return h}getUri(e){e=Qm(this.defaults,e);const t=Nee(e.baseURL,e.url,e.allowAbsoluteUrls);return Dee(t,e.params,e.paramsSerializer)}};fe.forEach(["delete","get","head","options"],function(e){Lm.prototype[e]=function(t,r){return this.request(Qm(r||{},{method:e,url:t,data:(r||{}).data}))}});fe.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(Qm(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Lm.prototype[e]=t(),Lm.prototype[e+"Form"]=t(!0)});let KMe=class Vee{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new tw(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Vee(function(i){e=i}),cancel:e}}};function XMe(n){return function(t){return n.apply(null,t)}}function JMe(n){return fe.isObject(n)&&n.isAxiosError===!0}const VN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(VN).forEach(([n,e])=>{VN[e]=n});function Hee(n){const e=new Lm(n),t=bee(Lm.prototype.request,e);return fe.extend(t,Lm.prototype,e,{allOwnKeys:!0}),fe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return Hee(Qm(n,i))},t}const cr=Hee(R1);cr.Axios=Lm;cr.CanceledError=tw;cr.CancelToken=KMe;cr.isCancel=Lee;cr.VERSION=Uee;cr.toFormData=UI;cr.AxiosError=Ct;cr.Cancel=cr.CanceledError;cr.all=function(e){return Promise.all(e)};cr.spread=XMe;cr.isAxiosError=JMe;cr.mergeConfig=Qm;cr.AxiosHeaders=to;cr.formToJSON=n=>Oee(fe.isHTMLForm(n)?new FormData(n):n);cr.getAdapter=jee.getAdapter;cr.HttpStatusCode=VN;cr.default=cr;const{Axios:E2e,AxiosError:C2e,CanceledError:T2e,isCancel:A2e,CancelToken:x2e,VERSION:R2e,all:I2e,Cancel:k2e,isAxiosError:P2e,spread:D2e,toFormData:M2e,AxiosHeaders:O2e,HttpStatusCode:L2e,formToJSON:F2e,getAdapter:N2e,mergeConfig:B2e}=cr,HI="https://api.oregonlegislature.gov/odata/odataservice.svc/",QMe=async n=>{var t,r;const e=yY(n);try{const i=await cr.get(`${HI}/Measures?$filter=${e}&$expand=CommitteeMeetingDocuments,MeasureDocuments,MeasureHistoryActions,MeasureSponsors`);return(r=(t=i==null?void 0:i.data)==null?void 0:t.value)!=null&&r.length||console.log("no bill"),i.data}catch(i){if(console.log("Error fetching measures:",i.status,i.status===400),i.status===400)console.log("no bill");else throw i}},ZMe=async n=>{const e=yY(n);try{return(await cr.get(`${HI}/CommitteeAgendaItems?$filter=${e}&$expand=CommitteeMeeting`)).data}catch(t){throw console.error("Error fetching agenda items:",t),t}},e2e=async()=>{const n=vY();try{return(await cr.get(`${HI}/Committees?$filter=${n}`)).data}catch(e){throw console.error("Error fetching committees:",e),e}},t2e=async()=>{const n=vY();try{return(await cr.get(`${HI}/Legislators?$filter=${n}`)).data}catch(e){throw console.error("Error fetching Legislators:",e),e}},n2e=()=>{const{userTrackedMeasures:n}=wa(),[e,t]=$.useState(r2e()),[r,i]=$.useState(!1),[s,o]=$.useState(i2e()),[a,l]=$.useState(!1),[u,h]=$.useState(s2e()),[p,m]=$.useState(!1),y=$.useMemo(()=>n&&n.map(_=>Jn(_)),[n]);let b=s?rG(s):!0,w=u?iG(u):!0;return $.useEffect(()=>{if(!y)return;const{refreshList:_,removeList:E}=o2e(e,y);b=s?rG(s):!0,w=u?iG(u):!0,i(!0),_.forEach(T=>{QMe(T).then(C=>{t(x=>({...x,[T]:{...x[T],MeasureData:C,lastUpdate:new Date().toISOString()}}))})}),_.forEach(T=>{ZMe(T).then(C=>{t(x=>({...x,[T]:{...x[T],CommitteeAgendaItems:C,lastUpdate:new Date().toISOString()}}))})}),i(!1),t(T=>Object.fromEntries(Object.entries(T).filter(([x])=>!E.includes(x))))},[y]),$.useEffect(()=>{l(!0),e2e().then(_=>{o({..._,lastUpdate:new Date().toISOString()}),l(!1)})},[b]),$.useEffect(()=>{m(!0),t2e().then(_=>{h({..._,lastUpdate:new Date().toISOString()}),m(!1)})},[w]),$.useEffect(()=>{localStorage.setItem("Measures",JSON.stringify(e))},[e]),$.useEffect(()=>{localStorage.setItem("Committees",JSON.stringify(s))},[s]),$.useEffect(()=>{localStorage.setItem("Legislators",JSON.stringify(u))},[u]),{measuresCacheObject:e,isMeasureCacheObjectLoading:r,committeesCacheObject:s,isCommitteesCacheObjectLoading:a,legislatorsCacheObject:u,isLegislatorsCacheObjectLoading:p}},r2e=()=>{const n=localStorage.getItem("Measures");return n?JSON.parse(n):{}},i2e=()=>{const n=localStorage.getItem("Committees");return n?JSON.parse(n):null},s2e=()=>{const n=localStorage.getItem("Legislators");return n?JSON.parse(n):null},o2e=(n,e)=>{const t=[],r=[],i=Object.keys(n);return e.forEach(s=>{(!i.includes(s)||n_e(n[s].lastUpdate))&&t.push(s)}),i.forEach(s=>{e.includes(s)||r.push(s)}),{refreshList:t,removeList:r}},rG=n=>n?XK(n.lastUpdate):!0,iG=n=>n?XK(n.lastUpdate):!0,a2e=()=>{const{currentUser:n}=KE(),{setUserTrackedMeasures:e,setAreUserMeasuresLoading:t}=wa();$.useEffect(()=>{console.log("currentUser",n),n&&(t(!0),Rbe(n).then(r=>{e(r),t(!1)}).catch(r=>{console.error("Error fetching user measures:",r),t(!1)}))},[n])},l2e=n=>{const{setUnfilteredCommittees:e}=F$(),t=$.useMemo(()=>n?n.value:[],[n]);$.useEffect(()=>{e(t)},[t])},c2e=n=>{const{setUnfilteredLegislators:e}=B$(),t=$.useMemo(()=>n?n.value:[],[n]);$.useEffect(()=>{e(t)},[t])},u2e=n=>{const{setUnfilteredMeasures:e}=Ia(),{setUnfilteredHistory:t}=ZR(),{setUnfilteredCommitteeAgenda:r}=r1(),i=$.useMemo(()=>Object.entries(n).map(([a,l])=>l.MeasureData).filter(a=>a!==void 0),[n]),s=$.useMemo(()=>Object.entries(n).flatMap(([a,l])=>{var u,h,p;return((p=(h=(u=l.MeasureData)==null?void 0:u.value)==null?void 0:h[0])==null?void 0:p.MeasureHistoryActions)||[]}),[n]),o=$.useMemo(()=>Object.entries(n).flatMap(([a,l])=>{var u;return((u=l.CommitteeAgendaItems)==null?void 0:u.value)||[]}),[n]);$.useEffect(()=>{e(i)},[i]),$.useEffect(()=>{t(s)},[s]),$.useEffect(()=>{r(o)},[o])},d2e=()=>{a2e();const{measuresCacheObject:n,committeesCacheObject:e,legislatorsCacheObject:t}=n2e();u2e(n),l2e(e),c2e(t)},ob="#3E753B",ab="#000",h2e="#585858",sG="#757575",f2e="#fff",p2e="2px 2px 4px 0px rgba(127, 127, 132, 0.2)",m2e="#EFFAEF",g2e=bR({palette:{primary:{light:m2e,main:"#D4ECD4",dark:ob},grey:{}},typography:{fontFamily:"'Inter', sans-serif",h1:{fontSize:"1.5rem",fontWeight:700,color:ab},h2:{fontSize:"1.25rem",fontWeight:700,color:ab},h3:{fontSize:"1.25rem",fontWeight:700,color:ob},h4:{fontSize:"1.25rem",fontWeight:600,color:ab},h5:{fontSize:"1rem",fontWeight:700,color:ab},h6:{fontSize:"1rem",fontWeight:600,color:ob},body1:{fontSize:"1rem",fontWeight:400,color:ab},body2:{fontSize:"1rem",fontWeight:400,color:h2e},subtitle1:{fontSize:"1rem",fontWeight:400,color:ob},subtitle2:{fontSize:"1rem",fontWeight:400,color:sG},button:{fontSize:"1rem",fontWeight:600,color:ob},overline:{fontSize:"1rem",fontWeight:600,color:f2e,lineHeight:1.75},caption:{fontSize:"0.75rem",fontWeight:400,color:sG}},components:{MuiButton:{variants:[{props:{variant:"filled"},style:{backgroundColor:"#3E753B",color:"#fff",borderRadius:"40px",height:"44px",padding:"0px 24px",textTransform:"none","&:hover":{backgroundColor:"#5B8D59"},"&:disabled":{backgroundColor:"#D4DFD4",color:"#9EB09E"}}}],styleOverrides:{root:{borderRadius:"4px",textTransform:"none"},outlined:{borderRadius:"8px",border:"2px solid #ccc",color:"#000",fontWeight:600,display:"flex",flexDirection:"row",gap:"8px",boxShadow:p2e,"&:hover":{backgroundColor:"#f7f7f7",boxShadow:"none"}},text:{color:"#3E753B",padding:0}}},MuiTextField:{defaultProps:{variant:"outlined"},styleOverrides:{root:{"& .MuiOutlinedInput-root":{color:"#000",backgroundColor:"#EFEFEF",borderRadius:8,"&:hover":{backgroundColor:"#e8e8e8",borderColor:"transparent"},"& .MuiInputBase-input":{padding:"12px 16px"},"& fieldset":{borderColor:"transparent"},"&:hover fieldset":{borderColor:"transparent"},"&.Mui-focused fieldset":{borderColor:"#BABABA"}}}}},MuiPopover:{styleOverrides:{paper:{borderRadius:"8px"}}},MuiTooltip:{defaultProps:{arrow:!0,enterDelay:250,enterNextDelay:250,slotProps:{tooltip:{sx:{fontSize:"1rem",backgroundColor:"#333"}},arrow:{sx:{color:"#333"}}}}}}});function y2e(){const n=sessionStorage.getItem("gh-path");return n&&(sessionStorage.removeItem("gh-path"),n!==window.location.pathname+window.location.search+window.location.hash&&history.replaceState(null,"",n)),d2e(),M.jsxs(Dse,{theme:g2e,children:[M.jsx(x_e,{}),M.jsx("div",{className:"app-container",children:M.jsx(Yoe,{children:M.jsxs(Toe,{children:[M.jsx(Qa,{path:"/",element:M.jsx(Ul,{children:M.jsx(jq,{})})}),M.jsx(Qa,{path:"/bill/:id/document/:name",element:M.jsx(Ul,{children:M.jsx(fDe,{})})}),M.jsx(Qa,{path:"/bill/:id",element:M.jsx(Ul,{children:M.jsx(eX,{})})}),M.jsx(Qa,{path:"/parser",element:M.jsx(Ul,{children:M.jsx(bDe,{})})}),M.jsx(Qa,{path:"/calendar",element:M.jsx(Ul,{children:M.jsx(oke,{})})}),M.jsx(Qa,{path:"/updates",element:M.jsx(Ul,{children:M.jsx(jq,{})})}),M.jsx(Qa,{path:"/location",element:M.jsx(Ul,{shouldLayoutChildren:!1,children:M.jsx(M_e,{sidebarIsOpen:!0})})}),M.jsx(Qa,{path:"/votes/:id",element:M.jsx(Ul,{children:M.jsx(_De,{})})}),M.jsx(Qa,{path:"/feedback",element:M.jsx(Ul,{showSidebar:!1,showTabs:!1,children:M.jsx(SDe,{})})}),M.jsx(Qa,{path:"*",element:M.jsx(Ul,{children:M.jsx(Ee,{children:"We can't find this page"})})})]})})})]})}rne.createRoot(document.getElementById("root")).render(M.jsx($.StrictMode,{children:M.jsx(y2e,{})}));
