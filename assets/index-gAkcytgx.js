var Lne=Object.defineProperty;var HV=n=>{throw TypeError(n)};var Nne=(n,e,t)=>e in n?Lne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ee=(n,e,t)=>Nne(n,typeof e!="symbol"?e+"":e,t),jP=(n,e,t)=>e.has(n)||HV("Cannot "+t);var f=(n,e,t)=>(jP(n,e,"read from private field"),t?t.call(n):e.get(n)),U=(n,e,t)=>e.has(n)?HV("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),O=(n,e,t,r)=>(jP(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),H=(n,e,t)=>(jP(n,e,"access private method"),t);var es=(n,e,t,r)=>({set _(s){O(n,e,s,t)},get _(){return f(n,e,r)}});function Fne(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var aT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ho(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var UP={exports:{}},tb={},VP={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zV;function Bne(){if(zV)return Ft;zV=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function m(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,v={};function _(q,K,ne){this.props=q,this.context=K,this.refs=v,this.updater=ne||y}_.prototype.isReactComponent={},_.prototype.setState=function(q,K){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,K,"setState")},_.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function E(){}E.prototype=_.prototype;function x(q,K,ne){this.props=q,this.context=K,this.refs=v,this.updater=ne||y}var C=x.prototype=new E;C.constructor=x,b(C,_.prototype),C.isPureReactComponent=!0;var A=Array.isArray,k=Object.prototype.hasOwnProperty,L={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function D(q,K,ne){var le,ce={},be=null,we=null;if(K!=null)for(le in K.ref!==void 0&&(we=K.ref),K.key!==void 0&&(be=""+K.key),K)k.call(K,le)&&!P.hasOwnProperty(le)&&(ce[le]=K[le]);var ke=arguments.length-2;if(ke===1)ce.children=ne;else if(1<ke){for(var Ne=Array(ke),Me=0;Me<ke;Me++)Ne[Me]=arguments[Me+2];ce.children=Ne}if(q&&q.defaultProps)for(le in ke=q.defaultProps,ke)ce[le]===void 0&&(ce[le]=ke[le]);return{$$typeof:n,type:q,key:be,ref:we,props:ce,_owner:L.current}}function F(q,K){return{$$typeof:n,type:q.type,key:K,ref:q.ref,props:q.props,_owner:q._owner}}function T(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function $(q){var K={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ne){return K[ne]})}var z=/\/+/g;function j(q,K){return typeof q=="object"&&q!==null&&q.key!=null?$(""+q.key):K.toString(36)}function Y(q,K,ne,le,ce){var be=typeof q;(be==="undefined"||be==="boolean")&&(q=null);var we=!1;if(q===null)we=!0;else switch(be){case"string":case"number":we=!0;break;case"object":switch(q.$$typeof){case n:case e:we=!0}}if(we)return we=q,ce=ce(we),q=le===""?"."+j(we,0):le,A(ce)?(ne="",q!=null&&(ne=q.replace(z,"$&/")+"/"),Y(ce,K,ne,"",function(Me){return Me})):ce!=null&&(T(ce)&&(ce=F(ce,ne+(!ce.key||we&&we.key===ce.key?"":(""+ce.key).replace(z,"$&/")+"/")+q)),K.push(ce)),1;if(we=0,le=le===""?".":le+":",A(q))for(var ke=0;ke<q.length;ke++){be=q[ke];var Ne=le+j(be,ke);we+=Y(be,K,ne,Ne,ce)}else if(Ne=m(q),typeof Ne=="function")for(q=Ne.call(q),ke=0;!(be=q.next()).done;)be=be.value,Ne=le+j(be,ke++),we+=Y(be,K,ne,Ne,ce);else if(be==="object")throw K=String(q),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return we}function Z(q,K,ne){if(q==null)return q;var le=[],ce=0;return Y(q,le,"","",function(be){return K.call(ne,be,ce++)}),le}function J(q){if(q._status===-1){var K=q._result;K=K(),K.then(function(ne){(q._status===0||q._status===-1)&&(q._status=1,q._result=ne)},function(ne){(q._status===0||q._status===-1)&&(q._status=2,q._result=ne)}),q._status===-1&&(q._status=0,q._result=K)}if(q._status===1)return q._result.default;throw q._result}var ee={current:null},Q={transition:null},te={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:Q,ReactCurrentOwner:L};function de(){throw Error("act(...) is not supported in production builds of React.")}return Ft.Children={map:Z,forEach:function(q,K,ne){Z(q,function(){K.apply(this,arguments)},ne)},count:function(q){var K=0;return Z(q,function(){K++}),K},toArray:function(q){return Z(q,function(K){return K})||[]},only:function(q){if(!T(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ft.Component=_,Ft.Fragment=t,Ft.Profiler=s,Ft.PureComponent=x,Ft.StrictMode=r,Ft.Suspense=l,Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Ft.act=de,Ft.cloneElement=function(q,K,ne){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var le=b({},q.props),ce=q.key,be=q.ref,we=q._owner;if(K!=null){if(K.ref!==void 0&&(be=K.ref,we=L.current),K.key!==void 0&&(ce=""+K.key),q.type&&q.type.defaultProps)var ke=q.type.defaultProps;for(Ne in K)k.call(K,Ne)&&!P.hasOwnProperty(Ne)&&(le[Ne]=K[Ne]===void 0&&ke!==void 0?ke[Ne]:K[Ne])}var Ne=arguments.length-2;if(Ne===1)le.children=ne;else if(1<Ne){ke=Array(Ne);for(var Me=0;Me<Ne;Me++)ke[Me]=arguments[Me+2];le.children=ke}return{$$typeof:n,type:q.type,key:ce,ref:be,props:le,_owner:we}},Ft.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:i,_context:q},q.Consumer=q},Ft.createElement=D,Ft.createFactory=function(q){var K=D.bind(null,q);return K.type=q,K},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(q){return{$$typeof:a,render:q}},Ft.isValidElement=T,Ft.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:J}},Ft.memo=function(q,K){return{$$typeof:u,type:q,compare:K===void 0?null:K}},Ft.startTransition=function(q){var K=Q.transition;Q.transition={};try{q()}finally{Q.transition=K}},Ft.unstable_act=de,Ft.useCallback=function(q,K){return ee.current.useCallback(q,K)},Ft.useContext=function(q){return ee.current.useContext(q)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(q){return ee.current.useDeferredValue(q)},Ft.useEffect=function(q,K){return ee.current.useEffect(q,K)},Ft.useId=function(){return ee.current.useId()},Ft.useImperativeHandle=function(q,K,ne){return ee.current.useImperativeHandle(q,K,ne)},Ft.useInsertionEffect=function(q,K){return ee.current.useInsertionEffect(q,K)},Ft.useLayoutEffect=function(q,K){return ee.current.useLayoutEffect(q,K)},Ft.useMemo=function(q,K){return ee.current.useMemo(q,K)},Ft.useReducer=function(q,K,ne){return ee.current.useReducer(q,K,ne)},Ft.useRef=function(q){return ee.current.useRef(q)},Ft.useState=function(q){return ee.current.useState(q)},Ft.useSyncExternalStore=function(q,K,ne){return ee.current.useSyncExternalStore(q,K,ne)},Ft.useTransition=function(){return ee.current.useTransition()},Ft.version="18.3.1",Ft}var WV;function gB(){return WV||(WV=1,VP.exports=Bne()),VP.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qV;function $ne(){if(qV)return tb;qV=1;var n=gB(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,u){var h,p={},m=null,y=null;u!==void 0&&(m=""+u),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(y=l.ref);for(h in l)r.call(l,h)&&!i.hasOwnProperty(h)&&(p[h]=l[h]);if(a&&a.defaultProps)for(h in l=a.defaultProps,l)p[h]===void 0&&(p[h]=l[h]);return{$$typeof:e,type:a,key:m,ref:y,props:p,_owner:s.current}}return tb.Fragment=t,tb.jsx=o,tb.jsxs=o,tb}var GV;function jne(){return GV||(GV=1,UP.exports=$ne()),UP.exports}var I=jne(),B=gB();const ie=ho(B),sA=Fne({__proto__:null,default:ie},[B]);var lT={},HP={exports:{}},ji={},zP={exports:{}},WP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KV;function Une(){return KV||(KV=1,(function(n){function e(Q,te){var de=Q.length;Q.push(te);e:for(;0<de;){var q=de-1>>>1,K=Q[q];if(0<s(K,te))Q[q]=te,Q[de]=K,de=q;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var te=Q[0],de=Q.pop();if(de!==te){Q[0]=de;e:for(var q=0,K=Q.length,ne=K>>>1;q<ne;){var le=2*(q+1)-1,ce=Q[le],be=le+1,we=Q[be];if(0>s(ce,de))be<K&&0>s(we,ce)?(Q[q]=we,Q[be]=de,q=be):(Q[q]=ce,Q[le]=de,q=le);else if(be<K&&0>s(we,de))Q[q]=we,Q[be]=de,q=be;else break e}}return te}function s(Q,te){var de=Q.sortIndex-te.sortIndex;return de!==0?de:Q.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,p=null,m=3,y=!1,b=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Q){for(var te=t(u);te!==null;){if(te.callback===null)r(u);else if(te.startTime<=Q)r(u),te.sortIndex=te.expirationTime,e(l,te);else break;te=t(u)}}function A(Q){if(v=!1,C(Q),!b)if(t(l)!==null)b=!0,J(k);else{var te=t(u);te!==null&&ee(A,te.startTime-Q)}}function k(Q,te){b=!1,v&&(v=!1,E(D),D=-1),y=!0;var de=m;try{for(C(te),p=t(l);p!==null&&(!(p.expirationTime>te)||Q&&!$());){var q=p.callback;if(typeof q=="function"){p.callback=null,m=p.priorityLevel;var K=q(p.expirationTime<=te);te=n.unstable_now(),typeof K=="function"?p.callback=K:p===t(l)&&r(l),C(te)}else r(l);p=t(l)}if(p!==null)var ne=!0;else{var le=t(u);le!==null&&ee(A,le.startTime-te),ne=!1}return ne}finally{p=null,m=de,y=!1}}var L=!1,P=null,D=-1,F=5,T=-1;function $(){return!(n.unstable_now()-T<F)}function z(){if(P!==null){var Q=n.unstable_now();T=Q;var te=!0;try{te=P(!0,Q)}finally{te?j():(L=!1,P=null)}}else L=!1}var j;if(typeof x=="function")j=function(){x(z)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Z=Y.port2;Y.port1.onmessage=z,j=function(){Z.postMessage(null)}}else j=function(){_(z,0)};function J(Q){P=Q,L||(L=!0,j())}function ee(Q,te){D=_(function(){Q(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){b||y||(b=!0,J(k))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(Q){switch(m){case 1:case 2:case 3:var te=3;break;default:te=m}var de=m;m=te;try{return Q()}finally{m=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,te){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=m;m=Q;try{return te()}finally{m=de}},n.unstable_scheduleCallback=function(Q,te,de){var q=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?q+de:q):de=q,Q){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=de+K,Q={id:h++,callback:te,priorityLevel:Q,startTime:de,expirationTime:K,sortIndex:-1},de>q?(Q.sortIndex=de,e(u,Q),t(l)===null&&Q===t(u)&&(v?(E(D),D=-1):v=!0,ee(A,de-q))):(Q.sortIndex=K,e(l,Q),b||y||(b=!0,J(k))),Q},n.unstable_shouldYield=$,n.unstable_wrapCallback=function(Q){var te=m;return function(){var de=m;m=te;try{return Q.apply(this,arguments)}finally{m=de}}}})(WP)),WP}var YV;function Vne(){return YV||(YV=1,zP.exports=Une()),zP.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XV;function Hne(){if(XV)return ji;XV=1;var n=gB(),e=Vne();function t(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(c,d){o(c,d),o(c+"Capture",d)}function o(c,d){for(s[c]=d,c=0;c<d.length;c++)r.add(d[c])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(c){return l.call(p,c)?!0:l.call(h,c)?!1:u.test(c)?p[c]=!0:(h[c]=!0,!1)}function y(c,d,g,S){if(g!==null&&g.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return S?!1:g!==null?!g.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function b(c,d,g,S){if(d===null||typeof d>"u"||y(c,d,g,S))return!0;if(S)return!1;if(g!==null)switch(g.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function v(c,d,g,S,R,N,W){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=S,this.attributeNamespace=R,this.mustUseProperty=g,this.propertyName=c,this.type=d,this.sanitizeURL=N,this.removeEmptyString=W}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){_[c]=new v(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];_[d]=new v(d,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){_[c]=new v(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){_[c]=new v(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){_[c]=new v(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){_[c]=new v(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){_[c]=new v(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){_[c]=new v(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){_[c]=new v(c,5,!1,c.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function x(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=c.replace(E,x);_[d]=new v(d,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(E,x);_[d]=new v(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(E,x);_[d]=new v(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){_[c]=new v(c,1,!1,c.toLowerCase(),null,!1,!1)}),_.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){_[c]=new v(c,1,!1,c.toLowerCase(),null,!0,!0)});function C(c,d,g,S){var R=_.hasOwnProperty(d)?_[d]:null;(R!==null?R.type!==0:S||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(b(d,g,R,S)&&(g=null),S||R===null?m(d)&&(g===null?c.removeAttribute(d):c.setAttribute(d,""+g)):R.mustUseProperty?c[R.propertyName]=g===null?R.type===3?!1:"":g:(d=R.attributeName,S=R.attributeNamespace,g===null?c.removeAttribute(d):(R=R.type,g=R===3||R===4&&g===!0?"":""+g,S?c.setAttributeNS(S,d,g):c.setAttribute(d,g))))}var A=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),L=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),$=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),Q=Symbol.iterator;function te(c){return c===null||typeof c!="object"?null:(c=Q&&c[Q]||c["@@iterator"],typeof c=="function"?c:null)}var de=Object.assign,q;function K(c){if(q===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);q=d&&d[1]||""}return`
`+q+c}var ne=!1;function le(c,d){if(!c||ne)return"";ne=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(he){var S=he}Reflect.construct(c,[],d)}else{try{d.call()}catch(he){S=he}c.call(d.prototype)}else{try{throw Error()}catch(he){S=he}c()}}catch(he){if(he&&S&&typeof he.stack=="string"){for(var R=he.stack.split(`
`),N=S.stack.split(`
`),W=R.length-1,X=N.length-1;1<=W&&0<=X&&R[W]!==N[X];)X--;for(;1<=W&&0<=X;W--,X--)if(R[W]!==N[X]){if(W!==1||X!==1)do if(W--,X--,0>X||R[W]!==N[X]){var re=`
`+R[W].replace(" at new "," at ");return c.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",c.displayName)),re}while(1<=W&&0<=X);break}}}finally{ne=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?K(c):""}function ce(c){switch(c.tag){case 5:return K(c.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return c=le(c.type,!1),c;case 11:return c=le(c.type.render,!1),c;case 1:return c=le(c.type,!0),c;default:return""}}function be(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case P:return"Fragment";case L:return"Portal";case F:return"Profiler";case D:return"StrictMode";case j:return"Suspense";case Y:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case $:return(c.displayName||"Context")+".Consumer";case T:return(c._context.displayName||"Context")+".Provider";case z:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Z:return d=c.displayName||null,d!==null?d:be(c.type)||"Memo";case J:d=c._payload,c=c._init;try{return be(c(d))}catch{}}return null}function we(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(d);case 8:return d===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function ke(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Ne(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Me(c){var d=Ne(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),S=""+c[d];if(!c.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var R=g.get,N=g.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return R.call(this)},set:function(W){S=""+W,N.call(this,W)}}),Object.defineProperty(c,d,{enumerable:g.enumerable}),{getValue:function(){return S},setValue:function(W){S=""+W},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Je(c){c._valueTracker||(c._valueTracker=Me(c))}function je(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var g=d.getValue(),S="";return c&&(S=Ne(c)?c.checked?"true":"false":c.value),c=S,c!==g?(d.setValue(c),!0):!1}function dt(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Ye(c,d){var g=d.checked;return de({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??c._wrapperState.initialChecked})}function Ue(c,d){var g=d.defaultValue==null?"":d.defaultValue,S=d.checked!=null?d.checked:d.defaultChecked;g=ke(d.value!=null?d.value:g),c._wrapperState={initialChecked:S,initialValue:g,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function en(c,d){d=d.checked,d!=null&&C(c,"checked",d,!1)}function Be(c,d){en(c,d);var g=ke(d.value),S=d.type;if(g!=null)S==="number"?(g===0&&c.value===""||c.value!=g)&&(c.value=""+g):c.value!==""+g&&(c.value=""+g);else if(S==="submit"||S==="reset"){c.removeAttribute("value");return}d.hasOwnProperty("value")?Ut(c,d.type,g):d.hasOwnProperty("defaultValue")&&Ut(c,d.type,ke(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(c.defaultChecked=!!d.defaultChecked)}function _t(c,d,g){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var S=d.type;if(!(S!=="submit"&&S!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+c._wrapperState.initialValue,g||d===c.value||(c.value=d),c.defaultValue=d}g=c.name,g!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,g!==""&&(c.name=g)}function Ut(c,d,g){(d!=="number"||dt(c.ownerDocument)!==c)&&(g==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+g&&(c.defaultValue=""+g))}var Ot=Array.isArray;function mt(c,d,g,S){if(c=c.options,d){d={};for(var R=0;R<g.length;R++)d["$"+g[R]]=!0;for(g=0;g<c.length;g++)R=d.hasOwnProperty("$"+c[g].value),c[g].selected!==R&&(c[g].selected=R),R&&S&&(c[g].defaultSelected=!0)}else{for(g=""+ke(g),d=null,R=0;R<c.length;R++){if(c[R].value===g){c[R].selected=!0,S&&(c[R].defaultSelected=!0);return}d!==null||c[R].disabled||(d=c[R])}d!==null&&(d.selected=!0)}}function Le(c,d){if(d.dangerouslySetInnerHTML!=null)throw Error(t(91));return de({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function $t(c,d){var g=d.value;if(g==null){if(g=d.children,d=d.defaultValue,g!=null){if(d!=null)throw Error(t(92));if(Ot(g)){if(1<g.length)throw Error(t(93));g=g[0]}d=g}d==null&&(d=""),g=d}c._wrapperState={initialValue:ke(g)}}function qt(c,d){var g=ke(d.value),S=ke(d.defaultValue);g!=null&&(g=""+g,g!==c.value&&(c.value=g),d.defaultValue==null&&c.defaultValue!==g&&(c.defaultValue=g)),S!=null&&(c.defaultValue=""+S)}function qn(c){var d=c.textContent;d===c._wrapperState.initialValue&&d!==""&&d!==null&&(c.value=d)}function Gt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(c,d){return c==null||c==="http://www.w3.org/1999/xhtml"?Gt(d):c==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var St,Kt=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,g,S,R){MSApp.execUnsafeLocalFunction(function(){return c(d,g,S,R)})}:c})(function(c,d){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=d;else{for(St=St||document.createElement("div"),St.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=St.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}});function vn(c,d){if(d){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=d;return}}c.textContent=d}var tt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sn=["Webkit","ms","Moz","O"];Object.keys(tt).forEach(function(c){sn.forEach(function(d){d=d+c.charAt(0).toUpperCase()+c.substring(1),tt[d]=tt[c]})});function En(c,d,g){return d==null||typeof d=="boolean"||d===""?"":g||typeof d!="number"||d===0||tt.hasOwnProperty(c)&&tt[c]?(""+d).trim():d+"px"}function Cn(c,d){c=c.style;for(var g in d)if(d.hasOwnProperty(g)){var S=g.indexOf("--")===0,R=En(g,d[g],S);g==="float"&&(g="cssFloat"),S?c.setProperty(g,R):c[g]=R}}var rt=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yt(c,d){if(d){if(rt[c]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(t(137,c));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(t(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(t(61))}if(d.style!=null&&typeof d.style!="object")throw Error(t(62))}}function Gn(c,d){if(c.indexOf("-")===-1)return typeof d.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xr=null;function Wa(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Pd=null,Di=null,Qo=null;function Dd(c){if(c=jw(c)){if(typeof Pd!="function")throw Error(t(280));var d=c.stateNode;d&&(d=SC(d),Pd(c.stateNode,c.type,d))}}function Zo(c){Di?Qo?Qo.push(c):Qo=[c]:Di=c}function $f(){if(Di){var c=Di,d=Qo;if(Qo=Di=null,Dd(c),d)for(c=0;c<d.length;c++)Dd(d[c])}}function Gc(c,d){return c(d)}function gt(){}var Pr=!1;function Md(c,d,g){if(Pr)return c(d,g);Pr=!0;try{return Gc(c,d,g)}finally{Pr=!1,(Di!==null||Qo!==null)&&(gt(),$f())}}function Dr(c,d){var g=c.stateNode;if(g===null)return null;var S=SC(g);if(S===null)return null;g=S[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(c=c.type,S=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!S;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(t(231,d,typeof g));return g}var Rg=!1;if(a)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){Rg=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{Rg=!1}function jf(c,d,g,S,R,N,W,X,re){var he=Array.prototype.slice.call(arguments,3);try{d.apply(g,he)}catch(Se){this.onError(Se)}}var Uf=!1,Ig=null,Ga=!1,bw=null,pk={onError:function(c){Uf=!0,Ig=c}};function kg(c,d,g,S,R,N,W,X,re){Uf=!1,Ig=null,jf.apply(pk,arguments)}function G1(c,d,g,S,R,N,W,X,re){if(kg.apply(this,arguments),Uf){if(Uf){var he=Ig;Uf=!1,Ig=null}else throw Error(t(198));Ga||(Ga=!0,bw=he)}}function Ka(c){var d=c,g=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(g=d.return),c=d.return;while(c)}return d.tag===3?g:null}function Vf(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function Ya(c){if(Ka(c)!==c)throw Error(t(188))}function K1(c){var d=c.alternate;if(!d){if(d=Ka(c),d===null)throw Error(t(188));return d!==c?null:c}for(var g=c,S=d;;){var R=g.return;if(R===null)break;var N=R.alternate;if(N===null){if(S=R.return,S!==null){g=S;continue}break}if(R.child===N.child){for(N=R.child;N;){if(N===g)return Ya(R),c;if(N===S)return Ya(R),d;N=N.sibling}throw Error(t(188))}if(g.return!==S.return)g=R,S=N;else{for(var W=!1,X=R.child;X;){if(X===g){W=!0,g=R,S=N;break}if(X===S){W=!0,S=R,g=N;break}X=X.sibling}if(!W){for(X=N.child;X;){if(X===g){W=!0,g=N,S=R;break}if(X===S){W=!0,S=N,g=R;break}X=X.sibling}if(!W)throw Error(t(189))}}if(g.alternate!==S)throw Error(t(190))}if(g.tag!==3)throw Error(t(188));return g.stateNode.current===g?c:d}function _w(c){return c=K1(c),c!==null?Pg(c):null}function Pg(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=Pg(c);if(d!==null)return d;c=c.sibling}return null}var Dg=e.unstable_scheduleCallback,Sw=e.unstable_cancelCallback,Y1=e.unstable_shouldYield,mk=e.unstable_requestPaint,Un=e.unstable_now,X1=e.unstable_getCurrentPriorityLevel,Hf=e.unstable_ImmediatePriority,Od=e.unstable_UserBlockingPriority,ea=e.unstable_NormalPriority,Ew=e.unstable_LowPriority,J1=e.unstable_IdlePriority,zf=null,po=null;function Q1(c){if(po&&typeof po.onCommitFiberRoot=="function")try{po.onCommitFiberRoot(zf,c,void 0,(c.current.flags&128)===128)}catch{}}var yi=Math.clz32?Math.clz32:eC,Cw=Math.log,Z1=Math.LN2;function eC(c){return c>>>=0,c===0?32:31-(Cw(c)/Z1|0)|0}var Mg=64,Og=4194304;function Ld(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Wf(c,d){var g=c.pendingLanes;if(g===0)return 0;var S=0,R=c.suspendedLanes,N=c.pingedLanes,W=g&268435455;if(W!==0){var X=W&~R;X!==0?S=Ld(X):(N&=W,N!==0&&(S=Ld(N)))}else W=g&~R,W!==0?S=Ld(W):N!==0&&(S=Ld(N));if(S===0)return 0;if(d!==0&&d!==S&&(d&R)===0&&(R=S&-S,N=d&-d,R>=N||R===16&&(N&4194240)!==0))return d;if((S&4)!==0&&(S|=g&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=S;0<d;)g=31-yi(d),R=1<<g,S|=c[g],d&=~R;return S}function gk(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kc(c,d){for(var g=c.suspendedLanes,S=c.pingedLanes,R=c.expirationTimes,N=c.pendingLanes;0<N;){var W=31-yi(N),X=1<<W,re=R[W];re===-1?((X&g)===0||(X&S)!==0)&&(R[W]=gk(X,d)):re<=d&&(c.expiredLanes|=X),N&=~X}}function mo(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function qf(){var c=Mg;return Mg<<=1,(Mg&4194240)===0&&(Mg=64),c}function Nd(c){for(var d=[],g=0;31>g;g++)d.push(c);return d}function Fd(c,d,g){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-yi(d),c[d]=g}function Mn(c,d){var g=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var S=c.eventTimes;for(c=c.expirationTimes;0<g;){var R=31-yi(g),N=1<<R;d[R]=0,S[R]=-1,c[R]=-1,g&=~N}}function Bd(c,d){var g=c.entangledLanes|=d;for(c=c.entanglements;g;){var S=31-yi(g),R=1<<S;R&d|c[S]&d&&(c[S]|=d),g&=~R}}var Xt=0;function $d(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var tC,Lg,nC,rC,sC,Tw=!1,$l=[],Is=null,Xa=null,Ja=null,jd=new Map,ta=new Map,jl=[],yk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iC(c,d){switch(c){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":jd.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(d.pointerId)}}function Mi(c,d,g,S,R,N){return c===null||c.nativeEvent!==N?(c={blockedOn:d,domEventName:g,eventSystemFlags:S,nativeEvent:N,targetContainers:[R]},d!==null&&(d=jw(d),d!==null&&Lg(d)),c):(c.eventSystemFlags|=S,d=c.targetContainers,R!==null&&d.indexOf(R)===-1&&d.push(R),c)}function vk(c,d,g,S,R){switch(d){case"focusin":return Is=Mi(Is,c,d,g,S,R),!0;case"dragenter":return Xa=Mi(Xa,c,d,g,S,R),!0;case"mouseover":return Ja=Mi(Ja,c,d,g,S,R),!0;case"pointerover":var N=R.pointerId;return jd.set(N,Mi(jd.get(N)||null,c,d,g,S,R)),!0;case"gotpointercapture":return N=R.pointerId,ta.set(N,Mi(ta.get(N)||null,c,d,g,S,R)),!0}return!1}function oC(c){var d=Jf(c.target);if(d!==null){var g=Ka(d);if(g!==null){if(d=g.tag,d===13){if(d=Vf(g),d!==null){c.blockedOn=d,sC(c.priority,function(){nC(g)});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Yc(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var g=Ng(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(g===null){g=c.nativeEvent;var S=new g.constructor(g.type,g);Xr=S,g.target.dispatchEvent(S),Xr=null}else return d=jw(g),d!==null&&Lg(d),c.blockedOn=g,!1;d.shift()}return!0}function Gf(c,d,g){Yc(c)&&g.delete(d)}function aC(){Tw=!1,Is!==null&&Yc(Is)&&(Is=null),Xa!==null&&Yc(Xa)&&(Xa=null),Ja!==null&&Yc(Ja)&&(Ja=null),jd.forEach(Gf),ta.forEach(Gf)}function Qa(c,d){c.blockedOn===d&&(c.blockedOn=null,Tw||(Tw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,aC)))}function Za(c){function d(R){return Qa(R,c)}if(0<$l.length){Qa($l[0],c);for(var g=1;g<$l.length;g++){var S=$l[g];S.blockedOn===c&&(S.blockedOn=null)}}for(Is!==null&&Qa(Is,c),Xa!==null&&Qa(Xa,c),Ja!==null&&Qa(Ja,c),jd.forEach(d),ta.forEach(d),g=0;g<jl.length;g++)S=jl[g],S.blockedOn===c&&(S.blockedOn=null);for(;0<jl.length&&(g=jl[0],g.blockedOn===null);)oC(g),g.blockedOn===null&&jl.shift()}var Xc=A.ReactCurrentBatchConfig,Ud=!0;function tr(c,d,g,S){var R=Xt,N=Xc.transition;Xc.transition=null;try{Xt=1,xw(c,d,g,S)}finally{Xt=R,Xc.transition=N}}function wk(c,d,g,S){var R=Xt,N=Xc.transition;Xc.transition=null;try{Xt=4,xw(c,d,g,S)}finally{Xt=R,Xc.transition=N}}function xw(c,d,g,S){if(Ud){var R=Ng(c,d,g,S);if(R===null)kk(c,d,S,Kf,g),iC(c,S);else if(vk(R,c,d,g,S))S.stopPropagation();else if(iC(c,S),d&4&&-1<yk.indexOf(c)){for(;R!==null;){var N=jw(R);if(N!==null&&tC(N),N=Ng(c,d,g,S),N===null&&kk(c,d,S,Kf,g),N===R)break;R=N}R!==null&&S.stopPropagation()}else kk(c,d,S,null,g)}}var Kf=null;function Ng(c,d,g,S){if(Kf=null,c=Wa(S),c=Jf(c),c!==null)if(d=Ka(c),d===null)c=null;else if(g=d.tag,g===13){if(c=Vf(d),c!==null)return c;c=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);return Kf=c,null}function Aw(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X1()){case Hf:return 1;case Od:return 4;case ea:case Ew:return 16;case J1:return 536870912;default:return 16}default:return 16}}var go=null,Fg=null,Oi=null;function Rw(){if(Oi)return Oi;var c,d=Fg,g=d.length,S,R="value"in go?go.value:go.textContent,N=R.length;for(c=0;c<g&&d[c]===R[c];c++);var W=g-c;for(S=1;S<=W&&d[g-S]===R[N-S];S++);return Oi=R.slice(c,1<S?1-S:void 0)}function Bg(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Ul(){return!0}function Iw(){return!1}function ks(c){function d(g,S,R,N,W){this._reactName=g,this._targetInst=R,this.type=S,this.nativeEvent=N,this.target=W,this.currentTarget=null;for(var X in c)c.hasOwnProperty(X)&&(g=c[X],this[X]=g?g(N):N[X]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Ul:Iw,this.isPropagationStopped=Iw,this}return de(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),d}var el={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$g=ks(el),Vl=de({},el,{view:0,detail:0}),bk=ks(Vl),jg,Jc,Vd,Yf=de({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hl,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Vd&&(Vd&&c.type==="mousemove"?(jg=c.screenX-Vd.screenX,Jc=c.screenY-Vd.screenY):Jc=jg=0,Vd=c),jg)},movementY:function(c){return"movementY"in c?c.movementY:Jc}}),Ug=ks(Yf),kw=de({},Yf,{dataTransfer:0}),lC=ks(kw),Vg=de({},Vl,{relatedTarget:0}),Hg=ks(Vg),cC=de({},el,{animationName:0,elapsedTime:0,pseudoElement:0}),Qc=ks(cC),uC=de({},el,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),dC=ks(uC),hC=de({},el,{data:0}),Pw=ks(hC),zg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pC(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=fC[c])?!!d[c]:!1}function Hl(){return pC}var w=de({},Vl,{key:function(c){if(c.key){var d=zg[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Bg(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?vi[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hl,charCode:function(c){return c.type==="keypress"?Bg(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Bg(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),M=ks(w),V=de({},Yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G=ks(V),oe=de({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hl}),pe=ks(oe),De=de({},el,{propertyName:0,elapsedTime:0,pseudoElement:0}),wn=ks(De),Jr=de({},Yf,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),tn=ks(Jr),ps=[9,13,27,32],Vr=a&&"CompositionEvent"in window,na=null;a&&"documentMode"in document&&(na=document.documentMode);var yo=a&&"TextEvent"in window&&!na,Xf=a&&(!Vr||na&&8<na&&11>=na),Wg=" ",FU=!1;function BU(c,d){switch(c){case"keyup":return ps.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $U(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var qg=!1;function Dte(c,d){switch(c){case"compositionend":return $U(d);case"keypress":return d.which!==32?null:(FU=!0,Wg);case"textInput":return c=d.data,c===Wg&&FU?null:c;default:return null}}function Mte(c,d){if(qg)return c==="compositionend"||!Vr&&BU(c,d)?(c=Rw(),Oi=Fg=go=null,qg=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Xf&&d.locale!=="ko"?null:d.data;default:return null}}var Ote={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jU(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!Ote[c.type]:d==="textarea"}function UU(c,d,g,S){Zo(S),d=wC(d,"onChange"),0<d.length&&(g=new $g("onChange","change",null,g,S),c.push({event:g,listeners:d}))}var Dw=null,Mw=null;function Lte(c){i4(c,0)}function mC(c){var d=Jg(c);if(je(d))return c}function Nte(c,d){if(c==="change")return d}var VU=!1;if(a){var _k;if(a){var Sk="oninput"in document;if(!Sk){var HU=document.createElement("div");HU.setAttribute("oninput","return;"),Sk=typeof HU.oninput=="function"}_k=Sk}else _k=!1;VU=_k&&(!document.documentMode||9<document.documentMode)}function zU(){Dw&&(Dw.detachEvent("onpropertychange",WU),Mw=Dw=null)}function WU(c){if(c.propertyName==="value"&&mC(Mw)){var d=[];UU(d,Mw,c,Wa(c)),Md(Lte,d)}}function Fte(c,d,g){c==="focusin"?(zU(),Dw=d,Mw=g,Dw.attachEvent("onpropertychange",WU)):c==="focusout"&&zU()}function Bte(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return mC(Mw)}function $te(c,d){if(c==="click")return mC(d)}function jte(c,d){if(c==="input"||c==="change")return mC(d)}function Ute(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var tl=typeof Object.is=="function"?Object.is:Ute;function Ow(c,d){if(tl(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var g=Object.keys(c),S=Object.keys(d);if(g.length!==S.length)return!1;for(S=0;S<g.length;S++){var R=g[S];if(!l.call(d,R)||!tl(c[R],d[R]))return!1}return!0}function qU(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function GU(c,d){var g=qU(c);c=0;for(var S;g;){if(g.nodeType===3){if(S=c+g.textContent.length,c<=d&&S>=d)return{node:g,offset:d-c};c=S}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=qU(g)}}function KU(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?KU(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function YU(){for(var c=window,d=dt();d instanceof c.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)c=d.contentWindow;else break;d=dt(c.document)}return d}function Ek(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function Vte(c){var d=YU(),g=c.focusedElem,S=c.selectionRange;if(d!==g&&g&&g.ownerDocument&&KU(g.ownerDocument.documentElement,g)){if(S!==null&&Ek(g)){if(d=S.start,c=S.end,c===void 0&&(c=d),"selectionStart"in g)g.selectionStart=d,g.selectionEnd=Math.min(c,g.value.length);else if(c=(d=g.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var R=g.textContent.length,N=Math.min(S.start,R);S=S.end===void 0?N:Math.min(S.end,R),!c.extend&&N>S&&(R=S,S=N,N=R),R=GU(g,N);var W=GU(g,S);R&&W&&(c.rangeCount!==1||c.anchorNode!==R.node||c.anchorOffset!==R.offset||c.focusNode!==W.node||c.focusOffset!==W.offset)&&(d=d.createRange(),d.setStart(R.node,R.offset),c.removeAllRanges(),N>S?(c.addRange(d),c.extend(W.node,W.offset)):(d.setEnd(W.node,W.offset),c.addRange(d)))}}for(d=[],c=g;c=c.parentNode;)c.nodeType===1&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<d.length;g++)c=d[g],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var Hte=a&&"documentMode"in document&&11>=document.documentMode,Gg=null,Ck=null,Lw=null,Tk=!1;function XU(c,d,g){var S=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Tk||Gg==null||Gg!==dt(S)||(S=Gg,"selectionStart"in S&&Ek(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Lw&&Ow(Lw,S)||(Lw=S,S=wC(Ck,"onSelect"),0<S.length&&(d=new $g("onSelect","select",null,d,g),c.push({event:d,listeners:S}),d.target=Gg)))}function gC(c,d){var g={};return g[c.toLowerCase()]=d.toLowerCase(),g["Webkit"+c]="webkit"+d,g["Moz"+c]="moz"+d,g}var Kg={animationend:gC("Animation","AnimationEnd"),animationiteration:gC("Animation","AnimationIteration"),animationstart:gC("Animation","AnimationStart"),transitionend:gC("Transition","TransitionEnd")},xk={},JU={};a&&(JU=document.createElement("div").style,"AnimationEvent"in window||(delete Kg.animationend.animation,delete Kg.animationiteration.animation,delete Kg.animationstart.animation),"TransitionEvent"in window||delete Kg.transitionend.transition);function yC(c){if(xk[c])return xk[c];if(!Kg[c])return c;var d=Kg[c],g;for(g in d)if(d.hasOwnProperty(g)&&g in JU)return xk[c]=d[g];return c}var QU=yC("animationend"),ZU=yC("animationiteration"),e4=yC("animationstart"),t4=yC("transitionend"),n4=new Map,r4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hd(c,d){n4.set(c,d),i(d,[c])}for(var Ak=0;Ak<r4.length;Ak++){var Rk=r4[Ak],zte=Rk.toLowerCase(),Wte=Rk[0].toUpperCase()+Rk.slice(1);Hd(zte,"on"+Wte)}Hd(QU,"onAnimationEnd"),Hd(ZU,"onAnimationIteration"),Hd(e4,"onAnimationStart"),Hd("dblclick","onDoubleClick"),Hd("focusin","onFocus"),Hd("focusout","onBlur"),Hd(t4,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qte=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nw));function s4(c,d,g){var S=c.type||"unknown-event";c.currentTarget=g,G1(S,d,void 0,c),c.currentTarget=null}function i4(c,d){d=(d&4)!==0;for(var g=0;g<c.length;g++){var S=c[g],R=S.event;S=S.listeners;e:{var N=void 0;if(d)for(var W=S.length-1;0<=W;W--){var X=S[W],re=X.instance,he=X.currentTarget;if(X=X.listener,re!==N&&R.isPropagationStopped())break e;s4(R,X,he),N=re}else for(W=0;W<S.length;W++){if(X=S[W],re=X.instance,he=X.currentTarget,X=X.listener,re!==N&&R.isPropagationStopped())break e;s4(R,X,he),N=re}}}if(Ga)throw c=bw,Ga=!1,bw=null,c}function Kn(c,d){var g=d[Nk];g===void 0&&(g=d[Nk]=new Set);var S=c+"__bubble";g.has(S)||(o4(d,c,2,!1),g.add(S))}function Ik(c,d,g){var S=0;d&&(S|=4),o4(g,c,S,d)}var vC="_reactListening"+Math.random().toString(36).slice(2);function Fw(c){if(!c[vC]){c[vC]=!0,r.forEach(function(g){g!=="selectionchange"&&(qte.has(g)||Ik(g,!1,c),Ik(g,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[vC]||(d[vC]=!0,Ik("selectionchange",!1,d))}}function o4(c,d,g,S){switch(Aw(d)){case 1:var R=tr;break;case 4:R=wk;break;default:R=xw}g=R.bind(null,d,g,c),R=void 0,!Rg||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(R=!0),S?R!==void 0?c.addEventListener(d,g,{capture:!0,passive:R}):c.addEventListener(d,g,!0):R!==void 0?c.addEventListener(d,g,{passive:R}):c.addEventListener(d,g,!1)}function kk(c,d,g,S,R){var N=S;if((d&1)===0&&(d&2)===0&&S!==null)e:for(;;){if(S===null)return;var W=S.tag;if(W===3||W===4){var X=S.stateNode.containerInfo;if(X===R||X.nodeType===8&&X.parentNode===R)break;if(W===4)for(W=S.return;W!==null;){var re=W.tag;if((re===3||re===4)&&(re=W.stateNode.containerInfo,re===R||re.nodeType===8&&re.parentNode===R))return;W=W.return}for(;X!==null;){if(W=Jf(X),W===null)return;if(re=W.tag,re===5||re===6){S=N=W;continue e}X=X.parentNode}}S=S.return}Md(function(){var he=N,Se=Wa(g),Te=[];e:{var _e=n4.get(c);if(_e!==void 0){var $e=$g,Xe=c;switch(c){case"keypress":if(Bg(g)===0)break e;case"keydown":case"keyup":$e=M;break;case"focusin":Xe="focus",$e=Hg;break;case"focusout":Xe="blur",$e=Hg;break;case"beforeblur":case"afterblur":$e=Hg;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=Ug;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=lC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=pe;break;case QU:case ZU:case e4:$e=Qc;break;case t4:$e=wn;break;case"scroll":$e=bk;break;case"wheel":$e=tn;break;case"copy":case"cut":case"paste":$e=dC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=G}var Qe=(d&4)!==0,Mr=!Qe&&c==="scroll",ae=Qe?_e!==null?_e+"Capture":null:_e;Qe=[];for(var se=he,ue;se!==null;){ue=se;var Re=ue.stateNode;if(ue.tag===5&&Re!==null&&(ue=Re,ae!==null&&(Re=Dr(se,ae),Re!=null&&Qe.push(Bw(se,Re,ue)))),Mr)break;se=se.return}0<Qe.length&&(_e=new $e(_e,Xe,null,g,Se),Te.push({event:_e,listeners:Qe}))}}if((d&7)===0){e:{if(_e=c==="mouseover"||c==="pointerover",$e=c==="mouseout"||c==="pointerout",_e&&g!==Xr&&(Xe=g.relatedTarget||g.fromElement)&&(Jf(Xe)||Xe[Zc]))break e;if(($e||_e)&&(_e=Se.window===Se?Se:(_e=Se.ownerDocument)?_e.defaultView||_e.parentWindow:window,$e?(Xe=g.relatedTarget||g.toElement,$e=he,Xe=Xe?Jf(Xe):null,Xe!==null&&(Mr=Ka(Xe),Xe!==Mr||Xe.tag!==5&&Xe.tag!==6)&&(Xe=null)):($e=null,Xe=he),$e!==Xe)){if(Qe=Ug,Re="onMouseLeave",ae="onMouseEnter",se="mouse",(c==="pointerout"||c==="pointerover")&&(Qe=G,Re="onPointerLeave",ae="onPointerEnter",se="pointer"),Mr=$e==null?_e:Jg($e),ue=Xe==null?_e:Jg(Xe),_e=new Qe(Re,se+"leave",$e,g,Se),_e.target=Mr,_e.relatedTarget=ue,Re=null,Jf(Se)===he&&(Qe=new Qe(ae,se+"enter",Xe,g,Se),Qe.target=ue,Qe.relatedTarget=Mr,Re=Qe),Mr=Re,$e&&Xe)t:{for(Qe=$e,ae=Xe,se=0,ue=Qe;ue;ue=Yg(ue))se++;for(ue=0,Re=ae;Re;Re=Yg(Re))ue++;for(;0<se-ue;)Qe=Yg(Qe),se--;for(;0<ue-se;)ae=Yg(ae),ue--;for(;se--;){if(Qe===ae||ae!==null&&Qe===ae.alternate)break t;Qe=Yg(Qe),ae=Yg(ae)}Qe=null}else Qe=null;$e!==null&&a4(Te,_e,$e,Qe,!1),Xe!==null&&Mr!==null&&a4(Te,Mr,Xe,Qe,!0)}}e:{if(_e=he?Jg(he):window,$e=_e.nodeName&&_e.nodeName.toLowerCase(),$e==="select"||$e==="input"&&_e.type==="file")var et=Nte;else if(jU(_e))if(VU)et=jte;else{et=Bte;var it=Fte}else($e=_e.nodeName)&&$e.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(et=$te);if(et&&(et=et(c,he))){UU(Te,et,g,Se);break e}it&&it(c,_e,he),c==="focusout"&&(it=_e._wrapperState)&&it.controlled&&_e.type==="number"&&Ut(_e,"number",_e.value)}switch(it=he?Jg(he):window,c){case"focusin":(jU(it)||it.contentEditable==="true")&&(Gg=it,Ck=he,Lw=null);break;case"focusout":Lw=Ck=Gg=null;break;case"mousedown":Tk=!0;break;case"contextmenu":case"mouseup":case"dragend":Tk=!1,XU(Te,g,Se);break;case"selectionchange":if(Hte)break;case"keydown":case"keyup":XU(Te,g,Se)}var ot;if(Vr)e:{switch(c){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else qg?BU(c,g)&&(ft="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(ft="onCompositionStart");ft&&(Xf&&g.locale!=="ko"&&(qg||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&qg&&(ot=Rw()):(go=Se,Fg="value"in go?go.value:go.textContent,qg=!0)),it=wC(he,ft),0<it.length&&(ft=new Pw(ft,c,null,g,Se),Te.push({event:ft,listeners:it}),ot?ft.data=ot:(ot=$U(g),ot!==null&&(ft.data=ot)))),(ot=yo?Dte(c,g):Mte(c,g))&&(he=wC(he,"onBeforeInput"),0<he.length&&(Se=new Pw("onBeforeInput","beforeinput",null,g,Se),Te.push({event:Se,listeners:he}),Se.data=ot))}i4(Te,d)})}function Bw(c,d,g){return{instance:c,listener:d,currentTarget:g}}function wC(c,d){for(var g=d+"Capture",S=[];c!==null;){var R=c,N=R.stateNode;R.tag===5&&N!==null&&(R=N,N=Dr(c,g),N!=null&&S.unshift(Bw(c,N,R)),N=Dr(c,d),N!=null&&S.push(Bw(c,N,R))),c=c.return}return S}function Yg(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function a4(c,d,g,S,R){for(var N=d._reactName,W=[];g!==null&&g!==S;){var X=g,re=X.alternate,he=X.stateNode;if(re!==null&&re===S)break;X.tag===5&&he!==null&&(X=he,R?(re=Dr(g,N),re!=null&&W.unshift(Bw(g,re,X))):R||(re=Dr(g,N),re!=null&&W.push(Bw(g,re,X)))),g=g.return}W.length!==0&&c.push({event:d,listeners:W})}var Gte=/\r\n?/g,Kte=/\u0000|\uFFFD/g;function l4(c){return(typeof c=="string"?c:""+c).replace(Gte,`
`).replace(Kte,"")}function bC(c,d,g){if(d=l4(d),l4(c)!==d&&g)throw Error(t(425))}function _C(){}var Pk=null,Dk=null;function Mk(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Ok=typeof setTimeout=="function"?setTimeout:void 0,Yte=typeof clearTimeout=="function"?clearTimeout:void 0,c4=typeof Promise=="function"?Promise:void 0,Xte=typeof queueMicrotask=="function"?queueMicrotask:typeof c4<"u"?function(c){return c4.resolve(null).then(c).catch(Jte)}:Ok;function Jte(c){setTimeout(function(){throw c})}function Lk(c,d){var g=d,S=0;do{var R=g.nextSibling;if(c.removeChild(g),R&&R.nodeType===8)if(g=R.data,g==="/$"){if(S===0){c.removeChild(R),Za(d);return}S--}else g!=="$"&&g!=="$?"&&g!=="$!"||S++;g=R}while(g);Za(d)}function zd(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return c}function u4(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(d===0)return c;d--}else g==="/$"&&d++}c=c.previousSibling}return null}var Xg=Math.random().toString(36).slice(2),zl="__reactFiber$"+Xg,$w="__reactProps$"+Xg,Zc="__reactContainer$"+Xg,Nk="__reactEvents$"+Xg,Qte="__reactListeners$"+Xg,Zte="__reactHandles$"+Xg;function Jf(c){var d=c[zl];if(d)return d;for(var g=c.parentNode;g;){if(d=g[Zc]||g[zl]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(c=u4(c);c!==null;){if(g=c[zl])return g;c=u4(c)}return d}c=g,g=c.parentNode}return null}function jw(c){return c=c[zl]||c[Zc],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Jg(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(t(33))}function SC(c){return c[$w]||null}var Fk=[],Qg=-1;function Wd(c){return{current:c}}function Yn(c){0>Qg||(c.current=Fk[Qg],Fk[Qg]=null,Qg--)}function Vn(c,d){Qg++,Fk[Qg]=c.current,c.current=d}var qd={},Ks=Wd(qd),Li=Wd(!1),Qf=qd;function Zg(c,d){var g=c.type.contextTypes;if(!g)return qd;var S=c.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===d)return S.__reactInternalMemoizedMaskedChildContext;var R={},N;for(N in g)R[N]=d[N];return S&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=R),R}function Ni(c){return c=c.childContextTypes,c!=null}function EC(){Yn(Li),Yn(Ks)}function d4(c,d,g){if(Ks.current!==qd)throw Error(t(168));Vn(Ks,d),Vn(Li,g)}function h4(c,d,g){var S=c.stateNode;if(d=d.childContextTypes,typeof S.getChildContext!="function")return g;S=S.getChildContext();for(var R in S)if(!(R in d))throw Error(t(108,we(c)||"Unknown",R));return de({},g,S)}function CC(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||qd,Qf=Ks.current,Vn(Ks,c),Vn(Li,Li.current),!0}function f4(c,d,g){var S=c.stateNode;if(!S)throw Error(t(169));g?(c=h4(c,d,Qf),S.__reactInternalMemoizedMergedChildContext=c,Yn(Li),Yn(Ks),Vn(Ks,c)):Yn(Li),Vn(Li,g)}var eu=null,TC=!1,Bk=!1;function p4(c){eu===null?eu=[c]:eu.push(c)}function ene(c){TC=!0,p4(c)}function Gd(){if(!Bk&&eu!==null){Bk=!0;var c=0,d=Xt;try{var g=eu;for(Xt=1;c<g.length;c++){var S=g[c];do S=S(!0);while(S!==null)}eu=null,TC=!1}catch(R){throw eu!==null&&(eu=eu.slice(c+1)),Dg(Hf,Gd),R}finally{Xt=d,Bk=!1}}return null}var ey=[],ty=0,xC=null,AC=0,ra=[],sa=0,Zf=null,tu=1,nu="";function ep(c,d){ey[ty++]=AC,ey[ty++]=xC,xC=c,AC=d}function m4(c,d,g){ra[sa++]=tu,ra[sa++]=nu,ra[sa++]=Zf,Zf=c;var S=tu;c=nu;var R=32-yi(S)-1;S&=~(1<<R),g+=1;var N=32-yi(d)+R;if(30<N){var W=R-R%5;N=(S&(1<<W)-1).toString(32),S>>=W,R-=W,tu=1<<32-yi(d)+R|g<<R|S,nu=N+c}else tu=1<<N|g<<R|S,nu=c}function $k(c){c.return!==null&&(ep(c,1),m4(c,1,0))}function jk(c){for(;c===xC;)xC=ey[--ty],ey[ty]=null,AC=ey[--ty],ey[ty]=null;for(;c===Zf;)Zf=ra[--sa],ra[sa]=null,nu=ra[--sa],ra[sa]=null,tu=ra[--sa],ra[sa]=null}var vo=null,wo=null,nr=!1,nl=null;function g4(c,d){var g=la(5,null,null,0);g.elementType="DELETED",g.stateNode=d,g.return=c,d=c.deletions,d===null?(c.deletions=[g],c.flags|=16):d.push(g)}function y4(c,d){switch(c.tag){case 5:var g=c.type;return d=d.nodeType!==1||g.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(c.stateNode=d,vo=c,wo=zd(d.firstChild),!0):!1;case 6:return d=c.pendingProps===""||d.nodeType!==3?null:d,d!==null?(c.stateNode=d,vo=c,wo=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(g=Zf!==null?{id:tu,overflow:nu}:null,c.memoizedState={dehydrated:d,treeContext:g,retryLane:1073741824},g=la(18,null,null,0),g.stateNode=d,g.return=c,c.child=g,vo=c,wo=null,!0):!1;default:return!1}}function Uk(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Vk(c){if(nr){var d=wo;if(d){var g=d;if(!y4(c,d)){if(Uk(c))throw Error(t(418));d=zd(g.nextSibling);var S=vo;d&&y4(c,d)?g4(S,g):(c.flags=c.flags&-4097|2,nr=!1,vo=c)}}else{if(Uk(c))throw Error(t(418));c.flags=c.flags&-4097|2,nr=!1,vo=c}}}function v4(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;vo=c}function RC(c){if(c!==vo)return!1;if(!nr)return v4(c),nr=!0,!1;var d;if((d=c.tag!==3)&&!(d=c.tag!==5)&&(d=c.type,d=d!=="head"&&d!=="body"&&!Mk(c.type,c.memoizedProps)),d&&(d=wo)){if(Uk(c))throw w4(),Error(t(418));for(;d;)g4(c,d),d=zd(d.nextSibling)}if(v4(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(t(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"){if(d===0){wo=zd(c.nextSibling);break e}d--}else g!=="$"&&g!=="$!"&&g!=="$?"||d++}c=c.nextSibling}wo=null}}else wo=vo?zd(c.stateNode.nextSibling):null;return!0}function w4(){for(var c=wo;c;)c=zd(c.nextSibling)}function ny(){wo=vo=null,nr=!1}function Hk(c){nl===null?nl=[c]:nl.push(c)}var tne=A.ReactCurrentBatchConfig;function Uw(c,d,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(t(309));var S=g.stateNode}if(!S)throw Error(t(147,c));var R=S,N=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===N?d.ref:(d=function(W){var X=R.refs;W===null?delete X[N]:X[N]=W},d._stringRef=N,d)}if(typeof c!="string")throw Error(t(284));if(!g._owner)throw Error(t(290,c))}return c}function IC(c,d){throw c=Object.prototype.toString.call(d),Error(t(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function b4(c){var d=c._init;return d(c._payload)}function _4(c){function d(ae,se){if(c){var ue=ae.deletions;ue===null?(ae.deletions=[se],ae.flags|=16):ue.push(se)}}function g(ae,se){if(!c)return null;for(;se!==null;)d(ae,se),se=se.sibling;return null}function S(ae,se){for(ae=new Map;se!==null;)se.key!==null?ae.set(se.key,se):ae.set(se.index,se),se=se.sibling;return ae}function R(ae,se){return ae=th(ae,se),ae.index=0,ae.sibling=null,ae}function N(ae,se,ue){return ae.index=ue,c?(ue=ae.alternate,ue!==null?(ue=ue.index,ue<se?(ae.flags|=2,se):ue):(ae.flags|=2,se)):(ae.flags|=1048576,se)}function W(ae){return c&&ae.alternate===null&&(ae.flags|=2),ae}function X(ae,se,ue,Re){return se===null||se.tag!==6?(se=OP(ue,ae.mode,Re),se.return=ae,se):(se=R(se,ue),se.return=ae,se)}function re(ae,se,ue,Re){var et=ue.type;return et===P?Se(ae,se,ue.props.children,Re,ue.key):se!==null&&(se.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===J&&b4(et)===se.type)?(Re=R(se,ue.props),Re.ref=Uw(ae,se,ue),Re.return=ae,Re):(Re=ZC(ue.type,ue.key,ue.props,null,ae.mode,Re),Re.ref=Uw(ae,se,ue),Re.return=ae,Re)}function he(ae,se,ue,Re){return se===null||se.tag!==4||se.stateNode.containerInfo!==ue.containerInfo||se.stateNode.implementation!==ue.implementation?(se=LP(ue,ae.mode,Re),se.return=ae,se):(se=R(se,ue.children||[]),se.return=ae,se)}function Se(ae,se,ue,Re,et){return se===null||se.tag!==7?(se=lp(ue,ae.mode,Re,et),se.return=ae,se):(se=R(se,ue),se.return=ae,se)}function Te(ae,se,ue){if(typeof se=="string"&&se!==""||typeof se=="number")return se=OP(""+se,ae.mode,ue),se.return=ae,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case k:return ue=ZC(se.type,se.key,se.props,null,ae.mode,ue),ue.ref=Uw(ae,null,se),ue.return=ae,ue;case L:return se=LP(se,ae.mode,ue),se.return=ae,se;case J:var Re=se._init;return Te(ae,Re(se._payload),ue)}if(Ot(se)||te(se))return se=lp(se,ae.mode,ue,null),se.return=ae,se;IC(ae,se)}return null}function _e(ae,se,ue,Re){var et=se!==null?se.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return et!==null?null:X(ae,se,""+ue,Re);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case k:return ue.key===et?re(ae,se,ue,Re):null;case L:return ue.key===et?he(ae,se,ue,Re):null;case J:return et=ue._init,_e(ae,se,et(ue._payload),Re)}if(Ot(ue)||te(ue))return et!==null?null:Se(ae,se,ue,Re,null);IC(ae,ue)}return null}function $e(ae,se,ue,Re,et){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return ae=ae.get(ue)||null,X(se,ae,""+Re,et);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case k:return ae=ae.get(Re.key===null?ue:Re.key)||null,re(se,ae,Re,et);case L:return ae=ae.get(Re.key===null?ue:Re.key)||null,he(se,ae,Re,et);case J:var it=Re._init;return $e(ae,se,ue,it(Re._payload),et)}if(Ot(Re)||te(Re))return ae=ae.get(ue)||null,Se(se,ae,Re,et,null);IC(se,Re)}return null}function Xe(ae,se,ue,Re){for(var et=null,it=null,ot=se,ft=se=0,ys=null;ot!==null&&ft<ue.length;ft++){ot.index>ft?(ys=ot,ot=null):ys=ot.sibling;var cn=_e(ae,ot,ue[ft],Re);if(cn===null){ot===null&&(ot=ys);break}c&&ot&&cn.alternate===null&&d(ae,ot),se=N(cn,se,ft),it===null?et=cn:it.sibling=cn,it=cn,ot=ys}if(ft===ue.length)return g(ae,ot),nr&&ep(ae,ft),et;if(ot===null){for(;ft<ue.length;ft++)ot=Te(ae,ue[ft],Re),ot!==null&&(se=N(ot,se,ft),it===null?et=ot:it.sibling=ot,it=ot);return nr&&ep(ae,ft),et}for(ot=S(ae,ot);ft<ue.length;ft++)ys=$e(ot,ae,ft,ue[ft],Re),ys!==null&&(c&&ys.alternate!==null&&ot.delete(ys.key===null?ft:ys.key),se=N(ys,se,ft),it===null?et=ys:it.sibling=ys,it=ys);return c&&ot.forEach(function(nh){return d(ae,nh)}),nr&&ep(ae,ft),et}function Qe(ae,se,ue,Re){var et=te(ue);if(typeof et!="function")throw Error(t(150));if(ue=et.call(ue),ue==null)throw Error(t(151));for(var it=et=null,ot=se,ft=se=0,ys=null,cn=ue.next();ot!==null&&!cn.done;ft++,cn=ue.next()){ot.index>ft?(ys=ot,ot=null):ys=ot.sibling;var nh=_e(ae,ot,cn.value,Re);if(nh===null){ot===null&&(ot=ys);break}c&&ot&&nh.alternate===null&&d(ae,ot),se=N(nh,se,ft),it===null?et=nh:it.sibling=nh,it=nh,ot=ys}if(cn.done)return g(ae,ot),nr&&ep(ae,ft),et;if(ot===null){for(;!cn.done;ft++,cn=ue.next())cn=Te(ae,cn.value,Re),cn!==null&&(se=N(cn,se,ft),it===null?et=cn:it.sibling=cn,it=cn);return nr&&ep(ae,ft),et}for(ot=S(ae,ot);!cn.done;ft++,cn=ue.next())cn=$e(ot,ae,ft,cn.value,Re),cn!==null&&(c&&cn.alternate!==null&&ot.delete(cn.key===null?ft:cn.key),se=N(cn,se,ft),it===null?et=cn:it.sibling=cn,it=cn);return c&&ot.forEach(function(One){return d(ae,One)}),nr&&ep(ae,ft),et}function Mr(ae,se,ue,Re){if(typeof ue=="object"&&ue!==null&&ue.type===P&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case k:e:{for(var et=ue.key,it=se;it!==null;){if(it.key===et){if(et=ue.type,et===P){if(it.tag===7){g(ae,it.sibling),se=R(it,ue.props.children),se.return=ae,ae=se;break e}}else if(it.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===J&&b4(et)===it.type){g(ae,it.sibling),se=R(it,ue.props),se.ref=Uw(ae,it,ue),se.return=ae,ae=se;break e}g(ae,it);break}else d(ae,it);it=it.sibling}ue.type===P?(se=lp(ue.props.children,ae.mode,Re,ue.key),se.return=ae,ae=se):(Re=ZC(ue.type,ue.key,ue.props,null,ae.mode,Re),Re.ref=Uw(ae,se,ue),Re.return=ae,ae=Re)}return W(ae);case L:e:{for(it=ue.key;se!==null;){if(se.key===it)if(se.tag===4&&se.stateNode.containerInfo===ue.containerInfo&&se.stateNode.implementation===ue.implementation){g(ae,se.sibling),se=R(se,ue.children||[]),se.return=ae,ae=se;break e}else{g(ae,se);break}else d(ae,se);se=se.sibling}se=LP(ue,ae.mode,Re),se.return=ae,ae=se}return W(ae);case J:return it=ue._init,Mr(ae,se,it(ue._payload),Re)}if(Ot(ue))return Xe(ae,se,ue,Re);if(te(ue))return Qe(ae,se,ue,Re);IC(ae,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,se!==null&&se.tag===6?(g(ae,se.sibling),se=R(se,ue),se.return=ae,ae=se):(g(ae,se),se=OP(ue,ae.mode,Re),se.return=ae,ae=se),W(ae)):g(ae,se)}return Mr}var ry=_4(!0),S4=_4(!1),kC=Wd(null),PC=null,sy=null,zk=null;function Wk(){zk=sy=PC=null}function qk(c){var d=kC.current;Yn(kC),c._currentValue=d}function Gk(c,d,g){for(;c!==null;){var S=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,S!==null&&(S.childLanes|=d)):S!==null&&(S.childLanes&d)!==d&&(S.childLanes|=d),c===g)break;c=c.return}}function iy(c,d){PC=c,zk=sy=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&d)!==0&&(Fi=!0),c.firstContext=null)}function ia(c){var d=c._currentValue;if(zk!==c)if(c={context:c,memoizedValue:d,next:null},sy===null){if(PC===null)throw Error(t(308));sy=c,PC.dependencies={lanes:0,firstContext:c}}else sy=sy.next=c;return d}var tp=null;function Kk(c){tp===null?tp=[c]:tp.push(c)}function E4(c,d,g,S){var R=d.interleaved;return R===null?(g.next=g,Kk(d)):(g.next=R.next,R.next=g),d.interleaved=g,ru(c,S)}function ru(c,d){c.lanes|=d;var g=c.alternate;for(g!==null&&(g.lanes|=d),g=c,c=c.return;c!==null;)c.childLanes|=d,g=c.alternate,g!==null&&(g.childLanes|=d),g=c,c=c.return;return g.tag===3?g.stateNode:null}var Kd=!1;function Yk(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C4(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function su(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function Yd(c,d,g){var S=c.updateQueue;if(S===null)return null;if(S=S.shared,(on&2)!==0){var R=S.pending;return R===null?d.next=d:(d.next=R.next,R.next=d),S.pending=d,ru(c,g)}return R=S.interleaved,R===null?(d.next=d,Kk(S)):(d.next=R.next,R.next=d),S.interleaved=d,ru(c,g)}function DC(c,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194240)!==0)){var S=d.lanes;S&=c.pendingLanes,g|=S,d.lanes=g,Bd(c,g)}}function T4(c,d){var g=c.updateQueue,S=c.alternate;if(S!==null&&(S=S.updateQueue,g===S)){var R=null,N=null;if(g=g.firstBaseUpdate,g!==null){do{var W={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};N===null?R=N=W:N=N.next=W,g=g.next}while(g!==null);N===null?R=N=d:N=N.next=d}else R=N=d;g={baseState:S.baseState,firstBaseUpdate:R,lastBaseUpdate:N,shared:S.shared,effects:S.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=d:c.next=d,g.lastBaseUpdate=d}function MC(c,d,g,S){var R=c.updateQueue;Kd=!1;var N=R.firstBaseUpdate,W=R.lastBaseUpdate,X=R.shared.pending;if(X!==null){R.shared.pending=null;var re=X,he=re.next;re.next=null,W===null?N=he:W.next=he,W=re;var Se=c.alternate;Se!==null&&(Se=Se.updateQueue,X=Se.lastBaseUpdate,X!==W&&(X===null?Se.firstBaseUpdate=he:X.next=he,Se.lastBaseUpdate=re))}if(N!==null){var Te=R.baseState;W=0,Se=he=re=null,X=N;do{var _e=X.lane,$e=X.eventTime;if((S&_e)===_e){Se!==null&&(Se=Se.next={eventTime:$e,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var Xe=c,Qe=X;switch(_e=d,$e=g,Qe.tag){case 1:if(Xe=Qe.payload,typeof Xe=="function"){Te=Xe.call($e,Te,_e);break e}Te=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=Qe.payload,_e=typeof Xe=="function"?Xe.call($e,Te,_e):Xe,_e==null)break e;Te=de({},Te,_e);break e;case 2:Kd=!0}}X.callback!==null&&X.lane!==0&&(c.flags|=64,_e=R.effects,_e===null?R.effects=[X]:_e.push(X))}else $e={eventTime:$e,lane:_e,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Se===null?(he=Se=$e,re=Te):Se=Se.next=$e,W|=_e;if(X=X.next,X===null){if(X=R.shared.pending,X===null)break;_e=X,X=_e.next,_e.next=null,R.lastBaseUpdate=_e,R.shared.pending=null}}while(!0);if(Se===null&&(re=Te),R.baseState=re,R.firstBaseUpdate=he,R.lastBaseUpdate=Se,d=R.shared.interleaved,d!==null){R=d;do W|=R.lane,R=R.next;while(R!==d)}else N===null&&(R.shared.lanes=0);sp|=W,c.lanes=W,c.memoizedState=Te}}function x4(c,d,g){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var S=c[d],R=S.callback;if(R!==null){if(S.callback=null,S=g,typeof R!="function")throw Error(t(191,R));R.call(S)}}}var Vw={},Wl=Wd(Vw),Hw=Wd(Vw),zw=Wd(Vw);function np(c){if(c===Vw)throw Error(t(174));return c}function Xk(c,d){switch(Vn(zw,d),Vn(Hw,c),Vn(Wl,Vw),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:lt(null,"");break;default:c=c===8?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=lt(d,c)}Yn(Wl),Vn(Wl,d)}function oy(){Yn(Wl),Yn(Hw),Yn(zw)}function A4(c){np(zw.current);var d=np(Wl.current),g=lt(d,c.type);d!==g&&(Vn(Hw,c),Vn(Wl,g))}function Jk(c){Hw.current===c&&(Yn(Wl),Yn(Hw))}var hr=Wd(0);function OC(c){for(var d=c;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Qk=[];function Zk(){for(var c=0;c<Qk.length;c++)Qk[c]._workInProgressVersionPrimary=null;Qk.length=0}var LC=A.ReactCurrentDispatcher,eP=A.ReactCurrentBatchConfig,rp=0,fr=null,Qr=null,ms=null,NC=!1,Ww=!1,qw=0,nne=0;function Ys(){throw Error(t(321))}function tP(c,d){if(d===null)return!1;for(var g=0;g<d.length&&g<c.length;g++)if(!tl(c[g],d[g]))return!1;return!0}function nP(c,d,g,S,R,N){if(rp=N,fr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,LC.current=c===null||c.memoizedState===null?one:ane,c=g(S,R),Ww){N=0;do{if(Ww=!1,qw=0,25<=N)throw Error(t(301));N+=1,ms=Qr=null,d.updateQueue=null,LC.current=lne,c=g(S,R)}while(Ww)}if(LC.current=$C,d=Qr!==null&&Qr.next!==null,rp=0,ms=Qr=fr=null,NC=!1,d)throw Error(t(300));return c}function rP(){var c=qw!==0;return qw=0,c}function ql(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ms===null?fr.memoizedState=ms=c:ms=ms.next=c,ms}function oa(){if(Qr===null){var c=fr.alternate;c=c!==null?c.memoizedState:null}else c=Qr.next;var d=ms===null?fr.memoizedState:ms.next;if(d!==null)ms=d,Qr=c;else{if(c===null)throw Error(t(310));Qr=c,c={memoizedState:Qr.memoizedState,baseState:Qr.baseState,baseQueue:Qr.baseQueue,queue:Qr.queue,next:null},ms===null?fr.memoizedState=ms=c:ms=ms.next=c}return ms}function Gw(c,d){return typeof d=="function"?d(c):d}function sP(c){var d=oa(),g=d.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=c;var S=Qr,R=S.baseQueue,N=g.pending;if(N!==null){if(R!==null){var W=R.next;R.next=N.next,N.next=W}S.baseQueue=R=N,g.pending=null}if(R!==null){N=R.next,S=S.baseState;var X=W=null,re=null,he=N;do{var Se=he.lane;if((rp&Se)===Se)re!==null&&(re=re.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),S=he.hasEagerState?he.eagerState:c(S,he.action);else{var Te={lane:Se,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};re===null?(X=re=Te,W=S):re=re.next=Te,fr.lanes|=Se,sp|=Se}he=he.next}while(he!==null&&he!==N);re===null?W=S:re.next=X,tl(S,d.memoizedState)||(Fi=!0),d.memoizedState=S,d.baseState=W,d.baseQueue=re,g.lastRenderedState=S}if(c=g.interleaved,c!==null){R=c;do N=R.lane,fr.lanes|=N,sp|=N,R=R.next;while(R!==c)}else R===null&&(g.lanes=0);return[d.memoizedState,g.dispatch]}function iP(c){var d=oa(),g=d.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=c;var S=g.dispatch,R=g.pending,N=d.memoizedState;if(R!==null){g.pending=null;var W=R=R.next;do N=c(N,W.action),W=W.next;while(W!==R);tl(N,d.memoizedState)||(Fi=!0),d.memoizedState=N,d.baseQueue===null&&(d.baseState=N),g.lastRenderedState=N}return[N,S]}function R4(){}function I4(c,d){var g=fr,S=oa(),R=d(),N=!tl(S.memoizedState,R);if(N&&(S.memoizedState=R,Fi=!0),S=S.queue,oP(D4.bind(null,g,S,c),[c]),S.getSnapshot!==d||N||ms!==null&&ms.memoizedState.tag&1){if(g.flags|=2048,Kw(9,P4.bind(null,g,S,R,d),void 0,null),gs===null)throw Error(t(349));(rp&30)!==0||k4(g,d,R)}return R}function k4(c,d,g){c.flags|=16384,c={getSnapshot:d,value:g},d=fr.updateQueue,d===null?(d={lastEffect:null,stores:null},fr.updateQueue=d,d.stores=[c]):(g=d.stores,g===null?d.stores=[c]:g.push(c))}function P4(c,d,g,S){d.value=g,d.getSnapshot=S,M4(d)&&O4(c)}function D4(c,d,g){return g(function(){M4(d)&&O4(c)})}function M4(c){var d=c.getSnapshot;c=c.value;try{var g=d();return!tl(c,g)}catch{return!0}}function O4(c){var d=ru(c,1);d!==null&&ol(d,c,1,-1)}function L4(c){var d=ql();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gw,lastRenderedState:c},d.queue=c,c=c.dispatch=ine.bind(null,fr,c),[d.memoizedState,c]}function Kw(c,d,g,S){return c={tag:c,create:d,destroy:g,deps:S,next:null},d=fr.updateQueue,d===null?(d={lastEffect:null,stores:null},fr.updateQueue=d,d.lastEffect=c.next=c):(g=d.lastEffect,g===null?d.lastEffect=c.next=c:(S=g.next,g.next=c,c.next=S,d.lastEffect=c)),c}function N4(){return oa().memoizedState}function FC(c,d,g,S){var R=ql();fr.flags|=c,R.memoizedState=Kw(1|d,g,void 0,S===void 0?null:S)}function BC(c,d,g,S){var R=oa();S=S===void 0?null:S;var N=void 0;if(Qr!==null){var W=Qr.memoizedState;if(N=W.destroy,S!==null&&tP(S,W.deps)){R.memoizedState=Kw(d,g,N,S);return}}fr.flags|=c,R.memoizedState=Kw(1|d,g,N,S)}function F4(c,d){return FC(8390656,8,c,d)}function oP(c,d){return BC(2048,8,c,d)}function B4(c,d){return BC(4,2,c,d)}function $4(c,d){return BC(4,4,c,d)}function j4(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function U4(c,d,g){return g=g!=null?g.concat([c]):null,BC(4,4,j4.bind(null,d,c),g)}function aP(){}function V4(c,d){var g=oa();d=d===void 0?null:d;var S=g.memoizedState;return S!==null&&d!==null&&tP(d,S[1])?S[0]:(g.memoizedState=[c,d],c)}function H4(c,d){var g=oa();d=d===void 0?null:d;var S=g.memoizedState;return S!==null&&d!==null&&tP(d,S[1])?S[0]:(c=c(),g.memoizedState=[c,d],c)}function z4(c,d,g){return(rp&21)===0?(c.baseState&&(c.baseState=!1,Fi=!0),c.memoizedState=g):(tl(g,d)||(g=qf(),fr.lanes|=g,sp|=g,c.baseState=!0),d)}function rne(c,d){var g=Xt;Xt=g!==0&&4>g?g:4,c(!0);var S=eP.transition;eP.transition={};try{c(!1),d()}finally{Xt=g,eP.transition=S}}function W4(){return oa().memoizedState}function sne(c,d,g){var S=Zd(c);if(g={lane:S,action:g,hasEagerState:!1,eagerState:null,next:null},q4(c))G4(d,g);else if(g=E4(c,d,g,S),g!==null){var R=bi();ol(g,c,S,R),K4(g,d,S)}}function ine(c,d,g){var S=Zd(c),R={lane:S,action:g,hasEagerState:!1,eagerState:null,next:null};if(q4(c))G4(d,R);else{var N=c.alternate;if(c.lanes===0&&(N===null||N.lanes===0)&&(N=d.lastRenderedReducer,N!==null))try{var W=d.lastRenderedState,X=N(W,g);if(R.hasEagerState=!0,R.eagerState=X,tl(X,W)){var re=d.interleaved;re===null?(R.next=R,Kk(d)):(R.next=re.next,re.next=R),d.interleaved=R;return}}catch{}finally{}g=E4(c,d,R,S),g!==null&&(R=bi(),ol(g,c,S,R),K4(g,d,S))}}function q4(c){var d=c.alternate;return c===fr||d!==null&&d===fr}function G4(c,d){Ww=NC=!0;var g=c.pending;g===null?d.next=d:(d.next=g.next,g.next=d),c.pending=d}function K4(c,d,g){if((g&4194240)!==0){var S=d.lanes;S&=c.pendingLanes,g|=S,d.lanes=g,Bd(c,g)}}var $C={readContext:ia,useCallback:Ys,useContext:Ys,useEffect:Ys,useImperativeHandle:Ys,useInsertionEffect:Ys,useLayoutEffect:Ys,useMemo:Ys,useReducer:Ys,useRef:Ys,useState:Ys,useDebugValue:Ys,useDeferredValue:Ys,useTransition:Ys,useMutableSource:Ys,useSyncExternalStore:Ys,useId:Ys,unstable_isNewReconciler:!1},one={readContext:ia,useCallback:function(c,d){return ql().memoizedState=[c,d===void 0?null:d],c},useContext:ia,useEffect:F4,useImperativeHandle:function(c,d,g){return g=g!=null?g.concat([c]):null,FC(4194308,4,j4.bind(null,d,c),g)},useLayoutEffect:function(c,d){return FC(4194308,4,c,d)},useInsertionEffect:function(c,d){return FC(4,2,c,d)},useMemo:function(c,d){var g=ql();return d=d===void 0?null:d,c=c(),g.memoizedState=[c,d],c},useReducer:function(c,d,g){var S=ql();return d=g!==void 0?g(d):d,S.memoizedState=S.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},S.queue=c,c=c.dispatch=sne.bind(null,fr,c),[S.memoizedState,c]},useRef:function(c){var d=ql();return c={current:c},d.memoizedState=c},useState:L4,useDebugValue:aP,useDeferredValue:function(c){return ql().memoizedState=c},useTransition:function(){var c=L4(!1),d=c[0];return c=rne.bind(null,c[1]),ql().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,g){var S=fr,R=ql();if(nr){if(g===void 0)throw Error(t(407));g=g()}else{if(g=d(),gs===null)throw Error(t(349));(rp&30)!==0||k4(S,d,g)}R.memoizedState=g;var N={value:g,getSnapshot:d};return R.queue=N,F4(D4.bind(null,S,N,c),[c]),S.flags|=2048,Kw(9,P4.bind(null,S,N,g,d),void 0,null),g},useId:function(){var c=ql(),d=gs.identifierPrefix;if(nr){var g=nu,S=tu;g=(S&~(1<<32-yi(S)-1)).toString(32)+g,d=":"+d+"R"+g,g=qw++,0<g&&(d+="H"+g.toString(32)),d+=":"}else g=nne++,d=":"+d+"r"+g.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},ane={readContext:ia,useCallback:V4,useContext:ia,useEffect:oP,useImperativeHandle:U4,useInsertionEffect:B4,useLayoutEffect:$4,useMemo:H4,useReducer:sP,useRef:N4,useState:function(){return sP(Gw)},useDebugValue:aP,useDeferredValue:function(c){var d=oa();return z4(d,Qr.memoizedState,c)},useTransition:function(){var c=sP(Gw)[0],d=oa().memoizedState;return[c,d]},useMutableSource:R4,useSyncExternalStore:I4,useId:W4,unstable_isNewReconciler:!1},lne={readContext:ia,useCallback:V4,useContext:ia,useEffect:oP,useImperativeHandle:U4,useInsertionEffect:B4,useLayoutEffect:$4,useMemo:H4,useReducer:iP,useRef:N4,useState:function(){return iP(Gw)},useDebugValue:aP,useDeferredValue:function(c){var d=oa();return Qr===null?d.memoizedState=c:z4(d,Qr.memoizedState,c)},useTransition:function(){var c=iP(Gw)[0],d=oa().memoizedState;return[c,d]},useMutableSource:R4,useSyncExternalStore:I4,useId:W4,unstable_isNewReconciler:!1};function rl(c,d){if(c&&c.defaultProps){d=de({},d),c=c.defaultProps;for(var g in c)d[g]===void 0&&(d[g]=c[g]);return d}return d}function lP(c,d,g,S){d=c.memoizedState,g=g(S,d),g=g==null?d:de({},d,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var jC={isMounted:function(c){return(c=c._reactInternals)?Ka(c)===c:!1},enqueueSetState:function(c,d,g){c=c._reactInternals;var S=bi(),R=Zd(c),N=su(S,R);N.payload=d,g!=null&&(N.callback=g),d=Yd(c,N,R),d!==null&&(ol(d,c,R,S),DC(d,c,R))},enqueueReplaceState:function(c,d,g){c=c._reactInternals;var S=bi(),R=Zd(c),N=su(S,R);N.tag=1,N.payload=d,g!=null&&(N.callback=g),d=Yd(c,N,R),d!==null&&(ol(d,c,R,S),DC(d,c,R))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var g=bi(),S=Zd(c),R=su(g,S);R.tag=2,d!=null&&(R.callback=d),d=Yd(c,R,S),d!==null&&(ol(d,c,S,g),DC(d,c,S))}};function Y4(c,d,g,S,R,N,W){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(S,N,W):d.prototype&&d.prototype.isPureReactComponent?!Ow(g,S)||!Ow(R,N):!0}function X4(c,d,g){var S=!1,R=qd,N=d.contextType;return typeof N=="object"&&N!==null?N=ia(N):(R=Ni(d)?Qf:Ks.current,S=d.contextTypes,N=(S=S!=null)?Zg(c,R):qd),d=new d(g,N),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jC,c.stateNode=d,d._reactInternals=c,S&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=R,c.__reactInternalMemoizedMaskedChildContext=N),d}function J4(c,d,g,S){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,S),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,S),d.state!==c&&jC.enqueueReplaceState(d,d.state,null)}function cP(c,d,g,S){var R=c.stateNode;R.props=g,R.state=c.memoizedState,R.refs={},Yk(c);var N=d.contextType;typeof N=="object"&&N!==null?R.context=ia(N):(N=Ni(d)?Qf:Ks.current,R.context=Zg(c,N)),R.state=c.memoizedState,N=d.getDerivedStateFromProps,typeof N=="function"&&(lP(c,d,N,g),R.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(d=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),d!==R.state&&jC.enqueueReplaceState(R,R.state,null),MC(c,g,R,S),R.state=c.memoizedState),typeof R.componentDidMount=="function"&&(c.flags|=4194308)}function ay(c,d){try{var g="",S=d;do g+=ce(S),S=S.return;while(S);var R=g}catch(N){R=`
Error generating stack: `+N.message+`
`+N.stack}return{value:c,source:d,stack:R,digest:null}}function uP(c,d,g){return{value:c,source:null,stack:g??null,digest:d??null}}function dP(c,d){try{console.error(d.value)}catch(g){setTimeout(function(){throw g})}}var cne=typeof WeakMap=="function"?WeakMap:Map;function Q4(c,d,g){g=su(-1,g),g.tag=3,g.payload={element:null};var S=d.value;return g.callback=function(){GC||(GC=!0,xP=S),dP(c,d)},g}function Z4(c,d,g){g=su(-1,g),g.tag=3;var S=c.type.getDerivedStateFromError;if(typeof S=="function"){var R=d.value;g.payload=function(){return S(R)},g.callback=function(){dP(c,d)}}var N=c.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(g.callback=function(){dP(c,d),typeof S!="function"&&(Jd===null?Jd=new Set([this]):Jd.add(this));var W=d.stack;this.componentDidCatch(d.value,{componentStack:W!==null?W:""})}),g}function eV(c,d,g){var S=c.pingCache;if(S===null){S=c.pingCache=new cne;var R=new Set;S.set(d,R)}else R=S.get(d),R===void 0&&(R=new Set,S.set(d,R));R.has(g)||(R.add(g),c=Ene.bind(null,c,d,g),d.then(c,c))}function tV(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function nV(c,d,g,S,R){return(c.mode&1)===0?(c===d?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(d=su(-1,1),d.tag=2,Yd(g,d,1))),g.lanes|=1),c):(c.flags|=65536,c.lanes=R,c)}var une=A.ReactCurrentOwner,Fi=!1;function wi(c,d,g,S){d.child=c===null?S4(d,null,g,S):ry(d,c.child,g,S)}function rV(c,d,g,S,R){g=g.render;var N=d.ref;return iy(d,R),S=nP(c,d,g,S,N,R),g=rP(),c!==null&&!Fi?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~R,iu(c,d,R)):(nr&&g&&$k(d),d.flags|=1,wi(c,d,S,R),d.child)}function sV(c,d,g,S,R){if(c===null){var N=g.type;return typeof N=="function"&&!MP(N)&&N.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(d.tag=15,d.type=N,iV(c,d,N,S,R)):(c=ZC(g.type,null,S,d,d.mode,R),c.ref=d.ref,c.return=d,d.child=c)}if(N=c.child,(c.lanes&R)===0){var W=N.memoizedProps;if(g=g.compare,g=g!==null?g:Ow,g(W,S)&&c.ref===d.ref)return iu(c,d,R)}return d.flags|=1,c=th(N,S),c.ref=d.ref,c.return=d,d.child=c}function iV(c,d,g,S,R){if(c!==null){var N=c.memoizedProps;if(Ow(N,S)&&c.ref===d.ref)if(Fi=!1,d.pendingProps=S=N,(c.lanes&R)!==0)(c.flags&131072)!==0&&(Fi=!0);else return d.lanes=c.lanes,iu(c,d,R)}return hP(c,d,g,S,R)}function oV(c,d,g){var S=d.pendingProps,R=S.children,N=c!==null?c.memoizedState:null;if(S.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vn(cy,bo),bo|=g;else{if((g&1073741824)===0)return c=N!==null?N.baseLanes|g:g,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,Vn(cy,bo),bo|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=N!==null?N.baseLanes:g,Vn(cy,bo),bo|=S}else N!==null?(S=N.baseLanes|g,d.memoizedState=null):S=g,Vn(cy,bo),bo|=S;return wi(c,d,R,g),d.child}function aV(c,d){var g=d.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(d.flags|=512,d.flags|=2097152)}function hP(c,d,g,S,R){var N=Ni(g)?Qf:Ks.current;return N=Zg(d,N),iy(d,R),g=nP(c,d,g,S,N,R),S=rP(),c!==null&&!Fi?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~R,iu(c,d,R)):(nr&&S&&$k(d),d.flags|=1,wi(c,d,g,R),d.child)}function lV(c,d,g,S,R){if(Ni(g)){var N=!0;CC(d)}else N=!1;if(iy(d,R),d.stateNode===null)VC(c,d),X4(d,g,S),cP(d,g,S,R),S=!0;else if(c===null){var W=d.stateNode,X=d.memoizedProps;W.props=X;var re=W.context,he=g.contextType;typeof he=="object"&&he!==null?he=ia(he):(he=Ni(g)?Qf:Ks.current,he=Zg(d,he));var Se=g.getDerivedStateFromProps,Te=typeof Se=="function"||typeof W.getSnapshotBeforeUpdate=="function";Te||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(X!==S||re!==he)&&J4(d,W,S,he),Kd=!1;var _e=d.memoizedState;W.state=_e,MC(d,S,W,R),re=d.memoizedState,X!==S||_e!==re||Li.current||Kd?(typeof Se=="function"&&(lP(d,g,Se,S),re=d.memoizedState),(X=Kd||Y4(d,g,X,S,_e,re,he))?(Te||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(d.flags|=4194308)):(typeof W.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=S,d.memoizedState=re),W.props=S,W.state=re,W.context=he,S=X):(typeof W.componentDidMount=="function"&&(d.flags|=4194308),S=!1)}else{W=d.stateNode,C4(c,d),X=d.memoizedProps,he=d.type===d.elementType?X:rl(d.type,X),W.props=he,Te=d.pendingProps,_e=W.context,re=g.contextType,typeof re=="object"&&re!==null?re=ia(re):(re=Ni(g)?Qf:Ks.current,re=Zg(d,re));var $e=g.getDerivedStateFromProps;(Se=typeof $e=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(X!==Te||_e!==re)&&J4(d,W,S,re),Kd=!1,_e=d.memoizedState,W.state=_e,MC(d,S,W,R);var Xe=d.memoizedState;X!==Te||_e!==Xe||Li.current||Kd?(typeof $e=="function"&&(lP(d,g,$e,S),Xe=d.memoizedState),(he=Kd||Y4(d,g,he,S,_e,Xe,re)||!1)?(Se||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(S,Xe,re),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(S,Xe,re)),typeof W.componentDidUpdate=="function"&&(d.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof W.componentDidUpdate!="function"||X===c.memoizedProps&&_e===c.memoizedState||(d.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||X===c.memoizedProps&&_e===c.memoizedState||(d.flags|=1024),d.memoizedProps=S,d.memoizedState=Xe),W.props=S,W.state=Xe,W.context=re,S=he):(typeof W.componentDidUpdate!="function"||X===c.memoizedProps&&_e===c.memoizedState||(d.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||X===c.memoizedProps&&_e===c.memoizedState||(d.flags|=1024),S=!1)}return fP(c,d,g,S,N,R)}function fP(c,d,g,S,R,N){aV(c,d);var W=(d.flags&128)!==0;if(!S&&!W)return R&&f4(d,g,!1),iu(c,d,N);S=d.stateNode,une.current=d;var X=W&&typeof g.getDerivedStateFromError!="function"?null:S.render();return d.flags|=1,c!==null&&W?(d.child=ry(d,c.child,null,N),d.child=ry(d,null,X,N)):wi(c,d,X,N),d.memoizedState=S.state,R&&f4(d,g,!0),d.child}function cV(c){var d=c.stateNode;d.pendingContext?d4(c,d.pendingContext,d.pendingContext!==d.context):d.context&&d4(c,d.context,!1),Xk(c,d.containerInfo)}function uV(c,d,g,S,R){return ny(),Hk(R),d.flags|=256,wi(c,d,g,S),d.child}var pP={dehydrated:null,treeContext:null,retryLane:0};function mP(c){return{baseLanes:c,cachePool:null,transitions:null}}function dV(c,d,g){var S=d.pendingProps,R=hr.current,N=!1,W=(d.flags&128)!==0,X;if((X=W)||(X=c!==null&&c.memoizedState===null?!1:(R&2)!==0),X?(N=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(R|=1),Vn(hr,R&1),c===null)return Vk(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((d.mode&1)===0?d.lanes=1:c.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(W=S.children,c=S.fallback,N?(S=d.mode,N=d.child,W={mode:"hidden",children:W},(S&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=W):N=eT(W,S,0,null),c=lp(c,S,g,null),N.return=d,c.return=d,N.sibling=c,d.child=N,d.child.memoizedState=mP(g),d.memoizedState=pP,c):gP(d,W));if(R=c.memoizedState,R!==null&&(X=R.dehydrated,X!==null))return dne(c,d,W,S,X,R,g);if(N){N=S.fallback,W=d.mode,R=c.child,X=R.sibling;var re={mode:"hidden",children:S.children};return(W&1)===0&&d.child!==R?(S=d.child,S.childLanes=0,S.pendingProps=re,d.deletions=null):(S=th(R,re),S.subtreeFlags=R.subtreeFlags&14680064),X!==null?N=th(X,N):(N=lp(N,W,g,null),N.flags|=2),N.return=d,S.return=d,S.sibling=N,d.child=S,S=N,N=d.child,W=c.child.memoizedState,W=W===null?mP(g):{baseLanes:W.baseLanes|g,cachePool:null,transitions:W.transitions},N.memoizedState=W,N.childLanes=c.childLanes&~g,d.memoizedState=pP,S}return N=c.child,c=N.sibling,S=th(N,{mode:"visible",children:S.children}),(d.mode&1)===0&&(S.lanes=g),S.return=d,S.sibling=null,c!==null&&(g=d.deletions,g===null?(d.deletions=[c],d.flags|=16):g.push(c)),d.child=S,d.memoizedState=null,S}function gP(c,d){return d=eT({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function UC(c,d,g,S){return S!==null&&Hk(S),ry(d,c.child,null,g),c=gP(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function dne(c,d,g,S,R,N,W){if(g)return d.flags&256?(d.flags&=-257,S=uP(Error(t(422))),UC(c,d,W,S)):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(N=S.fallback,R=d.mode,S=eT({mode:"visible",children:S.children},R,0,null),N=lp(N,R,W,null),N.flags|=2,S.return=d,N.return=d,S.sibling=N,d.child=S,(d.mode&1)!==0&&ry(d,c.child,null,W),d.child.memoizedState=mP(W),d.memoizedState=pP,N);if((d.mode&1)===0)return UC(c,d,W,null);if(R.data==="$!"){if(S=R.nextSibling&&R.nextSibling.dataset,S)var X=S.dgst;return S=X,N=Error(t(419)),S=uP(N,S,void 0),UC(c,d,W,S)}if(X=(W&c.childLanes)!==0,Fi||X){if(S=gs,S!==null){switch(W&-W){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(S.suspendedLanes|W))!==0?0:R,R!==0&&R!==N.retryLane&&(N.retryLane=R,ru(c,R),ol(S,c,R,-1))}return DP(),S=uP(Error(t(421))),UC(c,d,W,S)}return R.data==="$?"?(d.flags|=128,d.child=c.child,d=Cne.bind(null,c),R._reactRetry=d,null):(c=N.treeContext,wo=zd(R.nextSibling),vo=d,nr=!0,nl=null,c!==null&&(ra[sa++]=tu,ra[sa++]=nu,ra[sa++]=Zf,tu=c.id,nu=c.overflow,Zf=d),d=gP(d,S.children),d.flags|=4096,d)}function hV(c,d,g){c.lanes|=d;var S=c.alternate;S!==null&&(S.lanes|=d),Gk(c.return,d,g)}function yP(c,d,g,S,R){var N=c.memoizedState;N===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:S,tail:g,tailMode:R}:(N.isBackwards=d,N.rendering=null,N.renderingStartTime=0,N.last=S,N.tail=g,N.tailMode=R)}function fV(c,d,g){var S=d.pendingProps,R=S.revealOrder,N=S.tail;if(wi(c,d,S.children,g),S=hr.current,(S&2)!==0)S=S&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&hV(c,g,d);else if(c.tag===19)hV(c,g,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}S&=1}if(Vn(hr,S),(d.mode&1)===0)d.memoizedState=null;else switch(R){case"forwards":for(g=d.child,R=null;g!==null;)c=g.alternate,c!==null&&OC(c)===null&&(R=g),g=g.sibling;g=R,g===null?(R=d.child,d.child=null):(R=g.sibling,g.sibling=null),yP(d,!1,R,g,N);break;case"backwards":for(g=null,R=d.child,d.child=null;R!==null;){if(c=R.alternate,c!==null&&OC(c)===null){d.child=R;break}c=R.sibling,R.sibling=g,g=R,R=c}yP(d,!0,g,null,N);break;case"together":yP(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function VC(c,d){(d.mode&1)===0&&c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2)}function iu(c,d,g){if(c!==null&&(d.dependencies=c.dependencies),sp|=d.lanes,(g&d.childLanes)===0)return null;if(c!==null&&d.child!==c.child)throw Error(t(153));if(d.child!==null){for(c=d.child,g=th(c,c.pendingProps),d.child=g,g.return=d;c.sibling!==null;)c=c.sibling,g=g.sibling=th(c,c.pendingProps),g.return=d;g.sibling=null}return d.child}function hne(c,d,g){switch(d.tag){case 3:cV(d),ny();break;case 5:A4(d);break;case 1:Ni(d.type)&&CC(d);break;case 4:Xk(d,d.stateNode.containerInfo);break;case 10:var S=d.type._context,R=d.memoizedProps.value;Vn(kC,S._currentValue),S._currentValue=R;break;case 13:if(S=d.memoizedState,S!==null)return S.dehydrated!==null?(Vn(hr,hr.current&1),d.flags|=128,null):(g&d.child.childLanes)!==0?dV(c,d,g):(Vn(hr,hr.current&1),c=iu(c,d,g),c!==null?c.sibling:null);Vn(hr,hr.current&1);break;case 19:if(S=(g&d.childLanes)!==0,(c.flags&128)!==0){if(S)return fV(c,d,g);d.flags|=128}if(R=d.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Vn(hr,hr.current),S)break;return null;case 22:case 23:return d.lanes=0,oV(c,d,g)}return iu(c,d,g)}var pV,vP,mV,gV;pV=function(c,d){for(var g=d.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},vP=function(){},mV=function(c,d,g,S){var R=c.memoizedProps;if(R!==S){c=d.stateNode,np(Wl.current);var N=null;switch(g){case"input":R=Ye(c,R),S=Ye(c,S),N=[];break;case"select":R=de({},R,{value:void 0}),S=de({},S,{value:void 0}),N=[];break;case"textarea":R=Le(c,R),S=Le(c,S),N=[];break;default:typeof R.onClick!="function"&&typeof S.onClick=="function"&&(c.onclick=_C)}Yt(g,S);var W;g=null;for(he in R)if(!S.hasOwnProperty(he)&&R.hasOwnProperty(he)&&R[he]!=null)if(he==="style"){var X=R[he];for(W in X)X.hasOwnProperty(W)&&(g||(g={}),g[W]="")}else he!=="dangerouslySetInnerHTML"&&he!=="children"&&he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&he!=="autoFocus"&&(s.hasOwnProperty(he)?N||(N=[]):(N=N||[]).push(he,null));for(he in S){var re=S[he];if(X=R!=null?R[he]:void 0,S.hasOwnProperty(he)&&re!==X&&(re!=null||X!=null))if(he==="style")if(X){for(W in X)!X.hasOwnProperty(W)||re&&re.hasOwnProperty(W)||(g||(g={}),g[W]="");for(W in re)re.hasOwnProperty(W)&&X[W]!==re[W]&&(g||(g={}),g[W]=re[W])}else g||(N||(N=[]),N.push(he,g)),g=re;else he==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,X=X?X.__html:void 0,re!=null&&X!==re&&(N=N||[]).push(he,re)):he==="children"?typeof re!="string"&&typeof re!="number"||(N=N||[]).push(he,""+re):he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&(s.hasOwnProperty(he)?(re!=null&&he==="onScroll"&&Kn("scroll",c),N||X===re||(N=[])):(N=N||[]).push(he,re))}g&&(N=N||[]).push("style",g);var he=N;(d.updateQueue=he)&&(d.flags|=4)}},gV=function(c,d,g,S){g!==S&&(d.flags|=4)};function Yw(c,d){if(!nr)switch(c.tailMode){case"hidden":d=c.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:S.sibling=null}}function Xs(c){var d=c.alternate!==null&&c.alternate.child===c.child,g=0,S=0;if(d)for(var R=c.child;R!==null;)g|=R.lanes|R.childLanes,S|=R.subtreeFlags&14680064,S|=R.flags&14680064,R.return=c,R=R.sibling;else for(R=c.child;R!==null;)g|=R.lanes|R.childLanes,S|=R.subtreeFlags,S|=R.flags,R.return=c,R=R.sibling;return c.subtreeFlags|=S,c.childLanes=g,d}function fne(c,d,g){var S=d.pendingProps;switch(jk(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(d),null;case 1:return Ni(d.type)&&EC(),Xs(d),null;case 3:return S=d.stateNode,oy(),Yn(Li),Yn(Ks),Zk(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(c===null||c.child===null)&&(RC(d)?d.flags|=4:c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,nl!==null&&(IP(nl),nl=null))),vP(c,d),Xs(d),null;case 5:Jk(d);var R=np(zw.current);if(g=d.type,c!==null&&d.stateNode!=null)mV(c,d,g,S,R),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!S){if(d.stateNode===null)throw Error(t(166));return Xs(d),null}if(c=np(Wl.current),RC(d)){S=d.stateNode,g=d.type;var N=d.memoizedProps;switch(S[zl]=d,S[$w]=N,c=(d.mode&1)!==0,g){case"dialog":Kn("cancel",S),Kn("close",S);break;case"iframe":case"object":case"embed":Kn("load",S);break;case"video":case"audio":for(R=0;R<Nw.length;R++)Kn(Nw[R],S);break;case"source":Kn("error",S);break;case"img":case"image":case"link":Kn("error",S),Kn("load",S);break;case"details":Kn("toggle",S);break;case"input":Ue(S,N),Kn("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!N.multiple},Kn("invalid",S);break;case"textarea":$t(S,N),Kn("invalid",S)}Yt(g,N),R=null;for(var W in N)if(N.hasOwnProperty(W)){var X=N[W];W==="children"?typeof X=="string"?S.textContent!==X&&(N.suppressHydrationWarning!==!0&&bC(S.textContent,X,c),R=["children",X]):typeof X=="number"&&S.textContent!==""+X&&(N.suppressHydrationWarning!==!0&&bC(S.textContent,X,c),R=["children",""+X]):s.hasOwnProperty(W)&&X!=null&&W==="onScroll"&&Kn("scroll",S)}switch(g){case"input":Je(S),_t(S,N,!0);break;case"textarea":Je(S),qn(S);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(S.onclick=_C)}S=R,d.updateQueue=S,S!==null&&(d.flags|=4)}else{W=R.nodeType===9?R:R.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Gt(g)),c==="http://www.w3.org/1999/xhtml"?g==="script"?(c=W.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof S.is=="string"?c=W.createElement(g,{is:S.is}):(c=W.createElement(g),g==="select"&&(W=c,S.multiple?W.multiple=!0:S.size&&(W.size=S.size))):c=W.createElementNS(c,g),c[zl]=d,c[$w]=S,pV(c,d,!1,!1),d.stateNode=c;e:{switch(W=Gn(g,S),g){case"dialog":Kn("cancel",c),Kn("close",c),R=S;break;case"iframe":case"object":case"embed":Kn("load",c),R=S;break;case"video":case"audio":for(R=0;R<Nw.length;R++)Kn(Nw[R],c);R=S;break;case"source":Kn("error",c),R=S;break;case"img":case"image":case"link":Kn("error",c),Kn("load",c),R=S;break;case"details":Kn("toggle",c),R=S;break;case"input":Ue(c,S),R=Ye(c,S),Kn("invalid",c);break;case"option":R=S;break;case"select":c._wrapperState={wasMultiple:!!S.multiple},R=de({},S,{value:void 0}),Kn("invalid",c);break;case"textarea":$t(c,S),R=Le(c,S),Kn("invalid",c);break;default:R=S}Yt(g,R),X=R;for(N in X)if(X.hasOwnProperty(N)){var re=X[N];N==="style"?Cn(c,re):N==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&Kt(c,re)):N==="children"?typeof re=="string"?(g!=="textarea"||re!=="")&&vn(c,re):typeof re=="number"&&vn(c,""+re):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(s.hasOwnProperty(N)?re!=null&&N==="onScroll"&&Kn("scroll",c):re!=null&&C(c,N,re,W))}switch(g){case"input":Je(c),_t(c,S,!1);break;case"textarea":Je(c),qn(c);break;case"option":S.value!=null&&c.setAttribute("value",""+ke(S.value));break;case"select":c.multiple=!!S.multiple,N=S.value,N!=null?mt(c,!!S.multiple,N,!1):S.defaultValue!=null&&mt(c,!!S.multiple,S.defaultValue,!0);break;default:typeof R.onClick=="function"&&(c.onclick=_C)}switch(g){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Xs(d),null;case 6:if(c&&d.stateNode!=null)gV(c,d,c.memoizedProps,S);else{if(typeof S!="string"&&d.stateNode===null)throw Error(t(166));if(g=np(zw.current),np(Wl.current),RC(d)){if(S=d.stateNode,g=d.memoizedProps,S[zl]=d,(N=S.nodeValue!==g)&&(c=vo,c!==null))switch(c.tag){case 3:bC(S.nodeValue,g,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&bC(S.nodeValue,g,(c.mode&1)!==0)}N&&(d.flags|=4)}else S=(g.nodeType===9?g:g.ownerDocument).createTextNode(S),S[zl]=d,d.stateNode=S}return Xs(d),null;case 13:if(Yn(hr),S=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(nr&&wo!==null&&(d.mode&1)!==0&&(d.flags&128)===0)w4(),ny(),d.flags|=98560,N=!1;else if(N=RC(d),S!==null&&S.dehydrated!==null){if(c===null){if(!N)throw Error(t(318));if(N=d.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(t(317));N[zl]=d}else ny(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Xs(d),N=!1}else nl!==null&&(IP(nl),nl=null),N=!0;if(!N)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=g,d):(S=S!==null,S!==(c!==null&&c.memoizedState!==null)&&S&&(d.child.flags|=8192,(d.mode&1)!==0&&(c===null||(hr.current&1)!==0?Zr===0&&(Zr=3):DP())),d.updateQueue!==null&&(d.flags|=4),Xs(d),null);case 4:return oy(),vP(c,d),c===null&&Fw(d.stateNode.containerInfo),Xs(d),null;case 10:return qk(d.type._context),Xs(d),null;case 17:return Ni(d.type)&&EC(),Xs(d),null;case 19:if(Yn(hr),N=d.memoizedState,N===null)return Xs(d),null;if(S=(d.flags&128)!==0,W=N.rendering,W===null)if(S)Yw(N,!1);else{if(Zr!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(W=OC(c),W!==null){for(d.flags|=128,Yw(N,!1),S=W.updateQueue,S!==null&&(d.updateQueue=S,d.flags|=4),d.subtreeFlags=0,S=g,g=d.child;g!==null;)N=g,c=S,N.flags&=14680066,W=N.alternate,W===null?(N.childLanes=0,N.lanes=c,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=W.childLanes,N.lanes=W.lanes,N.child=W.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=W.memoizedProps,N.memoizedState=W.memoizedState,N.updateQueue=W.updateQueue,N.type=W.type,c=W.dependencies,N.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),g=g.sibling;return Vn(hr,hr.current&1|2),d.child}c=c.sibling}N.tail!==null&&Un()>uy&&(d.flags|=128,S=!0,Yw(N,!1),d.lanes=4194304)}else{if(!S)if(c=OC(W),c!==null){if(d.flags|=128,S=!0,g=c.updateQueue,g!==null&&(d.updateQueue=g,d.flags|=4),Yw(N,!0),N.tail===null&&N.tailMode==="hidden"&&!W.alternate&&!nr)return Xs(d),null}else 2*Un()-N.renderingStartTime>uy&&g!==1073741824&&(d.flags|=128,S=!0,Yw(N,!1),d.lanes=4194304);N.isBackwards?(W.sibling=d.child,d.child=W):(g=N.last,g!==null?g.sibling=W:d.child=W,N.last=W)}return N.tail!==null?(d=N.tail,N.rendering=d,N.tail=d.sibling,N.renderingStartTime=Un(),d.sibling=null,g=hr.current,Vn(hr,S?g&1|2:g&1),d):(Xs(d),null);case 22:case 23:return PP(),S=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==S&&(d.flags|=8192),S&&(d.mode&1)!==0?(bo&1073741824)!==0&&(Xs(d),d.subtreeFlags&6&&(d.flags|=8192)):Xs(d),null;case 24:return null;case 25:return null}throw Error(t(156,d.tag))}function pne(c,d){switch(jk(d),d.tag){case 1:return Ni(d.type)&&EC(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return oy(),Yn(Li),Yn(Ks),Zk(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 5:return Jk(d),null;case 13:if(Yn(hr),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(t(340));ny()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return Yn(hr),null;case 4:return oy(),null;case 10:return qk(d.type._context),null;case 22:case 23:return PP(),null;case 24:return null;default:return null}}var HC=!1,Js=!1,mne=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function ly(c,d){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(S){br(c,d,S)}else g.current=null}function wP(c,d,g){try{g()}catch(S){br(c,d,S)}}var yV=!1;function gne(c,d){if(Pk=Ud,c=YU(),Ek(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var S=g.getSelection&&g.getSelection();if(S&&S.rangeCount!==0){g=S.anchorNode;var R=S.anchorOffset,N=S.focusNode;S=S.focusOffset;try{g.nodeType,N.nodeType}catch{g=null;break e}var W=0,X=-1,re=-1,he=0,Se=0,Te=c,_e=null;t:for(;;){for(var $e;Te!==g||R!==0&&Te.nodeType!==3||(X=W+R),Te!==N||S!==0&&Te.nodeType!==3||(re=W+S),Te.nodeType===3&&(W+=Te.nodeValue.length),($e=Te.firstChild)!==null;)_e=Te,Te=$e;for(;;){if(Te===c)break t;if(_e===g&&++he===R&&(X=W),_e===N&&++Se===S&&(re=W),($e=Te.nextSibling)!==null)break;Te=_e,_e=Te.parentNode}Te=$e}g=X===-1||re===-1?null:{start:X,end:re}}else g=null}g=g||{start:0,end:0}}else g=null;for(Dk={focusedElem:c,selectionRange:g},Ud=!1,Ge=d;Ge!==null;)if(d=Ge,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,Ge=c;else for(;Ge!==null;){d=Ge;try{var Xe=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Xe!==null){var Qe=Xe.memoizedProps,Mr=Xe.memoizedState,ae=d.stateNode,se=ae.getSnapshotBeforeUpdate(d.elementType===d.type?Qe:rl(d.type,Qe),Mr);ae.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var ue=d.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Re){br(d,d.return,Re)}if(c=d.sibling,c!==null){c.return=d.return,Ge=c;break}Ge=d.return}return Xe=yV,yV=!1,Xe}function Xw(c,d,g){var S=d.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var R=S=S.next;do{if((R.tag&c)===c){var N=R.destroy;R.destroy=void 0,N!==void 0&&wP(d,g,N)}R=R.next}while(R!==S)}}function zC(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&c)===c){var S=g.create;g.destroy=S()}g=g.next}while(g!==d)}}function bP(c){var d=c.ref;if(d!==null){var g=c.stateNode;switch(c.tag){case 5:c=g;break;default:c=g}typeof d=="function"?d(c):d.current=c}}function vV(c){var d=c.alternate;d!==null&&(c.alternate=null,vV(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&(delete d[zl],delete d[$w],delete d[Nk],delete d[Qte],delete d[Zte])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function wV(c){return c.tag===5||c.tag===3||c.tag===4}function bV(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||wV(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function _P(c,d,g){var S=c.tag;if(S===5||S===6)c=c.stateNode,d?g.nodeType===8?g.parentNode.insertBefore(c,d):g.insertBefore(c,d):(g.nodeType===8?(d=g.parentNode,d.insertBefore(c,g)):(d=g,d.appendChild(c)),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=_C));else if(S!==4&&(c=c.child,c!==null))for(_P(c,d,g),c=c.sibling;c!==null;)_P(c,d,g),c=c.sibling}function SP(c,d,g){var S=c.tag;if(S===5||S===6)c=c.stateNode,d?g.insertBefore(c,d):g.appendChild(c);else if(S!==4&&(c=c.child,c!==null))for(SP(c,d,g),c=c.sibling;c!==null;)SP(c,d,g),c=c.sibling}var Ps=null,sl=!1;function Xd(c,d,g){for(g=g.child;g!==null;)_V(c,d,g),g=g.sibling}function _V(c,d,g){if(po&&typeof po.onCommitFiberUnmount=="function")try{po.onCommitFiberUnmount(zf,g)}catch{}switch(g.tag){case 5:Js||ly(g,d);case 6:var S=Ps,R=sl;Ps=null,Xd(c,d,g),Ps=S,sl=R,Ps!==null&&(sl?(c=Ps,g=g.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)):Ps.removeChild(g.stateNode));break;case 18:Ps!==null&&(sl?(c=Ps,g=g.stateNode,c.nodeType===8?Lk(c.parentNode,g):c.nodeType===1&&Lk(c,g),Za(c)):Lk(Ps,g.stateNode));break;case 4:S=Ps,R=sl,Ps=g.stateNode.containerInfo,sl=!0,Xd(c,d,g),Ps=S,sl=R;break;case 0:case 11:case 14:case 15:if(!Js&&(S=g.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){R=S=S.next;do{var N=R,W=N.destroy;N=N.tag,W!==void 0&&((N&2)!==0||(N&4)!==0)&&wP(g,d,W),R=R.next}while(R!==S)}Xd(c,d,g);break;case 1:if(!Js&&(ly(g,d),S=g.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=g.memoizedProps,S.state=g.memoizedState,S.componentWillUnmount()}catch(X){br(g,d,X)}Xd(c,d,g);break;case 21:Xd(c,d,g);break;case 22:g.mode&1?(Js=(S=Js)||g.memoizedState!==null,Xd(c,d,g),Js=S):Xd(c,d,g);break;default:Xd(c,d,g)}}function SV(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new mne),d.forEach(function(S){var R=Tne.bind(null,c,S);g.has(S)||(g.add(S),S.then(R,R))})}}function il(c,d){var g=d.deletions;if(g!==null)for(var S=0;S<g.length;S++){var R=g[S];try{var N=c,W=d,X=W;e:for(;X!==null;){switch(X.tag){case 5:Ps=X.stateNode,sl=!1;break e;case 3:Ps=X.stateNode.containerInfo,sl=!0;break e;case 4:Ps=X.stateNode.containerInfo,sl=!0;break e}X=X.return}if(Ps===null)throw Error(t(160));_V(N,W,R),Ps=null,sl=!1;var re=R.alternate;re!==null&&(re.return=null),R.return=null}catch(he){br(R,d,he)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)EV(d,c),d=d.sibling}function EV(c,d){var g=c.alternate,S=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(il(d,c),Gl(c),S&4){try{Xw(3,c,c.return),zC(3,c)}catch(Qe){br(c,c.return,Qe)}try{Xw(5,c,c.return)}catch(Qe){br(c,c.return,Qe)}}break;case 1:il(d,c),Gl(c),S&512&&g!==null&&ly(g,g.return);break;case 5:if(il(d,c),Gl(c),S&512&&g!==null&&ly(g,g.return),c.flags&32){var R=c.stateNode;try{vn(R,"")}catch(Qe){br(c,c.return,Qe)}}if(S&4&&(R=c.stateNode,R!=null)){var N=c.memoizedProps,W=g!==null?g.memoizedProps:N,X=c.type,re=c.updateQueue;if(c.updateQueue=null,re!==null)try{X==="input"&&N.type==="radio"&&N.name!=null&&en(R,N),Gn(X,W);var he=Gn(X,N);for(W=0;W<re.length;W+=2){var Se=re[W],Te=re[W+1];Se==="style"?Cn(R,Te):Se==="dangerouslySetInnerHTML"?Kt(R,Te):Se==="children"?vn(R,Te):C(R,Se,Te,he)}switch(X){case"input":Be(R,N);break;case"textarea":qt(R,N);break;case"select":var _e=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!N.multiple;var $e=N.value;$e!=null?mt(R,!!N.multiple,$e,!1):_e!==!!N.multiple&&(N.defaultValue!=null?mt(R,!!N.multiple,N.defaultValue,!0):mt(R,!!N.multiple,N.multiple?[]:"",!1))}R[$w]=N}catch(Qe){br(c,c.return,Qe)}}break;case 6:if(il(d,c),Gl(c),S&4){if(c.stateNode===null)throw Error(t(162));R=c.stateNode,N=c.memoizedProps;try{R.nodeValue=N}catch(Qe){br(c,c.return,Qe)}}break;case 3:if(il(d,c),Gl(c),S&4&&g!==null&&g.memoizedState.isDehydrated)try{Za(d.containerInfo)}catch(Qe){br(c,c.return,Qe)}break;case 4:il(d,c),Gl(c);break;case 13:il(d,c),Gl(c),R=c.child,R.flags&8192&&(N=R.memoizedState!==null,R.stateNode.isHidden=N,!N||R.alternate!==null&&R.alternate.memoizedState!==null||(TP=Un())),S&4&&SV(c);break;case 22:if(Se=g!==null&&g.memoizedState!==null,c.mode&1?(Js=(he=Js)||Se,il(d,c),Js=he):il(d,c),Gl(c),S&8192){if(he=c.memoizedState!==null,(c.stateNode.isHidden=he)&&!Se&&(c.mode&1)!==0)for(Ge=c,Se=c.child;Se!==null;){for(Te=Ge=Se;Ge!==null;){switch(_e=Ge,$e=_e.child,_e.tag){case 0:case 11:case 14:case 15:Xw(4,_e,_e.return);break;case 1:ly(_e,_e.return);var Xe=_e.stateNode;if(typeof Xe.componentWillUnmount=="function"){S=_e,g=_e.return;try{d=S,Xe.props=d.memoizedProps,Xe.state=d.memoizedState,Xe.componentWillUnmount()}catch(Qe){br(S,g,Qe)}}break;case 5:ly(_e,_e.return);break;case 22:if(_e.memoizedState!==null){xV(Te);continue}}$e!==null?($e.return=_e,Ge=$e):xV(Te)}Se=Se.sibling}e:for(Se=null,Te=c;;){if(Te.tag===5){if(Se===null){Se=Te;try{R=Te.stateNode,he?(N=R.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(X=Te.stateNode,re=Te.memoizedProps.style,W=re!=null&&re.hasOwnProperty("display")?re.display:null,X.style.display=En("display",W))}catch(Qe){br(c,c.return,Qe)}}}else if(Te.tag===6){if(Se===null)try{Te.stateNode.nodeValue=he?"":Te.memoizedProps}catch(Qe){br(c,c.return,Qe)}}else if((Te.tag!==22&&Te.tag!==23||Te.memoizedState===null||Te===c)&&Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===c)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===c)break e;Se===Te&&(Se=null),Te=Te.return}Se===Te&&(Se=null),Te.sibling.return=Te.return,Te=Te.sibling}}break;case 19:il(d,c),Gl(c),S&4&&SV(c);break;case 21:break;default:il(d,c),Gl(c)}}function Gl(c){var d=c.flags;if(d&2){try{e:{for(var g=c.return;g!==null;){if(wV(g)){var S=g;break e}g=g.return}throw Error(t(160))}switch(S.tag){case 5:var R=S.stateNode;S.flags&32&&(vn(R,""),S.flags&=-33);var N=bV(c);SP(c,N,R);break;case 3:case 4:var W=S.stateNode.containerInfo,X=bV(c);_P(c,X,W);break;default:throw Error(t(161))}}catch(re){br(c,c.return,re)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function yne(c,d,g){Ge=c,CV(c)}function CV(c,d,g){for(var S=(c.mode&1)!==0;Ge!==null;){var R=Ge,N=R.child;if(R.tag===22&&S){var W=R.memoizedState!==null||HC;if(!W){var X=R.alternate,re=X!==null&&X.memoizedState!==null||Js;X=HC;var he=Js;if(HC=W,(Js=re)&&!he)for(Ge=R;Ge!==null;)W=Ge,re=W.child,W.tag===22&&W.memoizedState!==null?AV(R):re!==null?(re.return=W,Ge=re):AV(R);for(;N!==null;)Ge=N,CV(N),N=N.sibling;Ge=R,HC=X,Js=he}TV(c)}else(R.subtreeFlags&8772)!==0&&N!==null?(N.return=R,Ge=N):TV(c)}}function TV(c){for(;Ge!==null;){var d=Ge;if((d.flags&8772)!==0){var g=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Js||zC(5,d);break;case 1:var S=d.stateNode;if(d.flags&4&&!Js)if(g===null)S.componentDidMount();else{var R=d.elementType===d.type?g.memoizedProps:rl(d.type,g.memoizedProps);S.componentDidUpdate(R,g.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var N=d.updateQueue;N!==null&&x4(d,N,S);break;case 3:var W=d.updateQueue;if(W!==null){if(g=null,d.child!==null)switch(d.child.tag){case 5:g=d.child.stateNode;break;case 1:g=d.child.stateNode}x4(d,W,g)}break;case 5:var X=d.stateNode;if(g===null&&d.flags&4){g=X;var re=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&g.focus();break;case"img":re.src&&(g.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var he=d.alternate;if(he!==null){var Se=he.memoizedState;if(Se!==null){var Te=Se.dehydrated;Te!==null&&Za(Te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Js||d.flags&512&&bP(d)}catch(_e){br(d,d.return,_e)}}if(d===c){Ge=null;break}if(g=d.sibling,g!==null){g.return=d.return,Ge=g;break}Ge=d.return}}function xV(c){for(;Ge!==null;){var d=Ge;if(d===c){Ge=null;break}var g=d.sibling;if(g!==null){g.return=d.return,Ge=g;break}Ge=d.return}}function AV(c){for(;Ge!==null;){var d=Ge;try{switch(d.tag){case 0:case 11:case 15:var g=d.return;try{zC(4,d)}catch(re){br(d,g,re)}break;case 1:var S=d.stateNode;if(typeof S.componentDidMount=="function"){var R=d.return;try{S.componentDidMount()}catch(re){br(d,R,re)}}var N=d.return;try{bP(d)}catch(re){br(d,N,re)}break;case 5:var W=d.return;try{bP(d)}catch(re){br(d,W,re)}}}catch(re){br(d,d.return,re)}if(d===c){Ge=null;break}var X=d.sibling;if(X!==null){X.return=d.return,Ge=X;break}Ge=d.return}}var vne=Math.ceil,WC=A.ReactCurrentDispatcher,EP=A.ReactCurrentOwner,aa=A.ReactCurrentBatchConfig,on=0,gs=null,Hr=null,Ds=0,bo=0,cy=Wd(0),Zr=0,Jw=null,sp=0,qC=0,CP=0,Qw=null,Bi=null,TP=0,uy=1/0,ou=null,GC=!1,xP=null,Jd=null,KC=!1,Qd=null,YC=0,Zw=0,AP=null,XC=-1,JC=0;function bi(){return(on&6)!==0?Un():XC!==-1?XC:XC=Un()}function Zd(c){return(c.mode&1)===0?1:(on&2)!==0&&Ds!==0?Ds&-Ds:tne.transition!==null?(JC===0&&(JC=qf()),JC):(c=Xt,c!==0||(c=window.event,c=c===void 0?16:Aw(c.type)),c)}function ol(c,d,g,S){if(50<Zw)throw Zw=0,AP=null,Error(t(185));Fd(c,g,S),((on&2)===0||c!==gs)&&(c===gs&&((on&2)===0&&(qC|=g),Zr===4&&eh(c,Ds)),$i(c,S),g===1&&on===0&&(d.mode&1)===0&&(uy=Un()+500,TC&&Gd()))}function $i(c,d){var g=c.callbackNode;Kc(c,d);var S=Wf(c,c===gs?Ds:0);if(S===0)g!==null&&Sw(g),c.callbackNode=null,c.callbackPriority=0;else if(d=S&-S,c.callbackPriority!==d){if(g!=null&&Sw(g),d===1)c.tag===0?ene(IV.bind(null,c)):p4(IV.bind(null,c)),Xte(function(){(on&6)===0&&Gd()}),g=null;else{switch($d(S)){case 1:g=Hf;break;case 4:g=Od;break;case 16:g=ea;break;case 536870912:g=J1;break;default:g=ea}g=FV(g,RV.bind(null,c))}c.callbackPriority=d,c.callbackNode=g}}function RV(c,d){if(XC=-1,JC=0,(on&6)!==0)throw Error(t(327));var g=c.callbackNode;if(dy()&&c.callbackNode!==g)return null;var S=Wf(c,c===gs?Ds:0);if(S===0)return null;if((S&30)!==0||(S&c.expiredLanes)!==0||d)d=QC(c,S);else{d=S;var R=on;on|=2;var N=PV();(gs!==c||Ds!==d)&&(ou=null,uy=Un()+500,op(c,d));do try{_ne();break}catch(X){kV(c,X)}while(!0);Wk(),WC.current=N,on=R,Hr!==null?d=0:(gs=null,Ds=0,d=Zr)}if(d!==0){if(d===2&&(R=mo(c),R!==0&&(S=R,d=RP(c,R))),d===1)throw g=Jw,op(c,0),eh(c,S),$i(c,Un()),g;if(d===6)eh(c,S);else{if(R=c.current.alternate,(S&30)===0&&!wne(R)&&(d=QC(c,S),d===2&&(N=mo(c),N!==0&&(S=N,d=RP(c,N))),d===1))throw g=Jw,op(c,0),eh(c,S),$i(c,Un()),g;switch(c.finishedWork=R,c.finishedLanes=S,d){case 0:case 1:throw Error(t(345));case 2:ap(c,Bi,ou);break;case 3:if(eh(c,S),(S&130023424)===S&&(d=TP+500-Un(),10<d)){if(Wf(c,0)!==0)break;if(R=c.suspendedLanes,(R&S)!==S){bi(),c.pingedLanes|=c.suspendedLanes&R;break}c.timeoutHandle=Ok(ap.bind(null,c,Bi,ou),d);break}ap(c,Bi,ou);break;case 4:if(eh(c,S),(S&4194240)===S)break;for(d=c.eventTimes,R=-1;0<S;){var W=31-yi(S);N=1<<W,W=d[W],W>R&&(R=W),S&=~N}if(S=R,S=Un()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*vne(S/1960))-S,10<S){c.timeoutHandle=Ok(ap.bind(null,c,Bi,ou),S);break}ap(c,Bi,ou);break;case 5:ap(c,Bi,ou);break;default:throw Error(t(329))}}}return $i(c,Un()),c.callbackNode===g?RV.bind(null,c):null}function RP(c,d){var g=Qw;return c.current.memoizedState.isDehydrated&&(op(c,d).flags|=256),c=QC(c,d),c!==2&&(d=Bi,Bi=g,d!==null&&IP(d)),c}function IP(c){Bi===null?Bi=c:Bi.push.apply(Bi,c)}function wne(c){for(var d=c;;){if(d.flags&16384){var g=d.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var S=0;S<g.length;S++){var R=g[S],N=R.getSnapshot;R=R.value;try{if(!tl(N(),R))return!1}catch{return!1}}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function eh(c,d){for(d&=~CP,d&=~qC,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var g=31-yi(d),S=1<<g;c[g]=-1,d&=~S}}function IV(c){if((on&6)!==0)throw Error(t(327));dy();var d=Wf(c,0);if((d&1)===0)return $i(c,Un()),null;var g=QC(c,d);if(c.tag!==0&&g===2){var S=mo(c);S!==0&&(d=S,g=RP(c,S))}if(g===1)throw g=Jw,op(c,0),eh(c,d),$i(c,Un()),g;if(g===6)throw Error(t(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,ap(c,Bi,ou),$i(c,Un()),null}function kP(c,d){var g=on;on|=1;try{return c(d)}finally{on=g,on===0&&(uy=Un()+500,TC&&Gd())}}function ip(c){Qd!==null&&Qd.tag===0&&(on&6)===0&&dy();var d=on;on|=1;var g=aa.transition,S=Xt;try{if(aa.transition=null,Xt=1,c)return c()}finally{Xt=S,aa.transition=g,on=d,(on&6)===0&&Gd()}}function PP(){bo=cy.current,Yn(cy)}function op(c,d){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==-1&&(c.timeoutHandle=-1,Yte(g)),Hr!==null)for(g=Hr.return;g!==null;){var S=g;switch(jk(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&EC();break;case 3:oy(),Yn(Li),Yn(Ks),Zk();break;case 5:Jk(S);break;case 4:oy();break;case 13:Yn(hr);break;case 19:Yn(hr);break;case 10:qk(S.type._context);break;case 22:case 23:PP()}g=g.return}if(gs=c,Hr=c=th(c.current,null),Ds=bo=d,Zr=0,Jw=null,CP=qC=sp=0,Bi=Qw=null,tp!==null){for(d=0;d<tp.length;d++)if(g=tp[d],S=g.interleaved,S!==null){g.interleaved=null;var R=S.next,N=g.pending;if(N!==null){var W=N.next;N.next=R,S.next=W}g.pending=S}tp=null}return c}function kV(c,d){do{var g=Hr;try{if(Wk(),LC.current=$C,NC){for(var S=fr.memoizedState;S!==null;){var R=S.queue;R!==null&&(R.pending=null),S=S.next}NC=!1}if(rp=0,ms=Qr=fr=null,Ww=!1,qw=0,EP.current=null,g===null||g.return===null){Zr=1,Jw=d,Hr=null;break}e:{var N=c,W=g.return,X=g,re=d;if(d=Ds,X.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var he=re,Se=X,Te=Se.tag;if((Se.mode&1)===0&&(Te===0||Te===11||Te===15)){var _e=Se.alternate;_e?(Se.updateQueue=_e.updateQueue,Se.memoizedState=_e.memoizedState,Se.lanes=_e.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var $e=tV(W);if($e!==null){$e.flags&=-257,nV($e,W,X,N,d),$e.mode&1&&eV(N,he,d),d=$e,re=he;var Xe=d.updateQueue;if(Xe===null){var Qe=new Set;Qe.add(re),d.updateQueue=Qe}else Xe.add(re);break e}else{if((d&1)===0){eV(N,he,d),DP();break e}re=Error(t(426))}}else if(nr&&X.mode&1){var Mr=tV(W);if(Mr!==null){(Mr.flags&65536)===0&&(Mr.flags|=256),nV(Mr,W,X,N,d),Hk(ay(re,X));break e}}N=re=ay(re,X),Zr!==4&&(Zr=2),Qw===null?Qw=[N]:Qw.push(N),N=W;do{switch(N.tag){case 3:N.flags|=65536,d&=-d,N.lanes|=d;var ae=Q4(N,re,d);T4(N,ae);break e;case 1:X=re;var se=N.type,ue=N.stateNode;if((N.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Jd===null||!Jd.has(ue)))){N.flags|=65536,d&=-d,N.lanes|=d;var Re=Z4(N,X,d);T4(N,Re);break e}}N=N.return}while(N!==null)}MV(g)}catch(et){d=et,Hr===g&&g!==null&&(Hr=g=g.return);continue}break}while(!0)}function PV(){var c=WC.current;return WC.current=$C,c===null?$C:c}function DP(){(Zr===0||Zr===3||Zr===2)&&(Zr=4),gs===null||(sp&268435455)===0&&(qC&268435455)===0||eh(gs,Ds)}function QC(c,d){var g=on;on|=2;var S=PV();(gs!==c||Ds!==d)&&(ou=null,op(c,d));do try{bne();break}catch(R){kV(c,R)}while(!0);if(Wk(),on=g,WC.current=S,Hr!==null)throw Error(t(261));return gs=null,Ds=0,Zr}function bne(){for(;Hr!==null;)DV(Hr)}function _ne(){for(;Hr!==null&&!Y1();)DV(Hr)}function DV(c){var d=NV(c.alternate,c,bo);c.memoizedProps=c.pendingProps,d===null?MV(c):Hr=d,EP.current=null}function MV(c){var d=c;do{var g=d.alternate;if(c=d.return,(d.flags&32768)===0){if(g=fne(g,d,bo),g!==null){Hr=g;return}}else{if(g=pne(g,d),g!==null){g.flags&=32767,Hr=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Zr=6,Hr=null;return}}if(d=d.sibling,d!==null){Hr=d;return}Hr=d=c}while(d!==null);Zr===0&&(Zr=5)}function ap(c,d,g){var S=Xt,R=aa.transition;try{aa.transition=null,Xt=1,Sne(c,d,g,S)}finally{aa.transition=R,Xt=S}return null}function Sne(c,d,g,S){do dy();while(Qd!==null);if((on&6)!==0)throw Error(t(327));g=c.finishedWork;var R=c.finishedLanes;if(g===null)return null;if(c.finishedWork=null,c.finishedLanes=0,g===c.current)throw Error(t(177));c.callbackNode=null,c.callbackPriority=0;var N=g.lanes|g.childLanes;if(Mn(c,N),c===gs&&(Hr=gs=null,Ds=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||KC||(KC=!0,FV(ea,function(){return dy(),null})),N=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||N){N=aa.transition,aa.transition=null;var W=Xt;Xt=1;var X=on;on|=4,EP.current=null,gne(c,g),EV(g,c),Vte(Dk),Ud=!!Pk,Dk=Pk=null,c.current=g,yne(g),mk(),on=X,Xt=W,aa.transition=N}else c.current=g;if(KC&&(KC=!1,Qd=c,YC=R),N=c.pendingLanes,N===0&&(Jd=null),Q1(g.stateNode),$i(c,Un()),d!==null)for(S=c.onRecoverableError,g=0;g<d.length;g++)R=d[g],S(R.value,{componentStack:R.stack,digest:R.digest});if(GC)throw GC=!1,c=xP,xP=null,c;return(YC&1)!==0&&c.tag!==0&&dy(),N=c.pendingLanes,(N&1)!==0?c===AP?Zw++:(Zw=0,AP=c):Zw=0,Gd(),null}function dy(){if(Qd!==null){var c=$d(YC),d=aa.transition,g=Xt;try{if(aa.transition=null,Xt=16>c?16:c,Qd===null)var S=!1;else{if(c=Qd,Qd=null,YC=0,(on&6)!==0)throw Error(t(331));var R=on;for(on|=4,Ge=c.current;Ge!==null;){var N=Ge,W=N.child;if((Ge.flags&16)!==0){var X=N.deletions;if(X!==null){for(var re=0;re<X.length;re++){var he=X[re];for(Ge=he;Ge!==null;){var Se=Ge;switch(Se.tag){case 0:case 11:case 15:Xw(8,Se,N)}var Te=Se.child;if(Te!==null)Te.return=Se,Ge=Te;else for(;Ge!==null;){Se=Ge;var _e=Se.sibling,$e=Se.return;if(vV(Se),Se===he){Ge=null;break}if(_e!==null){_e.return=$e,Ge=_e;break}Ge=$e}}}var Xe=N.alternate;if(Xe!==null){var Qe=Xe.child;if(Qe!==null){Xe.child=null;do{var Mr=Qe.sibling;Qe.sibling=null,Qe=Mr}while(Qe!==null)}}Ge=N}}if((N.subtreeFlags&2064)!==0&&W!==null)W.return=N,Ge=W;else e:for(;Ge!==null;){if(N=Ge,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:Xw(9,N,N.return)}var ae=N.sibling;if(ae!==null){ae.return=N.return,Ge=ae;break e}Ge=N.return}}var se=c.current;for(Ge=se;Ge!==null;){W=Ge;var ue=W.child;if((W.subtreeFlags&2064)!==0&&ue!==null)ue.return=W,Ge=ue;else e:for(W=se;Ge!==null;){if(X=Ge,(X.flags&2048)!==0)try{switch(X.tag){case 0:case 11:case 15:zC(9,X)}}catch(et){br(X,X.return,et)}if(X===W){Ge=null;break e}var Re=X.sibling;if(Re!==null){Re.return=X.return,Ge=Re;break e}Ge=X.return}}if(on=R,Gd(),po&&typeof po.onPostCommitFiberRoot=="function")try{po.onPostCommitFiberRoot(zf,c)}catch{}S=!0}return S}finally{Xt=g,aa.transition=d}}return!1}function OV(c,d,g){d=ay(g,d),d=Q4(c,d,1),c=Yd(c,d,1),d=bi(),c!==null&&(Fd(c,1,d),$i(c,d))}function br(c,d,g){if(c.tag===3)OV(c,c,g);else for(;d!==null;){if(d.tag===3){OV(d,c,g);break}else if(d.tag===1){var S=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Jd===null||!Jd.has(S))){c=ay(g,c),c=Z4(d,c,1),d=Yd(d,c,1),c=bi(),d!==null&&(Fd(d,1,c),$i(d,c));break}}d=d.return}}function Ene(c,d,g){var S=c.pingCache;S!==null&&S.delete(d),d=bi(),c.pingedLanes|=c.suspendedLanes&g,gs===c&&(Ds&g)===g&&(Zr===4||Zr===3&&(Ds&130023424)===Ds&&500>Un()-TP?op(c,0):CP|=g),$i(c,d)}function LV(c,d){d===0&&((c.mode&1)===0?d=1:(d=Og,Og<<=1,(Og&130023424)===0&&(Og=4194304)));var g=bi();c=ru(c,d),c!==null&&(Fd(c,d,g),$i(c,g))}function Cne(c){var d=c.memoizedState,g=0;d!==null&&(g=d.retryLane),LV(c,g)}function Tne(c,d){var g=0;switch(c.tag){case 13:var S=c.stateNode,R=c.memoizedState;R!==null&&(g=R.retryLane);break;case 19:S=c.stateNode;break;default:throw Error(t(314))}S!==null&&S.delete(d),LV(c,g)}var NV;NV=function(c,d,g){if(c!==null)if(c.memoizedProps!==d.pendingProps||Li.current)Fi=!0;else{if((c.lanes&g)===0&&(d.flags&128)===0)return Fi=!1,hne(c,d,g);Fi=(c.flags&131072)!==0}else Fi=!1,nr&&(d.flags&1048576)!==0&&m4(d,AC,d.index);switch(d.lanes=0,d.tag){case 2:var S=d.type;VC(c,d),c=d.pendingProps;var R=Zg(d,Ks.current);iy(d,g),R=nP(null,d,S,c,R,g);var N=rP();return d.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Ni(S)?(N=!0,CC(d)):N=!1,d.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,Yk(d),R.updater=jC,d.stateNode=R,R._reactInternals=d,cP(d,S,c,g),d=fP(null,d,S,!0,N,g)):(d.tag=0,nr&&N&&$k(d),wi(null,d,R,g),d=d.child),d;case 16:S=d.elementType;e:{switch(VC(c,d),c=d.pendingProps,R=S._init,S=R(S._payload),d.type=S,R=d.tag=Ane(S),c=rl(S,c),R){case 0:d=hP(null,d,S,c,g);break e;case 1:d=lV(null,d,S,c,g);break e;case 11:d=rV(null,d,S,c,g);break e;case 14:d=sV(null,d,S,rl(S.type,c),g);break e}throw Error(t(306,S,""))}return d;case 0:return S=d.type,R=d.pendingProps,R=d.elementType===S?R:rl(S,R),hP(c,d,S,R,g);case 1:return S=d.type,R=d.pendingProps,R=d.elementType===S?R:rl(S,R),lV(c,d,S,R,g);case 3:e:{if(cV(d),c===null)throw Error(t(387));S=d.pendingProps,N=d.memoizedState,R=N.element,C4(c,d),MC(d,S,null,g);var W=d.memoizedState;if(S=W.element,N.isDehydrated)if(N={element:S,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},d.updateQueue.baseState=N,d.memoizedState=N,d.flags&256){R=ay(Error(t(423)),d),d=uV(c,d,S,g,R);break e}else if(S!==R){R=ay(Error(t(424)),d),d=uV(c,d,S,g,R);break e}else for(wo=zd(d.stateNode.containerInfo.firstChild),vo=d,nr=!0,nl=null,g=S4(d,null,S,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(ny(),S===R){d=iu(c,d,g);break e}wi(c,d,S,g)}d=d.child}return d;case 5:return A4(d),c===null&&Vk(d),S=d.type,R=d.pendingProps,N=c!==null?c.memoizedProps:null,W=R.children,Mk(S,R)?W=null:N!==null&&Mk(S,N)&&(d.flags|=32),aV(c,d),wi(c,d,W,g),d.child;case 6:return c===null&&Vk(d),null;case 13:return dV(c,d,g);case 4:return Xk(d,d.stateNode.containerInfo),S=d.pendingProps,c===null?d.child=ry(d,null,S,g):wi(c,d,S,g),d.child;case 11:return S=d.type,R=d.pendingProps,R=d.elementType===S?R:rl(S,R),rV(c,d,S,R,g);case 7:return wi(c,d,d.pendingProps,g),d.child;case 8:return wi(c,d,d.pendingProps.children,g),d.child;case 12:return wi(c,d,d.pendingProps.children,g),d.child;case 10:e:{if(S=d.type._context,R=d.pendingProps,N=d.memoizedProps,W=R.value,Vn(kC,S._currentValue),S._currentValue=W,N!==null)if(tl(N.value,W)){if(N.children===R.children&&!Li.current){d=iu(c,d,g);break e}}else for(N=d.child,N!==null&&(N.return=d);N!==null;){var X=N.dependencies;if(X!==null){W=N.child;for(var re=X.firstContext;re!==null;){if(re.context===S){if(N.tag===1){re=su(-1,g&-g),re.tag=2;var he=N.updateQueue;if(he!==null){he=he.shared;var Se=he.pending;Se===null?re.next=re:(re.next=Se.next,Se.next=re),he.pending=re}}N.lanes|=g,re=N.alternate,re!==null&&(re.lanes|=g),Gk(N.return,g,d),X.lanes|=g;break}re=re.next}}else if(N.tag===10)W=N.type===d.type?null:N.child;else if(N.tag===18){if(W=N.return,W===null)throw Error(t(341));W.lanes|=g,X=W.alternate,X!==null&&(X.lanes|=g),Gk(W,g,d),W=N.sibling}else W=N.child;if(W!==null)W.return=N;else for(W=N;W!==null;){if(W===d){W=null;break}if(N=W.sibling,N!==null){N.return=W.return,W=N;break}W=W.return}N=W}wi(c,d,R.children,g),d=d.child}return d;case 9:return R=d.type,S=d.pendingProps.children,iy(d,g),R=ia(R),S=S(R),d.flags|=1,wi(c,d,S,g),d.child;case 14:return S=d.type,R=rl(S,d.pendingProps),R=rl(S.type,R),sV(c,d,S,R,g);case 15:return iV(c,d,d.type,d.pendingProps,g);case 17:return S=d.type,R=d.pendingProps,R=d.elementType===S?R:rl(S,R),VC(c,d),d.tag=1,Ni(S)?(c=!0,CC(d)):c=!1,iy(d,g),X4(d,S,R),cP(d,S,R,g),fP(null,d,S,!0,c,g);case 19:return fV(c,d,g);case 22:return oV(c,d,g)}throw Error(t(156,d.tag))};function FV(c,d){return Dg(c,d)}function xne(c,d,g,S){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(c,d,g,S){return new xne(c,d,g,S)}function MP(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Ane(c){if(typeof c=="function")return MP(c)?1:0;if(c!=null){if(c=c.$$typeof,c===z)return 11;if(c===Z)return 14}return 2}function th(c,d){var g=c.alternate;return g===null?(g=la(c.tag,d,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=d,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,d=c.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function ZC(c,d,g,S,R,N){var W=2;if(S=c,typeof c=="function")MP(c)&&(W=1);else if(typeof c=="string")W=5;else e:switch(c){case P:return lp(g.children,R,N,d);case D:W=8,R|=8;break;case F:return c=la(12,g,d,R|2),c.elementType=F,c.lanes=N,c;case j:return c=la(13,g,d,R),c.elementType=j,c.lanes=N,c;case Y:return c=la(19,g,d,R),c.elementType=Y,c.lanes=N,c;case ee:return eT(g,R,N,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case T:W=10;break e;case $:W=9;break e;case z:W=11;break e;case Z:W=14;break e;case J:W=16,S=null;break e}throw Error(t(130,c==null?c:typeof c,""))}return d=la(W,g,d,R),d.elementType=c,d.type=S,d.lanes=N,d}function lp(c,d,g,S){return c=la(7,c,S,d),c.lanes=g,c}function eT(c,d,g,S){return c=la(22,c,S,d),c.elementType=ee,c.lanes=g,c.stateNode={isHidden:!1},c}function OP(c,d,g){return c=la(6,c,null,d),c.lanes=g,c}function LP(c,d,g){return d=la(4,c.children!==null?c.children:[],c.key,d),d.lanes=g,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function Rne(c,d,g,S,R){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nd(0),this.expirationTimes=Nd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nd(0),this.identifierPrefix=S,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function NP(c,d,g,S,R,N,W,X,re){return c=new Rne(c,d,g,X,re),d===1?(d=1,N===!0&&(d|=8)):d=0,N=la(3,null,null,d),c.current=N,N.stateNode=c,N.memoizedState={element:S,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yk(N),c}function Ine(c,d,g){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:S==null?null:""+S,children:c,containerInfo:d,implementation:g}}function BV(c){if(!c)return qd;c=c._reactInternals;e:{if(Ka(c)!==c||c.tag!==1)throw Error(t(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Ni(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(t(171))}if(c.tag===1){var g=c.type;if(Ni(g))return h4(c,g,d)}return d}function $V(c,d,g,S,R,N,W,X,re){return c=NP(g,S,!0,c,R,N,W,X,re),c.context=BV(null),g=c.current,S=bi(),R=Zd(g),N=su(S,R),N.callback=d??null,Yd(g,N,R),c.current.lanes=R,Fd(c,R,S),$i(c,S),c}function tT(c,d,g,S){var R=d.current,N=bi(),W=Zd(R);return g=BV(g),d.context===null?d.context=g:d.pendingContext=g,d=su(N,W),d.payload={element:c},S=S===void 0?null:S,S!==null&&(d.callback=S),c=Yd(R,d,W),c!==null&&(ol(c,R,W,N),DC(c,R,W)),W}function nT(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function jV(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<d?g:d}}function FP(c,d){jV(c,d),(c=c.alternate)&&jV(c,d)}function kne(){return null}var UV=typeof reportError=="function"?reportError:function(c){console.error(c)};function BP(c){this._internalRoot=c}rT.prototype.render=BP.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(t(409));tT(c,d,null,null)},rT.prototype.unmount=BP.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;ip(function(){tT(null,c,null,null)}),d[Zc]=null}};function rT(c){this._internalRoot=c}rT.prototype.unstable_scheduleHydration=function(c){if(c){var d=rC();c={blockedOn:null,target:c,priority:d};for(var g=0;g<jl.length&&d!==0&&d<jl[g].priority;g++);jl.splice(g,0,c),g===0&&oC(c)}};function $P(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function sT(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function VV(){}function Pne(c,d,g,S,R){if(R){if(typeof S=="function"){var N=S;S=function(){var he=nT(W);N.call(he)}}var W=$V(d,S,c,0,null,!1,!1,"",VV);return c._reactRootContainer=W,c[Zc]=W.current,Fw(c.nodeType===8?c.parentNode:c),ip(),W}for(;R=c.lastChild;)c.removeChild(R);if(typeof S=="function"){var X=S;S=function(){var he=nT(re);X.call(he)}}var re=NP(c,0,!1,null,null,!1,!1,"",VV);return c._reactRootContainer=re,c[Zc]=re.current,Fw(c.nodeType===8?c.parentNode:c),ip(function(){tT(d,re,g,S)}),re}function iT(c,d,g,S,R){var N=g._reactRootContainer;if(N){var W=N;if(typeof R=="function"){var X=R;R=function(){var re=nT(W);X.call(re)}}tT(d,W,c,R)}else W=Pne(g,d,c,R,S);return nT(W)}tC=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var g=Ld(d.pendingLanes);g!==0&&(Bd(d,g|1),$i(d,Un()),(on&6)===0&&(uy=Un()+500,Gd()))}break;case 13:ip(function(){var S=ru(c,1);if(S!==null){var R=bi();ol(S,c,1,R)}}),FP(c,1)}},Lg=function(c){if(c.tag===13){var d=ru(c,134217728);if(d!==null){var g=bi();ol(d,c,134217728,g)}FP(c,134217728)}},nC=function(c){if(c.tag===13){var d=Zd(c),g=ru(c,d);if(g!==null){var S=bi();ol(g,c,d,S)}FP(c,d)}},rC=function(){return Xt},sC=function(c,d){var g=Xt;try{return Xt=c,d()}finally{Xt=g}},Pd=function(c,d,g){switch(d){case"input":if(Be(c,g),d=g.name,g.type==="radio"&&d!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<g.length;d++){var S=g[d];if(S!==c&&S.form===c.form){var R=SC(S);if(!R)throw Error(t(90));je(S),Be(S,R)}}}break;case"textarea":qt(c,g);break;case"select":d=g.value,d!=null&&mt(c,!!g.multiple,d,!1)}},Gc=kP,gt=ip;var Dne={usingClientEntryPoint:!1,Events:[jw,Jg,SC,Zo,$f,kP]},eb={findFiberByHostInstance:Jf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mne={bundleType:eb.bundleType,version:eb.version,rendererPackageName:eb.rendererPackageName,rendererConfig:eb.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=_w(c),c===null?null:c.stateNode},findFiberByHostInstance:eb.findFiberByHostInstance||kne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oT.isDisabled&&oT.supportsFiber)try{zf=oT.inject(Mne),po=oT}catch{}}return ji.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dne,ji.createPortal=function(c,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$P(d))throw Error(t(200));return Ine(c,d,null,g)},ji.createRoot=function(c,d){if(!$P(c))throw Error(t(299));var g=!1,S="",R=UV;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onRecoverableError!==void 0&&(R=d.onRecoverableError)),d=NP(c,1,!1,null,null,g,!1,S,R),c[Zc]=d.current,Fw(c.nodeType===8?c.parentNode:c),new BP(d)},ji.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(t(188)):(c=Object.keys(c).join(","),Error(t(268,c)));return c=_w(d),c=c===null?null:c.stateNode,c},ji.flushSync=function(c){return ip(c)},ji.hydrate=function(c,d,g){if(!sT(d))throw Error(t(200));return iT(null,c,d,!0,g)},ji.hydrateRoot=function(c,d,g){if(!$P(c))throw Error(t(405));var S=g!=null&&g.hydratedSources||null,R=!1,N="",W=UV;if(g!=null&&(g.unstable_strictMode===!0&&(R=!0),g.identifierPrefix!==void 0&&(N=g.identifierPrefix),g.onRecoverableError!==void 0&&(W=g.onRecoverableError)),d=$V(d,null,c,1,g??null,R,!1,N,W),c[Zc]=d.current,Fw(c),S)for(c=0;c<S.length;c++)g=S[c],R=g._getVersion,R=R(g._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[g,R]:d.mutableSourceEagerHydrationData.push(g,R);return new rT(d)},ji.render=function(c,d,g){if(!sT(d))throw Error(t(200));return iT(null,c,d,!1,g)},ji.unmountComponentAtNode=function(c){if(!sT(c))throw Error(t(40));return c._reactRootContainer?(ip(function(){iT(null,null,c,!1,function(){c._reactRootContainer=null,c[Zc]=null})}),!0):!1},ji.unstable_batchedUpdates=kP,ji.unstable_renderSubtreeIntoContainer=function(c,d,g,S){if(!sT(g))throw Error(t(200));if(c==null||c._reactInternals===void 0)throw Error(t(38));return iT(c,d,g,!1,S)},ji.version="18.3.1-next-f1338f8080-20240426",ji}var JV;function UG(){if(JV)return HP.exports;JV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),HP.exports=Hne(),HP.exports}var QV;function zne(){if(QV)return lT;QV=1;var n=UG();return lT.createRoot=n.createRoot,lT.hydrateRoot=n.hydrateRoot,lT}var Wne=zne();function gd(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function lr(){return lr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lr.apply(null,arguments)}function qne(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function Gne(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Kne=(function(){function n(t){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Gne(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=qne(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},n})(),ei="-ms-",iA="-moz-",hn="-webkit-",VG="comm",yB="rule",vB="decl",Yne="@import",HG="@keyframes",Xne="@layer",Jne=Math.abs,AR=String.fromCharCode,Qne=Object.assign;function Zne(n,e){return Vs(n,0)^45?(((e<<2^Vs(n,0))<<2^Vs(n,1))<<2^Vs(n,2))<<2^Vs(n,3):0}function zG(n){return n.trim()}function ere(n,e){return(n=e.exec(n))?n[0]:n}function pn(n,e,t){return n.replace(e,t)}function CL(n,e){return n.indexOf(e)}function Vs(n,e){return n.charCodeAt(e)|0}function __(n,e,t){return n.slice(e,t)}function Ec(n){return n.length}function wB(n){return n.length}function cT(n,e){return e.push(n),n}function tre(n,e){return n.map(e).join("")}var RR=1,R0=1,WG=0,lo=0,Kr=0,X0="";function IR(n,e,t,r,s,i,o){return{value:n,root:e,parent:t,type:r,props:s,children:i,line:RR,column:R0,length:o,return:""}}function nb(n,e){return Qne(IR("",null,null,"",null,null,0),n,{length:-n.length},e)}function nre(){return Kr}function rre(){return Kr=lo>0?Vs(X0,--lo):0,R0--,Kr===10&&(R0=1,RR--),Kr}function Go(){return Kr=lo<WG?Vs(X0,lo++):0,R0++,Kr===10&&(R0=1,RR++),Kr}function Rc(){return Vs(X0,lo)}function WT(){return lo}function XE(n,e){return __(X0,n,e)}function S_(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qG(n){return RR=R0=1,WG=Ec(X0=n),lo=0,[]}function GG(n){return X0="",n}function qT(n){return zG(XE(lo-1,TL(n===91?n+2:n===40?n+1:n)))}function sre(n){for(;(Kr=Rc())&&Kr<33;)Go();return S_(n)>2||S_(Kr)>3?"":" "}function ire(n,e){for(;--e&&Go()&&!(Kr<48||Kr>102||Kr>57&&Kr<65||Kr>70&&Kr<97););return XE(n,WT()+(e<6&&Rc()==32&&Go()==32))}function TL(n){for(;Go();)switch(Kr){case n:return lo;case 34:case 39:n!==34&&n!==39&&TL(Kr);break;case 40:n===41&&TL(n);break;case 92:Go();break}return lo}function ore(n,e){for(;Go()&&n+Kr!==57;)if(n+Kr===84&&Rc()===47)break;return"/*"+XE(e,lo-1)+"*"+AR(n===47?n:Go())}function are(n){for(;!S_(Rc());)Go();return XE(n,lo)}function lre(n){return GG(GT("",null,null,null,[""],n=qG(n),0,[0],n))}function GT(n,e,t,r,s,i,o,a,l){for(var u=0,h=0,p=o,m=0,y=0,b=0,v=1,_=1,E=1,x=0,C="",A=s,k=i,L=r,P=C;_;)switch(b=x,x=Go()){case 40:if(b!=108&&Vs(P,p-1)==58){CL(P+=pn(qT(x),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:P+=qT(x);break;case 9:case 10:case 13:case 32:P+=sre(b);break;case 92:P+=ire(WT()-1,7);continue;case 47:switch(Rc()){case 42:case 47:cT(cre(ore(Go(),WT()),e,t),l);break;default:P+="/"}break;case 123*v:a[u++]=Ec(P)*E;case 125*v:case 59:case 0:switch(x){case 0:case 125:_=0;case 59+h:E==-1&&(P=pn(P,/\f/g,"")),y>0&&Ec(P)-p&&cT(y>32?e3(P+";",r,t,p-1):e3(pn(P," ","")+";",r,t,p-2),l);break;case 59:P+=";";default:if(cT(L=ZV(P,e,t,u,h,s,a,C,A=[],k=[],p),i),x===123)if(h===0)GT(P,e,L,L,A,i,p,a,k);else switch(m===99&&Vs(P,3)===110?100:m){case 100:case 108:case 109:case 115:GT(n,L,L,r&&cT(ZV(n,L,L,0,0,s,a,C,s,A=[],p),k),s,k,p,a,r?A:k);break;default:GT(P,L,L,L,[""],k,0,a,k)}}u=h=y=0,v=E=1,C=P="",p=o;break;case 58:p=1+Ec(P),y=b;default:if(v<1){if(x==123)--v;else if(x==125&&v++==0&&rre()==125)continue}switch(P+=AR(x),x*v){case 38:E=h>0?1:(P+="\f",-1);break;case 44:a[u++]=(Ec(P)-1)*E,E=1;break;case 64:Rc()===45&&(P+=qT(Go())),m=Rc(),h=p=Ec(C=P+=are(WT())),x++;break;case 45:b===45&&Ec(P)==2&&(v=0)}}return i}function ZV(n,e,t,r,s,i,o,a,l,u,h){for(var p=s-1,m=s===0?i:[""],y=wB(m),b=0,v=0,_=0;b<r;++b)for(var E=0,x=__(n,p+1,p=Jne(v=o[b])),C=n;E<y;++E)(C=zG(v>0?m[E]+" "+x:pn(x,/&\f/g,m[E])))&&(l[_++]=C);return IR(n,e,t,s===0?yB:a,l,u,h)}function cre(n,e,t){return IR(n,e,t,VG,AR(nre()),__(n,2,-2),0)}function e3(n,e,t,r){return IR(n,e,t,vB,__(n,0,r),__(n,r+1,-1),r)}function Wy(n,e){for(var t="",r=wB(n),s=0;s<r;s++)t+=e(n[s],s,n,e)||"";return t}function ure(n,e,t,r){switch(n.type){case Xne:if(n.children.length)break;case Yne:case vB:return n.return=n.return||n.value;case VG:return"";case HG:return n.return=n.value+"{"+Wy(n.children,r)+"}";case yB:n.value=n.props.join(",")}return Ec(t=Wy(n.children,r))?n.return=n.value+"{"+t+"}":""}function dre(n){var e=wB(n);return function(t,r,s,i){for(var o="",a=0;a<e;a++)o+=n[a](t,r,s,i)||"";return o}}function hre(n){return function(e){e.root||(e=e.return)&&n(e)}}function KG(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var fre=function(e,t,r){for(var s=0,i=0;s=i,i=Rc(),s===38&&i===12&&(t[r]=1),!S_(i);)Go();return XE(e,lo)},pre=function(e,t){var r=-1,s=44;do switch(S_(s)){case 0:s===38&&Rc()===12&&(t[r]=1),e[r]+=fre(lo-1,t,r);break;case 2:e[r]+=qT(s);break;case 4:if(s===44){e[++r]=Rc()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=AR(s)}while(s=Go());return e},mre=function(e,t){return GG(pre(qG(e),t))},t3=new WeakMap,gre=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!t3.get(r))&&!s){t3.set(e,!0);for(var i=[],o=mre(t,i),a=r.props,l=0,u=0;l<o.length;l++)for(var h=0;h<a.length;h++,u++)e.props[u]=i[l]?o[l].replace(/&\f/g,a[h]):a[h]+" "+o[l]}}},yre=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function YG(n,e){switch(Zne(n,e)){case 5103:return hn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return hn+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return hn+n+iA+n+ei+n+n;case 6828:case 4268:return hn+n+ei+n+n;case 6165:return hn+n+ei+"flex-"+n+n;case 5187:return hn+n+pn(n,/(\w+).+(:[^]+)/,hn+"box-$1$2"+ei+"flex-$1$2")+n;case 5443:return hn+n+ei+"flex-item-"+pn(n,/flex-|-self/,"")+n;case 4675:return hn+n+ei+"flex-line-pack"+pn(n,/align-content|flex-|-self/,"")+n;case 5548:return hn+n+ei+pn(n,"shrink","negative")+n;case 5292:return hn+n+ei+pn(n,"basis","preferred-size")+n;case 6060:return hn+"box-"+pn(n,"-grow","")+hn+n+ei+pn(n,"grow","positive")+n;case 4554:return hn+pn(n,/([^-])(transform)/g,"$1"+hn+"$2")+n;case 6187:return pn(pn(pn(n,/(zoom-|grab)/,hn+"$1"),/(image-set)/,hn+"$1"),n,"")+n;case 5495:case 3959:return pn(n,/(image-set\([^]*)/,hn+"$1$`$1");case 4968:return pn(pn(n,/(.+:)(flex-)?(.*)/,hn+"box-pack:$3"+ei+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+hn+n+n;case 4095:case 3583:case 4068:case 2532:return pn(n,/(.+)-inline(.+)/,hn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ec(n)-1-e>6)switch(Vs(n,e+1)){case 109:if(Vs(n,e+4)!==45)break;case 102:return pn(n,/(.+:)(.+)-([^]+)/,"$1"+hn+"$2-$3$1"+iA+(Vs(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~CL(n,"stretch")?YG(pn(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Vs(n,e+1)!==115)break;case 6444:switch(Vs(n,Ec(n)-3-(~CL(n,"!important")&&10))){case 107:return pn(n,":",":"+hn)+n;case 101:return pn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+hn+(Vs(n,14)===45?"inline-":"")+"box$3$1"+hn+"$2$3$1"+ei+"$2box$3")+n}break;case 5936:switch(Vs(n,e+11)){case 114:return hn+n+ei+pn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return hn+n+ei+pn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return hn+n+ei+pn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return hn+n+ei+n+n}return n}var vre=function(e,t,r,s){if(e.length>-1&&!e.return)switch(e.type){case vB:e.return=YG(e.value,e.length);break;case HG:return Wy([nb(e,{value:pn(e.value,"@","@"+hn)})],s);case yB:if(e.length)return tre(e.props,function(i){switch(ere(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Wy([nb(e,{props:[pn(i,/:(read-\w+)/,":"+iA+"$1")]})],s);case"::placeholder":return Wy([nb(e,{props:[pn(i,/:(plac\w+)/,":"+hn+"input-$1")]}),nb(e,{props:[pn(i,/:(plac\w+)/,":"+iA+"$1")]}),nb(e,{props:[pn(i,/:(plac\w+)/,ei+"input-$1")]})],s)}return""})}},wre=[vre],bre=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var _=v.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var s=e.stylisPlugins||wre,i={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(v){for(var _=v.getAttribute("data-emotion").split(" "),E=1;E<_.length;E++)i[_[E]]=!0;a.push(v)});var l,u=[gre,yre];{var h,p=[ure,hre(function(v){h.insert(v)})],m=dre(u.concat(s,p)),y=function(_){return Wy(lre(_),m)};l=function(_,E,x,C){h=x,y(_?_+"{"+E.styles+"}":E.styles),C&&(b.inserted[E.name]=!0)}}var b={key:t,sheet:new Kne({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return b.sheet.hydrate(a),b},qP={exports:{}},mn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n3;function _re(){if(n3)return mn;n3=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,i=n?Symbol.for("react.profiler"):60114,o=n?Symbol.for("react.provider"):60109,a=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,_=n?Symbol.for("react.fundamental"):60117,E=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function C(k){if(typeof k=="object"&&k!==null){var L=k.$$typeof;switch(L){case e:switch(k=k.type,k){case l:case u:case r:case i:case s:case p:return k;default:switch(k=k&&k.$$typeof,k){case a:case h:case b:case y:case o:return k;default:return L}}case t:return L}}}function A(k){return C(k)===u}return mn.AsyncMode=l,mn.ConcurrentMode=u,mn.ContextConsumer=a,mn.ContextProvider=o,mn.Element=e,mn.ForwardRef=h,mn.Fragment=r,mn.Lazy=b,mn.Memo=y,mn.Portal=t,mn.Profiler=i,mn.StrictMode=s,mn.Suspense=p,mn.isAsyncMode=function(k){return A(k)||C(k)===l},mn.isConcurrentMode=A,mn.isContextConsumer=function(k){return C(k)===a},mn.isContextProvider=function(k){return C(k)===o},mn.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},mn.isForwardRef=function(k){return C(k)===h},mn.isFragment=function(k){return C(k)===r},mn.isLazy=function(k){return C(k)===b},mn.isMemo=function(k){return C(k)===y},mn.isPortal=function(k){return C(k)===t},mn.isProfiler=function(k){return C(k)===i},mn.isStrictMode=function(k){return C(k)===s},mn.isSuspense=function(k){return C(k)===p},mn.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===u||k===i||k===s||k===p||k===m||typeof k=="object"&&k!==null&&(k.$$typeof===b||k.$$typeof===y||k.$$typeof===o||k.$$typeof===a||k.$$typeof===h||k.$$typeof===_||k.$$typeof===E||k.$$typeof===x||k.$$typeof===v)},mn.typeOf=C,mn}var r3;function Sre(){return r3||(r3=1,qP.exports=_re()),qP.exports}var GP,s3;function Ere(){if(s3)return GP;s3=1;var n=Sre(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[n.ForwardRef]=r,i[n.Memo]=s;function o(b){return n.isMemo(b)?s:i[b.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;function y(b,v,_){if(typeof v!="string"){if(m){var E=p(v);E&&E!==m&&y(b,E,_)}var x=l(v);u&&(x=x.concat(u(v)));for(var C=o(b),A=o(v),k=0;k<x.length;++k){var L=x[k];if(!t[L]&&!(_&&_[L])&&!(A&&A[L])&&!(C&&C[L])){var P=h(v,L);try{a(b,L,P)}catch{}}}}return b}return GP=y,GP}Ere();var Cre=!0;function XG(n,e,t){var r="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(r+=s+" ")}),r}var bB=function(e,t,r){var s=e.key+"-"+t.name;(r===!1||Cre===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},_B=function(e,t,r){bB(e,t,r);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var i=t;do e.insert(t===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function Tre(n){for(var e=0,t,r=0,s=n.length;s>=4;++r,s-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var xre={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Are=/[A-Z]|^ms/g,Rre=/_EMO_([^_]+?)_([^]*?)_EMO_/g,JG=function(e){return e.charCodeAt(1)===45},i3=function(e){return e!=null&&typeof e!="boolean"},KP=KG(function(n){return JG(n)?n:n.replace(Are,"-$&").toLowerCase()}),o3=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Rre,function(r,s,i){return Cc={name:s,styles:i,next:Cc},s})}return xre[e]!==1&&!JG(e)&&typeof t=="number"&&t!==0?t+"px":t};function E_(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return Cc={name:s.name,styles:s.styles,next:Cc},s.name;var i=t;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Cc={name:o.name,styles:o.styles,next:Cc},o=o.next;var a=i.styles+";";return a}return Ire(n,e,t)}case"function":{if(n!==void 0){var l=Cc,u=t(n);return Cc=l,E_(n,e,u)}break}}var h=t;if(e==null)return h;var p=e[h];return p!==void 0?p:h}function Ire(n,e,t){var r="";if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=E_(n,e,t[s])+";";else for(var i in t){var o=t[i];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=i+"{"+e[a]+"}":i3(a)&&(r+=KP(i)+":"+o3(i,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)i3(o[l])&&(r+=KP(i)+":"+o3(i,o[l])+";");else{var u=E_(n,e,o);switch(i){case"animation":case"animationName":{r+=KP(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}return r}var a3=/label:\s*([^\s;{]+)\s*(;|$)/g,Cc;function JE(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,s="";Cc=void 0;var i=n[0];if(i==null||i.raw===void 0)r=!1,s+=E_(t,e,i);else{var o=i;s+=o[0]}for(var a=1;a<n.length;a++)if(s+=E_(t,e,n[a]),r){var l=i;s+=l[a]}a3.lastIndex=0;for(var u="",h;(h=a3.exec(s))!==null;)u+="-"+h[1];var p=Tre(s)+u;return{name:p,styles:s,next:Cc}}var kre=function(e){return e()},QG=sA.useInsertionEffect?sA.useInsertionEffect:!1,ZG=QG||kre,l3=QG||B.useLayoutEffect,e8=B.createContext(typeof HTMLElement<"u"?bre({key:"css"}):null);e8.Provider;var SB=function(e){return B.forwardRef(function(t,r){var s=B.useContext(e8);return e(t,s,r)})},QE=B.createContext({}),EB={}.hasOwnProperty,xL="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Pre=function(e,t){var r={};for(var s in t)EB.call(t,s)&&(r[s]=t[s]);return r[xL]=e,r},Dre=function(e){var t=e.cache,r=e.serialized,s=e.isStringTag;return bB(t,r,s),ZG(function(){return _B(t,r,s)}),null},Mre=SB(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=n[xL],i=[r],o="";typeof n.className=="string"?o=XG(e.registered,i,n.className):n.className!=null&&(o=n.className+" ");var a=JE(i,void 0,B.useContext(QE));o+=e.key+"-"+a.name;var l={};for(var u in n)EB.call(n,u)&&u!=="css"&&u!==xL&&(l[u]=n[u]);return l.className=o,t&&(l.ref=t),B.createElement(B.Fragment,null,B.createElement(Dre,{cache:e,serialized:a,isStringTag:typeof s=="string"}),B.createElement(s,l))}),Ore=Mre,c3=function(e,t){var r=arguments;if(t==null||!EB.call(t,"css"))return B.createElement.apply(void 0,r);var s=r.length,i=new Array(s);i[0]=Ore,i[1]=Pre(e,t);for(var o=2;o<s;o++)i[o]=r[o];return B.createElement.apply(null,i)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(c3||(c3={}));var Lre=SB(function(n,e){var t=n.styles,r=JE([t],void 0,B.useContext(QE)),s=B.useRef();return l3(function(){var i=e.key+"-global",o=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",i),o.hydrate([l])),s.current=[o,a],function(){o.flush()}},[e]),l3(function(){var i=s.current,o=i[0],a=i[1];if(a){i[1]=!1;return}if(r.next!==void 0&&_B(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function ZE(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return JE(e)}function pg(){var n=ZE.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Nre=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Fre=KG(function(n){return Nre.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),Bre=Fre,$re=function(e){return e!=="theme"},u3=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Bre:$re},d3=function(e,t,r){var s;if(t){var i=t.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},jre=function(e){var t=e.cache,r=e.serialized,s=e.isStringTag;return bB(t,r,s),ZG(function(){return _B(t,r,s)}),null},Ure=function n(e,t){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,i,o;t!==void 0&&(i=t.label,o=t.target);var a=d3(e,t,r),l=a||u3(s),u=!l("as");return function(){var h=arguments,p=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&p.push("label:"+i+";"),h[0]==null||h[0].raw===void 0)p.push.apply(p,h);else{var m=h[0];p.push(m[0]);for(var y=h.length,b=1;b<y;b++)p.push(h[b],m[b])}var v=SB(function(_,E,x){var C=u&&_.as||s,A="",k=[],L=_;if(_.theme==null){L={};for(var P in _)L[P]=_[P];L.theme=B.useContext(QE)}typeof _.className=="string"?A=XG(E.registered,k,_.className):_.className!=null&&(A=_.className+" ");var D=JE(p.concat(k),E.registered,L);A+=E.key+"-"+D.name,o!==void 0&&(A+=" "+o);var F=u&&a===void 0?u3(C):l,T={};for(var $ in _)u&&$==="as"||F($)&&(T[$]=_[$]);return T.className=A,x&&(T.ref=x),B.createElement(B.Fragment,null,B.createElement(jre,{cache:E,serialized:D,isStringTag:typeof C=="string"}),B.createElement(C,T))});return v.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=s,v.__emotion_styles=p,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(_,E){var x=n(_,lr({},t,E,{shouldForwardProp:d3(v,E,!0)}));return x.apply(void 0,p)},v}},Vre=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],AL=Ure.bind(null);Vre.forEach(function(n){AL[n]=AL(n)});var YP={exports:{}},XP,h3;function Hre(){if(h3)return XP;h3=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return XP=n,XP}var JP,f3;function zre(){if(f3)return JP;f3=1;var n=Hre();function e(){}function t(){}return t.resetWarningCache=e,JP=function(){function r(o,a,l,u,h,p){if(p!==n){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return i.PropTypes=i,i},JP}var p3;function Wre(){return p3||(p3=1,YP.exports=zre()()),YP.exports}var qre=Wre();const Pe=ho(qre);function Gre(n){return n==null||Object.keys(n).length===0}function t8(n){const{styles:e,defaultTheme:t={}}=n,r=typeof e=="function"?s=>e(Gre(s)?t:s):e;return I.jsx(Lre,{styles:r})}/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n8(n,e){return AL(n,e)}function Kre(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const m3=[];function g3(n){return m3[0]=n,JE(m3)}var QP={exports:{}},Tn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y3;function Yre(){if(y3)return Tn;y3=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),y=Symbol.for("react.client.reference");function b(v){if(typeof v=="object"&&v!==null){var _=v.$$typeof;switch(_){case n:switch(v=v.type,v){case t:case s:case r:case l:case u:return v;default:switch(v=v&&v.$$typeof,v){case o:case a:case p:case h:return v;case i:return v;default:return _}}case e:return _}}}return Tn.ContextConsumer=i,Tn.ContextProvider=o,Tn.Element=n,Tn.ForwardRef=a,Tn.Fragment=t,Tn.Lazy=p,Tn.Memo=h,Tn.Portal=e,Tn.Profiler=s,Tn.StrictMode=r,Tn.Suspense=l,Tn.SuspenseList=u,Tn.isContextConsumer=function(v){return b(v)===i},Tn.isContextProvider=function(v){return b(v)===o},Tn.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===n},Tn.isForwardRef=function(v){return b(v)===a},Tn.isFragment=function(v){return b(v)===t},Tn.isLazy=function(v){return b(v)===p},Tn.isMemo=function(v){return b(v)===h},Tn.isPortal=function(v){return b(v)===e},Tn.isProfiler=function(v){return b(v)===s},Tn.isStrictMode=function(v){return b(v)===r},Tn.isSuspense=function(v){return b(v)===l},Tn.isSuspenseList=function(v){return b(v)===u},Tn.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===t||v===s||v===r||v===l||v===u||v===m||typeof v=="object"&&v!==null&&(v.$$typeof===p||v.$$typeof===h||v.$$typeof===o||v.$$typeof===i||v.$$typeof===a||v.$$typeof===y||v.getModuleId!==void 0)},Tn.typeOf=b,Tn}var v3;function Xre(){return v3||(v3=1,QP.exports=Yre()),QP.exports}var r8=Xre();function Tc(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function s8(n){if(B.isValidElement(n)||r8.isValidElementType(n)||!Tc(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=s8(n[t])}),e}function di(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Tc(n)&&Tc(e)&&Object.keys(e).forEach(s=>{B.isValidElement(e[s])||r8.isValidElementType(e[s])?r[s]=e[s]:Tc(e[s])&&Object.prototype.hasOwnProperty.call(n,s)&&Tc(n[s])?r[s]=di(n[s],e[s],t):t.clone?r[s]=Tc(e[s])?s8(e[s]):e[s]:r[s]=e[s]}),r}const Jre=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function Qre(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...s}=n,i=Jre(e),o=Object.keys(i);function a(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${t})`}function l(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${t})`}function u(m,y){const b=o.indexOf(y);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${t}) and (max-width:${(b!==-1&&typeof e[o[b]]=="number"?e[o[b]]:y)-r/100}${t})`}function h(m){return o.indexOf(m)+1<o.length?u(m,o[o.indexOf(m)+1]):a(m)}function p(m){const y=o.indexOf(m);return y===0?a(o[1]):y===o.length-1?l(o[y]):u(m,o[o.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:o,values:i,up:a,down:l,between:u,only:h,not:p,unit:t,...s}}function Zre(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,s)=>{var o,a;const i=/min-width:\s*([0-9.]+)/;return+(((o=r.match(i))==null?void 0:o[1])||0)-+(((a=s.match(i))==null?void 0:a[1])||0)});return t.length?t.reduce((r,s)=>{const i=e[s];return delete r[s],r[s]=i,r},{...e}):e}function ese(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function tse(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,s]=t,i=Number.isNaN(+r)?r||0:+r;return n.containerQueries(s).up(i)}function nse(n){const e=(i,o)=>i.replace("@media",o?`@container ${o}`:"@container");function t(i,o){i.up=(...a)=>e(n.breakpoints.up(...a),o),i.down=(...a)=>e(n.breakpoints.down(...a),o),i.between=(...a)=>e(n.breakpoints.between(...a),o),i.only=(...a)=>e(n.breakpoints.only(...a),o),i.not=(...a)=>{const l=e(n.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},s=i=>(t(r,i),r);return t(s),{...n,containerQueries:s}}const rse={borderRadius:4};function a_(n,e){return e?di(n,e,{clone:!1}):n}const kR={xs:0,sm:600,md:900,lg:1200,xl:1536},w3={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${kR[n]}px)`},sse={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:kR[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function yd(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const i=r.breakpoints||w3;return e.reduce((o,a,l)=>(o[i.up(i.keys[l])]=t(e[l]),o),{})}if(typeof e=="object"){const i=r.breakpoints||w3;return Object.keys(e).reduce((o,a)=>{if(ese(i.keys,a)){const l=tse(r.containerQueries?r:sse,a);l&&(o[l]=t(e[a],a))}else if(Object.keys(i.values||kR).includes(a)){const l=i.up(a);o[l]=t(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return t(e)}function ise(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,s)=>{const i=n.up(s);return r[i]={},r},{}))||{}}function ose(n,e){return n.reduce((t,r)=>{const s=t[r];return(!s||Object.keys(s).length===0)&&delete t[r],t},e)}function ve(n){if(typeof n!="string")throw new Error(gd(7));return n.charAt(0).toUpperCase()+n.slice(1)}function sf(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,n);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,n)}function oA(n,e,t,r=t){let s;return typeof n=="function"?s=n(t):Array.isArray(n)?s=n[t]||r:s=sf(n,t)||r,e&&(s=e(s,r,n)),s}function jr(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:s}=n,i=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=sf(l,r)||{};return yd(o,a,p=>{let m=oA(u,s,p);return p===m&&typeof p=="string"&&(m=oA(u,s,`${e}${p==="default"?"":ve(p)}`,p)),t===!1?m:{[t]:m}})};return i.propTypes={},i.filterProps=[e],i}function ase(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const lse={m:"margin",p:"padding"},cse={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},b3={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},use=ase(n=>{if(n.length>2)if(b3[n])n=b3[n];else return[n];const[e,t]=n.split(""),r=lse[e],s=cse[t]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),CB=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],TB=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...CB,...TB];function e1(n,e,t,r){const s=sf(n,e,!0)??t;return typeof s=="number"||typeof s=="string"?i=>typeof i=="string"?i:typeof s=="string"?`calc(${i} * ${s})`:s*i:Array.isArray(s)?i=>{if(typeof i=="string")return i;const o=Math.abs(i),a=s[o];return i>=0?a:typeof a=="number"?-a:`-${a}`}:typeof s=="function"?s:()=>{}}function xB(n){return e1(n,"spacing",8)}function t1(n,e){return typeof e=="string"||e==null?e:n(e)}function dse(n,e){return t=>n.reduce((r,s)=>(r[s]=t1(e,t),r),{})}function hse(n,e,t,r){if(!e.includes(t))return null;const s=use(t),i=dse(s,r),o=n[t];return yd(n,o,i)}function i8(n,e){const t=xB(n.theme);return Object.keys(n).map(r=>hse(n,e,r,t)).reduce(a_,{})}function _r(n){return i8(n,CB)}_r.propTypes={};_r.filterProps=CB;function Sr(n){return i8(n,TB)}Sr.propTypes={};Sr.filterProps=TB;function o8(n=8,e=xB({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(i=>{const o=e(i);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function PR(...n){const e=n.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),t=r=>Object.keys(r).reduce((s,i)=>e[i]?a_(s,e[i](r)):s,{});return t.propTypes={},t.filterProps=n.reduce((r,s)=>r.concat(s.filterProps),[]),t}function Ta(n){return typeof n!="number"?n:`${n}px solid`}function ja(n,e){return jr({prop:n,themeKey:"borders",transform:e})}const fse=ja("border",Ta),pse=ja("borderTop",Ta),mse=ja("borderRight",Ta),gse=ja("borderBottom",Ta),yse=ja("borderLeft",Ta),vse=ja("borderColor"),wse=ja("borderTopColor"),bse=ja("borderRightColor"),_se=ja("borderBottomColor"),Sse=ja("borderLeftColor"),Ese=ja("outline",Ta),Cse=ja("outlineColor"),DR=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=e1(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:t1(e,r)});return yd(n,n.borderRadius,t)}return null};DR.propTypes={};DR.filterProps=["borderRadius"];PR(fse,pse,mse,gse,yse,vse,wse,bse,_se,Sse,DR,Ese,Cse);const MR=n=>{if(n.gap!==void 0&&n.gap!==null){const e=e1(n.theme,"spacing",8),t=r=>({gap:t1(e,r)});return yd(n,n.gap,t)}return null};MR.propTypes={};MR.filterProps=["gap"];const OR=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=e1(n.theme,"spacing",8),t=r=>({columnGap:t1(e,r)});return yd(n,n.columnGap,t)}return null};OR.propTypes={};OR.filterProps=["columnGap"];const LR=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=e1(n.theme,"spacing",8),t=r=>({rowGap:t1(e,r)});return yd(n,n.rowGap,t)}return null};LR.propTypes={};LR.filterProps=["rowGap"];const Tse=jr({prop:"gridColumn"}),xse=jr({prop:"gridRow"}),Ase=jr({prop:"gridAutoFlow"}),Rse=jr({prop:"gridAutoColumns"}),Ise=jr({prop:"gridAutoRows"}),kse=jr({prop:"gridTemplateColumns"}),Pse=jr({prop:"gridTemplateRows"}),Dse=jr({prop:"gridTemplateAreas"}),Mse=jr({prop:"gridArea"});PR(MR,OR,LR,Tse,xse,Ase,Rse,Ise,kse,Pse,Dse,Mse);function qy(n,e){return e==="grey"?e:n}const Ose=jr({prop:"color",themeKey:"palette",transform:qy}),Lse=jr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:qy}),Nse=jr({prop:"backgroundColor",themeKey:"palette",transform:qy});PR(Ose,Lse,Nse);function zo(n){return n<=1&&n!==0?`${n*100}%`:n}const Fse=jr({prop:"width",transform:zo}),AB=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var s,i,o,a,l;const r=((o=(i=(s=n.theme)==null?void 0:s.breakpoints)==null?void 0:i.values)==null?void 0:o[t])||kR[t];return r?((l=(a=n.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:zo(t)}};return yd(n,n.maxWidth,e)}return null};AB.filterProps=["maxWidth"];const Bse=jr({prop:"minWidth",transform:zo}),$se=jr({prop:"height",transform:zo}),jse=jr({prop:"maxHeight",transform:zo}),Use=jr({prop:"minHeight",transform:zo});jr({prop:"size",cssProperty:"width",transform:zo});jr({prop:"size",cssProperty:"height",transform:zo});const Vse=jr({prop:"boxSizing"});PR(Fse,AB,Bse,$se,jse,Use,Vse);const n1={border:{themeKey:"borders",transform:Ta},borderTop:{themeKey:"borders",transform:Ta},borderRight:{themeKey:"borders",transform:Ta},borderBottom:{themeKey:"borders",transform:Ta},borderLeft:{themeKey:"borders",transform:Ta},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ta},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:DR},color:{themeKey:"palette",transform:qy},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:qy},backgroundColor:{themeKey:"palette",transform:qy},p:{style:Sr},pt:{style:Sr},pr:{style:Sr},pb:{style:Sr},pl:{style:Sr},px:{style:Sr},py:{style:Sr},padding:{style:Sr},paddingTop:{style:Sr},paddingRight:{style:Sr},paddingBottom:{style:Sr},paddingLeft:{style:Sr},paddingX:{style:Sr},paddingY:{style:Sr},paddingInline:{style:Sr},paddingInlineStart:{style:Sr},paddingInlineEnd:{style:Sr},paddingBlock:{style:Sr},paddingBlockStart:{style:Sr},paddingBlockEnd:{style:Sr},m:{style:_r},mt:{style:_r},mr:{style:_r},mb:{style:_r},ml:{style:_r},mx:{style:_r},my:{style:_r},margin:{style:_r},marginTop:{style:_r},marginRight:{style:_r},marginBottom:{style:_r},marginLeft:{style:_r},marginX:{style:_r},marginY:{style:_r},marginInline:{style:_r},marginInlineStart:{style:_r},marginInlineEnd:{style:_r},marginBlock:{style:_r},marginBlockStart:{style:_r},marginBlockEnd:{style:_r},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:MR},rowGap:{style:LR},columnGap:{style:OR},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:zo},maxWidth:{style:AB},minWidth:{transform:zo},height:{transform:zo},maxHeight:{transform:zo},minHeight:{transform:zo},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Hse(...n){const e=n.reduce((r,s)=>r.concat(Object.keys(s)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function zse(n,e){return typeof n=="function"?n(e):n}function Wse(){function n(t,r,s,i){const o={[t]:r,theme:s},a=i[t];if(!a)return{[t]:r};const{cssProperty:l=t,themeKey:u,transform:h,style:p}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[t]:r};const m=sf(s,u)||{};return p?p(o):yd(o,r,b=>{let v=oA(m,h,b);return b===v&&typeof b=="string"&&(v=oA(m,h,`${t}${b==="default"?"":ve(b)}`,b)),l===!1?v:{[l]:v}})}function e(t){const{sx:r,theme:s={}}=t||{};if(!r)return null;const i=s.unstable_sxConfig??n1;function o(a){let l=a;if(typeof a=="function")l=a(s);else if(typeof a!="object")return a;if(!l)return null;const u=ise(s.breakpoints),h=Object.keys(u);let p=u;return Object.keys(l).forEach(m=>{const y=zse(l[m],s);if(y!=null)if(typeof y=="object")if(i[m])p=a_(p,n(m,y,s,i));else{const b=yd({theme:s},y,v=>({[m]:v}));Hse(b,y)?p[m]=e({sx:y,theme:s}):p=a_(p,b)}else p=a_(p,n(m,y,s,i))}),Zre(s,ose(h,p))}return Array.isArray(r)?r.map(o):o(r)}return e}const mf=Wse();mf.filterProps=["sx"];function qse(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let s=t.getColorSchemeSelector(n);return s==="&"?e:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:e})}return t.palette.mode===n?e:{}}function RB(n={},...e){const{breakpoints:t={},palette:r={},spacing:s,shape:i={},...o}=n,a=Qre(t),l=o8(s);let u=di({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...rse,...i}},o);return u=nse(u),u.applyStyles=qse,u=e.reduce((h,p)=>di(h,p),u),u.unstable_sxConfig={...n1,...o==null?void 0:o.unstable_sxConfig},u.unstable_sx=function(p){return mf({sx:p,theme:this})},u}function Gse(n){return Object.keys(n).length===0}function IB(n=null){const e=B.useContext(QE);return!e||Gse(e)?n:e}const Kse=RB();function kB(n=Kse){return IB(n)}function Yse({styles:n,themeId:e,defaultTheme:t={}}){const r=kB(t),s=typeof n=="function"?n(e&&r[e]||r):n;return I.jsx(t8,{styles:s})}const Xse=n=>{var r;const e={systemProps:{},otherProps:{}},t=((r=n==null?void 0:n.theme)==null?void 0:r.unstable_sxConfig)??n1;return Object.keys(n).forEach(s=>{t[s]?e.systemProps[s]=n[s]:e.otherProps[s]=n[s]}),e};function a8(n){const{sx:e,...t}=n,{systemProps:r,otherProps:s}=Xse(t);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...o)=>{const a=e(...o);return Tc(a)?{...r,...a}:r}:i={...r,...e},{...s,sx:i}}const _3=n=>n,Jse=()=>{let n=_3;return{configure(e){n=e},generate(e){return n(e)},reset(){n=_3}}},l8=Jse();function c8(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=c8(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function We(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=c8(n))&&(r&&(r+=" "),r+=e);return r}function Qse(n={}){const{themeId:e,defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:s}=n,i=n8("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(mf);return B.forwardRef(function(l,u){const h=kB(t),{className:p,component:m="div",...y}=a8(l);return I.jsx(i,{as:m,ref:u,className:We(p,s?s(r):r),theme:e&&h[e]||h,...y})})}const Zse={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Tt(n,e,t="Mui"){const r=Zse[e];return r?`${t}-${r}`:`${l8.generate(n)}-${e}`}function pt(n,e,t="Mui"){const r={};return e.forEach(s=>{r[s]=Tt(n,s,t)}),r}function u8(n){const{variants:e,...t}=n,r={variants:e,style:g3(t),isProcessed:!0};return r.style===t||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=g3(s.style))}),r}const eie=RB();function ZP(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function tie(n){return n?(e,t)=>t[n]:null}function nie(n,e,t){n.theme=iie(n.theme)?t:n.theme[e]||n.theme}function KT(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>KT(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:s,...i}=t;r=i}return d8(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function d8(n,e,t=[]){var s;let r;e:for(let i=0;i<e.length;i+=1){const o=e[i];if(typeof o.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!o.props(r))continue}else for(const a in o.props)if(n[a]!==o.props[a]&&((s=n.ownerState)==null?void 0:s[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(o.style(r))):t.push(o.style)}return t}function rie(n={}){const{themeId:e,defaultTheme:t=eie,rootShouldForwardProp:r=ZP,slotShouldForwardProp:s=ZP}=n;function i(a){nie(a,e,t)}return(a,l={})=>{Kre(a,k=>k.filter(L=>L!==mf));const{name:u,slot:h,skipVariantsResolver:p,skipSx:m,overridesResolver:y=tie(aie(h)),...b}=l,v=p!==void 0?p:h&&h!=="Root"&&h!=="root"||!1,_=m||!1;let E=ZP;h==="Root"||h==="root"?E=r:h?E=s:oie(a)&&(E=void 0);const x=n8(a,{shouldForwardProp:E,label:sie(),...b}),C=k=>{if(typeof k=="function"&&k.__emotion_real!==k)return function(P){return KT(P,k)};if(Tc(k)){const L=u8(k);return L.variants?function(D){return KT(D,L)}:L.style}return k},A=(...k)=>{const L=[],P=k.map(C),D=[];if(L.push(i),u&&y&&D.push(function(z){var J,ee;const Y=(ee=(J=z.theme.components)==null?void 0:J[u])==null?void 0:ee.styleOverrides;if(!Y)return null;const Z={};for(const Q in Y)Z[Q]=KT(z,Y[Q]);return y(z,Z)}),u&&!v&&D.push(function(z){var Z,J;const j=z.theme,Y=(J=(Z=j==null?void 0:j.components)==null?void 0:Z[u])==null?void 0:J.variants;return Y?d8(z,Y):null}),_||D.push(mf),Array.isArray(P[0])){const $=P.shift(),z=new Array(L.length).fill(""),j=new Array(D.length).fill("");let Y;Y=[...z,...$,...j],Y.raw=[...z,...$.raw,...j],L.unshift(Y)}const F=[...L,...P,...D],T=x(...F);return a.muiName&&(T.muiName=a.muiName),T};return x.withConfig&&(A.withConfig=x.withConfig),A}}function sie(n,e){return void 0}function iie(n){for(const e in n)return!1;return!0}function oie(n){return typeof n=="string"&&n.charCodeAt(0)>96}function aie(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function I0(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const s=r;if(s==="components"||s==="slots")t[s]={...n[s],...t[s]};else if(s==="componentsProps"||s==="slotProps"){const i=n[s],o=e[s];if(!o)t[s]=i||{};else if(!i)t[s]=o;else{t[s]={...o};for(const a in i)if(Object.prototype.hasOwnProperty.call(i,a)){const l=a;t[s][l]=I0(i[l],o[l])}}}else t[s]===void 0&&(t[s]=n[s])}return t}function lie(n){const{theme:e,name:t,props:r}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?r:I0(e.components[t].defaultProps,r)}const Oa=typeof window<"u"?B.useLayoutEffect:B.useEffect;function cie(n,e,t,r,s){const[i,o]=B.useState(()=>s&&t?t(n).matches:r?r(n).matches:e);return Oa(()=>{if(!t)return;const a=t(n),l=()=>{o(a.matches)};return l(),a.addEventListener("change",l),()=>{a.removeEventListener("change",l)}},[n,t]),i}const uie={...sA},h8=uie.useSyncExternalStore;function die(n,e,t,r,s){const i=B.useCallback(()=>e,[e]),o=B.useMemo(()=>{if(s&&t)return()=>t(n).matches;if(r!==null){const{matches:h}=r(n);return()=>h}return i},[i,n,r,s,t]),[a,l]=B.useMemo(()=>{if(t===null)return[i,()=>()=>{}];const h=t(n);return[()=>h.matches,p=>(h.addEventListener("change",p),()=>{h.removeEventListener("change",p)})]},[i,t,n]);return h8(l,a,o)}function f8(n={}){const{themeId:e}=n;return function(r,s={}){let i=IB();i&&e&&(i=i[e]||i);const o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:l=o?window.matchMedia:null,ssrMatchMedia:u=null,noSsr:h=!1}=lie({name:"MuiUseMediaQuery",props:s,theme:i});let p=typeof r=="function"?r(i):r;return p=p.replace(/^@media( ?)/m,""),(h8!==void 0?die:cie)(p,a,l,u,h)}}f8();function hie(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function PB(n,e=0,t=1){return hie(n,e,t)}function fie(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function gf(n){if(n.type)return n;if(n.charAt(0)==="#")return gf(fie(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(gd(9,n));let r=n.substring(e+1,n.length-1),s;if(t==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(gd(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:t,values:r,colorSpace:s}}const pie=n=>{const e=gf(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},xb=(n,e)=>{try{return pie(n)}catch{return n}};function NR(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((s,i)=>i<3?parseInt(s,10):s):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function p8(n){n=gf(n);const{values:e}=n,t=e[0],r=e[1]/100,s=e[2]/100,i=r*Math.min(s,1-s),o=(u,h=(u+t/30)%12)=>s-i*Math.max(Math.min(h-3,9-h,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(a+="a",l.push(e[3])),NR({type:a,values:l})}function RL(n){n=gf(n);let e=n.type==="hsl"||n.type==="hsla"?gf(p8(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function mie(n,e){const t=RL(n),r=RL(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function Lt(n,e){return n=gf(n),e=PB(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,NR(n)}function uT(n,e,t){try{return Lt(n,e)}catch{return n}}function k0(n,e){if(n=gf(n),e=PB(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return NR(n)}function On(n,e,t){try{return k0(n,e)}catch{return n}}function P0(n,e){if(n=gf(n),e=PB(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return NR(n)}function Ln(n,e,t){try{return P0(n,e)}catch{return n}}function m8(n,e=.15){return RL(n)>.5?k0(n,e):P0(n,e)}function dT(n,e,t){try{return m8(n,e)}catch{return n}}function S3(...n){return n.reduce((e,t)=>t==null?e:function(...s){e.apply(this,s),t.apply(this,s)},()=>{})}function DB(n,e=166){let t;function r(...s){const i=()=>{n.apply(this,s)};clearTimeout(t),t=setTimeout(i,e)}return r.clear=()=>{clearTimeout(t)},r}function eD(n,e){var t,r,s;return B.isValidElement(n)&&e.indexOf(n.type.muiName??((s=(r=(t=n.type)==null?void 0:t._payload)==null?void 0:r.value)==null?void 0:s.muiName))!==-1}function hi(n){return n&&n.ownerDocument||document}function Rl(n){return hi(n).defaultView||window}function IL(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let E3=0;function gie(n){const[e,t]=B.useState(n),r=n||e;return B.useEffect(()=>{e==null&&(E3+=1,t(`mui-${E3}`))},[e]),r}const yie={...sA},C3=yie.useId;function J0(n){if(C3!==void 0){const e=C3();return n??e}return gie(n)}function aA({controlled:n,default:e,name:t,state:r="value"}){const{current:s}=B.useRef(n!==void 0),[i,o]=B.useState(e),a=s?n:i,l=B.useCallback(u=>{s||o(u)},[]);return[a,l]}function Tl(n){const e=B.useRef(n);return Oa(()=>{e.current=n}),B.useRef((...t)=>(0,e.current)(...t)).current}function vr(...n){return B.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{IL(t,e)})},n)}const T3={};function g8(n,e){const t=B.useRef(T3);return t.current===T3&&(t.current=n(e)),t}const vie=[];function wie(n){B.useEffect(n,vie)}class FR{constructor(){Ee(this,"currentId",null);Ee(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Ee(this,"disposeEffect",()=>this.clear)}static create(){return new FR}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function Sp(){const n=g8(FR.create).current;return wie(n.disposeEffect),n}function D0(n){try{return n.matches(":focus-visible")}catch{}return!1}function y8(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function bie(n){return B.Children.toArray(n).filter(e=>B.isValidElement(e))}function xt(n,e,t=void 0){const r={};for(const s in n){const i=n[s];let o="",a=!0;for(let l=0;l<i.length;l+=1){const u=i[l];u&&(o+=(a===!0?"":" ")+e(u),a=!1,t&&t[u]&&(o+=" "+t[u]))}r[s]=o}return r}function _ie(n){return typeof n=="string"}function v8(n,e,t){return n===void 0||_ie(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function lA(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function x3(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function w8(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:s,className:i}=n;if(!e){const y=We(t==null?void 0:t.className,i,s==null?void 0:s.className,r==null?void 0:r.className),b={...t==null?void 0:t.style,...s==null?void 0:s.style,...r==null?void 0:r.style},v={...t,...s,...r};return y.length>0&&(v.className=y),Object.keys(b).length>0&&(v.style=b),{props:v,internalRef:void 0}}const o=lA({...s,...r}),a=x3(r),l=x3(s),u=e(o),h=We(u==null?void 0:u.className,t==null?void 0:t.className,i,s==null?void 0:s.className,r==null?void 0:r.className),p={...u==null?void 0:u.style,...t==null?void 0:t.style,...s==null?void 0:s.style,...r==null?void 0:r.style},m={...u,...t,...l,...a};return h.length>0&&(m.className=h),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:u.ref}}function b8(n,e,t){return typeof n=="function"?n(e,t):n}function cA(n){var p;const{elementType:e,externalSlotProps:t,ownerState:r,skipResolvingSlotProps:s=!1,...i}=n,o=s?{}:b8(t,r),{props:a,internalRef:l}=w8({...i,externalSlotProps:o}),u=vr(l,o==null?void 0:o.ref,(p=n.additionalProps)==null?void 0:p.ref);return v8(e,{...a,ref:u},r)}function Rf(n){var e;return parseInt(B.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}const _8=B.createContext(null);function MB(){return B.useContext(_8)}const Sie=typeof Symbol=="function"&&Symbol.for,Eie=Sie?Symbol.for("mui.nested"):"__THEME_NESTED__";function Cie(n,e){return typeof e=="function"?e(n):{...n,...e}}function Tie(n){const{children:e,theme:t}=n,r=MB(),s=B.useMemo(()=>{const i=r===null?{...t}:Cie(r,t);return i!=null&&(i[Eie]=r!==null),i},[t,r]);return I.jsx(_8.Provider,{value:s,children:e})}const S8=B.createContext();function xie({value:n,...e}){return I.jsx(S8.Provider,{value:n??!0,...e})}const BR=()=>B.useContext(S8)??!1,E8=B.createContext(void 0);function Aie({value:n,children:e}){return I.jsx(E8.Provider,{value:n,children:e})}function Rie(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const s=e.components[t];return s.defaultProps?I0(s.defaultProps,r):!s.styleOverrides&&!s.variants?I0(s,r):r}function Iie({props:n,name:e}){const t=B.useContext(E8);return Rie({props:n,name:e,theme:{components:t}})}const A3={};function R3(n,e,t,r=!1){return B.useMemo(()=>{const s=n&&e[n]||e;if(typeof t=="function"){const i=t(s),o=n?{...e,[n]:i}:i;return r?()=>o:o}return n?{...e,[n]:t}:{...e,...t}},[n,e,t,r])}function C8(n){const{children:e,theme:t,themeId:r}=n,s=IB(A3),i=MB()||A3,o=R3(r,s,t),a=R3(r,i,t,!0),l=(r?o[r]:o).direction==="rtl";return I.jsx(Tie,{theme:a,children:I.jsx(QE.Provider,{value:o,children:I.jsx(xie,{value:l,children:I.jsx(Aie,{value:r?o[r].components:o.components,children:e})})})})}const I3={theme:void 0};function kie(n){let e,t;return function(s){let i=e;return(i===void 0||s.theme!==t)&&(I3.theme=s.theme,i=u8(n(I3)),e=i,t=s.theme),i}}const OB="mode",LB="color-scheme",Pie="data-color-scheme";function Die(n){const{defaultMode:e="system",defaultLightColorScheme:t="light",defaultDarkColorScheme:r="dark",modeStorageKey:s=OB,colorSchemeStorageKey:i=LB,attribute:o=Pie,colorSchemeNode:a="document.documentElement",nonce:l}=n||{};let u="",h=o;if(o==="class"&&(h=".%s"),o==="data"&&(h="[data-%s]"),h.startsWith(".")){const m=h.substring(1);u+=`${a}.classList.remove('${m}'.replace('%s', light), '${m}'.replace('%s', dark));
      ${a}.classList.add('${m}'.replace('%s', colorScheme));`}const p=h.match(/\[([^\]]+)\]/);if(p){const[m,y]=p[1].split("=");y||(u+=`${a}.removeAttribute('${m}'.replace('%s', light));
      ${a}.removeAttribute('${m}'.replace('%s', dark));`),u+=`
      ${a}.setAttribute('${m}'.replace('%s', colorScheme), ${y?`${y}.replace('%s', colorScheme)`:'""'});`}else u+=`${a}.setAttribute('${h}', colorScheme);`;return I.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${s}') || '${e}';
  const dark = localStorage.getItem('${i}-dark') || '${r}';
  const light = localStorage.getItem('${i}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${u}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function k3(n){if(typeof window<"u"&&typeof window.matchMedia=="function"&&n==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function T8(n,e){if(n.mode==="light"||n.mode==="system"&&n.systemMode==="light")return e("light");if(n.mode==="dark"||n.mode==="system"&&n.systemMode==="dark")return e("dark")}function Mie(n){return T8(n,e=>{if(e==="light")return n.lightColorScheme;if(e==="dark")return n.darkColorScheme})}function tD(n,e){if(typeof window>"u")return;let t;try{t=localStorage.getItem(n)||void 0,t||localStorage.setItem(n,e)}catch{}return t||e}function Oie(n){const{defaultMode:e="light",defaultLightColorScheme:t,defaultDarkColorScheme:r,supportedColorSchemes:s=[],modeStorageKey:i=OB,colorSchemeStorageKey:o=LB,storageWindow:a=typeof window>"u"?void 0:window,noSsr:l=!1}=n,u=s.join(","),h=s.length>1,[p,m]=B.useState(()=>{const A=tD(i,e),k=tD(`${o}-light`,t),L=tD(`${o}-dark`,r);return{mode:A,systemMode:k3(A),lightColorScheme:k,darkColorScheme:L}}),[y,b]=B.useState(l||!h);B.useEffect(()=>{b(!0)},[]);const v=Mie(p),_=B.useCallback(A=>{m(k=>{if(A===k.mode)return k;const L=A??e;try{localStorage.setItem(i,L)}catch{}return{...k,mode:L,systemMode:k3(L)}})},[i,e]),E=B.useCallback(A=>{A?typeof A=="string"?A&&!u.includes(A)?console.error(`\`${A}\` does not exist in \`theme.colorSchemes\`.`):m(k=>{const L={...k};return T8(k,P=>{try{localStorage.setItem(`${o}-${P}`,A)}catch{}P==="light"&&(L.lightColorScheme=A),P==="dark"&&(L.darkColorScheme=A)}),L}):m(k=>{const L={...k},P=A.light===null?t:A.light,D=A.dark===null?r:A.dark;if(P)if(!u.includes(P))console.error(`\`${P}\` does not exist in \`theme.colorSchemes\`.`);else{L.lightColorScheme=P;try{localStorage.setItem(`${o}-light`,P)}catch{}}if(D)if(!u.includes(D))console.error(`\`${D}\` does not exist in \`theme.colorSchemes\`.`);else{L.darkColorScheme=D;try{localStorage.setItem(`${o}-dark`,D)}catch{}}return L}):m(k=>{try{localStorage.setItem(`${o}-light`,t),localStorage.setItem(`${o}-dark`,r)}catch{}return{...k,lightColorScheme:t,darkColorScheme:r}})},[u,o,t,r]),x=B.useCallback(A=>{p.mode==="system"&&m(k=>{const L=A!=null&&A.matches?"dark":"light";return k.systemMode===L?k:{...k,systemMode:L}})},[p.mode]),C=B.useRef(x);return C.current=x,B.useEffect(()=>{if(typeof window.matchMedia!="function"||!h)return;const A=(...L)=>C.current(...L),k=window.matchMedia("(prefers-color-scheme: dark)");return k.addListener(A),A(k),()=>{k.removeListener(A)}},[h]),B.useEffect(()=>{if(a&&h){const A=k=>{const L=k.newValue;typeof k.key=="string"&&k.key.startsWith(o)&&(!L||u.match(L))&&(k.key.endsWith("light")&&E({light:L}),k.key.endsWith("dark")&&E({dark:L})),k.key===i&&(!L||["light","dark","system"].includes(L))&&_(L||e)};return a.addEventListener("storage",A),()=>{a.removeEventListener("storage",A)}}},[E,_,i,o,u,e,a,h]),{...p,mode:y?p.mode:void 0,systemMode:y?p.systemMode:void 0,colorScheme:y?v:void 0,setMode:_,setColorScheme:E}}const Lie="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Nie(n){const{themeId:e,theme:t={},modeStorageKey:r=OB,colorSchemeStorageKey:s=LB,disableTransitionOnChange:i=!1,defaultColorScheme:o,resolveTheme:a}=n,l={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=B.createContext(void 0),h=()=>B.useContext(u)||l,p={},m={};function y(E){var $t,qt,qn,Gt;const{children:x,theme:C,modeStorageKey:A=r,colorSchemeStorageKey:k=s,disableTransitionOnChange:L=i,storageWindow:P=typeof window>"u"?void 0:window,documentNode:D=typeof document>"u"?void 0:document,colorSchemeNode:F=typeof document>"u"?void 0:document.documentElement,disableNestedContext:T=!1,disableStyleSheetGeneration:$=!1,defaultMode:z="system",noSsr:j}=E,Y=B.useRef(!1),Z=MB(),J=B.useContext(u),ee=!!J&&!T,Q=B.useMemo(()=>C||(typeof t=="function"?t():t),[C]),te=Q[e],de=te||Q,{colorSchemes:q=p,components:K=m,cssVarPrefix:ne}=de,le=Object.keys(q).filter(lt=>!!q[lt]).join(","),ce=B.useMemo(()=>le.split(","),[le]),be=typeof o=="string"?o:o.light,we=typeof o=="string"?o:o.dark,ke=q[be]&&q[we]?z:((qt=($t=q[de.defaultColorScheme])==null?void 0:$t.palette)==null?void 0:qt.mode)||((qn=de.palette)==null?void 0:qn.mode),{mode:Ne,setMode:Me,systemMode:Je,lightColorScheme:je,darkColorScheme:dt,colorScheme:Ye,setColorScheme:Ue}=Oie({supportedColorSchemes:ce,defaultLightColorScheme:be,defaultDarkColorScheme:we,modeStorageKey:A,colorSchemeStorageKey:k,defaultMode:ke,storageWindow:P,noSsr:j});let en=Ne,Be=Ye;ee&&(en=J.mode,Be=J.colorScheme);const _t=B.useMemo(()=>{var vn;const lt=Be||de.defaultColorScheme,St=((vn=de.generateThemeVars)==null?void 0:vn.call(de))||de.vars,Kt={...de,components:K,colorSchemes:q,cssVarPrefix:ne,vars:St};if(typeof Kt.generateSpacing=="function"&&(Kt.spacing=Kt.generateSpacing()),lt){const tt=q[lt];tt&&typeof tt=="object"&&Object.keys(tt).forEach(sn=>{tt[sn]&&typeof tt[sn]=="object"?Kt[sn]={...Kt[sn],...tt[sn]}:Kt[sn]=tt[sn]})}return a?a(Kt):Kt},[de,Be,K,q,ne]),Ut=de.colorSchemeSelector;Oa(()=>{if(Be&&F&&Ut&&Ut!=="media"){const lt=Ut;let St=Ut;if(lt==="class"&&(St=".%s"),lt==="data"&&(St="[data-%s]"),lt!=null&&lt.startsWith("data-")&&!lt.includes("%s")&&(St=`[${lt}="%s"]`),St.startsWith("."))F.classList.remove(...ce.map(Kt=>St.substring(1).replace("%s",Kt))),F.classList.add(St.substring(1).replace("%s",Be));else{const Kt=St.replace("%s",Be).match(/\[([^\]]+)\]/);if(Kt){const[vn,tt]=Kt[1].split("=");tt||ce.forEach(sn=>{F.removeAttribute(vn.replace(Be,sn))}),F.setAttribute(vn,tt?tt.replace(/"|'/g,""):"")}else F.setAttribute(St,Be)}}},[Be,Ut,F,ce]),B.useEffect(()=>{let lt;if(L&&Y.current&&D){const St=D.createElement("style");St.appendChild(D.createTextNode(Lie)),D.head.appendChild(St),window.getComputedStyle(D.body),lt=setTimeout(()=>{D.head.removeChild(St)},1)}return()=>{clearTimeout(lt)}},[Be,L,D]),B.useEffect(()=>(Y.current=!0,()=>{Y.current=!1}),[]);const Ot=B.useMemo(()=>({allColorSchemes:ce,colorScheme:Be,darkColorScheme:dt,lightColorScheme:je,mode:en,setColorScheme:Ue,setMode:Me,systemMode:Je}),[ce,Be,dt,je,en,Ue,Me,Je,_t.colorSchemeSelector]);let mt=!0;($||de.cssVariables===!1||ee&&(Z==null?void 0:Z.cssVarPrefix)===ne)&&(mt=!1);const Le=I.jsxs(B.Fragment,{children:[I.jsx(C8,{themeId:te?e:void 0,theme:_t,children:x}),mt&&I.jsx(t8,{styles:((Gt=_t.generateStyleSheets)==null?void 0:Gt.call(_t))||[]})]});return ee?Le:I.jsx(u.Provider,{value:Ot,children:Le})}const b=typeof o=="string"?o:o.light,v=typeof o=="string"?o:o.dark;return{CssVarsProvider:y,useColorScheme:h,getInitColorSchemeScript:E=>Die({colorSchemeStorageKey:s,defaultLightColorScheme:b,defaultDarkColorScheme:v,modeStorageKey:r,...E})}}function Fie(n=""){function e(...r){if(!r.length)return"";const s=r[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${s}${e(...r.slice(1))})`:`, ${s}`}return(r,...s)=>`var(--${n?`${n}-`:""}${r}${e(...s)})`}const P3=(n,e,t,r=[])=>{let s=n;e.forEach((i,o)=>{o===e.length-1?Array.isArray(s)?s[Number(i)]=t:s&&typeof s=="object"&&(s[i]=t):s&&typeof s=="object"&&(s[i]||(s[i]=r.includes(i)?[]:{}),s=s[i])})},Bie=(n,e,t)=>{function r(s,i=[],o=[]){Object.entries(s).forEach(([a,l])=>{(!t||t&&!t([...i,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...i,a],Array.isArray(l)?[...o,a]:o):e([...i,a],l,o))})}r(n)},$ie=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function nD(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},s={},i={},o={};return Bie(n,(a,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const h=`--${t?`${t}-`:""}${a.join("-")}`,p=$ie(a,l);Object.assign(s,{[h]:p}),P3(i,a,`var(${h})`,u),P3(o,a,`var(${h}, ${p})`,u)}},a=>a[0]==="vars"),{css:s,vars:i,varsWithDefaults:o}}function jie(n,e={}){const{getSelector:t=_,disableCssColorScheme:r,colorSchemeSelector:s}=e,{colorSchemes:i={},components:o,defaultColorScheme:a="light",...l}=n,{vars:u,css:h,varsWithDefaults:p}=nD(l,e);let m=p;const y={},{[a]:b,...v}=i;if(Object.entries(v||{}).forEach(([C,A])=>{const{vars:k,css:L,varsWithDefaults:P}=nD(A,e);m=di(m,P),y[C]={css:L,vars:k}}),b){const{css:C,vars:A,varsWithDefaults:k}=nD(b,e);m=di(m,k),y[a]={css:C,vars:A}}function _(C,A){var L,P;let k=s;if(s==="class"&&(k=".%s"),s==="data"&&(k="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(k=`[${s}="%s"]`),C){if(k==="media")return n.defaultColorScheme===C?":root":{[`@media (prefers-color-scheme: ${((P=(L=i[C])==null?void 0:L.palette)==null?void 0:P.mode)||C})`]:{":root":A}};if(k)return n.defaultColorScheme===C?`:root, ${k.replace("%s",String(C))}`:k.replace("%s",String(C))}return":root"}return{vars:m,generateThemeVars:()=>{let C={...u};return Object.entries(y).forEach(([,{vars:A}])=>{C=di(C,A)}),C},generateStyleSheets:()=>{var D,F;const C=[],A=n.defaultColorScheme||"light";function k(T,$){Object.keys($).length&&C.push(typeof T=="string"?{[T]:{...$}}:T)}k(t(void 0,{...h}),h);const{[A]:L,...P}=y;if(L){const{css:T}=L,$=(F=(D=i[A])==null?void 0:D.palette)==null?void 0:F.mode,z=!r&&$?{colorScheme:$,...T}:{...T};k(t(A,{...z}),z)}return Object.entries(P).forEach(([T,{css:$}])=>{var Y,Z;const z=(Z=(Y=i[T])==null?void 0:Y.palette)==null?void 0:Z.mode,j=!r&&z?{colorScheme:z,...$}:{...$};k(t(T,{...j}),j)}),C}}}function Uie(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const xl="$$material",C_={black:"#000",white:"#fff"},Vie={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},hy={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},fy={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},rb={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},py={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},my={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},gy={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function x8(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:C_.white,default:C_.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Hie=x8();function A8(){return{text:{primary:C_.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:C_.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const D3=A8();function M3(n,e,t,r){const s=r.light||r,i=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=P0(n.main,s):e==="dark"&&(n.dark=k0(n.main,i)))}function zie(n="light"){return n==="dark"?{main:py[200],light:py[50],dark:py[400]}:{main:py[700],light:py[400],dark:py[800]}}function Wie(n="light"){return n==="dark"?{main:hy[200],light:hy[50],dark:hy[400]}:{main:hy[500],light:hy[300],dark:hy[700]}}function qie(n="light"){return n==="dark"?{main:fy[500],light:fy[300],dark:fy[700]}:{main:fy[700],light:fy[400],dark:fy[800]}}function Gie(n="light"){return n==="dark"?{main:my[400],light:my[300],dark:my[700]}:{main:my[700],light:my[500],dark:my[900]}}function Kie(n="light"){return n==="dark"?{main:gy[400],light:gy[300],dark:gy[700]}:{main:gy[800],light:gy[500],dark:gy[900]}}function Yie(n="light"){return n==="dark"?{main:rb[400],light:rb[300],dark:rb[700]}:{main:"#ed6c02",light:rb[500],dark:rb[900]}}function NB(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...s}=n,i=n.primary||zie(e),o=n.secondary||Wie(e),a=n.error||qie(e),l=n.info||Gie(e),u=n.success||Kie(e),h=n.warning||Yie(e);function p(v){return mie(v,D3.text.primary)>=t?D3.text.primary:Hie.text.primary}const m=({color:v,name:_,mainShade:E=500,lightShade:x=300,darkShade:C=700})=>{if(v={...v},!v.main&&v[E]&&(v.main=v[E]),!v.hasOwnProperty("main"))throw new Error(gd(11,_?` (${_})`:"",E));if(typeof v.main!="string")throw new Error(gd(12,_?` (${_})`:"",JSON.stringify(v.main)));return M3(v,"light",x,r),M3(v,"dark",C,r),v.contrastText||(v.contrastText=p(v.main)),v};let y;return e==="light"?y=x8():e==="dark"&&(y=A8()),di({common:{...C_},mode:e,primary:m({color:i,name:"primary"}),secondary:m({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:a,name:"error"}),warning:m({color:h,name:"warning"}),info:m({color:l,name:"info"}),success:m({color:u,name:"success"}),grey:Vie,contrastThreshold:t,getContrastText:p,augmentColor:m,tonalOffset:r,...y},s)}function Xie(n){const e={};return Object.entries(n).forEach(r=>{const[s,i]=r;typeof i=="object"&&(e[s]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),e}function Jie(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function Qie(n){return Math.round(n*1e5)/1e5}const O3={textTransform:"uppercase"},L3='"Roboto", "Helvetica", "Arial", sans-serif';function R8(n,e){const{fontFamily:t=L3,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:i=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:u,pxToRem:h,...p}=typeof e=="function"?e(n):e,m=r/14,y=h||(_=>`${_/l*m}rem`),b=(_,E,x,C,A)=>({fontFamily:t,fontWeight:_,fontSize:y(E),lineHeight:x,...t===L3?{letterSpacing:`${Qie(C/E)}em`}:{},...A,...u}),v={h1:b(s,96,1.167,-1.5),h2:b(s,60,1.2,-.5),h3:b(i,48,1.167,0),h4:b(i,34,1.235,.25),h5:b(i,24,1.334,0),h6:b(o,20,1.6,.15),subtitle1:b(i,16,1.75,.15),subtitle2:b(o,14,1.57,.1),body1:b(i,16,1.5,.15),body2:b(i,14,1.43,.15),button:b(o,14,1.75,.4,O3),caption:b(i,12,1.66,.4),overline:b(i,12,2.66,1,O3),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return di({htmlFontSize:l,pxToRem:y,fontFamily:t,fontSize:r,fontWeightLight:s,fontWeightRegular:i,fontWeightMedium:o,fontWeightBold:a,...v},p,{clone:!1})}const Zie=.2,eoe=.14,toe=.12;function rr(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Zie})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${eoe})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${toe})`].join(",")}const noe=["none",rr(0,2,1,-1,0,1,1,0,0,1,3,0),rr(0,3,1,-2,0,2,2,0,0,1,5,0),rr(0,3,3,-2,0,3,4,0,0,1,8,0),rr(0,2,4,-1,0,4,5,0,0,1,10,0),rr(0,3,5,-1,0,5,8,0,0,1,14,0),rr(0,3,5,-1,0,6,10,0,0,1,18,0),rr(0,4,5,-2,0,7,10,1,0,2,16,1),rr(0,5,5,-3,0,8,10,1,0,3,14,2),rr(0,5,6,-3,0,9,12,1,0,3,16,2),rr(0,6,6,-3,0,10,14,1,0,4,18,3),rr(0,6,7,-4,0,11,15,1,0,4,20,3),rr(0,7,8,-4,0,12,17,2,0,5,22,4),rr(0,7,8,-4,0,13,19,2,0,5,24,4),rr(0,7,9,-4,0,14,21,2,0,5,26,4),rr(0,8,9,-5,0,15,22,2,0,6,28,5),rr(0,8,10,-5,0,16,24,2,0,6,30,5),rr(0,8,11,-5,0,17,26,2,0,6,32,5),rr(0,9,11,-5,0,18,28,2,0,7,34,6),rr(0,9,12,-6,0,19,29,2,0,7,36,6),rr(0,10,13,-6,0,20,31,3,0,8,38,7),rr(0,10,13,-6,0,21,33,3,0,8,40,7),rr(0,10,14,-6,0,22,35,3,0,8,42,7),rr(0,11,14,-7,0,23,36,3,0,9,44,8),rr(0,11,15,-7,0,24,38,3,0,9,46,8)],roe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},soe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function N3(n){return`${Math.round(n)}ms`}function ioe(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function ooe(n){const e={...roe,...n.easing},t={...soe,...n.duration};return{getAutoHeightDuration:ioe,create:(s=["all"],i={})=>{const{duration:o=t.standard,easing:a=e.easeInOut,delay:l=0,...u}=i;return(Array.isArray(s)?s:[s]).map(h=>`${h} ${typeof o=="string"?o:N3(o)} ${a} ${typeof l=="string"?l:N3(l)}`).join(",")},...n,easing:e,duration:t}}const aoe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function loe(n){return Tc(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function I8(n={}){const e={...n};function t(r){const s=Object.entries(r);for(let i=0;i<s.length;i++){const[o,a]=s[i];!loe(a)||o.startsWith("unstable_")?delete r[o]:Tc(a)&&(r[o]={...a},t(r[o]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function kL(n={},...e){const{breakpoints:t,mixins:r={},spacing:s,palette:i={},transitions:o={},typography:a={},shape:l,...u}=n;if(n.vars)throw new Error(gd(20));const h=NB(i),p=RB(n);let m=di(p,{mixins:Jie(p.breakpoints,r),palette:h,shadows:noe.slice(),typography:R8(h,a),transitions:ooe(o),zIndex:{...aoe}});return m=di(m,u),m=e.reduce((y,b)=>di(y,b),m),m.unstable_sxConfig={...n1,...u==null?void 0:u.unstable_sxConfig},m.unstable_sx=function(b){return mf({sx:b,theme:this})},m.toRuntimeSource=I8,m}function PL(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const coe=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=PL(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function k8(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function P8(n){return n==="dark"?coe:[]}function uoe(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...s}=n,i=NB(e);return{palette:i,opacity:{...k8(i.mode),...t},overlays:r||P8(i.mode),...s}}function doe(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const hoe=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],foe=n=>(e,t)=>{const r=n.rootSelector||":root",s=n.colorSchemeSelector;let i=s;if(s==="class"&&(i=".%s"),s==="data"&&(i="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(i=`[${s}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const o={};return hoe(n.cssVarPrefix).forEach(a=>{o[a]=t[a],delete t[a]}),i==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:o}}:i?{[i.replace("%s",e)]:o,[`${r}, ${i.replace("%s",e)}`]:t}:{[r]:{...t,...o}}}if(i&&i!=="media")return`${r}, ${i.replace("%s",String(e))}`}else if(e){if(i==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(i)return i.replace("%s",String(e))}return r};function poe(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function me(n,e,t){!n[e]&&t&&(n[e]=t)}function Ab(n){return typeof n!="string"||!n.startsWith("hsl")?n:p8(n)}function au(n,e){`${e}Channel`in n||(n[`${e}Channel`]=xb(Ab(n[e])))}function moe(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Kl=n=>{try{return n()}catch{}},goe=(n="mui")=>Fie(n);function rD(n,e,t,r){if(!e)return;e=e===!0?{}:e;const s=r==="dark"?"dark":"light";if(!t){n[r]=uoe({...e,palette:{mode:s,...e==null?void 0:e.palette}});return}const{palette:i,...o}=kL({...t,palette:{mode:s,...e==null?void 0:e.palette}});return n[r]={...e,palette:i,opacity:{...k8(s),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||P8(s)},o}function yoe(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:s=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:o=doe,colorSchemeSelector:a=t.light&&t.dark?"media":void 0,rootSelector:l=":root",...u}=n,h=Object.keys(t)[0],p=r||(t.light&&h!=="light"?"light":h),m=goe(i),{[p]:y,light:b,dark:v,..._}=t,E={..._};let x=y;if((p==="dark"&&!("dark"in t)||p==="light"&&!("light"in t))&&(x=!0),!x)throw new Error(gd(21,p));const C=rD(E,x,u,p);b&&!E.light&&rD(E,b,void 0,"light"),v&&!E.dark&&rD(E,v,void 0,"dark");let A={defaultColorScheme:p,...C,cssVarPrefix:i,colorSchemeSelector:a,rootSelector:l,getCssVar:m,colorSchemes:E,font:{...Xie(C.typography),...C.font},spacing:moe(u.spacing)};Object.keys(A.colorSchemes).forEach(F=>{const T=A.colorSchemes[F].palette,$=z=>{const j=z.split("-"),Y=j[1],Z=j[2];return m(z,T[Y][Z])};if(T.mode==="light"&&(me(T.common,"background","#fff"),me(T.common,"onBackground","#000")),T.mode==="dark"&&(me(T.common,"background","#000"),me(T.common,"onBackground","#fff")),poe(T,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),T.mode==="light"){me(T.Alert,"errorColor",On(T.error.light,.6)),me(T.Alert,"infoColor",On(T.info.light,.6)),me(T.Alert,"successColor",On(T.success.light,.6)),me(T.Alert,"warningColor",On(T.warning.light,.6)),me(T.Alert,"errorFilledBg",$("palette-error-main")),me(T.Alert,"infoFilledBg",$("palette-info-main")),me(T.Alert,"successFilledBg",$("palette-success-main")),me(T.Alert,"warningFilledBg",$("palette-warning-main")),me(T.Alert,"errorFilledColor",Kl(()=>T.getContrastText(T.error.main))),me(T.Alert,"infoFilledColor",Kl(()=>T.getContrastText(T.info.main))),me(T.Alert,"successFilledColor",Kl(()=>T.getContrastText(T.success.main))),me(T.Alert,"warningFilledColor",Kl(()=>T.getContrastText(T.warning.main))),me(T.Alert,"errorStandardBg",Ln(T.error.light,.9)),me(T.Alert,"infoStandardBg",Ln(T.info.light,.9)),me(T.Alert,"successStandardBg",Ln(T.success.light,.9)),me(T.Alert,"warningStandardBg",Ln(T.warning.light,.9)),me(T.Alert,"errorIconColor",$("palette-error-main")),me(T.Alert,"infoIconColor",$("palette-info-main")),me(T.Alert,"successIconColor",$("palette-success-main")),me(T.Alert,"warningIconColor",$("palette-warning-main")),me(T.AppBar,"defaultBg",$("palette-grey-100")),me(T.Avatar,"defaultBg",$("palette-grey-400")),me(T.Button,"inheritContainedBg",$("palette-grey-300")),me(T.Button,"inheritContainedHoverBg",$("palette-grey-A100")),me(T.Chip,"defaultBorder",$("palette-grey-400")),me(T.Chip,"defaultAvatarColor",$("palette-grey-700")),me(T.Chip,"defaultIconColor",$("palette-grey-700")),me(T.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),me(T.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),me(T.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),me(T.LinearProgress,"primaryBg",Ln(T.primary.main,.62)),me(T.LinearProgress,"secondaryBg",Ln(T.secondary.main,.62)),me(T.LinearProgress,"errorBg",Ln(T.error.main,.62)),me(T.LinearProgress,"infoBg",Ln(T.info.main,.62)),me(T.LinearProgress,"successBg",Ln(T.success.main,.62)),me(T.LinearProgress,"warningBg",Ln(T.warning.main,.62)),me(T.Skeleton,"bg",`rgba(${$("palette-text-primaryChannel")} / 0.11)`),me(T.Slider,"primaryTrack",Ln(T.primary.main,.62)),me(T.Slider,"secondaryTrack",Ln(T.secondary.main,.62)),me(T.Slider,"errorTrack",Ln(T.error.main,.62)),me(T.Slider,"infoTrack",Ln(T.info.main,.62)),me(T.Slider,"successTrack",Ln(T.success.main,.62)),me(T.Slider,"warningTrack",Ln(T.warning.main,.62));const z=dT(T.background.default,.8);me(T.SnackbarContent,"bg",z),me(T.SnackbarContent,"color",Kl(()=>T.getContrastText(z))),me(T.SpeedDialAction,"fabHoverBg",dT(T.background.paper,.15)),me(T.StepConnector,"border",$("palette-grey-400")),me(T.StepContent,"border",$("palette-grey-400")),me(T.Switch,"defaultColor",$("palette-common-white")),me(T.Switch,"defaultDisabledColor",$("palette-grey-100")),me(T.Switch,"primaryDisabledColor",Ln(T.primary.main,.62)),me(T.Switch,"secondaryDisabledColor",Ln(T.secondary.main,.62)),me(T.Switch,"errorDisabledColor",Ln(T.error.main,.62)),me(T.Switch,"infoDisabledColor",Ln(T.info.main,.62)),me(T.Switch,"successDisabledColor",Ln(T.success.main,.62)),me(T.Switch,"warningDisabledColor",Ln(T.warning.main,.62)),me(T.TableCell,"border",Ln(uT(T.divider,1),.88)),me(T.Tooltip,"bg",uT(T.grey[700],.92))}if(T.mode==="dark"){me(T.Alert,"errorColor",Ln(T.error.light,.6)),me(T.Alert,"infoColor",Ln(T.info.light,.6)),me(T.Alert,"successColor",Ln(T.success.light,.6)),me(T.Alert,"warningColor",Ln(T.warning.light,.6)),me(T.Alert,"errorFilledBg",$("palette-error-dark")),me(T.Alert,"infoFilledBg",$("palette-info-dark")),me(T.Alert,"successFilledBg",$("palette-success-dark")),me(T.Alert,"warningFilledBg",$("palette-warning-dark")),me(T.Alert,"errorFilledColor",Kl(()=>T.getContrastText(T.error.dark))),me(T.Alert,"infoFilledColor",Kl(()=>T.getContrastText(T.info.dark))),me(T.Alert,"successFilledColor",Kl(()=>T.getContrastText(T.success.dark))),me(T.Alert,"warningFilledColor",Kl(()=>T.getContrastText(T.warning.dark))),me(T.Alert,"errorStandardBg",On(T.error.light,.9)),me(T.Alert,"infoStandardBg",On(T.info.light,.9)),me(T.Alert,"successStandardBg",On(T.success.light,.9)),me(T.Alert,"warningStandardBg",On(T.warning.light,.9)),me(T.Alert,"errorIconColor",$("palette-error-main")),me(T.Alert,"infoIconColor",$("palette-info-main")),me(T.Alert,"successIconColor",$("palette-success-main")),me(T.Alert,"warningIconColor",$("palette-warning-main")),me(T.AppBar,"defaultBg",$("palette-grey-900")),me(T.AppBar,"darkBg",$("palette-background-paper")),me(T.AppBar,"darkColor",$("palette-text-primary")),me(T.Avatar,"defaultBg",$("palette-grey-600")),me(T.Button,"inheritContainedBg",$("palette-grey-800")),me(T.Button,"inheritContainedHoverBg",$("palette-grey-700")),me(T.Chip,"defaultBorder",$("palette-grey-700")),me(T.Chip,"defaultAvatarColor",$("palette-grey-300")),me(T.Chip,"defaultIconColor",$("palette-grey-300")),me(T.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),me(T.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),me(T.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),me(T.LinearProgress,"primaryBg",On(T.primary.main,.5)),me(T.LinearProgress,"secondaryBg",On(T.secondary.main,.5)),me(T.LinearProgress,"errorBg",On(T.error.main,.5)),me(T.LinearProgress,"infoBg",On(T.info.main,.5)),me(T.LinearProgress,"successBg",On(T.success.main,.5)),me(T.LinearProgress,"warningBg",On(T.warning.main,.5)),me(T.Skeleton,"bg",`rgba(${$("palette-text-primaryChannel")} / 0.13)`),me(T.Slider,"primaryTrack",On(T.primary.main,.5)),me(T.Slider,"secondaryTrack",On(T.secondary.main,.5)),me(T.Slider,"errorTrack",On(T.error.main,.5)),me(T.Slider,"infoTrack",On(T.info.main,.5)),me(T.Slider,"successTrack",On(T.success.main,.5)),me(T.Slider,"warningTrack",On(T.warning.main,.5));const z=dT(T.background.default,.98);me(T.SnackbarContent,"bg",z),me(T.SnackbarContent,"color",Kl(()=>T.getContrastText(z))),me(T.SpeedDialAction,"fabHoverBg",dT(T.background.paper,.15)),me(T.StepConnector,"border",$("palette-grey-600")),me(T.StepContent,"border",$("palette-grey-600")),me(T.Switch,"defaultColor",$("palette-grey-300")),me(T.Switch,"defaultDisabledColor",$("palette-grey-600")),me(T.Switch,"primaryDisabledColor",On(T.primary.main,.55)),me(T.Switch,"secondaryDisabledColor",On(T.secondary.main,.55)),me(T.Switch,"errorDisabledColor",On(T.error.main,.55)),me(T.Switch,"infoDisabledColor",On(T.info.main,.55)),me(T.Switch,"successDisabledColor",On(T.success.main,.55)),me(T.Switch,"warningDisabledColor",On(T.warning.main,.55)),me(T.TableCell,"border",On(uT(T.divider,1),.68)),me(T.Tooltip,"bg",uT(T.grey[700],.92))}au(T.background,"default"),au(T.background,"paper"),au(T.common,"background"),au(T.common,"onBackground"),au(T,"divider"),Object.keys(T).forEach(z=>{const j=T[z];z!=="tonalOffset"&&j&&typeof j=="object"&&(j.main&&me(T[z],"mainChannel",xb(Ab(j.main))),j.light&&me(T[z],"lightChannel",xb(Ab(j.light))),j.dark&&me(T[z],"darkChannel",xb(Ab(j.dark))),j.contrastText&&me(T[z],"contrastTextChannel",xb(Ab(j.contrastText))),z==="text"&&(au(T[z],"primary"),au(T[z],"secondary")),z==="action"&&(j.active&&au(T[z],"active"),j.selected&&au(T[z],"selected")))})}),A=e.reduce((F,T)=>di(F,T),A);const k={prefix:i,disableCssColorScheme:s,shouldSkipGeneratingVar:o,getSelector:foe(A)},{vars:L,generateThemeVars:P,generateStyleSheets:D}=jie(A,k);return A.vars=L,Object.entries(A.colorSchemes[A.defaultColorScheme]).forEach(([F,T])=>{A[F]=T}),A.generateThemeVars=P,A.generateStyleSheets=D,A.generateSpacing=function(){return o8(u.spacing,xB(this))},A.getColorSchemeSelector=Uie(a),A.spacing=A.generateSpacing(),A.shouldSkipGeneratingVar=o,A.unstable_sxConfig={...n1,...u==null?void 0:u.unstable_sxConfig},A.unstable_sx=function(T){return mf({sx:T,theme:this})},A.toRuntimeSource=I8,A}function F3(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:NB({...t===!0?{}:t.palette,mode:e})})}function $R(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:s=t?void 0:{light:!0},defaultColorScheme:i=t==null?void 0:t.mode,...o}=n,a=i||"light",l=s==null?void 0:s[a],u={...s,...t?{[a]:{...typeof l!="boolean"&&l,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return kL(n,...e);let h=t;"palette"in n||u[a]&&(u[a]!==!0?h=u[a].palette:a==="dark"&&(h={mode:"dark"}));const p=kL({...n,palette:h},...e);return p.defaultColorScheme=a,p.colorSchemes=u,p.palette.mode==="light"&&(p.colorSchemes.light={...u.light!==!0&&u.light,palette:p.palette},F3(p,"dark",u.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:p.palette},F3(p,"light",u.light)),p}return!t&&!("light"in u)&&a==="light"&&(u.light=!0),yoe({...o,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}function voe(n){return String(n).match(/[\d.\-+]*\s*(.*)/)[1]||""}function woe(n){return parseFloat(n)}const FB=$R();function Ua(){const n=kB(FB);return n[xl]||n}function D8(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const fo=n=>D8(n)&&n!=="classes",Ie=rie({themeId:xl,defaultTheme:FB,rootShouldForwardProp:fo});function B3({theme:n,...e}){const t=xl in n?n[xl]:void 0;return I.jsx(C8,{...e,themeId:t?xl:void 0,theme:t||n})}const hT={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:boe}=Nie({themeId:xl,theme:()=>$R({cssVariables:!0}),colorSchemeStorageKey:hT.colorSchemeStorageKey,modeStorageKey:hT.modeStorageKey,defaultColorScheme:{light:hT.defaultLightColorScheme,dark:hT.defaultDarkColorScheme},resolveTheme:n=>{const e={...n,typography:R8(n.palette,n.typography)};return e.unstable_sx=function(r){return mf({sx:r,theme:this})},e}}),_oe=boe;function Soe({theme:n,...e}){return typeof n=="function"?I.jsx(B3,{theme:n,...e}):"colorSchemes"in(xl in n?n[xl]:n)?I.jsx(_oe,{theme:n,...e}):I.jsx(B3,{theme:n,...e})}const Eoe=pt("MuiBox",["root"]),Coe=$R(),ge=Qse({themeId:xl,defaultTheme:Coe,defaultClassName:Eoe.root,generateClassName:l8.generate});/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $3="popstate";function Toe(n={}){function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=mg(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),DL("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:T_(i))}function r(s,i){La(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return Aoe(e,t,r,n)}function gr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function La(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xoe(){return Math.random().toString(36).substring(2,10)}function j3(n,e){return{usr:n.state,key:n.key,idx:e}}function DL(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?mg(e):e,state:t,key:e&&e.key||r||xoe()}}function T_({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function mg(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Aoe(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",l=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function p(){a="POP";let _=h(),E=_==null?null:_-u;u=_,l&&l({action:a,location:v.location,delta:E})}function m(_,E){a="PUSH";let x=DL(v.location,_,E);t&&t(x,_),u=h()+1;let C=j3(x,u),A=v.createHref(x);try{o.pushState(C,"",A)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(A)}i&&l&&l({action:a,location:v.location,delta:1})}function y(_,E){a="REPLACE";let x=DL(v.location,_,E);t&&t(x,_),u=h();let C=j3(x,u),A=v.createHref(x);o.replaceState(C,"",A),i&&l&&l({action:a,location:v.location,delta:0})}function b(_){return Roe(_)}let v={get action(){return a},get location(){return n(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener($3,p),l=_,()=>{s.removeEventListener($3,p),l=null}},createHref(_){return e(s,_)},createURL:b,encodeLocation(_){let E=b(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:y,go(_){return o.go(_)}};return v}function Roe(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),gr(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:T_(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function M8(n,e,t="/"){return Ioe(n,e,t,!1)}function Ioe(n,e,t,r){let s=typeof e=="string"?mg(e):e,i=vd(s.pathname||"/",t);if(i==null)return null;let o=O8(n);koe(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Uoe(i);a=$oe(o[l],u,r)}return a}function O8(n,e=[],t=[],r="",s=!1){let i=(o,a,l=s,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&l)return;gr(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=ld([r,h.relativePath]),m=t.concat(h);o.children&&o.children.length>0&&(gr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),O8(o.children,e,m,p,l)),!(o.path==null&&!o.index)&&e.push({path:p,score:Foe(p,o.index),routesMeta:m})};return n.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of L8(o.path))i(o,a,!0,u)}),e}function L8(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=L8(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function koe(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Boe(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Poe=/^:[\w-]+$/,Doe=3,Moe=2,Ooe=1,Loe=10,Noe=-2,U3=n=>n==="*";function Foe(n,e){let t=n.split("/"),r=t.length;return t.some(U3)&&(r+=Noe),e&&(r+=Moe),t.filter(s=>!U3(s)).reduce((s,i)=>s+(Poe.test(i)?Doe:i===""?Ooe:Loe),r)}function Boe(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function $oe(n,e,t=!1){let{routesMeta:r}=n,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=uA({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),m=l.route;if(!p&&u&&t&&!r[r.length-1].route.index&&(p=uA({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:ld([i,p.pathname]),pathnameBase:qoe(ld([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=ld([i,p.pathnameBase]))}return o}function uA(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=joe(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:p},m)=>{if(h==="*"){let b=a[m]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const y=a[m];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:n}}function joe(n,e=!1,t=!0){La(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Uoe(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return La(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function vd(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var Voe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hoe=n=>Voe.test(n);function zoe(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?mg(n):n,i;if(t)if(Hoe(t))i=t;else{if(t.includes("//")){let o=t;t=t.replace(/\/\/+/g,"/"),La(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${t}`)}t.startsWith("/")?i=V3(t.substring(1),"/"):i=V3(t,e)}else i=e;return{pathname:i,search:Goe(r),hash:Koe(s)}}function V3(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function sD(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Woe(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function N8(n){let e=Woe(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function F8(n,e,t,r=!1){let s;typeof n=="string"?s=mg(n):(s={...n},gr(!s.pathname||!s.pathname.includes("?"),sD("?","pathname","search",s)),gr(!s.pathname||!s.pathname.includes("#"),sD("#","pathname","hash",s)),gr(!s.search||!s.search.includes("#"),sD("#","search","hash",s)));let i=n===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=t;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;s.pathname=m.join("/")}a=p>=0?e[p]:"/"}let l=zoe(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var ld=n=>n.join("/").replace(/\/\/+/g,"/"),qoe=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Goe=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Koe=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Yoe(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var B8=["POST","PUT","PATCH","DELETE"];new Set(B8);var Xoe=["GET",...B8];new Set(Xoe);var Q0=B.createContext(null);Q0.displayName="DataRouter";var jR=B.createContext(null);jR.displayName="DataRouterState";B.createContext(!1);var $8=B.createContext({isTransitioning:!1});$8.displayName="ViewTransition";var Joe=B.createContext(new Map);Joe.displayName="Fetchers";var Qoe=B.createContext(null);Qoe.displayName="Await";var Uc=B.createContext(null);Uc.displayName="Navigation";var r1=B.createContext(null);r1.displayName="Location";var Vc=B.createContext({outlet:null,matches:[],isDataRoute:!1});Vc.displayName="Route";var BB=B.createContext(null);BB.displayName="RouteError";function Zoe(n,{relative:e}={}){gr(s1(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=B.useContext(Uc),{hash:s,pathname:i,search:o}=i1(n,{relative:e}),a=i;return t!=="/"&&(a=i==="/"?t:ld([t,i])),r.createHref({pathname:a,search:o,hash:s})}function s1(){return B.useContext(r1)!=null}function If(){return gr(s1(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(r1).location}var j8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U8(n){B.useContext(Uc).static||B.useLayoutEffect(n)}function Z0(){let{isDataRoute:n}=B.useContext(Vc);return n?hae():eae()}function eae(){gr(s1(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(Q0),{basename:e,navigator:t}=B.useContext(Uc),{matches:r}=B.useContext(Vc),{pathname:s}=If(),i=JSON.stringify(N8(r)),o=B.useRef(!1);return U8(()=>{o.current=!0}),B.useCallback((l,u={})=>{if(La(o.current,j8),!o.current)return;if(typeof l=="number"){t.go(l);return}let h=F8(l,JSON.parse(i),s,u.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ld([e,h.pathname])),(u.replace?t.replace:t.push)(h,u.state,u)},[e,t,i,s,n])}B.createContext(null);function V8(){let{matches:n}=B.useContext(Vc),e=n[n.length-1];return e?e.params:{}}function i1(n,{relative:e}={}){let{matches:t}=B.useContext(Vc),{pathname:r}=If(),s=JSON.stringify(N8(t));return B.useMemo(()=>F8(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function tae(n,e){return H8(n,e)}function H8(n,e,t,r,s){var x;gr(s1(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=B.useContext(Uc),{matches:o}=B.useContext(Vc),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",h=a?a.pathnameBase:"/",p=a&&a.route;{let C=p&&p.path||"";z8(u,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let m=If(),y;if(e){let C=typeof e=="string"?mg(e):e;gr(h==="/"||((x=C.pathname)==null?void 0:x.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${C.pathname}" was given in the \`location\` prop.`),y=C}else y=m;let b=y.pathname||"/",v=b;if(h!=="/"){let C=h.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let _=M8(n,{pathname:v});La(p||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),La(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=oae(_&&_.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:ld([h,i.encodeLocation?i.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:ld([h,i.encodeLocation?i.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),o,t,r,s);return e&&E?B.createElement(r1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},E):E}function nae(){let n=dae(),e=Yoe(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:i},"ErrorBoundary")," or"," ",B.createElement("code",{style:i},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:s},t):null,o)}var rae=B.createElement(nae,null),sae=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?B.createElement(Vc.Provider,{value:this.props.routeContext},B.createElement(BB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iae({routeContext:n,match:e,children:t}){let r=B.useContext(Q0);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Vc.Provider,{value:n},t)}function oae(n,e=[],t=null,r=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let h=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);gr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let a=!1,l=-1;if(t)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=h),p.route.id){let{loaderData:m,errors:y}=t,b=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}let u=t&&r?(h,p)=>{var m,y;r(h,{location:t.location,params:((y=(m=t.matches)==null?void 0:m[0])==null?void 0:y.params)??{},errorInfo:p})}:void 0;return i.reduceRight((h,p,m)=>{let y,b=!1,v=null,_=null;t&&(y=o&&p.route.id?o[p.route.id]:void 0,v=p.route.errorElement||rae,a&&(l<0&&m===0?(z8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):l===m&&(b=!0,_=p.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,m+1)),x=()=>{let C;return y?C=v:b?C=_:p.route.Component?C=B.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,B.createElement(iae,{match:p,routeContext:{outlet:h,matches:E,isDataRoute:t!=null},children:C})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?B.createElement(sae,{location:t.location,revalidation:t.revalidation,component:v,error:y,children:x(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:u}):x()},null)}function $B(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aae(n){let e=B.useContext(Q0);return gr(e,$B(n)),e}function lae(n){let e=B.useContext(jR);return gr(e,$B(n)),e}function cae(n){let e=B.useContext(Vc);return gr(e,$B(n)),e}function jB(n){let e=cae(n),t=e.matches[e.matches.length-1];return gr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function uae(){return jB("useRouteId")}function dae(){var r;let n=B.useContext(BB),e=lae("useRouteError"),t=jB("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function hae(){let{router:n}=aae("useNavigate"),e=jB("useNavigate"),t=B.useRef(!1);return U8(()=>{t.current=!0}),B.useCallback(async(s,i={})=>{La(t.current,j8),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...i}))},[n,e])}var H3={};function z8(n,e,t){!e&&!H3[n]&&(H3[n]=!0,La(!1,t))}B.memo(fae);function fae({routes:n,future:e,state:t,unstable_onError:r}){return H8(n,void 0,t,r,e)}function da(n){gr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pae({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:i=!1}){gr(!s1(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),a=B.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof t=="string"&&(t=mg(t));let{pathname:l="/",search:u="",hash:h="",state:p=null,key:m="default"}=t,y=B.useMemo(()=>{let b=vd(l,o);return b==null?null:{location:{pathname:b,search:u,hash:h,state:p,key:m},navigationType:r}},[o,l,u,h,p,m,r]);return La(y!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:B.createElement(Uc.Provider,{value:a},B.createElement(r1.Provider,{children:e,value:y}))}function mae({children:n,location:e}){return tae(ML(n),e)}function ML(n,e=[]){let t=[];return B.Children.forEach(n,(r,s)=>{if(!B.isValidElement(r))return;let i=[...e,s];if(r.type===B.Fragment){t.push.apply(t,ML(r.props.children,i));return}gr(r.type===da,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ML(r.props.children,i)),t.push(o)}),t}var YT="get",XT="application/x-www-form-urlencoded";function UR(n){return n!=null&&typeof n.tagName=="string"}function gae(n){return UR(n)&&n.tagName.toLowerCase()==="button"}function yae(n){return UR(n)&&n.tagName.toLowerCase()==="form"}function vae(n){return UR(n)&&n.tagName.toLowerCase()==="input"}function wae(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function bae(n,e){return n.button===0&&(!e||e==="_self")&&!wae(n)}var fT=null;function _ae(){if(fT===null)try{new FormData(document.createElement("form"),0),fT=!1}catch{fT=!0}return fT}var Sae=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function iD(n){return n!=null&&!Sae.has(n)?(La(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${XT}"`),null):n}function Eae(n,e){let t,r,s,i,o;if(yae(n)){let a=n.getAttribute("action");r=a?vd(a,e):null,t=n.getAttribute("method")||YT,s=iD(n.getAttribute("enctype"))||XT,i=new FormData(n)}else if(gae(n)||vae(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||a.getAttribute("action");if(r=l?vd(l,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||YT,s=iD(n.getAttribute("formenctype"))||iD(a.getAttribute("enctype"))||XT,i=new FormData(a,n),!_ae()){let{name:u,type:h,value:p}=n;if(h==="image"){let m=u?`${u}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else u&&i.append(u,p)}}else{if(UR(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=YT,r=null,s=XT,o=n}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function UB(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Cae(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&vd(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function Tae(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xae(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Aae(n,e,t){let r=await Promise.all(n.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await Tae(i,t);return o.links?o.links():[]}return[]}));return Pae(r.flat(1).filter(xae).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function z3(n,e,t,r,s,i){let o=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,a=(l,u)=>{var h;return t[u].pathname!==l.pathname||((h=t[u].route.path)==null?void 0:h.endsWith("*"))&&t[u].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):i==="data"?e.filter((l,u)=>{var p;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=t[0])==null?void 0:p.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Rae(n,e,{includeHydrateFallback:t}={}){return Iae(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Iae(n){return[...new Set(n)]}function kae(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Pae(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let i=JSON.stringify(kae(s));return t.has(i)||(t.add(i),r.push({key:i,link:s})),r},[])}function W8(){let n=B.useContext(Q0);return UB(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Dae(){let n=B.useContext(jR);return UB(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var VB=B.createContext(void 0);VB.displayName="FrameworkContext";function q8(){let n=B.useContext(VB);return UB(n,"You must render this element inside a <HydratedRouter> element"),n}function Mae(n,e){let t=B.useContext(VB),[r,s]=B.useState(!1),[i,o]=B.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:p}=e,m=B.useRef(null);B.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let v=E=>{E.forEach(x=>{o(x.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return m.current&&_.observe(m.current),()=>{_.disconnect()}}},[n]),B.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let y=()=>{s(!0)},b=()=>{s(!1),o(!1)};return t?n!=="intent"?[i,m,{}]:[i,m,{onFocus:sb(a,y),onBlur:sb(l,b),onMouseEnter:sb(u,y),onMouseLeave:sb(h,b),onTouchStart:sb(p,y)}]:[!1,m,{}]}function sb(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Oae({page:n,...e}){let{router:t}=W8(),r=B.useMemo(()=>M8(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?B.createElement(Nae,{page:n,matches:r,...e}):null}function Lae(n){let{manifest:e,routeModules:t}=q8(),[r,s]=B.useState([]);return B.useEffect(()=>{let i=!1;return Aae(n,e,t).then(o=>{i||s(o)}),()=>{i=!0}},[n,e,t]),r}function Nae({page:n,matches:e,...t}){let r=If(),{manifest:s,routeModules:i}=q8(),{basename:o}=W8(),{loaderData:a,matches:l}=Dae(),u=B.useMemo(()=>z3(n,e,l,s,r,"data"),[n,e,l,s,r]),h=B.useMemo(()=>z3(n,e,l,s,r,"assets"),[n,e,l,s,r]),p=B.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,v=!1;if(e.forEach(E=>{var C;let x=s.routes[E.route.id];!x||!x.hasLoader||(!u.some(A=>A.route.id===E.route.id)&&E.route.id in a&&((C=i[E.route.id])!=null&&C.shouldRevalidate)||x.hasClientLoader?v=!0:b.add(E.route.id))}),b.size===0)return[];let _=Cae(n,o,"data");return v&&b.size>0&&_.searchParams.set("_routes",e.filter(E=>b.has(E.route.id)).map(E=>E.route.id).join(",")),[_.pathname+_.search]},[o,a,r,s,u,e,n,i]),m=B.useMemo(()=>Rae(h,s),[h,s]),y=Lae(h);return B.createElement(B.Fragment,null,p.map(b=>B.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),m.map(b=>B.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),y.map(({key:b,link:v})=>B.createElement("link",{key:b,nonce:t.nonce,...v})))}function Fae(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var G8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G8&&(window.__reactRouterVersion="7.9.6")}catch{}function Bae({basename:n,children:e,window:t}){let r=B.useRef();r.current==null&&(r.current=Toe({window:t,v5Compat:!0}));let s=r.current,[i,o]=B.useState({action:s.action,location:s.location}),a=B.useCallback(l=>{B.startTransition(()=>o(l))},[o]);return B.useLayoutEffect(()=>s.listen(a),[s,a]),B.createElement(pae,{basename:n,children:e,location:i.location,navigationType:i.action,navigator:s})}var K8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HB=B.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:p,...m},y){let{basename:b}=B.useContext(Uc),v=typeof u=="string"&&K8.test(u),_,E=!1;if(typeof u=="string"&&v&&(_=u,G8))try{let F=new URL(window.location.href),T=u.startsWith("//")?new URL(F.protocol+u):new URL(u),$=vd(T.pathname,b);T.origin===F.origin&&$!=null?u=$+T.search+T.hash:E=!0}catch{La(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=Zoe(u,{relative:s}),[C,A,k]=Mae(r,m),L=Vae(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:p});function P(F){e&&e(F),F.defaultPrevented||L(F)}let D=B.createElement("a",{...m,...k,href:_||x,onClick:E||i?e:P,ref:Fae(y,A),target:l,"data-discover":!v&&t==="render"?"true":void 0});return C&&!v?B.createElement(B.Fragment,null,D,B.createElement(Oae,{page:x})):D});HB.displayName="Link";var $ae=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...u},h){let p=i1(o,{relative:u.relative}),m=If(),y=B.useContext(jR),{navigator:b,basename:v}=B.useContext(Uc),_=y!=null&&Gae(p)&&a===!0,E=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,x=m.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(x=x.toLowerCase(),C=C?C.toLowerCase():null,E=E.toLowerCase()),C&&v&&(C=vd(C,v)||C);const A=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let k=x===E||!s&&x.startsWith(E)&&x.charAt(A)==="/",L=C!=null&&(C===E||!s&&C.startsWith(E)&&C.charAt(E.length)==="/"),P={isActive:k,isPending:L,isTransitioning:_},D=k?e:void 0,F;typeof r=="function"?F=r(P):F=[r,k?"active":null,L?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let T=typeof i=="function"?i(P):i;return B.createElement(HB,{...u,"aria-current":D,className:F,ref:h,style:T,to:o,viewTransition:a},typeof l=="function"?l(P):l)});$ae.displayName="NavLink";var jae=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:i,method:o=YT,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:p,...m},y)=>{let b=Wae(),v=qae(a,{relative:u}),_=o.toLowerCase()==="get"?"get":"post",E=typeof a=="string"&&K8.test(a),x=C=>{if(l&&l(C),C.defaultPrevented)return;C.preventDefault();let A=C.nativeEvent.submitter,k=(A==null?void 0:A.getAttribute("formmethod"))||o;b(A||C.currentTarget,{fetcherKey:e,method:k,navigate:t,replace:s,state:i,relative:u,preventScrollReset:h,viewTransition:p})};return B.createElement("form",{ref:y,method:_,action:v,onSubmit:r?l:x,...m,"data-discover":!E&&n==="render"?"true":void 0})});jae.displayName="Form";function Uae(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y8(n){let e=B.useContext(Q0);return gr(e,Uae(n)),e}function Vae(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=Z0(),l=If(),u=i1(n,{relative:i});return B.useCallback(h=>{if(bae(h,e)){h.preventDefault();let p=t!==void 0?t:T_(l)===T_(u);a(n,{replace:p,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[l,a,u,t,r,e,n,s,i,o])}var Hae=0,zae=()=>`__${String(++Hae)}__`;function Wae(){let{router:n}=Y8("useSubmit"),{basename:e}=B.useContext(Uc),t=uae();return B.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:l,body:u}=Eae(r,e);if(s.navigate===!1){let h=s.fetcherKey||zae();await n.fetch(h,t,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await n.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function qae(n,{relative:e}={}){let{basename:t}=B.useContext(Uc),r=B.useContext(Vc);gr(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...i1(n||".",{relative:e})},o=If();if(n==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(p=>p).forEach(p=>a.append("index",p));let h=a.toString();i.search=h?`?${h}`:""}}return(!n||n===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:ld([t,i.pathname])),T_(i)}function Gae(n,{relative:e}={}){let t=B.useContext($8);gr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Y8("useViewTransitionState"),s=i1(n,{relative:e});if(!t.isTransitioning)return!1;let i=vd(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=vd(t.nextLocation.pathname,r)||t.nextLocation.pathname;return uA(s.pathname,o)!=null||uA(s.pathname,i)!=null}var X8=UG();const Ny=ho(X8),pT={contentContainer:{overflow:"hidden",paddingTop:{xs:8,md:4},paddingBottom:4,transition:"0.3s all ease-in-out",width:"100%"},regularPageContainers:{paddingRight:{xs:2,md:6},display:"flex",flexDirection:"column",gap:2,transition:"0.3s all ease-in-out"}},Gy=()=>{const[n,e]=B.useState(null);return{anchorEl:n,setModalOpen:s=>{e(s.currentTarget)},setModalClosed:()=>{e(null)}}},Kae=()=>{};var W3={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Yae=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],o=n[t++],a=n[t++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=n[t++],o=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Q8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],o=s+1<n.length,a=o?n[s+1]:0,l=s+2<n.length,u=l?n[s+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(J8(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Yae(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],a=s<n.length?t[n.charAt(s)]:0;++s;const u=s<n.length?t[n.charAt(s)]:64;++s;const p=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||a==null||u==null||p==null)throw new Xae;const m=i<<2|a>>4;if(r.push(m),u!==64){const y=a<<4&240|u>>2;if(r.push(y),p!==64){const b=u<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Xae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jae=function(n){const e=J8(n);return Q8.encodeByteArray(e,!0)},dA=function(n){return Jae(n).replace(/\./g,"")},Z8=function(n){try{return Q8.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zae=()=>Qae().__FIREBASE_DEFAULTS__,ele=()=>{if(typeof process>"u"||typeof W3>"u")return;const n=W3.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},tle=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Z8(n[1]);return e&&JSON.parse(e)},VR=()=>{try{return Kae()||Zae()||ele()||tle()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},e7=n=>{var e,t;return(t=(e=VR())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},nle=n=>{const e=e7(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},t7=()=>{var n;return(n=VR())===null||n===void 0?void 0:n.config},n7=n=>{var e;return(e=VR())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rle{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sle(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},n);return[dA(JSON.stringify(t)),dA(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ile(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pi())}function ole(){var n;const e=(n=VR())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ale(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r7(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function lle(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cle(){const n=pi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ule(){return!ole()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s7(){try{return typeof indexedDB=="object"}catch{return!1}}function i7(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}function dle(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hle="FirebaseError";class Ll extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=hle,Object.setPrototypeOf(this,Ll.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gg.prototype.create)}}class gg{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?fle(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ll(s,a,r)}}function fle(n,e){return n.replace(ple,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const ple=/\{\$([^}]+)}/g;function mle(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function yf(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],o=e[s];if(q3(i)&&q3(o)){if(!yf(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function q3(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rb(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ib(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function gle(n,e){const t=new yle(n,e);return t.subscribe.bind(t)}class yle{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");vle(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=oD),s.error===void 0&&(s.error=oD),s.complete===void 0&&(s.complete=oD);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vle(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function oD(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wle=1e3,ble=2,_le=14400*1e3,Sle=.5;function G3(n,e=wle,t=ble){const r=e*Math.pow(t,n),s=Math.round(Sle*r*(Math.random()-.5)*2);return Math.min(_le,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(n){return n&&n._delegate?n._delegate:n}class Il{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ele{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new rle;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Tle(e))try{this.getOrInitializeService({instanceIdentifier:hp})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=hp){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hp){return this.instances.has(e)}getOptions(e=hp){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Cle(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hp){return this.component?this.component.multipleInstances?e:hp:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cle(n){return n===hp?void 0:n}function Tle(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xle{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ele(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ht||(Ht={}));const Ale={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},Rle=Ht.INFO,Ile={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},kle=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Ile[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class HR{constructor(e){this.name=e,this._logLevel=Rle,this._logHandler=kle,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ale[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...e),this._logHandler(this,Ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...e),this._logHandler(this,Ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...e),this._logHandler(this,Ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...e),this._logHandler(this,Ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...e),this._logHandler(this,Ht.ERROR,...e)}}const Ple=(n,e)=>e.some(t=>n instanceof t);let K3,Y3;function Dle(){return K3||(K3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mle(){return Y3||(Y3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o7=new WeakMap,OL=new WeakMap,a7=new WeakMap,aD=new WeakMap,zB=new WeakMap;function Ole(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",o)},i=()=>{t(cf(n.result)),s()},o=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&o7.set(t,n)}).catch(()=>{}),zB.set(e,n),e}function Lle(n){if(OL.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",o),n.removeEventListener("abort",o)},i=()=>{t(),s()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",o),n.addEventListener("abort",o)});OL.set(n,e)}let LL={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return OL.get(n);if(e==="objectStoreNames")return n.objectStoreNames||a7.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return cf(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Nle(n){LL=n(LL)}function Fle(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(lD(this),e,...t);return a7.set(r,e.sort?e.sort():[e]),cf(r)}:Mle().includes(n)?function(...e){return n.apply(lD(this),e),cf(o7.get(this))}:function(...e){return cf(n.apply(lD(this),e))}}function Ble(n){return typeof n=="function"?Fle(n):(n instanceof IDBTransaction&&Lle(n),Ple(n,Dle())?new Proxy(n,LL):n)}function cf(n){if(n instanceof IDBRequest)return Ole(n);if(aD.has(n))return aD.get(n);const e=Ble(n);return e!==n&&(aD.set(n,e),zB.set(e,n)),e}const lD=n=>zB.get(n);function l7(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(n,e),a=cf(o);return r&&o.addEventListener("upgradeneeded",l=>{r(cf(o.result),l.oldVersion,l.newVersion,cf(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const $le=["get","getKey","getAll","getAllKeys","count"],jle=["put","add","delete","clear"],cD=new Map;function X3(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cD.get(e))return cD.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=jle.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||$le.includes(t)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),s&&l.done]))[0]};return cD.set(e,i),i}Nle(n=>({...n,get:(e,t,r)=>X3(e,t)||n.get(e,t,r),has:(e,t)=>!!X3(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ule{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Vle(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Vle(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const NL="@firebase/app",J3="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new HR("@firebase/app"),Hle="@firebase/app-compat",zle="@firebase/analytics-compat",Wle="@firebase/analytics",qle="@firebase/app-check-compat",Gle="@firebase/app-check",Kle="@firebase/auth",Yle="@firebase/auth-compat",Xle="@firebase/database",Jle="@firebase/data-connect",Qle="@firebase/database-compat",Zle="@firebase/functions",ece="@firebase/functions-compat",tce="@firebase/installations",nce="@firebase/installations-compat",rce="@firebase/messaging",sce="@firebase/messaging-compat",ice="@firebase/performance",oce="@firebase/performance-compat",ace="@firebase/remote-config",lce="@firebase/remote-config-compat",cce="@firebase/storage",uce="@firebase/storage-compat",dce="@firebase/firestore",hce="@firebase/vertexai",fce="@firebase/firestore-compat",pce="firebase",mce="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL="[DEFAULT]",gce={[NL]:"fire-core",[Hle]:"fire-core-compat",[Wle]:"fire-analytics",[zle]:"fire-analytics-compat",[Gle]:"fire-app-check",[qle]:"fire-app-check-compat",[Kle]:"fire-auth",[Yle]:"fire-auth-compat",[Xle]:"fire-rtdb",[Jle]:"fire-data-connect",[Qle]:"fire-rtdb-compat",[Zle]:"fire-fn",[ece]:"fire-fn-compat",[tce]:"fire-iid",[nce]:"fire-iid-compat",[rce]:"fire-fcm",[sce]:"fire-fcm-compat",[ice]:"fire-perf",[oce]:"fire-perf-compat",[ace]:"fire-rc",[lce]:"fire-rc-compat",[cce]:"fire-gcs",[uce]:"fire-gcs-compat",[dce]:"fire-fst",[fce]:"fire-fst-compat",[hce]:"fire-vertex","fire-js":"fire-js",[pce]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=new Map,yce=new Map,BL=new Map;function Q3(n,e){try{n.container.addComponent(e)}catch(t){wd.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Mc(n){const e=n.name;if(BL.has(e))return wd.debug(`There were multiple attempts to register component ${e}.`),!1;BL.set(e,n);for(const t of hA.values())Q3(t,n);for(const t of yce.values())Q3(t,n);return!0}function yg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Wo(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vce={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uf=new gg("app","Firebase",vce);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wce{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Il("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=mce;function c7(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:FL,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw uf.create("bad-app-name",{appName:String(s)});if(t||(t=t7()),!t)throw uf.create("no-options");const i=hA.get(s);if(i){if(yf(t,i.options)&&yf(r,i.config))return i;throw uf.create("duplicate-app",{appName:s})}const o=new xle(s);for(const l of BL.values())o.addComponent(l);const a=new wce(t,r,o);return hA.set(s,a),a}function WB(n=FL){const e=hA.get(n);if(!e&&n===FL&&t7())return c7();if(!e)throw uf.create("no-app",{appName:n});return e}function ka(n,e,t){var r;let s=(r=gce[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wd.warn(a.join(" "));return}Mc(new Il(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bce="firebase-heartbeat-database",_ce=1,x_="firebase-heartbeat-store";let uD=null;function u7(){return uD||(uD=l7(bce,_ce,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(x_)}catch(t){console.warn(t)}}}}).catch(n=>{throw uf.create("idb-open",{originalErrorMessage:n.message})})),uD}async function Sce(n){try{const t=(await u7()).transaction(x_),r=await t.objectStore(x_).get(d7(n));return await t.done,r}catch(e){if(e instanceof Ll)wd.warn(e.message);else{const t=uf.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wd.warn(t.message)}}}async function Z3(n,e){try{const r=(await u7()).transaction(x_,"readwrite");await r.objectStore(x_).put(e,d7(n)),await r.done}catch(t){if(t instanceof Ll)wd.warn(t.message);else{const r=uf.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});wd.warn(r.message)}}}function d7(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ece=1024,Cce=30;class Tce{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ace(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=e5();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>Cce){const o=Rce(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){wd.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=e5(),{heartbeatsToSend:r,unsentEntries:s}=xce(this._heartbeatsCache.heartbeats),i=dA(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return wd.warn(t),""}}}function e5(){return new Date().toISOString().substring(0,10)}function xce(n,e=Ece){const t=[];let r=n.slice();for(const s of n){const i=t.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),t5(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),t5(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Ace{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s7()?i7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Sce(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Z3(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Z3(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function t5(n){return dA(JSON.stringify({version:2,heartbeats:n})).length}function Rce(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ice(n){Mc(new Il("platform-logger",e=>new Ule(e),"PRIVATE")),Mc(new Il("heartbeat",e=>new Tce(e),"PRIVATE")),ka(NL,J3,n),ka(NL,J3,"esm2017"),ka("fire-js","")}Ice("");function qB(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function h7(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kce=h7,f7=new gg("auth","Firebase",h7()),yy={EMAIL_EXISTS:"auth/email-already-in-use",INVALID_EMAIL:"auth/invalid-email",INVALID_PASSWORD:"auth/wrong-password",NETWORK_REQUEST_FAILED:"auth/network-request-failed",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",WEAK_PASSWORD:"auth/weak-password"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=new HR("@firebase/auth");function Pce(n,...e){fA.logLevel<=Ht.WARN&&fA.warn(`Auth (${ew}): ${n}`,...e)}function JT(n,...e){fA.logLevel<=Ht.ERROR&&fA.error(`Auth (${ew}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(n,...e){throw KB(n,...e)}function Al(n,...e){return KB(n,...e)}function GB(n,e,t){const r=Object.assign(Object.assign({},kce()),{[e]:t});return new gg("auth","Firebase",r).create(e,{appName:n.name})}function cd(n){return GB(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dce(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Na(n,"argument-error"),GB(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function KB(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return f7.create(n,...e)}function ut(n,e,...t){if(!n)throw KB(e,...t)}function nd(n){const e="INTERNAL ASSERTION FAILED: "+n;throw JT(e),new Error(e)}function bd(n,e){n||nd(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Mce(){return n5()==="http:"||n5()==="https:"}function n5(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oce(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mce()||r7()||"connection"in navigator)?navigator.onLine:!0}function Lce(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,t){this.shortDelay=e,this.longDelay=t,bd(t>e,"Short delay should be less than long delay!"),this.isMobile=ile()||lle()}get(){return Oce()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(n,e){bd(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fce=new a1(3e4,6e4);function kf(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Pf(n,e,t,r,s={}){return m7(n,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=o1(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:l},i);return ale()||(u.referrerPolicy="no-referrer"),p7.fetch()(g7(n,n.config.apiHost,t,a),u)})}async function m7(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Nce),e);try{const s=new $ce(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw mT(n,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw mT(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw mT(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw mT(n,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw GB(n,h,u);Na(n,h)}}catch(s){if(s instanceof Ll)throw s;Na(n,"network-request-failed",{message:String(s)})}}async function l1(n,e,t,r,s={}){const i=await Pf(n,e,t,r,s);return"mfaPendingCredential"in i&&Na(n,"multi-factor-auth-required",{_serverResponse:i}),i}function g7(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?YB(n.config,s):`${n.config.apiScheme}://${s}`}function Bce(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $ce{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Al(this.auth,"network-request-failed")),Fce.get())})}}function mT(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Al(n,e,r);return s.customData._tokenResponse=t,s}function r5(n){return n!==void 0&&n.enterprise!==void 0}class jce{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Bce(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Uce(n,e){return Pf(n,"GET","/v2/recaptchaConfig",kf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vce(n,e){return Pf(n,"POST","/v1/accounts:delete",e)}async function y7(n,e){return Pf(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Hce(n,e=!1){const t=As(n),r=await t.getIdToken(e),s=XB(r);ut(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:l_(dD(s.auth_time)),issuedAtTime:l_(dD(s.iat)),expirationTime:l_(dD(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function dD(n){return Number(n)*1e3}function XB(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return JT("JWT malformed, contained fewer than 3 sections"),null;try{const s=Z8(t);return s?JSON.parse(s):(JT("Failed to decode base64 JWT payload"),null)}catch(s){return JT("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function s5(n){const e=XB(n);return ut(e,"internal-error"),ut(typeof e.exp<"u","internal-error"),ut(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A_(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ll&&zce(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function zce({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wce{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=l_(this.lastLoginAt),this.creationTime=l_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(n){var e;const t=n.auth,r=await n.getIdToken(),s=await A_(n,y7(t,{idToken:r}));ut(s==null?void 0:s.users.length,t,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?v7(i.providerUserInfo):[],a=Gce(n.providerData,o),l=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new jL(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(n,p)}async function qce(n){const e=As(n);await pA(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Gce(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function v7(n){return n.map(e=>{var{providerId:t}=e,r=qB(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kce(n,e){const t=await m7(n,{},async()=>{const r=o1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,o=g7(n,s,"/v1/token",`key=${i}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",p7.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Yce(n,e){return Pf(n,"POST","/v2/accounts:revokeToken",kf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ut(e.idToken,"internal-error"),ut(typeof e.idToken<"u","internal-error"),ut(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ut(e.length!==0,"internal-error");const t=s5(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ut(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await Kce(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,o=new Ky;return r&&(ut(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ut(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ut(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ky,this.toJSON())}_performRefresh(){return nd("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(n,e){ut(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class rd{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,i=qB(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new jL(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await A_(this,this.stsTokenManager.getToken(this.auth,e));return ut(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Hce(this,e)}reload(){return qce(this)}_assign(e){this!==e&&(ut(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new rd(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await pA(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wo(this.auth.app))return Promise.reject(cd(this.auth));const e=await this.getIdToken();return await A_(this,Vce(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,i,o,a,l,u,h;const p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(s=t.email)!==null&&s!==void 0?s:void 0,y=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,b=(o=t.photoURL)!==null&&o!==void 0?o:void 0,v=(a=t.tenantId)!==null&&a!==void 0?a:void 0,_=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=t.createdAt)!==null&&u!==void 0?u:void 0,x=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:C,emailVerified:A,isAnonymous:k,providerData:L,stsTokenManager:P}=t;ut(C&&P,e,"internal-error");const D=Ky.fromJSON(this.name,P);ut(typeof C=="string",e,"internal-error"),rh(p,e.name),rh(m,e.name),ut(typeof A=="boolean",e,"internal-error"),ut(typeof k=="boolean",e,"internal-error"),rh(y,e.name),rh(b,e.name),rh(v,e.name),rh(_,e.name),rh(E,e.name),rh(x,e.name);const F=new rd({uid:C,auth:e,email:m,emailVerified:A,displayName:p,isAnonymous:k,photoURL:b,phoneNumber:y,tenantId:v,stsTokenManager:D,createdAt:E,lastLoginAt:x});return L&&Array.isArray(L)&&(F.providerData=L.map(T=>Object.assign({},T))),_&&(F._redirectEventId=_),F}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ky;s.updateFromServerResponse(t);const i=new rd({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await pA(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];ut(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?v7(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ky;a.updateFromIdToken(r);const l=new rd({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new jL(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=new Map;function sd(n){bd(n instanceof Function,"Expected a class definition");let e=i5.get(n);return e?(bd(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,i5.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}w7.type="NONE";const o5=w7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(n,e,t){return`firebase:${n}:${e}:${t}`}class Yy{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=QT(this.userKey,s.apiKey,i),this.fullPersistenceKey=QT("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?rd._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Yy(sd(o5),e,r);const s=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||sd(o5);const o=QT(r,e.config.apiKey,e.name);let a=null;for(const u of t)try{const h=await u._get(o);if(h){const p=rd._fromJSON(e,h);u!==i&&(a=p),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Yy(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Yy(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E7(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b7(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(T7(e))return"Blackberry";if(x7(e))return"Webos";if(_7(e))return"Safari";if((e.includes("chrome/")||S7(e))&&!e.includes("edge/"))return"Chrome";if(C7(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function b7(n=pi()){return/firefox\//i.test(n)}function _7(n=pi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function S7(n=pi()){return/crios\//i.test(n)}function E7(n=pi()){return/iemobile/i.test(n)}function C7(n=pi()){return/android/i.test(n)}function T7(n=pi()){return/blackberry/i.test(n)}function x7(n=pi()){return/webos/i.test(n)}function JB(n=pi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Xce(n=pi()){var e;return JB(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Jce(){return cle()&&document.documentMode===10}function A7(n=pi()){return JB(n)||C7(n)||x7(n)||T7(n)||/windows phone/i.test(n)||E7(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(n,e=[]){let t;switch(n){case"Browser":t=a5(pi());break;case"Worker":t=`${a5(pi())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ew}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qce{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zce(n,e={}){return Pf(n,"GET","/v2/passwordPolicy",kf(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eue=6;class tue{constructor(e){var t,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:eue,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nue{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new l5(this),this.idTokenSubscription=new l5(this),this.beforeStateQueue=new Qce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f7,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=sd(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Yy.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await y7(this,{idToken:e}),r=await rd._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Wo(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pA(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Lce()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wo(this.app))return Promise.reject(cd(this));const t=e?As(e):null;return t&&ut(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ut(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wo(this.app)?Promise.reject(cd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wo(this.app)?Promise.reject(cd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sd(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Zce(this),t=new tue(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gg("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Yce(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&sd(e)||this._popupRedirectResolver;ut(t,this,"argument-error"),this.redirectPersistenceManager=await Yy.create(this,[sd(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ut(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=R7(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Wo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Pce(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Df(n){return As(n)}class l5{constructor(e){this.auth=e,this.observer=null,this.addObserver=gle(t=>this.observer=t)}get next(){return ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zR={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rue(n){zR=n}function I7(n){return zR.loadJS(n)}function sue(){return zR.recaptchaEnterpriseScript}function iue(){return zR.gapiScript}function oue(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class aue{constructor(){this.enterprise=new lue}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class lue{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const cue="recaptcha-enterprise",k7="NO_RECAPTCHA";class uue{constructor(e){this.type=cue,this.auth=Df(e)}async verify(e="verify",t=!1){async function r(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{Uce(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new jce(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;r5(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(k7)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aue().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!t&&r5(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=sue();l.length!==0&&(l+=a),I7(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function c5(n,e,t,r=!1,s=!1){const i=new uue(n);let o;if(s)o=k7;else try{o=await i.verify(t)}catch{o=await i.verify(t,!0)}const a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function UL(n,e,t,r,s){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await c5(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await c5(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function due(n,e){const t=yg(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(yf(i,e??{}))return s;Na(s,"already-initialized")}return t.initialize({options:e})}function hue(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(sd);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fue(n,e,t){const r=Df(n);ut(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=P7(e),{host:o,port:a}=pue(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ut(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ut(yf(u,r.config.emulator)&&yf(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,mue()}function P7(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function pue(n){const e=P7(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:u5(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:u5(o)}}}function u5(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function mue(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return nd("not implemented")}_getIdTokenResponse(e){return nd("not implemented")}_linkToIdToken(e,t){return nd("not implemented")}_getReauthenticationResolver(e){return nd("not implemented")}}async function gue(n,e){return Pf(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yue(n,e){return l1(n,"POST","/v1/accounts:signInWithPassword",kf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vue(n,e){return l1(n,"POST","/v1/accounts:signInWithEmailLink",kf(n,e))}async function wue(n,e){return l1(n,"POST","/v1/accounts:signInWithEmailLink",kf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_ extends QB{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new R_(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new R_(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return UL(e,t,"signInWithPassword",yue);case"emailLink":return vue(e,{email:this._email,oobCode:this._password});default:Na(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return UL(e,r,"signUpPassword",gue);case"emailLink":return wue(e,{idToken:t,email:this._email,oobCode:this._password});default:Na(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xy(n,e){return l1(n,"POST","/v1/accounts:signInWithIdp",kf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bue="http://localhost";class Xm extends QB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xm(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Na("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,i=qB(t,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Xm(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Xy(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Xy(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xy(e,t)}buildRequest(){const e={requestUri:bue,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=o1(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ue(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Sue(n){const e=Rb(Ib(n)).link,t=e?Rb(Ib(e)).deep_link_id:null,r=Rb(Ib(n)).deep_link_id;return(r?Rb(Ib(r)).link:null)||r||t||e||n}class ZB{constructor(e){var t,r,s,i,o,a;const l=Rb(Ib(e)),u=(t=l.apiKey)!==null&&t!==void 0?t:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,p=_ue((s=l.mode)!==null&&s!==void 0?s:null);ut(u&&h&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=Sue(e);try{return new ZB(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.providerId=tw.PROVIDER_ID}static credential(e,t){return R_._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ZB.parseLink(t);return ut(r,"argument-error"),R_._fromEmailAndCode(e,r.code,r.tenantId)}}tw.PROVIDER_ID="password";tw.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1 extends e${constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends c1{constructor(){super("facebook.com")}static credential(e){return Xm._fromParams({providerId:ch.PROVIDER_ID,signInMethod:ch.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ch.credentialFromTaggedObject(e)}static credentialFromError(e){return ch.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ch.credential(e.oauthAccessToken)}catch{return null}}}ch.FACEBOOK_SIGN_IN_METHOD="facebook.com";ch.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends c1{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xm._fromParams({providerId:ed.PROVIDER_ID,signInMethod:ed.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ed.credentialFromTaggedObject(e)}static credentialFromError(e){return ed.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ed.credential(t,r)}catch{return null}}}ed.GOOGLE_SIGN_IN_METHOD="google.com";ed.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends c1{constructor(){super("github.com")}static credential(e){return Xm._fromParams({providerId:uh.PROVIDER_ID,signInMethod:uh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uh.credentialFromTaggedObject(e)}static credentialFromError(e){return uh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uh.credential(e.oauthAccessToken)}catch{return null}}}uh.GITHUB_SIGN_IN_METHOD="github.com";uh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends c1{constructor(){super("twitter.com")}static credential(e,t){return Xm._fromParams({providerId:dh.PROVIDER_ID,signInMethod:dh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return dh.credentialFromTaggedObject(e)}static credentialFromError(e){return dh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return dh.credential(t,r)}catch{return null}}}dh.TWITTER_SIGN_IN_METHOD="twitter.com";dh.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eue(n,e){return l1(n,"POST","/v1/accounts:signUp",kf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await rd._fromIdTokenResponse(e,r,s),o=d5(r);return new Jm({user:i,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=d5(r);return new Jm({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function d5(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA extends Ll{constructor(e,t,r,s){var i;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,mA.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new mA(e,t,r,s)}}function D7(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?mA._fromErrorAndOperation(n,i,e,r):i})}async function Cue(n,e,t=!1){const r=await A_(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Jm._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tue(n,e,t=!1){const{auth:r}=n;if(Wo(r.app))return Promise.reject(cd(r));const s="reauthenticate";try{const i=await A_(n,D7(r,s,e,n),t);ut(i.idToken,r,"internal-error");const o=XB(i.idToken);ut(o,r,"internal-error");const{sub:a}=o;return ut(n.uid===a,r,"user-mismatch"),Jm._forOperation(n,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Na(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M7(n,e,t=!1){if(Wo(n.app))return Promise.reject(cd(n));const r="signIn",s=await D7(n,r,e),i=await Jm._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}async function xue(n,e){return M7(Df(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O7(n){const e=Df(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Aue(n,e,t){if(Wo(n.app))return Promise.reject(cd(n));const r=Df(n),o=await UL(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Eue).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&O7(n),l}),a=await Jm._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Rue(n,e,t){return Wo(n.app)?Promise.reject(cd(n)):xue(As(n),tw.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&O7(n),r})}function Iue(n,e,t,r){return As(n).onIdTokenChanged(e,t,r)}function kue(n,e,t){return As(n).beforeAuthStateChanged(e,t)}function Pue(n){return As(n).signOut()}const gA="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gA,"1"),this.storage.removeItem(gA),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Due=1e3,Mue=10;class N7 extends L7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A7(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Jce()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Mue):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Due)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}N7.type="LOCAL";const Oue=N7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7 extends L7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}F7.type="SESSION";const B7=F7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lue(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new WR(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(t.origin,i)),l=await Lue(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}WR.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nue{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=t$("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(){return window}function Fue(n){Ic().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(){return typeof Ic().WorkerGlobalScope<"u"&&typeof Ic().importScripts=="function"}async function Bue(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $ue(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function jue(){return $7()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7="firebaseLocalStorageDb",Uue=1,yA="firebaseLocalStorage",U7="fbase_key";class u1{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qR(n,e){return n.transaction([yA],e?"readwrite":"readonly").objectStore(yA)}function Vue(){const n=indexedDB.deleteDatabase(j7);return new u1(n).toPromise()}function VL(){const n=indexedDB.open(j7,Uue);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(yA,{keyPath:U7})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(yA)?e(r):(r.close(),await Vue(),e(await VL()))})})}async function h5(n,e,t){const r=qR(n,!0).put({[U7]:e,value:t});return new u1(r).toPromise()}async function Hue(n,e){const t=qR(n,!1).get(e),r=await new u1(t).toPromise();return r===void 0?null:r.value}function f5(n,e){const t=qR(n,!0).delete(e);return new u1(t).toPromise()}const zue=800,Wue=3;class V7{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await VL(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Wue)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $7()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=WR._getInstance(jue()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Bue(),!this.activeServiceWorker)return;this.sender=new Nue(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$ue()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await VL();return await h5(e,gA,"1"),await f5(e,gA),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>h5(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Hue(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>f5(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=qR(s,!1).getAll();return new u1(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zue)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V7.type="LOCAL";const que=V7;new a1(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(n,e){return e?sd(e):(ut(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n$ extends QB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xy(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xy(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xy(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Gue(n){return M7(n.auth,new n$(n),n.bypassAuthState)}function Kue(n){const{auth:e,user:t}=n;return ut(t,e,"internal-error"),Tue(t,new n$(n),n.bypassAuthState)}async function Yue(n){const{auth:e,user:t}=n;return ut(t,e,"internal-error"),Cue(t,new n$(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gue;case"linkViaPopup":case"linkViaRedirect":return Yue;case"reauthViaPopup":case"reauthViaRedirect":return Kue;default:Na(this.auth,"internal-error")}}resolve(e){bd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xue=new a1(2e3,1e4);async function Jue(n,e,t){if(Wo(n.app))return Promise.reject(Al(n,"operation-not-supported-in-this-environment"));const r=Df(n);Dce(n,e,e$);const s=H7(r,t);return new Ep(r,"signInViaPopup",e,s).executeNotNull()}class Ep extends z7{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ep.currentPopupAction&&Ep.currentPopupAction.cancel(),Ep.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ut(e,this.auth,"internal-error"),e}async onExecution(){bd(this.filter.length===1,"Popup operations only handle one event");const e=t$();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Al(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Al(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ep.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Al(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Xue.get())};e()}}Ep.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Que="pendingRedirect",ZT=new Map;class Zue extends z7{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ZT.get(this.auth._key());if(!e){try{const r=await ede(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ZT.set(this.auth._key(),e)}return this.bypassAuthState||ZT.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ede(n,e){const t=rde(e),r=nde(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function tde(n,e){ZT.set(n._key(),e)}function nde(n){return sd(n._redirectPersistence)}function rde(n){return QT(Que,n.config.apiKey,n.name)}async function sde(n,e,t=!1){if(Wo(n.app))return Promise.reject(cd(n));const r=Df(n),s=H7(r,e),o=await new Zue(r,s,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ide=600*1e3;class ode{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ade(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!W7(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Al(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ide&&this.cachedEventUids.clear(),this.cachedEventUids.has(p5(e))}saveEventToCache(e){this.cachedEventUids.add(p5(e)),this.lastProcessedEventTime=Date.now()}}function p5(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function W7({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ade(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W7(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lde(n,e={}){return Pf(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cde=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ude=/^https?/;async function dde(n){if(n.config.emulator)return;const{authorizedDomains:e}=await lde(n);for(const t of e)try{if(hde(t))return}catch{}Na(n,"unauthorized-domain")}function hde(n){const e=$L(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!ude.test(t))return!1;if(cde.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fde=new a1(3e4,6e4);function m5(){const n=Ic().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function pde(n){return new Promise((e,t)=>{var r,s,i;function o(){m5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m5(),t(Al(n,"network-request-failed"))},timeout:fde.get()})}if(!((s=(r=Ic().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Ic().gapi)===null||i===void 0)&&i.load)o();else{const a=oue("iframefcb");return Ic()[a]=()=>{gapi.load?o():t(Al(n,"network-request-failed"))},I7(`${iue()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw ex=null,e})}let ex=null;function mde(n){return ex=ex||pde(n),ex}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gde=new a1(5e3,15e3),yde="__/auth/iframe",vde="emulator/auth/iframe",wde={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bde=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _de(n){const e=n.config;ut(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?YB(e,vde):`https://${n.config.authDomain}/${yde}`,r={apiKey:e.apiKey,appName:n.name,v:ew},s=bde.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${o1(r).slice(1)}`}async function Sde(n){const e=await mde(n),t=Ic().gapi;return ut(t,n,"internal-error"),e.open({where:document.body,url:_de(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wde,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Al(n,"network-request-failed"),a=Ic().setTimeout(()=>{i(o)},gde.get());function l(){Ic().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ede={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cde=500,Tde=600,xde="_blank",Ade="http://localhost";class g5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Rde(n,e,t,r=Cde,s=Tde){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ede),{width:r.toString(),height:s.toString(),top:i,left:o}),u=pi().toLowerCase();t&&(a=S7(u)?xde:t),b7(u)&&(e=e||Ade,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[y,b])=>`${m}${y}=${b},`,"");if(Xce(u)&&a!=="_self")return Ide(e||"",a),new g5(null);const p=window.open(e||"",a,h);ut(p,n,"popup-blocked");try{p.focus()}catch{}return new g5(p)}function Ide(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kde="__/auth/handler",Pde="emulator/auth/handler",Dde=encodeURIComponent("fac");async function y5(n,e,t,r,s,i){ut(n.config.authDomain,n,"auth-domain-config-required"),ut(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ew,eventId:s};if(e instanceof e$){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",mle(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof c1){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await n._getAppCheckToken(),u=l?`#${Dde}=${encodeURIComponent(l)}`:"";return`${Mde(n)}?${o1(a).slice(1)}${u}`}function Mde({config:n}){return n.emulator?YB(n,Pde):`https://${n.authDomain}/${kde}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="webStorageSupport";class Ode{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B7,this._completeRedirectFn=sde,this._overrideRedirectResult=tde}async _openPopup(e,t,r,s){var i;bd((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await y5(e,t,r,$L(),s);return Rde(e,o,t$())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await y5(e,t,r,$L(),s);return Fue(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(bd(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Sde(e),r=new ode(e);return t.register("authEvent",s=>(ut(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hD,{type:hD},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[hD];o!==void 0&&t(!!o),Na(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dde(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return A7()||_7()||JB()}}const Lde=Ode;var v5="@firebase/auth",w5="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nde{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fde(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Bde(n){Mc(new Il("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ut(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R7(n)},u=new nue(r,s,i,l);return hue(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Mc(new Il("auth-internal",e=>{const t=Df(e.getProvider("auth").getImmediate());return(r=>new Nde(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ka(v5,w5,Fde(n)),ka(v5,w5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $de=300,jde=n7("authIdTokenMaxAge")||$de;let b5=null;const Ude=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>jde)return;const s=t==null?void 0:t.token;b5!==s&&(b5=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Vde(n=WB()){const e=yg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=due(n,{popupRedirectResolver:Lde,persistence:[que,Oue,B7]}),r=n7("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Ude(i.toString());kue(t,o,()=>o(t.currentUser)),Iue(t,a=>o(a))}}const s=e7("auth");return s&&fue(t,`http://${s}`),t}function Hde(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}rue({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=Al("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",Hde().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Bde("Browser");const q7="@firebase/installations",r$="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7=1e4,K7=`w:${r$}`,Y7="FIS_v2",zde="https://firebaseinstallations.googleapis.com/v1",Wde=3600*1e3,qde="installations",Gde="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kde={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qm=new gg(qde,Gde,Kde);function X7(n){return n instanceof Ll&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J7({projectId:n}){return`${zde}/projects/${n}/installations`}function Q7(n){return{token:n.token,requestStatus:2,expiresIn:Xde(n.expiresIn),creationTime:Date.now()}}async function Z7(n,e){const r=(await e.json()).error;return Qm.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function eK({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Yde(n,{refreshToken:e}){const t=eK(n);return t.append("Authorization",Jde(e)),t}async function tK(n){const e=await n();return e.status>=500&&e.status<600?n():e}function Xde(n){return Number(n.replace("s","000"))}function Jde(n){return`${Y7} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qde({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=J7(n),s=eK(n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:t,authVersion:Y7,appId:n.appId,sdkVersion:K7},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await tK(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||t,registrationStatus:2,refreshToken:u.refreshToken,authToken:Q7(u.authToken)}}else throw await Z7("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nK(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zde(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ehe=/^[cdef][\w-]{21}$/,HL="";function the(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=nhe(n);return ehe.test(t)?t:HL}catch{return HL}}function nhe(n){return Zde(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK=new Map;function sK(n,e){const t=GR(n);iK(t,e),rhe(t,e)}function iK(n,e){const t=rK.get(n);if(t)for(const r of t)r(e)}function rhe(n,e){const t=she();t&&t.postMessage({key:n,fid:e}),ihe()}let Cp=null;function she(){return!Cp&&"BroadcastChannel"in self&&(Cp=new BroadcastChannel("[Firebase] FID Change"),Cp.onmessage=n=>{iK(n.data.key,n.data.fid)}),Cp}function ihe(){rK.size===0&&Cp&&(Cp.close(),Cp=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ohe="firebase-installations-database",ahe=1,Zm="firebase-installations-store";let fD=null;function s$(){return fD||(fD=l7(ohe,ahe,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Zm)}}})),fD}async function vA(n,e){const t=GR(n),s=(await s$()).transaction(Zm,"readwrite"),i=s.objectStore(Zm),o=await i.get(t);return await i.put(e,t),await s.done,(!o||o.fid!==e.fid)&&sK(n,e.fid),e}async function oK(n){const e=GR(n),r=(await s$()).transaction(Zm,"readwrite");await r.objectStore(Zm).delete(e),await r.done}async function KR(n,e){const t=GR(n),s=(await s$()).transaction(Zm,"readwrite"),i=s.objectStore(Zm),o=await i.get(t),a=e(o);return a===void 0?await i.delete(t):await i.put(a,t),await s.done,a&&(!o||o.fid!==a.fid)&&sK(n,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i$(n){let e;const t=await KR(n.appConfig,r=>{const s=lhe(r),i=che(n,s);return e=i.registrationPromise,i.installationEntry});return t.fid===HL?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function lhe(n){const e=n||{fid:the(),registrationStatus:0};return aK(e)}function che(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Qm.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=uhe(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:dhe(n)}:{installationEntry:e}}async function uhe(n,e){try{const t=await Qde(n,e);return vA(n.appConfig,t)}catch(t){throw X7(t)&&t.customData.serverCode===409?await oK(n.appConfig):await vA(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function dhe(n){let e=await _5(n.appConfig);for(;e.registrationStatus===1;)await nK(100),e=await _5(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await i$(n);return r||t}return e}function _5(n){return KR(n,e=>{if(!e)throw Qm.create("installation-not-found");return aK(e)})}function aK(n){return hhe(n)?{fid:n.fid,registrationStatus:0}:n}function hhe(n){return n.registrationStatus===1&&n.registrationTime+G7<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fhe({appConfig:n,heartbeatServiceProvider:e},t){const r=phe(n,t),s=Yde(n,t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:K7,appId:n.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await tK(()=>fetch(r,a));if(l.ok){const u=await l.json();return Q7(u)}else throw await Z7("Generate Auth Token",l)}function phe(n,{fid:e}){return`${J7(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o$(n,e=!1){let t;const r=await KR(n.appConfig,i=>{if(!lK(i))throw Qm.create("not-registered");const o=i.authToken;if(!e&&yhe(o))return i;if(o.requestStatus===1)return t=mhe(n,e),i;{if(!navigator.onLine)throw Qm.create("app-offline");const a=whe(i);return t=ghe(n,a),a}});return t?await t:r.authToken}async function mhe(n,e){let t=await S5(n.appConfig);for(;t.authToken.requestStatus===1;)await nK(100),t=await S5(n.appConfig);const r=t.authToken;return r.requestStatus===0?o$(n,e):r}function S5(n){return KR(n,e=>{if(!lK(e))throw Qm.create("not-registered");const t=e.authToken;return bhe(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function ghe(n,e){try{const t=await fhe(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await vA(n.appConfig,r),t}catch(t){if(X7(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await oK(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await vA(n.appConfig,r)}throw t}}function lK(n){return n!==void 0&&n.registrationStatus===2}function yhe(n){return n.requestStatus===2&&!vhe(n)}function vhe(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Wde}function whe(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function bhe(n){return n.requestStatus===1&&n.requestTime+G7<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _he(n){const e=n,{installationEntry:t,registrationPromise:r}=await i$(e);return r?r.catch(console.error):o$(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function She(n,e=!1){const t=n;return await Ehe(t),(await o$(t,e)).token}async function Ehe(n){const{registrationPromise:e}=await i$(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Che(n){if(!n||!n.options)throw pD("App Configuration");if(!n.name)throw pD("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw pD(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function pD(n){return Qm.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK="installations",The="installations-internal",xhe=n=>{const e=n.getProvider("app").getImmediate(),t=Che(e),r=yg(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Ahe=n=>{const e=n.getProvider("app").getImmediate(),t=yg(e,cK).getImmediate();return{getId:()=>_he(t),getToken:s=>She(t,s)}};function Rhe(){Mc(new Il(cK,xhe,"PUBLIC")),Mc(new Il(The,Ahe,"PRIVATE"))}Rhe();ka(q7,r$);ka(q7,r$,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="analytics",Ihe="firebase_id",khe="origin",Phe=60*1e3,Dhe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",a$="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new HR("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mhe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ko=new gg("analytics","Analytics",Mhe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ohe(n){if(!n.startsWith(a$)){const e=Ko.create("invalid-gtag-resource",{gtagURL:n});return to.warn(e.message),""}return n}function uK(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Lhe(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function Nhe(n,e){const t=Lhe("firebase-js-sdk-policy",{createScriptURL:Ohe}),r=document.createElement("script"),s=`${a$}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Fhe(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Bhe(n,e,t,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await uK(t)).find(u=>u.measurementId===s);l&&await e[l.appId]}}catch(a){to.error(a)}n("config",s,i)}async function $he(n,e,t,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await uK(t);for(const l of o){const u=a.find(p=>p.measurementId===l),h=u&&e[u.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),n("event",r,s||{})}catch(i){to.error(i)}}function jhe(n,e,t,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await $he(n,e,t,a,l)}else if(i==="config"){const[a,l]=o;await Bhe(n,e,t,r,a,l)}else if(i==="consent"){const[a,l]=o;n("consent",a,l)}else if(i==="get"){const[a,l,u]=o;n("get",a,l,u)}else if(i==="set"){const[a]=o;n("set",a)}else n(i,...o)}catch(a){to.error(a)}}return s}function Uhe(n,e,t,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=jhe(i,n,e,t),{gtagCore:i,wrappedGtag:window[s]}}function Vhe(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(a$)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hhe=30,zhe=1e3;class Whe{constructor(e={},t=zhe){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const dK=new Whe;function qhe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Ghe(n){var e;const{appId:t,apiKey:r}=n,s={method:"GET",headers:qhe(r)},i=Dhe.replace("{app-id}",t),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Ko.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Khe(n,e=dK,t){const{appId:r,apiKey:s,measurementId:i}=n.options;if(!r)throw Ko.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Ko.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Jhe;return setTimeout(async()=>{a.abort()},Phe),hK({appId:r,apiKey:s,measurementId:i},o,a,e)}async function hK(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=dK){var i;const{appId:o,measurementId:a}=n;try{await Yhe(r,e)}catch(l){if(a)return to.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Ghe(n);return s.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!Xhe(u)){if(s.deleteThrottleMetadata(o),a)return to.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const h=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?G3(t,s.intervalMillis,Hhe):G3(t,s.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:t+1};return s.setThrottleMetadata(o,p),to.debug(`Calling attemptFetch again in ${h} millis`),hK(n,p,r,s)}}function Yhe(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(i),r(Ko.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Xhe(n){if(!(n instanceof Ll)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class Jhe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Qhe(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});n("event",t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zhe(){if(s7())try{await i7()}catch(n){return to.warn(Ko.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return to.warn(Ko.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function efe(n,e,t,r,s,i,o){var a;const l=Khe(n);l.then(y=>{t[y.measurementId]=y.appId,n.options.measurementId&&y.measurementId!==n.options.measurementId&&to.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>to.error(y)),e.push(l);const u=Zhe().then(y=>{if(y)return r.getId()}),[h,p]=await Promise.all([l,u]);Vhe(i)||Nhe(i,h.measurementId),s("js",new Date);const m=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return m[khe]="firebase",m.update=!0,p!=null&&(m[Ihe]=p),s("config",h.measurementId,m),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tfe{constructor(e){this.app=e}_delete(){return delete c_[this.app.options.appId],Promise.resolve()}}let c_={},E5=[];const C5={};let mD="dataLayer",nfe="gtag",T5,fK,x5=!1;function rfe(){const n=[];if(r7()&&n.push("This is a browser extension environment."),dle()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=Ko.create("invalid-analytics-context",{errorInfo:e});to.warn(t.message)}}function sfe(n,e,t){rfe();const r=n.options.appId;if(!r)throw Ko.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)to.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ko.create("no-api-key");if(c_[r]!=null)throw Ko.create("already-exists",{id:r});if(!x5){Fhe(mD);const{wrappedGtag:i,gtagCore:o}=Uhe(c_,E5,C5,mD,nfe);fK=i,T5=o,x5=!0}return c_[r]=efe(n,E5,C5,e,T5,mD,t),new tfe(n)}function ife(n=WB()){n=As(n);const e=yg(n,wA);return e.isInitialized()?e.getImmediate():ofe(n)}function ofe(n,e={}){const t=yg(n,wA);if(t.isInitialized()){const s=t.getImmediate();if(yf(e,t.getOptions()))return s;throw Ko.create("already-initialized")}return t.initialize({options:e})}function afe(n,e,t,r){n=As(n),Qhe(fK,c_[n.app.options.appId],e,t,r).catch(s=>to.error(s))}const A5="@firebase/analytics",R5="0.10.12";function lfe(){Mc(new Il(wA,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return sfe(r,s,t)},"PUBLIC")),Mc(new Il("analytics-internal",n,"PRIVATE")),ka(A5,R5),ka(A5,R5,"esm2017");function n(e){try{const t=e.getProvider(wA).getImmediate();return{logEvent:(r,s,i)=>afe(t,r,s,i)}}catch(t){throw Ko.create("interop-component-reg-failed",{reason:t})}}}lfe();var cfe="firebase",ufe="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ka(cfe,ufe,"app");const dfe={apiKey:"AIzaSyApLZqqKvPiH6Wsb7Bw7MLLBhAY6cM9QUE",authDomain:"oregano-e2f9a.firebaseapp.com",projectId:"oregano-e2f9a",storageBucket:"oregano-e2f9a.firebasestorage.app",messagingSenderId:"933042277427",appId:"1:933042277427:web:411a5233d90f4021d1a746",measurementId:"G-0K90E47D14"},l$=c7(dfe);ife(l$);const d1=Vde(l$),hfe=new ed,ffe=async()=>Jue(d1,hfe),pfe=async(n,e)=>{try{await Rue(d1,n,e)}catch(t){return console.log(t),pK(t)}},mfe=async(n,e)=>{try{await Aue(d1,n,e)}catch(t){return console.log(t),pK(t)}},pK=n=>n.code==yy.INVALID_PASSWORD?{field:"password",message:"Invalid Password"}:n.code==yy.INVALID_EMAIL?{field:"email",message:"Invalid Email"}:n.code==yy.EMAIL_EXISTS?{field:"email",message:"Email already in use"}:n.code==yy.NETWORK_REQUEST_FAILED?{field:"",message:"Network error, try again later"}:n.code==yy.TOO_MANY_ATTEMPTS_TRY_LATER?{field:"",message:"Too many attempts, try again later"}:n.code==yy.WEAK_PASSWORD?{field:"password",message:"Password is too weak"}:{field:"",message:n.message},gfe=async()=>{Pue(d1)},Hc=()=>{const[n,e]=B.useState(null);return B.useEffect(()=>{const t=d1.onAuthStateChanged(r=>{e(r)});return()=>t()},[]),{currentUser:n}};function yfe(n){return I.jsx(Yse,{...n,defaultTheme:FB,themeId:xl})}function vfe(n){return function(t){return I.jsx(yfe,{styles:typeof n=="function"?r=>n({theme:r,...t}):n})}}function wfe(){return a8}const vt=kie;function Mt(n){return Iie(n)}function bfe(n){return typeof n.main=="string"}function _fe(n,e=[]){if(!bfe(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function os(n=[]){return([,e])=>e&&_fe(e,n)}function Sfe(n){return Tt("MuiTypography",n)}const I5=pt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),Efe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Cfe=wfe(),Tfe=n=>{const{align:e,gutterBottom:t,noWrap:r,paragraph:s,variant:i,classes:o}=n,a={root:["root",i,n.align!=="inherit"&&`align${ve(e)}`,t&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return xt(a,Sfe,o)},xfe=Ie("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${ve(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(vt(({theme:n})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([t,r])=>t!=="inherit"&&r&&typeof r=="object").map(([t,r])=>({props:{variant:t},style:r})),...Object.entries(n.palette).filter(os()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(((e=n.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${ve(t)}`},style:{color:(n.vars||n).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),k5={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ae=B.forwardRef(function(e,t){const{color:r,...s}=Mt({props:e,name:"MuiTypography"}),i=!Efe[r],o=Cfe({...s,...i&&{color:r}}),{align:a="inherit",className:l,component:u,gutterBottom:h=!1,noWrap:p=!1,paragraph:m=!1,variant:y="body1",variantMapping:b=k5,...v}=o,_={...o,align:a,color:r,className:l,component:u,gutterBottom:h,noWrap:p,paragraph:m,variant:y,variantMapping:b},E=u||(m?"p":b[y]||k5[y])||"span",x=Tfe(_);return I.jsx(xfe,{as:E,ref:t,className:We(x.root,l),...v,ownerState:_,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...v.style}})}),ib={subtitle:{color:"#797979",marginBottom:"-8px"},title:{fontSize:"1.9rem",color:"#3E753B"},container:{display:"flex",flexDirection:"row",gap:1.5,alignItems:"center",flexShrink:0},logo:{height:"44px",flexShrink:0},words:{flexShrink:0}},mK="/assets/OreganoLogo-BNopk5K4.svg",Afe=()=>{const n=Z0();return I.jsxs(ge,{sx:{...ib.container,cursor:"pointer"},onClick:()=>n("/"),children:[I.jsx(ge,{sx:ib.logo,component:"img",src:mK}),I.jsxs(ge,{sx:ib.words,children:[I.jsx(Ae,{sx:ib.subtitle,variant:"body2",children:"stay in the know"}),I.jsx(Ae,{sx:ib.title,variant:"h1",children:"oregano"})]})]})},gT={container:{display:"flex",flexDirection:"row",justifyContent:"space-between"},rightSection:{display:"flex",flexDirection:"row",gap:2,alignItems:"center"},logout:{display:"flex",flexDirection:"row",gap:2,alignItems:"center"},emailText:{color:"rgba(0, 0, 0, 0.6)"}};function Rfe(n){return Tt("MuiSvgIcon",n)}pt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Ife=n=>{const{color:e,fontSize:t,classes:r}=n,s={root:["root",e!=="inherit"&&`color${ve(e)}`,`fontSize${ve(t)}`]};return xt(s,Rfe,r)},kfe=Ie("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${ve(t.color)}`],e[`fontSize${ve(t.fontSize)}`]]}})(vt(({theme:n})=>{var e,t,r,s,i,o,a,l,u,h,p,m,y,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(e=n.transitions)==null?void 0:e.create)==null?void 0:s.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:v=>!v.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(i=n.typography)==null?void 0:i.pxToRem)==null?void 0:o.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=n.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(u=n.typography)==null?void 0:u.pxToRem)==null?void 0:h.call(u,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,v])=>v&&v.main).map(([v])=>{var _,E;return{props:{color:v},style:{color:(E=(_=(n.vars??n).palette)==null?void 0:_[v])==null?void 0:E.main}}}),{props:{color:"action"},style:{color:(m=(p=(n.vars??n).palette)==null?void 0:p.action)==null?void 0:m.active}},{props:{color:"disabled"},style:{color:(b=(y=(n.vars??n).palette)==null?void 0:y.action)==null?void 0:b.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),zL=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiSvgIcon"}),{children:s,className:i,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:h=!1,titleAccess:p,viewBox:m="0 0 24 24",...y}=r,b=B.isValidElement(s)&&s.type==="svg",v={...r,color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:m,hasSvgAsChild:b},_={};h||(_.viewBox=m);const E=Ife(v);return I.jsxs(kfe,{as:a,className:We(E.root,i),focusable:"false",color:u,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:t,..._,...y,...b&&s.props,ownerState:v,children:[b?s.props.children:s,p?I.jsx("title",{children:p}):null]})});zL.muiName="SvgIcon";function Ur(n,e){function t(r,s){return I.jsx(zL,{"data-testid":`${e}Icon`,ref:s,...r,children:n})}return t.muiName=zL.muiName,B.memo(B.forwardRef(t))}class bA{constructor(){Ee(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new bA}static use(){const e=g8(bA.create).current,[t,r]=B.useState(!1);return e.shouldMount=t,e.setShouldMount=r,B.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=Dfe(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function Pfe(){return bA.use()}function Dfe(){let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t}function nw(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function _A(n,e){return _A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},_A(n,e)}function c$(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,_A(n,e)}function Mfe(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function Ofe(n,e){n.classList?n.classList.add(e):Mfe(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function P5(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Lfe(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=P5(n.className,e):n.setAttribute("class",P5(n.className&&n.className.baseVal||"",e))}const D5={disabled:!1},SA=ie.createContext(null);var Nfe=function(e){return e.scrollTop},kb="unmounted",fp="exited",pp="entering",_y="entered",WL="exiting",Nl=(function(n){c$(e,n);function e(r,s){var i;i=n.call(this,r,s)||this;var o=s,a=o&&!o.isMounting?r.enter:r.appear,l;return i.appearStatus=null,r.in?a?(l=fp,i.appearStatus=pp):l=_y:r.unmountOnExit||r.mountOnEnter?l=kb:l=fp,i.state={status:l},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===kb?{status:fp}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==pp&&o!==_y&&(i=pp):(o===pp||o===_y)&&(i=WL)}this.updateStatus(!1,i)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var s=this.props.timeout,i,o,a;return i=o=a=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,a=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:a}},t.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===pp){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ny.findDOMNode(this);o&&Nfe(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===fp&&this.setState({status:kb})},t.performEnter=function(s){var i=this,o=this.props.enter,a=this.context?this.context.isMounting:s,l=this.props.nodeRef?[a]:[Ny.findDOMNode(this),a],u=l[0],h=l[1],p=this.getTimeouts(),m=a?p.appear:p.enter;if(!s&&!o||D5.disabled){this.safeSetState({status:_y},function(){i.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:pp},function(){i.props.onEntering(u,h),i.onTransitionEnd(m,function(){i.safeSetState({status:_y},function(){i.props.onEntered(u,h)})})})},t.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ny.findDOMNode(this);if(!i||D5.disabled){this.safeSetState({status:fp},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:WL},function(){s.props.onExiting(a),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:fp},function(){s.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},t.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,i.nextCallback=null,s(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:Ny.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],h=l[1];this.props.addEndListener(u,h)}s!=null&&setTimeout(this.nextCallback,s)},t.render=function(){var s=this.state.status;if(s===kb)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=nw(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ie.createElement(SA.Provider,{value:null},typeof o=="function"?o(s,a):ie.cloneElement(ie.Children.only(o),a))},e})(ie.Component);Nl.contextType=SA;Nl.propTypes={};function vy(){}Nl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:vy,onEntering:vy,onEntered:vy,onExit:vy,onExiting:vy,onExited:vy};Nl.UNMOUNTED=kb;Nl.EXITED=fp;Nl.ENTERING=pp;Nl.ENTERED=_y;Nl.EXITING=WL;function gK(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function u$(n,e){var t=function(i){return e&&B.isValidElement(i)?e(i):i},r=Object.create(null);return n&&B.Children.map(n,function(s){return s}).forEach(function(s){r[s.key]=t(s)}),r}function Ffe(n,e){n=n||{},e=e||{};function t(h){return h in e?e[h]:n[h]}var r=Object.create(null),s=[];for(var i in n)i in e?s.length&&(r[i]=s,s=[]):s.push(i);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=t(u)}a[l]=t(l)}for(o=0;o<s.length;o++)a[s[o]]=t(s[o]);return a}function Tp(n,e,t){return t[e]!=null?t[e]:n.props[e]}function Bfe(n,e){return u$(n.children,function(t){return B.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Tp(t,"appear",n),enter:Tp(t,"enter",n),exit:Tp(t,"exit",n)})})}function $fe(n,e,t){var r=u$(n.children),s=Ffe(e,r);return Object.keys(s).forEach(function(i){var o=s[i];if(B.isValidElement(o)){var a=i in e,l=i in r,u=e[i],h=B.isValidElement(u)&&!u.props.in;l&&(!a||h)?s[i]=B.cloneElement(o,{onExited:t.bind(null,o),in:!0,exit:Tp(o,"exit",n),enter:Tp(o,"enter",n)}):!l&&a&&!h?s[i]=B.cloneElement(o,{in:!1}):l&&a&&B.isValidElement(u)&&(s[i]=B.cloneElement(o,{onExited:t.bind(null,o),in:u.props.in,exit:Tp(o,"exit",n),enter:Tp(o,"enter",n)}))}}),s}var jfe=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},Ufe={component:"div",childFactory:function(e){return e}},d$=(function(n){c$(e,n);function e(r,s){var i;i=n.call(this,r,s)||this;var o=i.handleExited.bind(gK(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,i){var o=i.children,a=i.handleExited,l=i.firstRender;return{children:l?Bfe(s,a):$fe(s,o,a),firstRender:!1}},t.handleExited=function(s,i){var o=u$(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(a){var l=lr({},a.children);return delete l[s.key],{children:l}}))},t.render=function(){var s=this.props,i=s.component,o=s.childFactory,a=nw(s,["component","childFactory"]),l=this.state.contextValue,u=jfe(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,i===null?ie.createElement(SA.Provider,{value:l},u):ie.createElement(SA.Provider,{value:l},ie.createElement(i,a,u))},e})(ie.Component);d$.propTypes={};d$.defaultProps=Ufe;function Vfe(n){const{className:e,classes:t,pulsate:r=!1,rippleX:s,rippleY:i,rippleSize:o,in:a,onExited:l,timeout:u}=n,[h,p]=B.useState(!1),m=We(e,t.ripple,t.rippleVisible,r&&t.ripplePulsate),y={width:o,height:o,top:-(o/2)+i,left:-(o/2)+s},b=We(t.child,h&&t.childLeaving,r&&t.childPulsate);return!a&&!h&&p(!0),B.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,u);return()=>{clearTimeout(v)}}},[l,a,u]),I.jsx("span",{className:m,style:y,children:I.jsx("span",{className:b})})}const Ca=pt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),qL=550,Hfe=80,zfe=pg`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Wfe=pg`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,qfe=pg`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Gfe=Ie("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Kfe=Ie(Vfe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Ca.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${zfe};
    animation-duration: ${qL}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${Ca.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${Ca.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Ca.childLeaving} {
    opacity: 0;
    animation-name: ${Wfe};
    animation-duration: ${qL}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${Ca.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${qfe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Yfe=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:o,...a}=r,[l,u]=B.useState([]),h=B.useRef(0),p=B.useRef(null);B.useEffect(()=>{p.current&&(p.current(),p.current=null)},[l]);const m=B.useRef(!1),y=Sp(),b=B.useRef(null),v=B.useRef(null),_=B.useCallback(A=>{const{pulsate:k,rippleX:L,rippleY:P,rippleSize:D,cb:F}=A;u(T=>[...T,I.jsx(Kfe,{classes:{ripple:We(i.ripple,Ca.ripple),rippleVisible:We(i.rippleVisible,Ca.rippleVisible),ripplePulsate:We(i.ripplePulsate,Ca.ripplePulsate),child:We(i.child,Ca.child),childLeaving:We(i.childLeaving,Ca.childLeaving),childPulsate:We(i.childPulsate,Ca.childPulsate)},timeout:qL,pulsate:k,rippleX:L,rippleY:P,rippleSize:D},h.current)]),h.current+=1,p.current=F},[i]),E=B.useCallback((A={},k={},L=()=>{})=>{const{pulsate:P=!1,center:D=s||k.pulsate,fakeElement:F=!1}=k;if((A==null?void 0:A.type)==="mousedown"&&m.current){m.current=!1;return}(A==null?void 0:A.type)==="touchstart"&&(m.current=!0);const T=F?null:v.current,$=T?T.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,j,Y;if(D||A===void 0||A.clientX===0&&A.clientY===0||!A.clientX&&!A.touches)z=Math.round($.width/2),j=Math.round($.height/2);else{const{clientX:Z,clientY:J}=A.touches&&A.touches.length>0?A.touches[0]:A;z=Math.round(Z-$.left),j=Math.round(J-$.top)}if(D)Y=Math.sqrt((2*$.width**2+$.height**2)/3),Y%2===0&&(Y+=1);else{const Z=Math.max(Math.abs((T?T.clientWidth:0)-z),z)*2+2,J=Math.max(Math.abs((T?T.clientHeight:0)-j),j)*2+2;Y=Math.sqrt(Z**2+J**2)}A!=null&&A.touches?b.current===null&&(b.current=()=>{_({pulsate:P,rippleX:z,rippleY:j,rippleSize:Y,cb:L})},y.start(Hfe,()=>{b.current&&(b.current(),b.current=null)})):_({pulsate:P,rippleX:z,rippleY:j,rippleSize:Y,cb:L})},[s,_,y]),x=B.useCallback(()=>{E({},{pulsate:!0})},[E]),C=B.useCallback((A,k)=>{if(y.clear(),(A==null?void 0:A.type)==="touchend"&&b.current){b.current(),b.current=null,y.start(0,()=>{C(A,k)});return}b.current=null,u(L=>L.length>0?L.slice(1):L),p.current=k},[y]);return B.useImperativeHandle(t,()=>({pulsate:x,start:E,stop:C}),[x,E,C]),I.jsx(Gfe,{className:We(Ca.root,i.root,o),ref:v,...a,children:I.jsx(d$,{component:null,exit:!0,children:l})})});function Xfe(n){return Tt("MuiButtonBase",n)}const Jfe=pt("MuiButtonBase",["root","disabled","focusVisible"]),Qfe=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:r,classes:s}=n,o=xt({root:["root",e&&"disabled",t&&"focusVisible"]},Xfe,s);return t&&r&&(o.root+=` ${r}`),o},Zfe=Ie("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Jfe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),eg=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:m=!1,focusVisibleClassName:y,LinkComponent:b="a",onBlur:v,onClick:_,onContextMenu:E,onDragLeave:x,onFocus:C,onFocusVisible:A,onKeyDown:k,onKeyUp:L,onMouseDown:P,onMouseLeave:D,onMouseUp:F,onTouchEnd:T,onTouchMove:$,onTouchStart:z,tabIndex:j=0,TouchRippleProps:Y,touchRippleRef:Z,type:J,...ee}=r,Q=B.useRef(null),te=Pfe(),de=vr(te.ref,Z),[q,K]=B.useState(!1);u&&q&&K(!1),B.useImperativeHandle(s,()=>({focusVisible:()=>{K(!0),Q.current.focus()}}),[]);const ne=te.shouldMount&&!h&&!u;B.useEffect(()=>{q&&m&&!h&&te.pulsate()},[h,m,q,te]);const le=lu(te,"start",P,p),ce=lu(te,"stop",E,p),be=lu(te,"stop",x,p),we=lu(te,"stop",F,p),ke=lu(te,"stop",Le=>{q&&Le.preventDefault(),D&&D(Le)},p),Ne=lu(te,"start",z,p),Me=lu(te,"stop",T,p),Je=lu(te,"stop",$,p),je=lu(te,"stop",Le=>{D0(Le.target)||K(!1),v&&v(Le)},!1),dt=Tl(Le=>{Q.current||(Q.current=Le.currentTarget),D0(Le.target)&&(K(!0),A&&A(Le)),C&&C(Le)}),Ye=()=>{const Le=Q.current;return l&&l!=="button"&&!(Le.tagName==="A"&&Le.href)},Ue=Tl(Le=>{m&&!Le.repeat&&q&&Le.key===" "&&te.stop(Le,()=>{te.start(Le)}),Le.target===Le.currentTarget&&Ye()&&Le.key===" "&&Le.preventDefault(),k&&k(Le),Le.target===Le.currentTarget&&Ye()&&Le.key==="Enter"&&!u&&(Le.preventDefault(),_&&_(Le))}),en=Tl(Le=>{m&&Le.key===" "&&q&&!Le.defaultPrevented&&te.stop(Le,()=>{te.pulsate(Le)}),L&&L(Le),_&&Le.target===Le.currentTarget&&Ye()&&Le.key===" "&&!Le.defaultPrevented&&_(Le)});let Be=l;Be==="button"&&(ee.href||ee.to)&&(Be=b);const _t={};Be==="button"?(_t.type=J===void 0?"button":J,_t.disabled=u):(!ee.href&&!ee.to&&(_t.role="button"),u&&(_t["aria-disabled"]=u));const Ut=vr(t,Q),Ot={...r,centerRipple:i,component:l,disabled:u,disableRipple:h,disableTouchRipple:p,focusRipple:m,tabIndex:j,focusVisible:q},mt=Qfe(Ot);return I.jsxs(Zfe,{as:Be,className:We(mt.root,a),ownerState:Ot,onBlur:je,onClick:_,onContextMenu:ce,onFocus:dt,onKeyDown:Ue,onKeyUp:en,onMouseDown:le,onMouseLeave:ke,onMouseUp:we,onDragLeave:be,onTouchEnd:Me,onTouchMove:Je,onTouchStart:Ne,ref:Ut,tabIndex:u?-1:j,type:J,..._t,...ee,children:[o,ne?I.jsx(Yfe,{ref:de,center:i,...Y}):null]})});function lu(n,e,t,r=!1){return Tl(s=>(t&&t(s),r||n[e](s),!0))}function epe(n){return Tt("MuiCircularProgress",n)}pt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const sh=44,GL=pg`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,KL=pg`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,tpe=typeof GL!="string"?ZE`
        animation: ${GL} 1.4s linear infinite;
      `:null,npe=typeof KL!="string"?ZE`
        animation: ${KL} 1.4s ease-in-out infinite;
      `:null,rpe=n=>{const{classes:e,variant:t,color:r,disableShrink:s}=n,i={root:["root",t,`color${ve(r)}`],svg:["svg"],circle:["circle",`circle${ve(t)}`,s&&"circleDisableShrink"]};return xt(i,epe,e)},spe=Ie("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${ve(t.color)}`]]}})(vt(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:tpe||{animation:`${GL} 1.4s linear infinite`}},...Object.entries(n.palette).filter(os()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),ipe=Ie("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(n,e)=>e.svg})({display:"block"}),ope=Ie("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${ve(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(vt(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:npe||{animation:`${KL} 1.4s ease-in-out infinite`}}]}))),rw=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiCircularProgress"}),{className:s,color:i="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:h=0,variant:p="indeterminate",...m}=r,y={...r,color:i,disableShrink:o,size:a,thickness:u,value:h,variant:p},b=rpe(y),v={},_={},E={};if(p==="determinate"){const x=2*Math.PI*((sh-u)/2);v.strokeDasharray=x.toFixed(3),E["aria-valuenow"]=Math.round(h),v.strokeDashoffset=`${((100-h)/100*x).toFixed(3)}px`,_.transform="rotate(-90deg)"}return I.jsx(spe,{className:We(b.root,s),style:{width:a,height:a,..._,...l},ownerState:y,ref:t,role:"progressbar",...E,...m,children:I.jsx(ipe,{className:b.svg,ownerState:y,viewBox:`${sh/2} ${sh/2} ${sh} ${sh}`,children:I.jsx(ope,{className:b.circle,style:v,ownerState:y,cx:sh,cy:sh,r:(sh-u)/2,fill:"none",strokeWidth:u})})})});function ape(n){return Tt("MuiButton",n)}const cp=pt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),lpe=B.createContext({}),cpe=B.createContext(void 0),upe=n=>{const{color:e,disableElevation:t,fullWidth:r,size:s,variant:i,loading:o,loadingPosition:a,classes:l}=n,u={root:["root",o&&"loading",i,`${i}${ve(e)}`,`size${ve(s)}`,`${i}Size${ve(s)}`,`color${ve(e)}`,t&&"disableElevation",r&&"fullWidth",o&&`loadingPosition${ve(a)}`],startIcon:["icon","startIcon",`iconSize${ve(s)}`],endIcon:["icon","endIcon",`iconSize${ve(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=xt(u,ape,l);return{...l,...h}},yK=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],dpe=Ie(eg,{shouldForwardProp:n=>fo(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${ve(t.color)}`],e[`size${ve(t.size)}`],e[`${t.variant}Size${ve(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth,t.loading&&e.loading]}})(vt(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${cp.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${cp.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${cp.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${cp.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(os()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(n.vars||n).palette[r].main,"--variant-outlinedColor":(n.vars||n).palette[r].main,"--variant-outlinedBorder":n.vars?`rgba(${n.vars.palette[r].mainChannel} / 0.5)`:Lt(n.palette[r].main,.5),"--variant-containedColor":(n.vars||n).palette[r].contrastText,"--variant-containedBg":(n.vars||n).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[r].dark,"--variant-textBg":n.vars?`rgba(${n.vars.palette[r].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Lt(n.palette[r].main,n.palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[r].main,"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette[r].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Lt(n.palette[r].main,n.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Lt(n.palette.text.primary,n.palette.action.hoverOpacity),"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Lt(n.palette.text.primary,n.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${cp.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${cp.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${cp.loading}`]:{color:"transparent"}}}]}})),hpe=Ie("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,t.loading&&e.startIconLoadingStart,e[`iconSize${ve(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...yK]})),fpe=Ie("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,t.loading&&e.endIconLoadingEnd,e[`iconSize${ve(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...yK]})),ppe=Ie("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(n,e)=>e.loadingIndicator})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),M5=Ie("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(n,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),ur=B.forwardRef(function(e,t){const r=B.useContext(lpe),s=B.useContext(cpe),i=I0(r,e),o=Mt({props:i,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:h,disabled:p=!1,disableElevation:m=!1,disableFocusRipple:y=!1,endIcon:b,focusVisibleClassName:v,fullWidth:_=!1,id:E,loading:x=null,loadingIndicator:C,loadingPosition:A="center",size:k="medium",startIcon:L,type:P,variant:D="text",...F}=o,T=J0(E),$=C??I.jsx(rw,{"aria-labelledby":T,color:"inherit",size:16}),z={...o,color:l,component:u,disabled:p,disableElevation:m,disableFocusRipple:y,fullWidth:_,loading:x,loadingIndicator:$,loadingPosition:A,size:k,type:P,variant:D},j=upe(z),Y=(L||x&&A==="start")&&I.jsx(hpe,{className:j.startIcon,ownerState:z,children:L||I.jsx(M5,{className:j.loadingIconPlaceholder,ownerState:z})}),Z=(b||x&&A==="end")&&I.jsx(fpe,{className:j.endIcon,ownerState:z,children:b||I.jsx(M5,{className:j.loadingIconPlaceholder,ownerState:z})}),J=s||"",ee=typeof x=="boolean"?I.jsx("span",{className:j.loadingWrapper,style:{display:"contents"},children:x&&I.jsx(ppe,{className:j.loadingIndicator,ownerState:z,children:$})}):null;return I.jsxs(dpe,{ownerState:z,className:We(r.className,j.root,h,J),component:u,disabled:p||x,focusRipple:!y,focusVisibleClassName:We(j.focusVisible,v),ref:t,type:P,id:x?T:E,...F,classes:j,children:[Y,A!=="end"&&ee,a,A==="end"&&ee,Z]})});function YL(n){return typeof n=="string"}const h$=n=>n.scrollTop;function M0(n,e){const{timeout:t,easing:r,style:s={}}=n;return{duration:s.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:s.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:s.transitionDelay}}function XL(n){return`scale(${n}, ${n**2})`}const mpe={entering:{opacity:1,transform:XL(1)},entered:{opacity:1,transform:"none"}},gD=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),I_=B.forwardRef(function(e,t){const{addEndListener:r,appear:s=!0,children:i,easing:o,in:a,onEnter:l,onEntered:u,onEntering:h,onExit:p,onExited:m,onExiting:y,style:b,timeout:v="auto",TransitionComponent:_=Nl,...E}=e,x=Sp(),C=B.useRef(),A=Ua(),k=B.useRef(null),L=vr(k,Rf(i),t),P=Z=>J=>{if(Z){const ee=k.current;J===void 0?Z(ee):Z(ee,J)}},D=P(h),F=P((Z,J)=>{h$(Z);const{duration:ee,delay:Q,easing:te}=M0({style:b,timeout:v,easing:o},{mode:"enter"});let de;v==="auto"?(de=A.transitions.getAutoHeightDuration(Z.clientHeight),C.current=de):de=ee,Z.style.transition=[A.transitions.create("opacity",{duration:de,delay:Q}),A.transitions.create("transform",{duration:gD?de:de*.666,delay:Q,easing:te})].join(","),l&&l(Z,J)}),T=P(u),$=P(y),z=P(Z=>{const{duration:J,delay:ee,easing:Q}=M0({style:b,timeout:v,easing:o},{mode:"exit"});let te;v==="auto"?(te=A.transitions.getAutoHeightDuration(Z.clientHeight),C.current=te):te=J,Z.style.transition=[A.transitions.create("opacity",{duration:te,delay:ee}),A.transitions.create("transform",{duration:gD?te:te*.666,delay:gD?ee:ee||te*.333,easing:Q})].join(","),Z.style.opacity=0,Z.style.transform=XL(.75),p&&p(Z)}),j=P(m),Y=Z=>{v==="auto"&&x.start(C.current||0,Z),r&&r(k.current,Z)};return I.jsx(_,{appear:s,in:a,nodeRef:k,onEnter:F,onEntered:T,onEntering:D,onExit:z,onExited:j,onExiting:$,addEndListener:Y,timeout:v==="auto"?null:v,...E,children:(Z,{ownerState:J,...ee})=>B.cloneElement(i,{style:{opacity:0,transform:XL(.75),visibility:Z==="exited"&&!a?"hidden":void 0,...mpe[Z],...b,...i.props.style},ref:L,...ee})})});I_&&(I_.muiSupportAuto=!0);function gpe(n){const e=hi(n);return e.body===n?Rl(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function u_(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function O5(n){return parseInt(Rl(n).getComputedStyle(n).paddingRight,10)||0}function ype(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),r=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||r}function L5(n,e,t,r,s){const i=[e,t,...r];[].forEach.call(n.children,o=>{const a=!i.includes(o),l=!ype(o);a&&l&&u_(o,s)})}function yD(n,e){let t=-1;return n.some((r,s)=>e(r)?(t=s,!0):!1),t}function vpe(n,e){const t=[],r=n.container;if(!e.disableScrollLock){if(gpe(r)){const o=y8(Rl(r));t.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${O5(r)+o}px`;const a=hi(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{t.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${O5(l)+o}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=hi(r).body;else{const o=r.parentElement,a=Rl(r);i=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}t.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{t.forEach(({value:i,el:o,property:a})=>{i?o.style.setProperty(a,i):o.style.removeProperty(a)})}}function wpe(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class bpe{constructor(){this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&u_(e.modalRef,!1);const s=wpe(t);L5(t,e.mount,e.modalRef,s,!0);const i=yD(this.containers,o=>o.container===t);return i!==-1?(this.containers[i].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:s}),r)}mount(e,t){const r=yD(this.containers,i=>i.modals.includes(e)),s=this.containers[r];s.restore||(s.restore=vpe(s,t))}remove(e,t=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const s=yD(this.containers,o=>o.modals.includes(e)),i=this.containers[s];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&u_(e.modalRef,t),L5(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(s,1);else{const o=i.modals[i.modals.length-1];o.modalRef&&u_(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const _pe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Spe(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function Epe(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=r=>n.ownerDocument.querySelector(`input[type="radio"]${r}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function Cpe(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||Epe(n))}function Tpe(n){const e=[],t=[];return Array.from(n.querySelectorAll(_pe)).forEach((r,s)=>{const i=Spe(r);i===-1||!Cpe(r)||(i===0?e.push(r):t.push({documentOrder:s,tabIndex:i,node:r}))}),t.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(e)}function xpe(){return!0}function Ape(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:i=Tpe,isEnabled:o=xpe,open:a}=n,l=B.useRef(!1),u=B.useRef(null),h=B.useRef(null),p=B.useRef(null),m=B.useRef(null),y=B.useRef(!1),b=B.useRef(null),v=vr(Rf(e),b),_=B.useRef(null);B.useEffect(()=>{!a||!b.current||(y.current=!t)},[t,a]),B.useEffect(()=>{if(!a||!b.current)return;const C=hi(b.current);return b.current.contains(C.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex","-1"),y.current&&b.current.focus()),()=>{s||(p.current&&p.current.focus&&(l.current=!0,p.current.focus()),p.current=null)}},[a]),B.useEffect(()=>{if(!a||!b.current)return;const C=hi(b.current),A=P=>{_.current=P,!(r||!o()||P.key!=="Tab")&&C.activeElement===b.current&&P.shiftKey&&(l.current=!0,h.current&&h.current.focus())},k=()=>{var F,T;const P=b.current;if(P===null)return;if(!C.hasFocus()||!o()||l.current){l.current=!1;return}if(P.contains(C.activeElement)||r&&C.activeElement!==u.current&&C.activeElement!==h.current)return;if(C.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!y.current)return;let D=[];if((C.activeElement===u.current||C.activeElement===h.current)&&(D=i(b.current)),D.length>0){const $=!!((F=_.current)!=null&&F.shiftKey&&((T=_.current)==null?void 0:T.key)==="Tab"),z=D[0],j=D[D.length-1];typeof z!="string"&&typeof j!="string"&&($?j.focus():z.focus())}else P.focus()};C.addEventListener("focusin",k),C.addEventListener("keydown",A,!0);const L=setInterval(()=>{C.activeElement&&C.activeElement.tagName==="BODY"&&k()},50);return()=>{clearInterval(L),C.removeEventListener("focusin",k),C.removeEventListener("keydown",A,!0)}},[t,r,s,o,a,i]);const E=C=>{p.current===null&&(p.current=C.relatedTarget),y.current=!0,m.current=C.target;const A=e.props.onFocus;A&&A(C)},x=C=>{p.current===null&&(p.current=C.relatedTarget),y.current=!0};return I.jsxs(B.Fragment,{children:[I.jsx("div",{tabIndex:a?0:-1,onFocus:x,ref:u,"data-testid":"sentinelStart"}),B.cloneElement(e,{ref:v,onFocus:E}),I.jsx("div",{tabIndex:a?0:-1,onFocus:x,ref:h,"data-testid":"sentinelEnd"})]})}function Rpe(n){return typeof n=="function"?n():n}const vK=B.forwardRef(function(e,t){const{children:r,container:s,disablePortal:i=!1}=e,[o,a]=B.useState(null),l=vr(B.isValidElement(r)?Rf(r):null,t);if(Oa(()=>{i||a(Rpe(s)||document.body)},[s,i]),Oa(()=>{if(o&&!i)return IL(t,o),()=>{IL(t,null)}},[t,o,i]),i){if(B.isValidElement(r)){const u={ref:l};return B.cloneElement(r,u)}return r}return o&&X8.createPortal(r,o)});function Sn(n,e){const{className:t,elementType:r,ownerState:s,externalForwardedProps:i,internalForwardedProps:o,shouldForwardComponentProp:a=!1,...l}=e,{component:u,slots:h={[n]:void 0},slotProps:p={[n]:void 0},...m}=i,y=h[n]||r,b=b8(p[n],s),{props:{component:v,..._},internalRef:E}=w8({className:t,...l,externalForwardedProps:n==="root"?m:void 0,externalSlotProps:b}),x=vr(E,b==null?void 0:b.ref,e.ref),C=n==="root"?v||u:v,A=v8(y,{...n==="root"&&!u&&!h[n]&&o,...n!=="root"&&!h[n]&&o,..._,...C&&!a&&{as:C},...C&&a&&{component:C},ref:x},s);return[y,A]}const Ipe={entering:{opacity:1},entered:{opacity:1}},JL=B.forwardRef(function(e,t){const r=Ua(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:a,easing:l,in:u,onEnter:h,onEntered:p,onEntering:m,onExit:y,onExited:b,onExiting:v,style:_,timeout:E=s,TransitionComponent:x=Nl,...C}=e,A=B.useRef(null),k=vr(A,Rf(a),t),L=Y=>Z=>{if(Y){const J=A.current;Z===void 0?Y(J):Y(J,Z)}},P=L(m),D=L((Y,Z)=>{h$(Y);const J=M0({style:_,timeout:E,easing:l},{mode:"enter"});Y.style.webkitTransition=r.transitions.create("opacity",J),Y.style.transition=r.transitions.create("opacity",J),h&&h(Y,Z)}),F=L(p),T=L(v),$=L(Y=>{const Z=M0({style:_,timeout:E,easing:l},{mode:"exit"});Y.style.webkitTransition=r.transitions.create("opacity",Z),Y.style.transition=r.transitions.create("opacity",Z),y&&y(Y)}),z=L(b),j=Y=>{i&&i(A.current,Y)};return I.jsx(x,{appear:o,in:u,nodeRef:A,onEnter:D,onEntered:F,onEntering:P,onExit:$,onExited:z,onExiting:T,addEndListener:j,timeout:E,...C,children:(Y,{ownerState:Z,...J})=>B.cloneElement(a,{style:{opacity:0,visibility:Y==="exited"&&!u?"hidden":void 0,...Ipe[Y],..._,...a.props.style},ref:k,...J})})});function kpe(n){return Tt("MuiBackdrop",n)}pt("MuiBackdrop",["root","invisible"]);const Ppe=n=>{const{classes:e,invisible:t}=n;return xt({root:["root",t&&"invisible"]},kpe,e)},Dpe=Ie("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),wK=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiBackdrop"}),{children:s,className:i,component:o="div",invisible:a=!1,open:l,components:u={},componentsProps:h={},slotProps:p={},slots:m={},TransitionComponent:y,transitionDuration:b,...v}=r,_={...r,component:o,invisible:a},E=Ppe(_),x={transition:y,root:u.Root,...m},C={...h,...p},A={slots:x,slotProps:C},[k,L]=Sn("root",{elementType:Dpe,externalForwardedProps:A,className:We(E.root,i),ownerState:_}),[P,D]=Sn("transition",{elementType:JL,externalForwardedProps:A,ownerState:_});return I.jsx(P,{in:l,timeout:b,...v,...D,children:I.jsx(k,{"aria-hidden":!0,...L,classes:E,ref:t,children:s})})});function Mpe(n){return typeof n=="function"?n():n}function Ope(n){return n?n.props.hasOwnProperty("in"):!1}const N5=()=>{},yT=new bpe;function Lpe(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:r=!1,closeAfterTransition:s=!1,onTransitionEnter:i,onTransitionExited:o,children:a,onClose:l,open:u,rootRef:h}=n,p=B.useRef({}),m=B.useRef(null),y=B.useRef(null),b=vr(y,h),[v,_]=B.useState(!u),E=Ope(a);let x=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(x=!1);const C=()=>hi(m.current),A=()=>(p.current.modalRef=y.current,p.current.mount=m.current,p.current),k=()=>{yT.mount(A(),{disableScrollLock:r}),y.current&&(y.current.scrollTop=0)},L=Tl(()=>{const Z=Mpe(e)||C().body;yT.add(A(),Z),y.current&&k()}),P=()=>yT.isTopModal(A()),D=Tl(Z=>{m.current=Z,Z&&(u&&P()?k():y.current&&u_(y.current,x))}),F=B.useCallback(()=>{yT.remove(A(),x)},[x]);B.useEffect(()=>()=>{F()},[F]),B.useEffect(()=>{u?L():(!E||!s)&&F()},[u,F,E,s,L]);const T=Z=>J=>{var ee;(ee=Z.onKeyDown)==null||ee.call(Z,J),!(J.key!=="Escape"||J.which===229||!P())&&(t||(J.stopPropagation(),l&&l(J,"escapeKeyDown")))},$=Z=>J=>{var ee;(ee=Z.onClick)==null||ee.call(Z,J),J.target===J.currentTarget&&l&&l(J,"backdropClick")};return{getRootProps:(Z={})=>{const J=lA(n);delete J.onTransitionEnter,delete J.onTransitionExited;const ee={...J,...Z};return{role:"presentation",...ee,onKeyDown:T(ee),ref:b}},getBackdropProps:(Z={})=>{const J=Z;return{"aria-hidden":!0,...J,onClick:$(J),open:u}},getTransitionProps:()=>{const Z=()=>{_(!1),i&&i()},J=()=>{_(!0),o&&o(),s&&F()};return{onEnter:S3(Z,(a==null?void 0:a.props.onEnter)??N5),onExited:S3(J,(a==null?void 0:a.props.onExited)??N5)}},rootRef:b,portalRef:D,isTopModal:P,exited:v,hasTransition:E}}function Npe(n){return Tt("MuiModal",n)}pt("MuiModal",["root","hidden","backdrop"]);const Fpe=n=>{const{open:e,exited:t,classes:r}=n;return xt({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},Npe,r)},Bpe=Ie("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(vt(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),$pe=Ie(wK,{name:"MuiModal",slot:"Backdrop",overridesResolver:(n,e)=>e.backdrop})({zIndex:-1}),f$=B.forwardRef(function(e,t){const r=Mt({name:"MuiModal",props:e}),{BackdropComponent:s=$pe,BackdropProps:i,classes:o,className:a,closeAfterTransition:l=!1,children:u,container:h,component:p,components:m={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:_=!1,disablePortal:E=!1,disableRestoreFocus:x=!1,disableScrollLock:C=!1,hideBackdrop:A=!1,keepMounted:k=!1,onBackdropClick:L,onClose:P,onTransitionEnter:D,onTransitionExited:F,open:T,slotProps:$={},slots:z={},theme:j,...Y}=r,Z={...r,closeAfterTransition:l,disableAutoFocus:b,disableEnforceFocus:v,disableEscapeKeyDown:_,disablePortal:E,disableRestoreFocus:x,disableScrollLock:C,hideBackdrop:A,keepMounted:k},{getRootProps:J,getBackdropProps:ee,getTransitionProps:Q,portalRef:te,isTopModal:de,exited:q,hasTransition:K}=Lpe({...Z,rootRef:t}),ne={...Z,exited:q},le=Fpe(ne),ce={};if(u.props.tabIndex===void 0&&(ce.tabIndex="-1"),K){const{onEnter:je,onExited:dt}=Q();ce.onEnter=je,ce.onExited=dt}const be={...Y,slots:{root:m.Root,backdrop:m.Backdrop,...z},slotProps:{...y,...$}},[we,ke]=Sn("root",{elementType:Bpe,externalForwardedProps:be,getSlotProps:J,additionalProps:{ref:t,as:p},ownerState:ne,className:We(a,le==null?void 0:le.root,!ne.open&&ne.exited&&(le==null?void 0:le.hidden))}),[Ne,Me]=Sn("backdrop",{elementType:s,externalForwardedProps:be,additionalProps:i,getSlotProps:je=>ee({...je,onClick:dt=>{L&&L(dt),je!=null&&je.onClick&&je.onClick(dt)}}),className:We(i==null?void 0:i.className,le==null?void 0:le.backdrop),ownerState:ne}),Je=vr(i==null?void 0:i.ref,Me.ref);return!k&&!T&&(!K||q)?null:I.jsx(vK,{ref:te,container:h,disablePortal:E,children:I.jsxs(we,{...ke,children:[!A&&s?I.jsx(Ne,{...Me,ref:Je}):null,I.jsx(Ape,{disableEnforceFocus:v,disableAutoFocus:b,disableRestoreFocus:x,isEnabled:de,open:T,children:B.cloneElement(u,ce)})]})})});function jpe(n){return Tt("MuiPaper",n)}pt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Upe=n=>{const{square:e,elevation:t,variant:r,classes:s}=n,i={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${t}`]};return xt(i,jpe,s)},Vpe=Ie("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(vt(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),vg=B.forwardRef(function(e,t){var y;const r=Mt({props:e,name:"MuiPaper"}),s=Ua(),{className:i,component:o="div",elevation:a=1,square:l=!1,variant:u="elevation",...h}=r,p={...r,component:o,elevation:a,square:l,variant:u},m=Upe(p);return I.jsx(Vpe,{as:o,ownerState:p,className:We(m.root,i),ref:t,...h,style:{...u==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[a],...s.vars&&{"--Paper-overlay":(y=s.vars.overlays)==null?void 0:y[a]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Lt("#fff",PL(a))}, ${Lt("#fff",PL(a))})`}},...h.style}})});function Hpe(n){return Tt("MuiPopover",n)}pt("MuiPopover",["root","paper"]);function F5(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function B5(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function $5(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function vD(n){return typeof n=="function"?n():n}const zpe=n=>{const{classes:e}=n;return xt({root:["root"],paper:["paper"]},Hpe,e)},Wpe=Ie(f$,{name:"MuiPopover",slot:"Root",overridesResolver:(n,e)=>e.root})({}),bK=Ie(vg,{name:"MuiPopover",slot:"Paper",overridesResolver:(n,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),h1=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiPopover"}),{action:s,anchorEl:i,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:u,className:h,container:p,elevation:m=8,marginThreshold:y=16,open:b,PaperProps:v={},slots:_={},slotProps:E={},transformOrigin:x={vertical:"top",horizontal:"left"},TransitionComponent:C=I_,transitionDuration:A="auto",TransitionProps:{onEntering:k,...L}={},disableScrollLock:P=!1,...D}=r,F=(E==null?void 0:E.paper)??v,T=B.useRef(),$={...r,anchorOrigin:o,anchorReference:l,elevation:m,marginThreshold:y,externalPaperSlotProps:F,transformOrigin:x,TransitionComponent:C,transitionDuration:A,TransitionProps:L},z=zpe($),j=B.useCallback(()=>{if(l==="anchorPosition")return a;const Me=vD(i),je=(Me&&Me.nodeType===1?Me:hi(T.current).body).getBoundingClientRect();return{top:je.top+F5(je,o.vertical),left:je.left+B5(je,o.horizontal)}},[i,o.horizontal,o.vertical,a,l]),Y=B.useCallback(Me=>({vertical:F5(Me,x.vertical),horizontal:B5(Me,x.horizontal)}),[x.horizontal,x.vertical]),Z=B.useCallback(Me=>{const Je={width:Me.offsetWidth,height:Me.offsetHeight},je=Y(Je);if(l==="none")return{top:null,left:null,transformOrigin:$5(je)};const dt=j();let Ye=dt.top-je.vertical,Ue=dt.left-je.horizontal;const en=Ye+Je.height,Be=Ue+Je.width,_t=Rl(vD(i)),Ut=_t.innerHeight-y,Ot=_t.innerWidth-y;if(y!==null&&Ye<y){const mt=Ye-y;Ye-=mt,je.vertical+=mt}else if(y!==null&&en>Ut){const mt=en-Ut;Ye-=mt,je.vertical+=mt}if(y!==null&&Ue<y){const mt=Ue-y;Ue-=mt,je.horizontal+=mt}else if(Be>Ot){const mt=Be-Ot;Ue-=mt,je.horizontal+=mt}return{top:`${Math.round(Ye)}px`,left:`${Math.round(Ue)}px`,transformOrigin:$5(je)}},[i,l,j,Y,y]),[J,ee]=B.useState(b),Q=B.useCallback(()=>{const Me=T.current;if(!Me)return;const Je=Z(Me);Je.top!==null&&Me.style.setProperty("top",Je.top),Je.left!==null&&(Me.style.left=Je.left),Me.style.transformOrigin=Je.transformOrigin,ee(!0)},[Z]);B.useEffect(()=>(P&&window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q)),[i,P,Q]);const te=(Me,Je)=>{k&&k(Me,Je),Q()},de=()=>{ee(!1)};B.useEffect(()=>{b&&Q()}),B.useImperativeHandle(s,()=>b?{updatePosition:()=>{Q()}}:null,[b,Q]),B.useEffect(()=>{if(!b)return;const Me=DB(()=>{Q()}),Je=Rl(i);return Je.addEventListener("resize",Me),()=>{Me.clear(),Je.removeEventListener("resize",Me)}},[i,b,Q]);let q=A;A==="auto"&&!C.muiSupportAuto&&(q=void 0);const K=p||(i?hi(vD(i)).body:void 0),ne={slots:_,slotProps:{...E,paper:F}},[le,ce]=Sn("paper",{elementType:bK,externalForwardedProps:ne,additionalProps:{elevation:m,className:We(z.paper,F==null?void 0:F.className),style:J?F.style:{...F.style,opacity:0}},ownerState:$}),[be,{slotProps:we,...ke}]=Sn("root",{elementType:Wpe,externalForwardedProps:ne,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:K,open:b},ownerState:$,className:We(z.root,h)}),Ne=vr(T,ce.ref);return I.jsx(be,{...ke,...!YL(be)&&{slotProps:we,disableScrollLock:P},...D,ref:t,children:I.jsx(C,{appear:!0,in:b,onEntering:te,onExited:de,timeout:q,...L,children:I.jsx(le,{...ce,ref:Ne,children:u})})})}),j5={container:{padding:4,display:"flex",flexDirection:"column",gap:2},buttons:{display:"flex",flexDirection:"row",gap:2,justifyContent:"flex-end"}};function qpe(n){return Tt("MuiAlert",n)}const U5=pt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function Gpe(n){return Tt("MuiIconButton",n)}const V5=pt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Kpe=n=>{const{classes:e,disabled:t,color:r,edge:s,size:i,loading:o}=n,a={root:["root",o&&"loading",t&&"disabled",r!=="default"&&`color${ve(r)}`,s&&`edge${ve(s)}`,`size${ve(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return xt(a,Gpe,e)},Ype=Ie(eg,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${ve(t.color)}`],t.edge&&e[`edge${ve(t.edge)}`],e[`size${ve(t.size)}`]]}})(vt(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Lt(n.palette.action.active,n.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),vt(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(os()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(os()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.vars?`rgba(${(n.vars||n).palette[e].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Lt((n.vars||n).palette[e].main,n.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${V5.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${V5.loading}`]:{color:"transparent"}}))),Xpe=Ie("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(n,e)=>e.loadingIndicator})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Rs=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiIconButton"}),{edge:s=!1,children:i,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:h="medium",id:p,loading:m=null,loadingIndicator:y,...b}=r,v=J0(p),_=y??I.jsx(rw,{"aria-labelledby":v,color:"inherit",size:16}),E={...r,edge:s,color:a,disabled:l,disableFocusRipple:u,loading:m,loadingIndicator:_,size:h},x=Kpe(E);return I.jsxs(Ype,{id:m?v:p,className:We(x.root,o),centerRipple:!0,focusRipple:!u,disabled:l||m,ref:t,...b,ownerState:E,children:[typeof m=="boolean"&&I.jsx("span",{className:x.loadingWrapper,style:{display:"contents"},children:I.jsx(Xpe,{className:x.loadingIndicator,ownerState:E,children:m&&_})}),i]})}),Jpe=Ur(I.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Qpe=Ur(I.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Zpe=Ur(I.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),eme=Ur(I.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),tme=Ur(I.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),nme=n=>{const{variant:e,color:t,severity:r,classes:s}=n,i={root:["root",`color${ve(t||r)}`,`${e}${ve(t||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return xt(i,qpe,s)},rme=Ie(vg,{name:"MuiAlert",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${ve(t.color||t.severity)}`]]}})(vt(({theme:n})=>{const e=n.palette.mode==="light"?k0:P0,t=n.palette.mode==="light"?P0:k0;return{...n.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(n.palette).filter(os(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:n.vars?n.vars.palette.Alert[`${r}Color`]:e(n.palette[r].light,.6),backgroundColor:n.vars?n.vars.palette.Alert[`${r}StandardBg`]:t(n.palette[r].light,.9),[`& .${U5.icon}`]:n.vars?{color:n.vars.palette.Alert[`${r}IconColor`]}:{color:n.palette[r].main}}})),...Object.entries(n.palette).filter(os(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:n.vars?n.vars.palette.Alert[`${r}Color`]:e(n.palette[r].light,.6),border:`1px solid ${(n.vars||n).palette[r].light}`,[`& .${U5.icon}`]:n.vars?{color:n.vars.palette.Alert[`${r}IconColor`]}:{color:n.palette[r].main}}})),...Object.entries(n.palette).filter(os(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:n.typography.fontWeightMedium,...n.vars?{color:n.vars.palette.Alert[`${r}FilledColor`],backgroundColor:n.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:n.palette.mode==="dark"?n.palette[r].dark:n.palette[r].main,color:n.palette.getContrastText(n.palette[r].main)}}}))]}})),sme=Ie("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(n,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),ime=Ie("div",{name:"MuiAlert",slot:"Message",overridesResolver:(n,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),ome=Ie("div",{name:"MuiAlert",slot:"Action",overridesResolver:(n,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),H5={success:I.jsx(Jpe,{fontSize:"inherit"}),warning:I.jsx(Qpe,{fontSize:"inherit"}),error:I.jsx(Zpe,{fontSize:"inherit"}),info:I.jsx(eme,{fontSize:"inherit"})},ame=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiAlert"}),{action:s,children:i,className:o,closeText:a="Close",color:l,components:u={},componentsProps:h={},icon:p,iconMapping:m=H5,onClose:y,role:b="alert",severity:v="success",slotProps:_={},slots:E={},variant:x="standard",...C}=r,A={...r,color:l,severity:v,variant:x,colorSeverity:l||v},k=nme(A),L={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...E},slotProps:{...h,..._}},[P,D]=Sn("root",{ref:t,shouldForwardComponentProp:!0,className:We(k.root,o),elementType:rme,externalForwardedProps:{...L,...C},ownerState:A,additionalProps:{role:b,elevation:0}}),[F,T]=Sn("icon",{className:k.icon,elementType:sme,externalForwardedProps:L,ownerState:A}),[$,z]=Sn("message",{className:k.message,elementType:ime,externalForwardedProps:L,ownerState:A}),[j,Y]=Sn("action",{className:k.action,elementType:ome,externalForwardedProps:L,ownerState:A}),[Z,J]=Sn("closeButton",{elementType:Rs,externalForwardedProps:L,ownerState:A}),[ee,Q]=Sn("closeIcon",{elementType:tme,externalForwardedProps:L,ownerState:A});return I.jsxs(P,{...D,children:[p!==!1?I.jsx(F,{...T,children:p||m[v]||H5[v]}):null,I.jsx($,{...z,children:i}),s!=null?I.jsx(j,{...Y,children:s}):null,s==null&&y?I.jsx(j,{...Y,children:I.jsx(Z,{size:"small","aria-label":a,title:a,color:"inherit",onClick:y,...J,children:I.jsx(ee,{fontSize:"small",...Q})})}):null]})});var no="top",Fa="bottom",Ba="right",ro="left",p$="auto",f1=[no,Fa,Ba,ro],O0="start",k_="end",lme="clippingParents",_K="viewport",ob="popper",cme="reference",z5=f1.reduce(function(n,e){return n.concat([e+"-"+O0,e+"-"+k_])},[]),m$=[].concat(f1,[p$]).reduce(function(n,e){return n.concat([e,e+"-"+O0,e+"-"+k_])},[]),ume="beforeRead",dme="read",hme="afterRead",fme="beforeMain",pme="main",mme="afterMain",gme="beforeWrite",yme="write",vme="afterWrite",wme=[ume,dme,hme,fme,pme,mme,gme,yme,vme];function Oc(n){return n?(n.nodeName||"").toLowerCase():null}function Xo(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function tg(n){var e=Xo(n).Element;return n instanceof e||n instanceof Element}function Pa(n){var e=Xo(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function g$(n){if(typeof ShadowRoot>"u")return!1;var e=Xo(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function bme(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},s=e.attributes[t]||{},i=e.elements[t];!Pa(i)||!Oc(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function _me(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!Pa(s)||!Oc(s)||(Object.assign(s.style,a),Object.keys(i).forEach(function(l){s.removeAttribute(l)}))})}}const Sme={name:"applyStyles",enabled:!0,phase:"write",fn:bme,effect:_me,requires:["computeStyles"]};function kc(n){return n.split("-")[0]}var qm=Math.max,EA=Math.min,L0=Math.round;function QL(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function SK(){return!/^((?!chrome|android).)*safari/i.test(QL())}function N0(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),s=1,i=1;e&&Pa(n)&&(s=n.offsetWidth>0&&L0(r.width)/n.offsetWidth||1,i=n.offsetHeight>0&&L0(r.height)/n.offsetHeight||1);var o=tg(n)?Xo(n):window,a=o.visualViewport,l=!SK()&&t,u=(r.left+(l&&a?a.offsetLeft:0))/s,h=(r.top+(l&&a?a.offsetTop:0))/i,p=r.width/s,m=r.height/i;return{width:p,height:m,top:h,right:u+p,bottom:h+m,left:u,x:u,y:h}}function y$(n){var e=N0(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function EK(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&g$(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function _d(n){return Xo(n).getComputedStyle(n)}function Eme(n){return["table","td","th"].indexOf(Oc(n))>=0}function Mf(n){return((tg(n)?n.ownerDocument:n.document)||window.document).documentElement}function YR(n){return Oc(n)==="html"?n:n.assignedSlot||n.parentNode||(g$(n)?n.host:null)||Mf(n)}function W5(n){return!Pa(n)||_d(n).position==="fixed"?null:n.offsetParent}function Cme(n){var e=/firefox/i.test(QL()),t=/Trident/i.test(QL());if(t&&Pa(n)){var r=_d(n);if(r.position==="fixed")return null}var s=YR(n);for(g$(s)&&(s=s.host);Pa(s)&&["html","body"].indexOf(Oc(s))<0;){var i=_d(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function p1(n){for(var e=Xo(n),t=W5(n);t&&Eme(t)&&_d(t).position==="static";)t=W5(t);return t&&(Oc(t)==="html"||Oc(t)==="body"&&_d(t).position==="static")?e:t||Cme(n)||e}function v$(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function d_(n,e,t){return qm(n,EA(e,t))}function Tme(n,e,t){var r=d_(n,e,t);return r>t?t:r}function CK(){return{top:0,right:0,bottom:0,left:0}}function TK(n){return Object.assign({},CK(),n)}function xK(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var xme=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,TK(typeof e!="number"?e:xK(e,f1))};function Ame(n){var e,t=n.state,r=n.name,s=n.options,i=t.elements.arrow,o=t.modifiersData.popperOffsets,a=kc(t.placement),l=v$(a),u=[ro,Ba].indexOf(a)>=0,h=u?"height":"width";if(!(!i||!o)){var p=xme(s.padding,t),m=y$(i),y=l==="y"?no:ro,b=l==="y"?Fa:Ba,v=t.rects.reference[h]+t.rects.reference[l]-o[l]-t.rects.popper[h],_=o[l]-t.rects.reference[l],E=p1(i),x=E?l==="y"?E.clientHeight||0:E.clientWidth||0:0,C=v/2-_/2,A=p[y],k=x-m[h]-p[b],L=x/2-m[h]/2+C,P=d_(A,L,k),D=l;t.modifiersData[r]=(e={},e[D]=P,e.centerOffset=P-L,e)}}function Rme(n){var e=n.state,t=n.options,r=t.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||EK(e.elements.popper,s)&&(e.elements.arrow=s))}const AK={name:"arrow",enabled:!0,phase:"main",fn:Ame,effect:Rme,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function F0(n){return n.split("-")[1]}var Ime={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kme(n,e){var t=n.x,r=n.y,s=e.devicePixelRatio||1;return{x:L0(t*s)/s||0,y:L0(r*s)/s||0}}function q5(n){var e,t=n.popper,r=n.popperRect,s=n.placement,i=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,u=n.adaptive,h=n.roundOffsets,p=n.isFixed,m=o.x,y=m===void 0?0:m,b=o.y,v=b===void 0?0:b,_=typeof h=="function"?h({x:y,y:v}):{x:y,y:v};y=_.x,v=_.y;var E=o.hasOwnProperty("x"),x=o.hasOwnProperty("y"),C=ro,A=no,k=window;if(u){var L=p1(t),P="clientHeight",D="clientWidth";if(L===Xo(t)&&(L=Mf(t),_d(L).position!=="static"&&a==="absolute"&&(P="scrollHeight",D="scrollWidth")),L=L,s===no||(s===ro||s===Ba)&&i===k_){A=Fa;var F=p&&L===k&&k.visualViewport?k.visualViewport.height:L[P];v-=F-r.height,v*=l?1:-1}if(s===ro||(s===no||s===Fa)&&i===k_){C=Ba;var T=p&&L===k&&k.visualViewport?k.visualViewport.width:L[D];y-=T-r.width,y*=l?1:-1}}var $=Object.assign({position:a},u&&Ime),z=h===!0?kme({x:y,y:v},Xo(t)):{x:y,y:v};if(y=z.x,v=z.y,l){var j;return Object.assign({},$,(j={},j[A]=x?"0":"",j[C]=E?"0":"",j.transform=(k.devicePixelRatio||1)<=1?"translate("+y+"px, "+v+"px)":"translate3d("+y+"px, "+v+"px, 0)",j))}return Object.assign({},$,(e={},e[A]=x?v+"px":"",e[C]=E?y+"px":"",e.transform="",e))}function Pme(n){var e=n.state,t=n.options,r=t.gpuAcceleration,s=r===void 0?!0:r,i=t.adaptive,o=i===void 0?!0:i,a=t.roundOffsets,l=a===void 0?!0:a,u={placement:kc(e.placement),variation:F0(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,q5(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,q5(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const RK={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Pme,data:{}};var vT={passive:!0};function Dme(n){var e=n.state,t=n.instance,r=n.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=Xo(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(h){h.addEventListener("scroll",t.update,vT)}),a&&l.addEventListener("resize",t.update,vT),function(){i&&u.forEach(function(h){h.removeEventListener("scroll",t.update,vT)}),a&&l.removeEventListener("resize",t.update,vT)}}const IK={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Dme,data:{}};var Mme={left:"right",right:"left",bottom:"top",top:"bottom"};function tx(n){return n.replace(/left|right|bottom|top/g,function(e){return Mme[e]})}var Ome={start:"end",end:"start"};function G5(n){return n.replace(/start|end/g,function(e){return Ome[e]})}function w$(n){var e=Xo(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function b$(n){return N0(Mf(n)).left+w$(n).scrollLeft}function Lme(n,e){var t=Xo(n),r=Mf(n),s=t.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;var u=SK();(u||!u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a+b$(n),y:l}}function Nme(n){var e,t=Mf(n),r=w$(n),s=(e=n.ownerDocument)==null?void 0:e.body,i=qm(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=qm(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+b$(n),l=-r.scrollTop;return _d(s||t).direction==="rtl"&&(a+=qm(t.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:l}}function _$(n){var e=_d(n),t=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+s+r)}function kK(n){return["html","body","#document"].indexOf(Oc(n))>=0?n.ownerDocument.body:Pa(n)&&_$(n)?n:kK(YR(n))}function h_(n,e){var t;e===void 0&&(e=[]);var r=kK(n),s=r===((t=n.ownerDocument)==null?void 0:t.body),i=Xo(r),o=s?[i].concat(i.visualViewport||[],_$(r)?r:[]):r,a=e.concat(o);return s?a:a.concat(h_(YR(o)))}function ZL(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Fme(n,e){var t=N0(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function K5(n,e,t){return e===_K?ZL(Lme(n,t)):tg(e)?Fme(e,t):ZL(Nme(Mf(n)))}function Bme(n){var e=h_(YR(n)),t=["absolute","fixed"].indexOf(_d(n).position)>=0,r=t&&Pa(n)?p1(n):n;return tg(r)?e.filter(function(s){return tg(s)&&EK(s,r)&&Oc(s)!=="body"}):[]}function $me(n,e,t,r){var s=e==="clippingParents"?Bme(n):[].concat(e),i=[].concat(s,[t]),o=i[0],a=i.reduce(function(l,u){var h=K5(n,u,r);return l.top=qm(h.top,l.top),l.right=EA(h.right,l.right),l.bottom=EA(h.bottom,l.bottom),l.left=qm(h.left,l.left),l},K5(n,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function PK(n){var e=n.reference,t=n.element,r=n.placement,s=r?kc(r):null,i=r?F0(r):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(s){case no:l={x:o,y:e.y-t.height};break;case Fa:l={x:o,y:e.y+e.height};break;case Ba:l={x:e.x+e.width,y:a};break;case ro:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var u=s?v$(s):null;if(u!=null){var h=u==="y"?"height":"width";switch(i){case O0:l[u]=l[u]-(e[h]/2-t[h]/2);break;case k_:l[u]=l[u]+(e[h]/2-t[h]/2);break}}return l}function P_(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=r===void 0?n.placement:r,i=t.strategy,o=i===void 0?n.strategy:i,a=t.boundary,l=a===void 0?lme:a,u=t.rootBoundary,h=u===void 0?_K:u,p=t.elementContext,m=p===void 0?ob:p,y=t.altBoundary,b=y===void 0?!1:y,v=t.padding,_=v===void 0?0:v,E=TK(typeof _!="number"?_:xK(_,f1)),x=m===ob?cme:ob,C=n.rects.popper,A=n.elements[b?x:m],k=$me(tg(A)?A:A.contextElement||Mf(n.elements.popper),l,h,o),L=N0(n.elements.reference),P=PK({reference:L,element:C,placement:s}),D=ZL(Object.assign({},C,P)),F=m===ob?D:L,T={top:k.top-F.top+E.top,bottom:F.bottom-k.bottom+E.bottom,left:k.left-F.left+E.left,right:F.right-k.right+E.right},$=n.modifiersData.offset;if(m===ob&&$){var z=$[s];Object.keys(T).forEach(function(j){var Y=[Ba,Fa].indexOf(j)>=0?1:-1,Z=[no,Fa].indexOf(j)>=0?"y":"x";T[j]+=z[Z]*Y})}return T}function jme(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=t.boundary,i=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?m$:l,h=F0(r),p=h?a?z5:z5.filter(function(b){return F0(b)===h}):f1,m=p.filter(function(b){return u.indexOf(b)>=0});m.length===0&&(m=p);var y=m.reduce(function(b,v){return b[v]=P_(n,{placement:v,boundary:s,rootBoundary:i,padding:o})[kc(v)],b},{});return Object.keys(y).sort(function(b,v){return y[b]-y[v]})}function Ume(n){if(kc(n)===p$)return[];var e=tx(n);return[G5(n),e,G5(e)]}function Vme(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var s=t.mainAxis,i=s===void 0?!0:s,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,u=t.padding,h=t.boundary,p=t.rootBoundary,m=t.altBoundary,y=t.flipVariations,b=y===void 0?!0:y,v=t.allowedAutoPlacements,_=e.options.placement,E=kc(_),x=E===_,C=l||(x||!b?[tx(_)]:Ume(_)),A=[_].concat(C).reduce(function(le,ce){return le.concat(kc(ce)===p$?jme(e,{placement:ce,boundary:h,rootBoundary:p,padding:u,flipVariations:b,allowedAutoPlacements:v}):ce)},[]),k=e.rects.reference,L=e.rects.popper,P=new Map,D=!0,F=A[0],T=0;T<A.length;T++){var $=A[T],z=kc($),j=F0($)===O0,Y=[no,Fa].indexOf(z)>=0,Z=Y?"width":"height",J=P_(e,{placement:$,boundary:h,rootBoundary:p,altBoundary:m,padding:u}),ee=Y?j?Ba:ro:j?Fa:no;k[Z]>L[Z]&&(ee=tx(ee));var Q=tx(ee),te=[];if(i&&te.push(J[z]<=0),a&&te.push(J[ee]<=0,J[Q]<=0),te.every(function(le){return le})){F=$,D=!1;break}P.set($,te)}if(D)for(var de=b?3:1,q=function(ce){var be=A.find(function(we){var ke=P.get(we);if(ke)return ke.slice(0,ce).every(function(Ne){return Ne})});if(be)return F=be,"break"},K=de;K>0;K--){var ne=q(K);if(ne==="break")break}e.placement!==F&&(e.modifiersData[r]._skip=!0,e.placement=F,e.reset=!0)}}const DK={name:"flip",enabled:!0,phase:"main",fn:Vme,requiresIfExists:["offset"],data:{_skip:!1}};function Y5(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function X5(n){return[no,Ba,Fa,ro].some(function(e){return n[e]>=0})}function Hme(n){var e=n.state,t=n.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=P_(e,{elementContext:"reference"}),a=P_(e,{altBoundary:!0}),l=Y5(o,r),u=Y5(a,s,i),h=X5(l),p=X5(u);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}const MK={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Hme};function zme(n,e,t){var r=kc(n),s=[ro,no].indexOf(r)>=0?-1:1,i=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[ro,Ba].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Wme(n){var e=n.state,t=n.options,r=n.name,s=t.offset,i=s===void 0?[0,0]:s,o=m$.reduce(function(h,p){return h[p]=zme(p,e.rects,i),h},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const OK={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Wme};function qme(n){var e=n.state,t=n.name;e.modifiersData[t]=PK({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const LK={name:"popperOffsets",enabled:!0,phase:"read",fn:qme,data:{}};function Gme(n){return n==="x"?"y":"x"}function Kme(n){var e=n.state,t=n.options,r=n.name,s=t.mainAxis,i=s===void 0?!0:s,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,u=t.rootBoundary,h=t.altBoundary,p=t.padding,m=t.tether,y=m===void 0?!0:m,b=t.tetherOffset,v=b===void 0?0:b,_=P_(e,{boundary:l,rootBoundary:u,padding:p,altBoundary:h}),E=kc(e.placement),x=F0(e.placement),C=!x,A=v$(E),k=Gme(A),L=e.modifiersData.popperOffsets,P=e.rects.reference,D=e.rects.popper,F=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,T=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),$=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,z={x:0,y:0};if(L){if(i){var j,Y=A==="y"?no:ro,Z=A==="y"?Fa:Ba,J=A==="y"?"height":"width",ee=L[A],Q=ee+_[Y],te=ee-_[Z],de=y?-D[J]/2:0,q=x===O0?P[J]:D[J],K=x===O0?-D[J]:-P[J],ne=e.elements.arrow,le=y&&ne?y$(ne):{width:0,height:0},ce=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:CK(),be=ce[Y],we=ce[Z],ke=d_(0,P[J],le[J]),Ne=C?P[J]/2-de-ke-be-T.mainAxis:q-ke-be-T.mainAxis,Me=C?-P[J]/2+de+ke+we+T.mainAxis:K+ke+we+T.mainAxis,Je=e.elements.arrow&&p1(e.elements.arrow),je=Je?A==="y"?Je.clientTop||0:Je.clientLeft||0:0,dt=(j=$==null?void 0:$[A])!=null?j:0,Ye=ee+Ne-dt-je,Ue=ee+Me-dt,en=d_(y?EA(Q,Ye):Q,ee,y?qm(te,Ue):te);L[A]=en,z[A]=en-ee}if(a){var Be,_t=A==="x"?no:ro,Ut=A==="x"?Fa:Ba,Ot=L[k],mt=k==="y"?"height":"width",Le=Ot+_[_t],$t=Ot-_[Ut],qt=[no,ro].indexOf(E)!==-1,qn=(Be=$==null?void 0:$[k])!=null?Be:0,Gt=qt?Le:Ot-P[mt]-D[mt]-qn+T.altAxis,lt=qt?Ot+P[mt]+D[mt]-qn-T.altAxis:$t,St=y&&qt?Tme(Gt,Ot,lt):d_(y?Gt:Le,Ot,y?lt:$t);L[k]=St,z[k]=St-Ot}e.modifiersData[r]=z}}const NK={name:"preventOverflow",enabled:!0,phase:"main",fn:Kme,requiresIfExists:["offset"]};function Yme(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Xme(n){return n===Xo(n)||!Pa(n)?w$(n):Yme(n)}function Jme(n){var e=n.getBoundingClientRect(),t=L0(e.width)/n.offsetWidth||1,r=L0(e.height)/n.offsetHeight||1;return t!==1||r!==1}function Qme(n,e,t){t===void 0&&(t=!1);var r=Pa(e),s=Pa(e)&&Jme(e),i=Mf(e),o=N0(n,s,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&((Oc(e)!=="body"||_$(i))&&(a=Xme(e)),Pa(e)?(l=N0(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=b$(i))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Zme(n){var e=new Map,t=new Set,r=[];n.forEach(function(i){e.set(i.name,i)});function s(i){t.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&s(l)}}),r.push(i)}return n.forEach(function(i){t.has(i.name)||s(i)}),r}function ege(n){var e=Zme(n);return wme.reduce(function(t,r){return t.concat(e.filter(function(s){return s.phase===r}))},[])}function tge(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function nge(n){var e=n.reduce(function(t,r){var s=t[r.name];return t[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var J5={placement:"bottom",modifiers:[],strategy:"absolute"};function Q5(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function FK(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,s=e.defaultOptions,i=s===void 0?J5:s;return function(a,l,u){u===void 0&&(u=i);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},J5,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},p=[],m=!1,y={state:h,setOptions:function(E){var x=typeof E=="function"?E(h.options):E;v(),h.options=Object.assign({},i,h.options,x),h.scrollParents={reference:tg(a)?h_(a):a.contextElement?h_(a.contextElement):[],popper:h_(l)};var C=ege(nge([].concat(r,h.options.modifiers)));return h.orderedModifiers=C.filter(function(A){return A.enabled}),b(),y.update()},forceUpdate:function(){if(!m){var E=h.elements,x=E.reference,C=E.popper;if(Q5(x,C)){h.rects={reference:Qme(x,p1(C),h.options.strategy==="fixed"),popper:y$(C)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(T){return h.modifiersData[T.name]=Object.assign({},T.data)});for(var A=0;A<h.orderedModifiers.length;A++){if(h.reset===!0){h.reset=!1,A=-1;continue}var k=h.orderedModifiers[A],L=k.fn,P=k.options,D=P===void 0?{}:P,F=k.name;typeof L=="function"&&(h=L({state:h,options:D,name:F,instance:y})||h)}}}},update:tge(function(){return new Promise(function(_){y.forceUpdate(),_(h)})}),destroy:function(){v(),m=!0}};if(!Q5(a,l))return y;y.setOptions(u).then(function(_){!m&&u.onFirstUpdate&&u.onFirstUpdate(_)});function b(){h.orderedModifiers.forEach(function(_){var E=_.name,x=_.options,C=x===void 0?{}:x,A=_.effect;if(typeof A=="function"){var k=A({state:h,name:E,instance:y,options:C}),L=function(){};p.push(k||L)}})}function v(){p.forEach(function(_){return _()}),p=[]}return y}}var rge=[IK,LK,RK,Sme,OK,DK,NK,AK,MK],sge=FK({defaultModifiers:rge});function ige(n){return Tt("MuiPopper",n)}pt("MuiPopper",["root"]);function oge(n,e){if(e==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function eN(n){return typeof n=="function"?n():n}function age(n){return n.nodeType!==void 0}const lge=n=>{const{classes:e}=n;return xt({root:["root"]},ige,e)},cge={},uge=B.forwardRef(function(e,t){const{anchorEl:r,children:s,direction:i,disablePortal:o,modifiers:a,open:l,placement:u,popperOptions:h,popperRef:p,slotProps:m={},slots:y={},TransitionProps:b,ownerState:v,..._}=e,E=B.useRef(null),x=vr(E,t),C=B.useRef(null),A=vr(C,p),k=B.useRef(A);Oa(()=>{k.current=A},[A]),B.useImperativeHandle(p,()=>C.current,[]);const L=oge(u,i),[P,D]=B.useState(L),[F,T]=B.useState(eN(r));B.useEffect(()=>{C.current&&C.current.forceUpdate()}),B.useEffect(()=>{r&&T(eN(r))},[r]),Oa(()=>{if(!F||!l)return;const Z=Q=>{D(Q.placement)};let J=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Q})=>{Z(Q)}}];a!=null&&(J=J.concat(a)),h&&h.modifiers!=null&&(J=J.concat(h.modifiers));const ee=sge(F,E.current,{placement:L,...h,modifiers:J});return k.current(ee),()=>{ee.destroy(),k.current(null)}},[F,o,a,l,h,L]);const $={placement:P};b!==null&&($.TransitionProps=b);const z=lge(e),j=y.root??"div",Y=cA({elementType:j,externalSlotProps:m.root,externalForwardedProps:_,additionalProps:{role:"tooltip",ref:x},ownerState:e,className:z.root});return I.jsx(j,{...Y,children:typeof s=="function"?s($):s})}),dge=B.forwardRef(function(e,t){const{anchorEl:r,children:s,container:i,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:h,placement:p="bottom",popperOptions:m=cge,popperRef:y,style:b,transition:v=!1,slotProps:_={},slots:E={},...x}=e,[C,A]=B.useState(!0),k=()=>{A(!1)},L=()=>{A(!0)};if(!l&&!h&&(!v||C))return null;let P;if(i)P=i;else if(r){const T=eN(r);P=T&&age(T)?hi(T).body:hi(null).body}const D=!h&&l&&(!v||C)?"none":void 0,F=v?{in:h,onEnter:k,onExited:L}:void 0;return I.jsx(vK,{disablePortal:a,container:P,children:I.jsx(uge,{anchorEl:r,direction:o,disablePortal:a,modifiers:u,ref:t,open:v?!C:h,placement:p,popperOptions:m,popperRef:y,slotProps:_,slots:E,...x,style:{position:"fixed",top:0,left:0,display:D,...b},TransitionProps:F,children:s})})}),hge=Ie(dge,{name:"MuiPopper",slot:"Root",overridesResolver:(n,e)=>e.root})({}),BK=B.forwardRef(function(e,t){const r=BR(),s=Mt({props:e,name:"MuiPopper"}),{anchorEl:i,component:o,components:a,componentsProps:l,container:u,disablePortal:h,keepMounted:p,modifiers:m,open:y,placement:b,popperOptions:v,popperRef:_,transition:E,slots:x,slotProps:C,...A}=s,k=(x==null?void 0:x.root)??(a==null?void 0:a.Root),L={anchorEl:i,container:u,disablePortal:h,keepMounted:p,modifiers:m,open:y,placement:b,popperOptions:v,popperRef:_,transition:E,...A};return I.jsx(hge,{as:o,direction:r?"rtl":"ltr",slots:{root:k},slotProps:C??l,...L,ref:t})}),fge=Ur(I.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function pge(n){return Tt("MuiChip",n)}const jt=pt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),mge=n=>{const{classes:e,disabled:t,size:r,color:s,iconColor:i,onDelete:o,clickable:a,variant:l}=n,u={root:["root",l,t&&"disabled",`size${ve(r)}`,`color${ve(s)}`,a&&"clickable",a&&`clickableColor${ve(s)}`,o&&"deletable",o&&`deletableColor${ve(s)}`,`${l}${ve(s)}`],label:["label",`label${ve(r)}`],avatar:["avatar",`avatar${ve(r)}`,`avatarColor${ve(s)}`],icon:["icon",`icon${ve(r)}`,`iconColor${ve(i)}`],deleteIcon:["deleteIcon",`deleteIcon${ve(r)}`,`deleteIconColor${ve(s)}`,`deleteIcon${ve(l)}Color${ve(s)}`]};return xt(u,pge,e)},gge=Ie("div",{name:"MuiChip",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{color:r,iconColor:s,clickable:i,onDelete:o,size:a,variant:l}=t;return[{[`& .${jt.avatar}`]:e.avatar},{[`& .${jt.avatar}`]:e[`avatar${ve(a)}`]},{[`& .${jt.avatar}`]:e[`avatarColor${ve(r)}`]},{[`& .${jt.icon}`]:e.icon},{[`& .${jt.icon}`]:e[`icon${ve(a)}`]},{[`& .${jt.icon}`]:e[`iconColor${ve(s)}`]},{[`& .${jt.deleteIcon}`]:e.deleteIcon},{[`& .${jt.deleteIcon}`]:e[`deleteIcon${ve(a)}`]},{[`& .${jt.deleteIcon}`]:e[`deleteIconColor${ve(r)}`]},{[`& .${jt.deleteIcon}`]:e[`deleteIcon${ve(l)}Color${ve(r)}`]},e.root,e[`size${ve(a)}`],e[`color${ve(r)}`],i&&e.clickable,i&&r!=="default"&&e[`clickableColor${ve(r)})`],o&&e.deletable,o&&r!=="default"&&e[`deletableColor${ve(r)}`],e[l],e[`${l}${ve(r)}`]]}})(vt(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[700]:n.palette.grey[300];return{maxWidth:"100%",fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(n.vars||n).palette.text.primary,backgroundColor:(n.vars||n).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${jt.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${jt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:n.vars?n.vars.palette.Chip.defaultAvatarColor:e,fontSize:n.typography.pxToRem(12)},[`& .${jt.avatarColorPrimary}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.dark},[`& .${jt.avatarColorSecondary}`]:{color:(n.vars||n).palette.secondary.contrastText,backgroundColor:(n.vars||n).palette.secondary.dark},[`& .${jt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)},[`& .${jt.icon}`]:{marginLeft:5,marginRight:-6},[`& .${jt.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.26)`:Lt(n.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.4)`:Lt(n.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${jt.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${jt.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(n.palette).filter(os(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(n.vars||n).palette[t].main,color:(n.vars||n).palette[t].contrastText,[`& .${jt.deleteIcon}`]:{color:n.vars?`rgba(${n.vars.palette[t].contrastTextChannel} / 0.7)`:Lt(n.palette[t].contrastText,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].contrastText}}}})),{props:t=>t.iconColor===t.color,style:{[`& .${jt.icon}`]:{color:n.vars?n.vars.palette.Chip.defaultIconColor:e}}},{props:t=>t.iconColor===t.color&&t.color!=="default",style:{[`& .${jt.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${jt.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:Lt(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}}},...Object.entries(n.palette).filter(os(["dark"])).map(([t])=>({props:{color:t,onDelete:!0},style:{[`&.${jt.focusVisible}`]:{background:(n.vars||n).palette[t].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Lt(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)},[`&.${jt.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:Lt(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)},"&:active":{boxShadow:(n.vars||n).shadows[1]}}},...Object.entries(n.palette).filter(os(["dark"])).map(([t])=>({props:{color:t,clickable:!0},style:{[`&:hover, &.${jt.focusVisible}`]:{backgroundColor:(n.vars||n).palette[t].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:n.vars?`1px solid ${n.vars.palette.Chip.defaultBorder}`:`1px solid ${n.palette.mode==="light"?n.palette.grey[400]:n.palette.grey[700]}`,[`&.${jt.clickable}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${jt.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`& .${jt.avatar}`]:{marginLeft:4},[`& .${jt.avatarSmall}`]:{marginLeft:2},[`& .${jt.icon}`]:{marginLeft:4},[`& .${jt.iconSmall}`]:{marginLeft:2},[`& .${jt.deleteIcon}`]:{marginRight:5},[`& .${jt.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(n.palette).filter(os()).map(([t])=>({props:{variant:"outlined",color:t},style:{color:(n.vars||n).palette[t].main,border:`1px solid ${n.vars?`rgba(${n.vars.palette[t].mainChannel} / 0.7)`:Lt(n.palette[t].main,.7)}`,[`&.${jt.clickable}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette[t].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Lt(n.palette[t].main,n.palette.action.hoverOpacity)},[`&.${jt.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette[t].mainChannel} / ${n.vars.palette.action.focusOpacity})`:Lt(n.palette[t].main,n.palette.action.focusOpacity)},[`& .${jt.deleteIcon}`]:{color:n.vars?`rgba(${n.vars.palette[t].mainChannel} / 0.7)`:Lt(n.palette[t].main,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].main}}}}))]}})),yge=Ie("span",{name:"MuiChip",slot:"Label",overridesResolver:(n,e)=>{const{ownerState:t}=n,{size:r}=t;return[e.label,e[`label${ve(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Z5(n){return n.key==="Backspace"||n.key==="Delete"}const $K=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiChip"}),{avatar:s,className:i,clickable:o,color:a="default",component:l,deleteIcon:u,disabled:h=!1,icon:p,label:m,onClick:y,onDelete:b,onKeyDown:v,onKeyUp:_,size:E="medium",variant:x="filled",tabIndex:C,skipFocusWhenDisabled:A=!1,...k}=r,L=B.useRef(null),P=vr(L,t),D=te=>{te.stopPropagation(),b&&b(te)},F=te=>{te.currentTarget===te.target&&Z5(te)&&te.preventDefault(),v&&v(te)},T=te=>{te.currentTarget===te.target&&b&&Z5(te)&&b(te),_&&_(te)},$=o!==!1&&y?!0:o,z=$||b?eg:l||"div",j={...r,component:z,disabled:h,size:E,color:a,iconColor:B.isValidElement(p)&&p.props.color||a,onDelete:!!b,clickable:$,variant:x},Y=mge(j),Z=z===eg?{component:l||"div",focusVisibleClassName:Y.focusVisible,...b&&{disableRipple:!0}}:{};let J=null;b&&(J=u&&B.isValidElement(u)?B.cloneElement(u,{className:We(u.props.className,Y.deleteIcon),onClick:D}):I.jsx(fge,{className:We(Y.deleteIcon),onClick:D}));let ee=null;s&&B.isValidElement(s)&&(ee=B.cloneElement(s,{className:We(Y.avatar,s.props.className)}));let Q=null;return p&&B.isValidElement(p)&&(Q=B.cloneElement(p,{className:We(Y.icon,p.props.className)})),I.jsxs(gge,{as:z,className:We(Y.root,i),disabled:$&&h?!0:void 0,onClick:y,onKeyDown:F,onKeyUp:T,ref:P,tabIndex:A&&h?-1:C,ownerState:j,...Z,...k,children:[ee||Q,I.jsx(yge,{className:We(Y.label),ownerState:j,children:m}),J]})});function wT(n){return parseInt(n,10)||0}const vge={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function wge(n){for(const e in n)return!1;return!0}function bge(n){return wge(n)||n.outerHeightStyle===0&&!n.overflowing}const _ge=B.forwardRef(function(e,t){const{onChange:r,maxRows:s,minRows:i=1,style:o,value:a,...l}=e,{current:u}=B.useRef(a!=null),h=B.useRef(null),p=vr(t,h),m=B.useRef(null),y=B.useRef(null),b=B.useCallback(()=>{const x=h.current,C=y.current;if(!x||!C)return;const k=Rl(x).getComputedStyle(x);if(k.width==="0px")return{outerHeightStyle:0,overflowing:!1};C.style.width=k.width,C.value=x.value||e.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const L=k.boxSizing,P=wT(k.paddingBottom)+wT(k.paddingTop),D=wT(k.borderBottomWidth)+wT(k.borderTopWidth),F=C.scrollHeight;C.value="x";const T=C.scrollHeight;let $=F;i&&($=Math.max(Number(i)*T,$)),s&&($=Math.min(Number(s)*T,$)),$=Math.max($,T);const z=$+(L==="border-box"?P+D:0),j=Math.abs($-F)<=1;return{outerHeightStyle:z,overflowing:j}},[s,i,e.placeholder]),v=B.useCallback(()=>{const x=h.current,C=b();if(!x||!C||bge(C))return;const A=C.outerHeightStyle;m.current!==A&&(m.current=A,x.style.height=`${A}px`),x.style.overflow=C.overflowing?"hidden":""},[b]),_=B.useRef(-1);Oa(()=>{const x=DB(()=>v()),C=h==null?void 0:h.current;if(!C)return;const A=Rl(C);A.addEventListener("resize",x);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(()=>{k.unobserve(C),cancelAnimationFrame(_.current),v(),_.current=requestAnimationFrame(()=>{k.observe(C)})}),k.observe(C)),()=>{x.clear(),cancelAnimationFrame(_.current),A.removeEventListener("resize",x),k&&k.disconnect()}},[b,v]),Oa(()=>{v()});const E=x=>{u||v(),r&&r(x)};return I.jsxs(B.Fragment,{children:[I.jsx("textarea",{value:a,onChange:E,ref:p,rows:i,style:o,...l}),I.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:y,tabIndex:-1,style:{...vge.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function wg({props:n,states:e,muiFormControl:t}){return e.reduce((r,s)=>(r[s]=n[s],t&&typeof n[s]>"u"&&(r[s]=t[s]),r),{})}const S$=B.createContext(void 0);function Of(){return B.useContext(S$)}function e9(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function CA(n,e=!1){return n&&(e9(n.value)&&n.value!==""||e&&e9(n.defaultValue)&&n.defaultValue!=="")}function Sge(n){return n.startAdornment}function Ege(n){return Tt("MuiInputBase",n)}const B0=pt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var t9;const XR=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${ve(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},JR=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},Cge=n=>{const{classes:e,color:t,disabled:r,error:s,endAdornment:i,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:h,readOnly:p,size:m,startAdornment:y,type:b}=n,v={root:["root",`color${ve(t)}`,r&&"disabled",s&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",m&&m!=="medium"&&`size${ve(m)}`,h&&"multiline",y&&"adornedStart",i&&"adornedEnd",u&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled",b==="search"&&"inputTypeSearch",h&&"inputMultiline",m==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",y&&"inputAdornedStart",i&&"inputAdornedEnd",p&&"readOnly"]};return xt(v,Ege,e)},QR=Ie("div",{name:"MuiInputBase",slot:"Root",overridesResolver:XR})(vt(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${B0.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),ZR=Ie("input",{name:"MuiInputBase",slot:"Input",overridesResolver:JR})(vt(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},r={opacity:"0 !important"},s=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${B0.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${B0.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),n9=vfe({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),E$=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:i,autoFocus:o,className:a,color:l,components:u={},componentsProps:h={},defaultValue:p,disabled:m,disableInjectingGlobalStyles:y,endAdornment:b,error:v,fullWidth:_=!1,id:E,inputComponent:x="input",inputProps:C={},inputRef:A,margin:k,maxRows:L,minRows:P,multiline:D=!1,name:F,onBlur:T,onChange:$,onClick:z,onFocus:j,onKeyDown:Y,onKeyUp:Z,placeholder:J,readOnly:ee,renderSuffix:Q,rows:te,size:de,slotProps:q={},slots:K={},startAdornment:ne,type:le="text",value:ce,...be}=r,we=C.value!=null?C.value:ce,{current:ke}=B.useRef(we!=null),Ne=B.useRef(),Me=B.useCallback(tt=>{},[]),Je=vr(Ne,A,C.ref,Me),[je,dt]=B.useState(!1),Ye=Of(),Ue=wg({props:r,muiFormControl:Ye,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ue.focused=Ye?Ye.focused:je,B.useEffect(()=>{!Ye&&m&&je&&(dt(!1),T&&T())},[Ye,m,je,T]);const en=Ye&&Ye.onFilled,Be=Ye&&Ye.onEmpty,_t=B.useCallback(tt=>{CA(tt)?en&&en():Be&&Be()},[en,Be]);Oa(()=>{ke&&_t({value:we})},[we,_t,ke]);const Ut=tt=>{j&&j(tt),C.onFocus&&C.onFocus(tt),Ye&&Ye.onFocus?Ye.onFocus(tt):dt(!0)},Ot=tt=>{T&&T(tt),C.onBlur&&C.onBlur(tt),Ye&&Ye.onBlur?Ye.onBlur(tt):dt(!1)},mt=(tt,...sn)=>{if(!ke){const En=tt.target||Ne.current;if(En==null)throw new Error(gd(1));_t({value:En.value})}C.onChange&&C.onChange(tt,...sn),$&&$(tt,...sn)};B.useEffect(()=>{_t(Ne.current)},[]);const Le=tt=>{Ne.current&&tt.currentTarget===tt.target&&Ne.current.focus(),z&&z(tt)};let $t=x,qt=C;D&&$t==="input"&&(te?qt={type:void 0,minRows:te,maxRows:te,...qt}:qt={type:void 0,maxRows:L,minRows:P,...qt},$t=_ge);const qn=tt=>{_t(tt.animationName==="mui-auto-fill-cancel"?Ne.current:{value:"x"})};B.useEffect(()=>{Ye&&Ye.setAdornedStart(!!ne)},[Ye,ne]);const Gt={...r,color:Ue.color||"primary",disabled:Ue.disabled,endAdornment:b,error:Ue.error,focused:Ue.focused,formControl:Ye,fullWidth:_,hiddenLabel:Ue.hiddenLabel,multiline:D,size:Ue.size,startAdornment:ne,type:le},lt=Cge(Gt),St=K.root||u.Root||QR,Kt=q.root||h.root||{},vn=K.input||u.Input||ZR;return qt={...qt,...q.input??h.input},I.jsxs(B.Fragment,{children:[!y&&typeof n9=="function"&&(t9||(t9=I.jsx(n9,{}))),I.jsxs(St,{...Kt,ref:t,onClick:Le,...be,...!YL(St)&&{ownerState:{...Gt,...Kt.ownerState}},className:We(lt.root,Kt.className,a,ee&&"MuiInputBase-readOnly"),children:[ne,I.jsx(S$.Provider,{value:null,children:I.jsx(vn,{"aria-invalid":Ue.error,"aria-describedby":s,autoComplete:i,autoFocus:o,defaultValue:p,disabled:Ue.disabled,id:E,onAnimationStart:qn,name:F,placeholder:J,readOnly:ee,required:Ue.required,rows:te,value:we,onKeyDown:Y,onKeyUp:Z,type:le,...qt,...!YL(vn)&&{as:$t,ownerState:{...Gt,...qt.ownerState}},ref:Je,className:We(lt.input,qt.className,ee&&"MuiInputBase-readOnly"),onBlur:Ot,onChange:mt,onFocus:Ut})}),b,Q?Q({...Ue,startAdornment:ne}):null]})]})});function Tge(n){return Tt("MuiInput",n)}const ab={...B0,...pt("MuiInput",["root","underline","input"])};function xge(n){return Tt("MuiOutlinedInput",n)}const Yl={...B0,...pt("MuiOutlinedInput",["root","notchedOutline","input"])};function Age(n){return Tt("MuiFilledInput",n)}const up={...B0,...pt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},Rge=Ur(I.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function Ige(n){return Tt("PrivateSwitchBase",n)}pt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const kge=n=>{const{classes:e,checked:t,disabled:r,edge:s}=n,i={root:["root",t&&"checked",r&&"disabled",s&&`edge${ve(s)}`],input:["input"]};return xt(i,Ige,e)},Pge=Ie(eg)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:n,ownerState:e})=>n==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:n,ownerState:e})=>n==="end"&&e.size!=="small",style:{marginRight:-12}}]}),Dge=Ie("input",{shouldForwardProp:fo})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Mge=B.forwardRef(function(e,t){const{autoFocus:r,checked:s,checkedIcon:i,className:o,defaultChecked:a,disabled:l,disableFocusRipple:u=!1,edge:h=!1,icon:p,id:m,inputProps:y,inputRef:b,name:v,onBlur:_,onChange:E,onFocus:x,readOnly:C,required:A=!1,tabIndex:k,type:L,value:P,...D}=e,[F,T]=aA({controlled:s,default:!!a,name:"SwitchBase",state:"checked"}),$=Of(),z=te=>{x&&x(te),$&&$.onFocus&&$.onFocus(te)},j=te=>{_&&_(te),$&&$.onBlur&&$.onBlur(te)},Y=te=>{if(te.nativeEvent.defaultPrevented)return;const de=te.target.checked;T(de),E&&E(te,de)};let Z=l;$&&typeof Z>"u"&&(Z=$.disabled);const J=L==="checkbox"||L==="radio",ee={...e,checked:F,disabled:Z,disableFocusRipple:u,edge:h},Q=kge(ee);return I.jsxs(Pge,{component:"span",className:We(Q.root,o),centerRipple:!0,focusRipple:!u,disabled:Z,tabIndex:null,role:void 0,onFocus:z,onBlur:j,ownerState:ee,ref:t,...D,children:[I.jsx(Dge,{autoFocus:r,checked:s,defaultChecked:a,className:Q.input,disabled:Z,id:J?m:void 0,name:v,onChange:Y,readOnly:C,ref:b,required:A,ownerState:ee,tabIndex:k,type:L,...L==="checkbox"&&P===void 0?{}:{value:P},...y}),F?i:p]})});function r9(n){return n.substring(2).toLowerCase()}function Oge(n,e){return e.documentElement.clientWidth<n.clientX||e.documentElement.clientHeight<n.clientY}function Lge(n){const{children:e,disableReactTree:t=!1,mouseEvent:r="onClick",onClickAway:s,touchEvent:i="onTouchEnd"}=n,o=B.useRef(!1),a=B.useRef(null),l=B.useRef(!1),u=B.useRef(!1);B.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const h=vr(Rf(e),a),p=Tl(b=>{const v=u.current;u.current=!1;const _=hi(a.current);if(!l.current||!a.current||"clientX"in b&&Oge(b,_))return;if(o.current){o.current=!1;return}let E;b.composedPath?E=b.composedPath().includes(a.current):E=!_.documentElement.contains(b.target)||a.current.contains(b.target),!E&&(t||!v)&&s(b)}),m=b=>v=>{u.current=!0;const _=e.props[b];_&&_(v)},y={ref:h};return i!==!1&&(y[i]=m(i)),B.useEffect(()=>{if(i!==!1){const b=r9(i),v=hi(a.current),_=()=>{o.current=!0};return v.addEventListener(b,p),v.addEventListener("touchmove",_),()=>{v.removeEventListener(b,p),v.removeEventListener("touchmove",_)}}},[p,i]),r!==!1&&(y[r]=m(r)),B.useEffect(()=>{if(r!==!1){const b=r9(r),v=hi(a.current);return v.addEventListener(b,p),()=>{v.removeEventListener(b,p)}}},[p,r]),B.cloneElement(e,y)}function Nge(n){return Tt("MuiDialog",n)}const wD=pt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Fge=B.createContext({}),Bge=Ie(wK,{name:"MuiDialog",slot:"Backdrop",overrides:(n,e)=>e.backdrop})({zIndex:-1}),$ge=n=>{const{classes:e,scroll:t,maxWidth:r,fullWidth:s,fullScreen:i}=n,o={root:["root"],container:["container",`scroll${ve(t)}`],paper:["paper",`paperScroll${ve(t)}`,`paperWidth${ve(String(r))}`,s&&"paperFullWidth",i&&"paperFullScreen"]};return xt(o,Nge,e)},jge=Ie(f$,{name:"MuiDialog",slot:"Root",overridesResolver:(n,e)=>e.root})({"@media print":{position:"absolute !important"}}),Uge=Ie("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.container,e[`scroll${ve(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Vge=Ie(vg,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`scrollPaper${ve(t.scroll)}`],e[`paperWidth${ve(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(vt(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${wD.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${n.breakpoints.values[e]}${n.breakpoints.unit}`,[`&.${wD.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${wD.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),eI=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiDialog"}),s=Ua(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:u,BackdropProps:h,children:p,className:m,disableEscapeKeyDown:y=!1,fullScreen:b=!1,fullWidth:v=!1,maxWidth:_="sm",onBackdropClick:E,onClick:x,onClose:C,open:A,PaperComponent:k=vg,PaperProps:L={},scroll:P="paper",slots:D={},slotProps:F={},TransitionComponent:T=JL,transitionDuration:$=i,TransitionProps:z,...j}=r,Y={...r,disableEscapeKeyDown:y,fullScreen:b,fullWidth:v,maxWidth:_,scroll:P},Z=$ge(Y),J=B.useRef(),ee=Ye=>{J.current=Ye.target===Ye.currentTarget},Q=Ye=>{x&&x(Ye),J.current&&(J.current=null,E&&E(Ye),C&&C(Ye,"backdropClick"))},te=J0(a),de=B.useMemo(()=>({titleId:te}),[te]),q={transition:T,...D},K={transition:z,paper:L,backdrop:h,...F},ne={slots:q,slotProps:K},[le,ce]=Sn("root",{elementType:jge,shouldForwardComponentProp:!0,externalForwardedProps:ne,ownerState:Y,className:We(Z.root,m),ref:t}),[be,we]=Sn("backdrop",{elementType:Bge,shouldForwardComponentProp:!0,externalForwardedProps:ne,ownerState:Y}),[ke,Ne]=Sn("paper",{elementType:Vge,shouldForwardComponentProp:!0,externalForwardedProps:ne,ownerState:Y,className:We(Z.paper,L.className)}),[Me,Je]=Sn("container",{elementType:Uge,externalForwardedProps:ne,ownerState:Y,className:We(Z.container)}),[je,dt]=Sn("transition",{elementType:JL,externalForwardedProps:ne,ownerState:Y,additionalProps:{appear:!0,in:A,timeout:$,role:"presentation"}});return I.jsx(le,{closeAfterTransition:!0,slots:{backdrop:be},slotProps:{backdrop:{transitionDuration:$,as:u,...we}},disableEscapeKeyDown:y,onClose:C,open:A,onClick:Q,...ce,...j,children:I.jsx(je,{...dt,children:I.jsx(Me,{onMouseDown:ee,...Je,children:I.jsx(ke,{as:k,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":te,"aria-modal":l,...Ne,children:I.jsx(Fge.Provider,{value:de,children:p})})})})})});function Hge(n){return Tt("MuiDialogContent",n)}pt("MuiDialogContent",["root","dividers"]);const zge=pt("MuiDialogTitle",["root"]),Wge=n=>{const{classes:e,dividers:t}=n;return xt({root:["root",t&&"dividers"]},Hge,e)},qge=Ie("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.dividers&&e.dividers]}})(vt(({theme:n})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(n.vars||n).palette.divider}`,borderBottom:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${zge.root} + &`]:{paddingTop:0}}}]}))),Gge=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiDialogContent"}),{className:s,dividers:i=!1,...o}=r,a={...r,dividers:i},l=Wge(a);return I.jsx(qge,{className:We(l.root,s),ownerState:a,ref:t,...o})}),s9=pt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function Kge(n,e,t){const r=e.getBoundingClientRect(),s=t&&t.getBoundingClientRect(),i=Rl(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const u=i.getComputedStyle(e);o=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const u=o.split("(")[1].split(")")[0].split(",");a=parseInt(u[4],10),l=parseInt(u[5],10)}return n==="left"?s?`translateX(${s.right+a-r.left}px)`:`translateX(${i.innerWidth+a-r.left}px)`:n==="right"?s?`translateX(-${r.right-s.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:n==="up"?s?`translateY(${s.bottom+l-r.top}px)`:`translateY(${i.innerHeight+l-r.top}px)`:s?`translateY(-${r.top-s.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function Yge(n){return typeof n=="function"?n():n}function bT(n,e,t){const r=Yge(t),s=Kge(n,e,r);s&&(e.style.webkitTransform=s,e.style.transform=s)}const Xge=B.forwardRef(function(e,t){const r=Ua(),s={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:u,direction:h="down",easing:p=s,in:m,onEnter:y,onEntered:b,onEntering:v,onExit:_,onExited:E,onExiting:x,style:C,timeout:A=i,TransitionComponent:k=Nl,...L}=e,P=B.useRef(null),D=vr(Rf(l),P,t),F=Q=>te=>{Q&&(te===void 0?Q(P.current):Q(P.current,te))},T=F((Q,te)=>{bT(h,Q,u),h$(Q),y&&y(Q,te)}),$=F((Q,te)=>{const de=M0({timeout:A,style:C,easing:p},{mode:"enter"});Q.style.webkitTransition=r.transitions.create("-webkit-transform",{...de}),Q.style.transition=r.transitions.create("transform",{...de}),Q.style.webkitTransform="none",Q.style.transform="none",v&&v(Q,te)}),z=F(b),j=F(x),Y=F(Q=>{const te=M0({timeout:A,style:C,easing:p},{mode:"exit"});Q.style.webkitTransition=r.transitions.create("-webkit-transform",te),Q.style.transition=r.transitions.create("transform",te),bT(h,Q,u),_&&_(Q)}),Z=F(Q=>{Q.style.webkitTransition="",Q.style.transition="",E&&E(Q)}),J=Q=>{o&&o(P.current,Q)},ee=B.useCallback(()=>{P.current&&bT(h,P.current,u)},[h,u]);return B.useEffect(()=>{if(m||h==="down"||h==="right")return;const Q=DB(()=>{P.current&&bT(h,P.current,u)}),te=Rl(P.current);return te.addEventListener("resize",Q),()=>{Q.clear(),te.removeEventListener("resize",Q)}},[h,m,u]),B.useEffect(()=>{m||ee()},[m,ee]),I.jsx(k,{nodeRef:P,onEnter:T,onEntered:z,onEntering:$,onExit:Y,onExited:Z,onExiting:j,addEndListener:J,appear:a,in:m,timeout:A,...L,children:(Q,{ownerState:te,...de})=>B.cloneElement(l,{ref:D,style:{visibility:Q==="exited"&&!m?"hidden":void 0,...C,...l.props.style},...de})})});function Jge(n){return Tt("MuiDrawer",n)}pt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const jK=(n,e)=>{const{ownerState:t}=n;return[e.root,(t.variant==="permanent"||t.variant==="persistent")&&e.docked,e.modal]},Qge=n=>{const{classes:e,anchor:t,variant:r}=n,s={root:["root",`anchor${ve(t)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${ve(t)}`,r!=="temporary"&&`paperAnchorDocked${ve(t)}`]};return xt(s,Jge,e)},Zge=Ie(f$,{name:"MuiDrawer",slot:"Root",overridesResolver:jK})(vt(({theme:n})=>({zIndex:(n.vars||n).zIndex.drawer}))),i9=Ie("div",{shouldForwardProp:fo,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:jK})({flex:"0 0 auto"}),eye=Ie(vg,{name:"MuiDrawer",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`paperAnchor${ve(t.anchor)}`],t.variant!=="temporary"&&e[`paperAnchorDocked${ve(t.anchor)}`]]}})(vt(({theme:n})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(n.vars||n).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(n.vars||n).palette.divider}`}}]}))),UK={left:"right",right:"left",top:"down",bottom:"up"};function tye(n){return["left","right"].includes(n)}function nye({direction:n},e){return n==="rtl"&&tye(e)?UK[e]:e}const rye=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiDrawer"}),s=Ua(),i=BR(),o={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:u,className:h,elevation:p=16,hideBackdrop:m=!1,ModalProps:{BackdropProps:y,...b}={},onClose:v,open:_=!1,PaperProps:E={},SlideProps:x,TransitionComponent:C=Xge,transitionDuration:A=o,variant:k="temporary",...L}=r,P=B.useRef(!1);B.useEffect(()=>{P.current=!0},[]);const D=nye({direction:i?"rtl":"ltr"},a),T={...r,anchor:a,elevation:p,open:_,variant:k,...L},$=Qge(T),z=I.jsx(eye,{elevation:k==="temporary"?p:0,square:!0,...E,className:We($.paper,E.className),ownerState:T,children:u});if(k==="permanent")return I.jsx(i9,{className:We($.root,$.docked,h),ownerState:T,ref:t,...L,children:z});const j=I.jsx(C,{in:_,direction:UK[D],timeout:A,appear:P.current,...x,children:z});return k==="persistent"?I.jsx(i9,{className:We($.root,$.docked,h),ownerState:T,ref:t,...L,children:j}):I.jsx(Zge,{BackdropProps:{...l,...y,transitionDuration:A},className:We($.root,$.modal,h),open:_,ownerState:T,onClose:v,hideBackdrop:m,ref:t,...L,...b,children:j})}),sye=n=>{const{classes:e,disableUnderline:t,startAdornment:r,endAdornment:s,size:i,hiddenLabel:o,multiline:a}=n,l={root:["root",!t&&"underline",r&&"adornedStart",s&&"adornedEnd",i==="small"&&`size${ve(i)}`,o&&"hiddenLabel",a&&"multiline"],input:["input"]},u=xt(l,Age,e);return{...e,...u}},iye=Ie(QR,{shouldForwardProp:n=>fo(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...XR(n,e),!t.disableUnderline&&e.underline]}})(vt(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r}},[`&.${up.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r},[`&.${up.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${up.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${up.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${up.disabled}, .${up.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${up.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(os()).map(([o])=>{var a;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(a=(n.vars||n).palette[o])==null?void 0:a.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:a})=>o.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),oye=Ie(ZR,{name:"MuiFilledInput",slot:"Input",overridesResolver:JR})(vt(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),C$=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiFilledInput"}),{disableUnderline:s=!1,components:i={},componentsProps:o,fullWidth:a=!1,hiddenLabel:l,inputComponent:u="input",multiline:h=!1,slotProps:p,slots:m={},type:y="text",...b}=r,v={...r,disableUnderline:s,fullWidth:a,inputComponent:u,multiline:h,type:y},_=sye(r),E={root:{ownerState:v},input:{ownerState:v}},x=p??o?di(E,p??o):E,C=m.root??i.Root??iye,A=m.input??i.Input??oye;return I.jsx(E$,{slots:{root:C,input:A},slotProps:x,fullWidth:a,inputComponent:u,multiline:h,ref:t,type:y,...b,classes:_})});C$.muiName="Input";function aye(n){return Tt("MuiFormControl",n)}pt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const lye=n=>{const{classes:e,margin:t,fullWidth:r}=n,s={root:["root",t!=="none"&&`margin${ve(t)}`,r&&"fullWidth"]};return xt(s,aye,e)},cye=Ie("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${ve(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),T$=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiFormControl"}),{children:s,className:i,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:h,fullWidth:p=!1,hiddenLabel:m=!1,margin:y="none",required:b=!1,size:v="medium",variant:_="outlined",...E}=r,x={...r,color:o,component:a,disabled:l,error:u,fullWidth:p,hiddenLabel:m,margin:y,required:b,size:v,variant:_},C=lye(x),[A,k]=B.useState(()=>{let Z=!1;return s&&B.Children.forEach(s,J=>{if(!eD(J,["Input","Select"]))return;const ee=eD(J,["Select"])?J.props.input:J;ee&&Sge(ee.props)&&(Z=!0)}),Z}),[L,P]=B.useState(()=>{let Z=!1;return s&&B.Children.forEach(s,J=>{eD(J,["Input","Select"])&&(CA(J.props,!0)||CA(J.props.inputProps,!0))&&(Z=!0)}),Z}),[D,F]=B.useState(!1);l&&D&&F(!1);const T=h!==void 0&&!l?h:D;let $;B.useRef(!1);const z=B.useCallback(()=>{P(!0)},[]),j=B.useCallback(()=>{P(!1)},[]),Y=B.useMemo(()=>({adornedStart:A,setAdornedStart:k,color:o,disabled:l,error:u,filled:L,focused:T,fullWidth:p,hiddenLabel:m,size:v,onBlur:()=>{F(!1)},onFocus:()=>{F(!0)},onEmpty:j,onFilled:z,registerEffect:$,required:b,variant:_}),[A,o,l,u,L,T,p,m,$,j,z,b,v,_]);return I.jsx(S$.Provider,{value:Y,children:I.jsx(cye,{as:a,ownerState:x,className:We(C.root,i),ref:t,...E,children:s})})});function uye(n){return Tt("MuiFormControlLabel",n)}const Pb=pt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),dye=n=>{const{classes:e,disabled:t,labelPlacement:r,error:s,required:i}=n,o={root:["root",t&&"disabled",`labelPlacement${ve(r)}`,s&&"error",i&&"required"],label:["label",t&&"disabled"],asterisk:["asterisk",s&&"error"]};return xt(o,uye,e)},hye=Ie("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Pb.label}`]:e.label},e.root,e[`labelPlacement${ve(t.labelPlacement)}`]]}})(vt(({theme:n})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Pb.disabled}`]:{cursor:"default"},[`& .${Pb.label}`]:{[`&.${Pb.disabled}`]:{color:(n.vars||n).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),fye=Ie("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(n,e)=>e.asterisk})(vt(({theme:n})=>({[`&.${Pb.error}`]:{color:(n.vars||n).palette.error.main}}))),pye=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiFormControlLabel"}),{checked:s,className:i,componentsProps:o={},control:a,disabled:l,disableTypography:u,inputRef:h,label:p,labelPlacement:m="end",name:y,onChange:b,required:v,slots:_={},slotProps:E={},value:x,...C}=r,A=Of(),k=l??a.props.disabled??(A==null?void 0:A.disabled),L=v??a.props.required,P={disabled:k,required:L};["checked","name","onChange","value","inputRef"].forEach(Z=>{typeof a.props[Z]>"u"&&typeof r[Z]<"u"&&(P[Z]=r[Z])});const D=wg({props:r,muiFormControl:A,states:["error"]}),F={...r,disabled:k,labelPlacement:m,required:L,error:D.error},T=dye(F),$={slots:_,slotProps:{...o,...E}},[z,j]=Sn("typography",{elementType:Ae,externalForwardedProps:$,ownerState:F});let Y=p;return Y!=null&&Y.type!==Ae&&!u&&(Y=I.jsx(z,{component:"span",...j,className:We(T.label,j==null?void 0:j.className),children:Y})),I.jsxs(hye,{className:We(T.root,i),ownerState:F,ref:t,...C,children:[B.cloneElement(a,P),L?I.jsxs("div",{children:[Y,I.jsxs(fye,{ownerState:F,"aria-hidden":!0,className:T.asterisk,children:["","*"]})]}):Y]})});function mye(n){return Tt("MuiFormHelperText",n)}const o9=pt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var a9;const gye=n=>{const{classes:e,contained:t,size:r,disabled:s,error:i,filled:o,focused:a,required:l}=n,u={root:["root",s&&"disabled",i&&"error",r&&`size${ve(r)}`,t&&"contained",a&&"focused",o&&"filled",l&&"required"]};return xt(u,mye,e)},yye=Ie("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${ve(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(vt(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${o9.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${o9.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),vye=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiFormHelperText"}),{children:s,className:i,component:o="p",disabled:a,error:l,filled:u,focused:h,margin:p,required:m,variant:y,...b}=r,v=Of(),_=wg({props:r,muiFormControl:v,states:["variant","size","disabled","error","filled","focused","required"]}),E={...r,component:o,contained:_.variant==="filled"||_.variant==="outlined",variant:_.variant,size:_.size,disabled:_.disabled,error:_.error,filled:_.filled,focused:_.focused,required:_.required};delete E.ownerState;const x=gye(E);return I.jsx(yye,{as:o,className:We(x.root,i),ref:t,...b,ownerState:E,children:s===" "?a9||(a9=I.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):s})});function wye(n){return Tt("MuiFormLabel",n)}const f_=pt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),bye=n=>{const{classes:e,color:t,focused:r,disabled:s,error:i,filled:o,required:a}=n,l={root:["root",`color${ve(t)}`,s&&"disabled",i&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",i&&"error"]};return xt(l,wye,e)},_ye=Ie("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(vt(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(os()).map(([e])=>({props:{color:e},style:{[`&.${f_.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${f_.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${f_.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),Sye=Ie("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(n,e)=>e.asterisk})(vt(({theme:n})=>({[`&.${f_.error}`]:{color:(n.vars||n).palette.error.main}}))),Eye=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiFormLabel"}),{children:s,className:i,color:o,component:a="label",disabled:l,error:u,filled:h,focused:p,required:m,...y}=r,b=Of(),v=wg({props:r,muiFormControl:b,states:["color","required","focused","disabled","error","filled"]}),_={...r,color:v.color||"primary",component:a,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required},E=bye(_);return I.jsxs(_ye,{as:a,ownerState:_,className:We(E.root,i),ref:t,...y,children:[s,v.required&&I.jsxs(Sye,{ownerState:_,"aria-hidden":!0,className:E.asterisk,children:["","*"]})]})}),x$=f8({themeId:xl}),Cye=n=>{const{classes:e,disableUnderline:t}=n,s=xt({root:["root",!t&&"underline"],input:["input"]},Tge,e);return{...e,...s}},Tye=Ie(QR,{shouldForwardProp:n=>fo(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...XR(n,e),!t.disableUnderline&&e.underline]}})(vt(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ab.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ab.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ab.disabled}, .${ab.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${ab.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(os()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[r].main}`}}}))]}})),xye=Ie(ZR,{name:"MuiInput",slot:"Input",overridesResolver:JR})({}),A$=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiInput"}),{disableUnderline:s=!1,components:i={},componentsProps:o,fullWidth:a=!1,inputComponent:l="input",multiline:u=!1,slotProps:h,slots:p={},type:m="text",...y}=r,b=Cye(r),_={root:{ownerState:{disableUnderline:s}}},E=h??o?di(h??o,_):_,x=p.root??i.Root??Tye,C=p.input??i.Input??xye;return I.jsx(E$,{slots:{root:x,input:C},slotProps:E,fullWidth:a,inputComponent:l,multiline:u,ref:t,type:m,...y,classes:b})});A$.muiName="Input";function Aye(n){return Tt("MuiInputLabel",n)}pt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Rye=n=>{const{classes:e,formControl:t,size:r,shrink:s,disableAnimation:i,variant:o,required:a}=n,l={root:["root",t&&"formControl",!i&&"animated",s&&"shrink",r&&r!=="normal"&&`size${ve(r)}`,o],asterisk:[a&&"asterisk"]},u=xt(l,Aye,e);return{...e,...u}},Iye=Ie(Eye,{shouldForwardProp:n=>fo(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${f_.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(vt(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:r})=>e==="filled"&&t.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),R$=B.forwardRef(function(e,t){const r=Mt({name:"MuiInputLabel",props:e}),{disableAnimation:s=!1,margin:i,shrink:o,variant:a,className:l,...u}=r,h=Of();let p=o;typeof p>"u"&&h&&(p=h.filled||h.focused||h.adornedStart);const m=wg({props:r,muiFormControl:h,states:["size","variant","required","focused"]}),y={...r,disableAnimation:s,formControl:h,shrink:p,size:m.size,variant:m.variant,required:m.required,focused:m.focused},b=Rye(y);return I.jsx(Iye,{"data-shrink":p,ref:t,className:We(b.root,l),...u,ownerState:y,classes:b})});function kye(n){return Tt("MuiLink",n)}const Pye=pt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Dye=({theme:n,ownerState:e})=>{const t=e.color,r=sf(n,`palette.${t}.main`,!1)||sf(n,`palette.${t}`,!1)||e.color,s=sf(n,`palette.${t}.mainChannel`)||sf(n,`palette.${t}Channel`);return"vars"in n&&s?`rgba(${s} / 0.4)`:Lt(r,.4)},l9={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Mye=n=>{const{classes:e,component:t,focusVisible:r,underline:s}=n,i={root:["root",`underline${ve(s)}`,t==="button"&&"button",r&&"focusVisible"]};return xt(i,kye,e)},Oye=Ie(Ae,{name:"MuiLink",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`underline${ve(t.underline)}`],t.component==="button"&&e.button]}})(vt(({theme:n})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:t})=>e==="always"&&t.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(n.palette).filter(os()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette[e].mainChannel} / 0.4)`:Lt(n.palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.4)`:Lt(n.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.secondaryChannel} / 0.4)`:Lt(n.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(n.vars||n).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Pye.focusVisible}`]:{outline:"auto"}}}]}))),bD=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiLink"}),s=Ua(),{className:i,color:o="primary",component:a="a",onBlur:l,onFocus:u,TypographyClasses:h,underline:p="always",variant:m="inherit",sx:y,...b}=r,[v,_]=B.useState(!1),E=k=>{D0(k.target)||_(!1),l&&l(k)},x=k=>{D0(k.target)&&_(!0),u&&u(k)},C={...r,color:o,component:a,focusVisible:v,underline:p,variant:m},A=Mye(C);return I.jsx(Oye,{color:o,className:We(A.root,i),classes:h,component:a,onBlur:E,onFocus:x,ref:t,ownerState:C,variant:m,...b,sx:[...l9[o]===void 0?[{color:o}]:[],...Array.isArray(y)?y:[y]],style:{...b.style,...p==="always"&&o!=="inherit"&&!l9[o]&&{"--Link-underlineColor":Dye({theme:s,ownerState:C})}}})}),D_=B.createContext({});function Lye(n){return Tt("MuiList",n)}pt("MuiList",["root","padding","dense","subheader"]);const Nye=n=>{const{classes:e,disablePadding:t,dense:r,subheader:s}=n;return xt({root:["root",!t&&"padding",r&&"dense",s&&"subheader"]},Lye,e)},Fye=Ie("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),Bye=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiList"}),{children:s,className:i,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u,...h}=r,p=B.useMemo(()=>({dense:a}),[a]),m={...r,component:o,dense:a,disablePadding:l},y=Nye(m);return I.jsx(D_.Provider,{value:p,children:I.jsxs(Fye,{as:o,className:We(y.root,i),ref:t,ownerState:m,...h,children:[u,s]})})});function $ye(n){return Tt("MuiListItemIcon",n)}const c9=pt("MuiListItemIcon",["root","alignItemsFlexStart"]),jye=n=>{const{alignItems:e,classes:t}=n;return xt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},$ye,t)},Uye=Ie("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(vt(({theme:n})=>({minWidth:56,color:(n.vars||n).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Vye=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiListItemIcon"}),{className:s,...i}=r,o=B.useContext(D_),a={...r,alignItems:o.alignItems},l=jye(a);return I.jsx(Uye,{className:We(l.root,s),ownerState:a,ref:t,...i})});function Hye(n){return Tt("MuiListItemText",n)}const Fy=pt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),zye=n=>{const{classes:e,inset:t,primary:r,secondary:s,dense:i}=n;return xt({root:["root",t&&"inset",i&&"dense",r&&s&&"multiline"],primary:["primary"],secondary:["secondary"]},Hye,e)},Wye=Ie("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Fy.primary}`]:e.primary},{[`& .${Fy.secondary}`]:e.secondary},e.root,t.inset&&e.inset,t.primary&&t.secondary&&e.multiline,t.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${I5.root}:where(& .${Fy.primary})`]:{display:"block"},[`.${I5.root}:where(& .${Fy.secondary})`]:{display:"block"},variants:[{props:({ownerState:n})=>n.primary&&n.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:n})=>n.inset,style:{paddingLeft:56}}]}),tN=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiListItemText"}),{children:s,className:i,disableTypography:o=!1,inset:a=!1,primary:l,primaryTypographyProps:u,secondary:h,secondaryTypographyProps:p,slots:m={},slotProps:y={},...b}=r,{dense:v}=B.useContext(D_);let _=l??s,E=h;const x={...r,disableTypography:o,inset:a,primary:!!_,secondary:!!E,dense:v},C=zye(x),A={slots:m,slotProps:{primary:u,secondary:p,...y}},[k,L]=Sn("primary",{className:C.primary,elementType:Ae,externalForwardedProps:A,ownerState:x}),[P,D]=Sn("secondary",{className:C.secondary,elementType:Ae,externalForwardedProps:A,ownerState:x});return _!=null&&_.type!==Ae&&!o&&(_=I.jsx(k,{variant:v?"body2":"body1",component:L!=null&&L.variant?void 0:"span",...L,children:_})),E!=null&&E.type!==Ae&&!o&&(E=I.jsx(P,{variant:"body2",color:"textSecondary",...D,children:E})),I.jsxs(Wye,{className:We(C.root,i),ownerState:x,ref:t,...b,children:[_,E]})});function _D(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function u9(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function VK(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function lb(n,e,t,r,s,i){let o=!1,a=s(n,e,e?t:!1);for(;a;){if(a===n.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!VK(a,i)||l)a=s(n,a,t);else return a.focus(),!0}return!1}const qye=B.forwardRef(function(e,t){const{actions:r,autoFocus:s=!1,autoFocusItem:i=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:h,variant:p="selectedMenu",...m}=e,y=B.useRef(null),b=B.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Oa(()=>{s&&y.current.focus()},[s]),B.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(C,{direction:A})=>{const k=!y.current.style.width;if(C.clientHeight<y.current.clientHeight&&k){const L=`${y8(Rl(C))}px`;y.current.style[A==="rtl"?"paddingLeft":"paddingRight"]=L,y.current.style.width=`calc(100% + ${L})`}return y.current}}),[]);const v=C=>{const A=y.current,k=C.key;if(C.ctrlKey||C.metaKey||C.altKey){h&&h(C);return}const P=hi(A).activeElement;if(k==="ArrowDown")C.preventDefault(),lb(A,P,u,l,_D);else if(k==="ArrowUp")C.preventDefault(),lb(A,P,u,l,u9);else if(k==="Home")C.preventDefault(),lb(A,null,u,l,_D);else if(k==="End")C.preventDefault(),lb(A,null,u,l,u9);else if(k.length===1){const D=b.current,F=k.toLowerCase(),T=performance.now();D.keys.length>0&&(T-D.lastTime>500?(D.keys=[],D.repeating=!0,D.previousKeyMatched=!0):D.repeating&&F!==D.keys[0]&&(D.repeating=!1)),D.lastTime=T,D.keys.push(F);const $=P&&!D.repeating&&VK(P,D);D.previousKeyMatched&&($||lb(A,P,!1,l,_D,D))?C.preventDefault():D.previousKeyMatched=!1}h&&h(C)},_=vr(y,t);let E=-1;B.Children.forEach(o,(C,A)=>{if(!B.isValidElement(C)){E===A&&(E+=1,E>=o.length&&(E=-1));return}C.props.disabled||(p==="selectedMenu"&&C.props.selected||E===-1)&&(E=A),E===A&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(E+=1,E>=o.length&&(E=-1))});const x=B.Children.map(o,(C,A)=>{if(A===E){const k={};return i&&(k.autoFocus=!0),C.props.tabIndex===void 0&&p==="selectedMenu"&&(k.tabIndex=0),B.cloneElement(C,k)}return C});return I.jsx(Bye,{role:"menu",ref:_,className:a,onKeyDown:v,tabIndex:s?0:-1,...m,children:x})});function Gye(n){return Tt("MuiMenu",n)}pt("MuiMenu",["root","paper","list"]);const Kye={vertical:"top",horizontal:"right"},Yye={vertical:"top",horizontal:"left"},Xye=n=>{const{classes:e}=n;return xt({root:["root"],paper:["paper"],list:["list"]},Gye,e)},Jye=Ie(h1,{shouldForwardProp:n=>fo(n)||n==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(n,e)=>e.root})({}),Qye=Ie(bK,{name:"MuiMenu",slot:"Paper",overridesResolver:(n,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Zye=Ie(qye,{name:"MuiMenu",slot:"List",overridesResolver:(n,e)=>e.list})({outline:0}),HK=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:i,className:o,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:u,open:h,PaperProps:p={},PopoverClasses:m,transitionDuration:y="auto",TransitionProps:{onEntering:b,...v}={},variant:_="selectedMenu",slots:E={},slotProps:x={},...C}=r,A=BR(),k={...r,autoFocus:s,disableAutoFocusItem:a,MenuListProps:l,onEntering:b,PaperProps:p,transitionDuration:y,TransitionProps:v,variant:_},L=Xye(k),P=s&&!a&&h,D=B.useRef(null),F=(J,ee)=>{D.current&&D.current.adjustStyleForScrollbar(J,{direction:A?"rtl":"ltr"}),b&&b(J,ee)},T=J=>{J.key==="Tab"&&(J.preventDefault(),u&&u(J,"tabKeyDown"))};let $=-1;B.Children.map(i,(J,ee)=>{B.isValidElement(J)&&(J.props.disabled||(_==="selectedMenu"&&J.props.selected||$===-1)&&($=ee))});const z=E.paper??Qye,j=x.paper??p,Y=cA({elementType:E.root,externalSlotProps:x.root,ownerState:k,className:[L.root,o]}),Z=cA({elementType:z,externalSlotProps:j,ownerState:k,className:L.paper});return I.jsx(Jye,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:A?"right":"left"},transformOrigin:A?Kye:Yye,slots:{paper:z,root:E.root},slotProps:{root:Y,paper:Z},open:h,ref:t,transitionDuration:y,TransitionProps:{onEntering:F,...v},ownerState:k,...C,classes:m,children:I.jsx(Zye,{onKeyDown:T,actions:D,autoFocus:s&&($===-1||a),autoFocusItem:P,variant:_,...l,className:We(L.list,l.className),children:i})})});function eve(n){return Tt("MuiMenuItem",n)}const cb=pt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),tve=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.divider&&e.divider,!t.disableGutters&&e.gutters]},nve=n=>{const{disabled:e,dense:t,divider:r,disableGutters:s,selected:i,classes:o}=n,l=xt({root:["root",t&&"dense",e&&"disabled",!s&&"gutters",r&&"divider",i&&"selected"]},eve,o);return{...o,...l}},rve=Ie(eg,{shouldForwardProp:n=>fo(n)||n==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:tve})(vt(({theme:n})=>({...n.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${cb.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Lt(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${cb.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:Lt(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${cb.selected}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Lt(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Lt(n.palette.primary.main,n.palette.action.selectedOpacity)}},[`&.${cb.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${cb.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`& + .${s9.root}`]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},[`& + .${s9.inset}`]:{marginLeft:52},[`& .${Fy.root}`]:{marginTop:0,marginBottom:0},[`& .${Fy.inset}`]:{paddingLeft:36},[`& .${c9.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[n.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...n.typography.body2,[`& .${c9.root} svg`]:{fontSize:"1.25rem"}}}]}))),df=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:i="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:u,role:h="menuitem",tabIndex:p,className:m,...y}=r,b=B.useContext(D_),v=B.useMemo(()=>({dense:o||b.dense||!1,disableGutters:l}),[b.dense,o,l]),_=B.useRef(null);Oa(()=>{s&&_.current&&_.current.focus()},[s]);const E={...r,dense:v.dense,divider:a,disableGutters:l},x=nve(r),C=vr(_,t);let A;return r.disabled||(A=p!==void 0?p:-1),I.jsx(D_.Provider,{value:v,children:I.jsx(rve,{ref:C,role:h,tabIndex:A,component:i,focusVisibleClassName:We(x.focusVisible,u),className:We(x.root,m),...y,ownerState:E,classes:x})})});function sve(n){return Tt("MuiNativeSelect",n)}const I$=pt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),ive=n=>{const{classes:e,variant:t,disabled:r,multiple:s,open:i,error:o}=n,a={select:["select",t,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${ve(t)}`,i&&"iconOpen",r&&"disabled"]};return xt(a,sve,e)},zK=Ie("select")(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${I$.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),ove=Ie(zK,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:fo,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${I$.multiple}`]:e.multiple}]}})({}),WK=Ie("svg")(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${I$.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),ave=Ie(WK,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${ve(t.variant)}`],t.open&&e.iconOpen]}})({}),lve=B.forwardRef(function(e,t){const{className:r,disabled:s,error:i,IconComponent:o,inputRef:a,variant:l="standard",...u}=e,h={...e,disabled:s,variant:l,error:i},p=ive(h);return I.jsxs(B.Fragment,{children:[I.jsx(ove,{ownerState:h,className:We(p.select,r),disabled:s,ref:a||t,...u}),e.multiple?null:I.jsx(ave,{as:o,ownerState:h,className:p.icon})]})});var d9;const cve=Ie("fieldset",{shouldForwardProp:fo})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),uve=Ie("legend",{shouldForwardProp:fo})(vt(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function dve(n){const{children:e,classes:t,className:r,label:s,notched:i,...o}=n,a=s!=null&&s!=="",l={...n,notched:i,withLabel:a};return I.jsx(cve,{"aria-hidden":!0,className:r,ownerState:l,...o,children:I.jsx(uve,{ownerState:l,children:a?I.jsx("span",{children:s}):d9||(d9=I.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const hve=n=>{const{classes:e}=n,r=xt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},xge,e);return{...e,...r}},fve=Ie(QR,{shouldForwardProp:n=>fo(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:XR})(vt(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${Yl.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${Yl.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Yl.focused} .${Yl.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(os()).map(([t])=>({props:{color:t},style:{[`&.${Yl.focused} .${Yl.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${Yl.error} .${Yl.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${Yl.disabled} .${Yl.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:r})=>t.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),pve=Ie(dve,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(n,e)=>e.notchedOutline})(vt(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),mve=Ie(ZR,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:JR})(vt(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),k$=B.forwardRef(function(e,t){var r;const s=Mt({props:e,name:"MuiOutlinedInput"}),{components:i={},fullWidth:o=!1,inputComponent:a="input",label:l,multiline:u=!1,notched:h,slots:p={},type:m="text",...y}=s,b=hve(s),v=Of(),_=wg({props:s,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),E={...s,color:_.color||"primary",disabled:_.disabled,error:_.error,focused:_.focused,formControl:v,fullWidth:o,hiddenLabel:_.hiddenLabel,multiline:u,size:_.size,type:m},x=p.root??i.Root??fve,C=p.input??i.Input??mve;return I.jsx(E$,{slots:{root:x,input:C},renderSuffix:A=>I.jsx(pve,{ownerState:E,className:b.notchedOutline,label:l!=null&&l!==""&&_.required?r||(r=I.jsxs(B.Fragment,{children:[l,"","*"]})):l,notched:typeof h<"u"?h:!!(A.startAdornment||A.filled||A.focused)}),fullWidth:o,inputComponent:a,multiline:u,ref:t,type:m,...y,classes:{...b,notchedOutline:null}})});k$.muiName="Input";function qK(n){return Tt("MuiSelect",n)}const ub=pt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var h9;const gve=Ie(zK,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${ub.select}`]:e.select},{[`&.${ub.select}`]:e[t.variant]},{[`&.${ub.error}`]:e.error},{[`&.${ub.multiple}`]:e.multiple}]}})({[`&.${ub.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),yve=Ie(WK,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${ve(t.variant)}`],t.open&&e.iconOpen]}})({}),vve=Ie("input",{shouldForwardProp:n=>D8(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(n,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function f9(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function wve(n){return n==null||typeof n=="string"&&!n.trim()}const bve=n=>{const{classes:e,variant:t,disabled:r,multiple:s,open:i,error:o}=n,a={select:["select",t,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${ve(t)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return xt(a,qK,e)},_ve=B.forwardRef(function(e,t){var Cn;const{"aria-describedby":r,"aria-label":s,autoFocus:i,autoWidth:o,children:a,className:l,defaultOpen:u,defaultValue:h,disabled:p,displayEmpty:m,error:y=!1,IconComponent:b,inputRef:v,labelId:_,MenuProps:E={},multiple:x,name:C,onBlur:A,onChange:k,onClose:L,onFocus:P,onOpen:D,open:F,readOnly:T,renderValue:$,required:z,SelectDisplayProps:j={},tabIndex:Y,type:Z,value:J,variant:ee="standard",...Q}=e,[te,de]=aA({controlled:J,default:h,name:"Select"}),[q,K]=aA({controlled:F,default:u,name:"Select"}),ne=B.useRef(null),le=B.useRef(null),[ce,be]=B.useState(null),{current:we}=B.useRef(F!=null),[ke,Ne]=B.useState(),Me=vr(t,v),Je=B.useCallback(rt=>{le.current=rt,rt&&be(rt)},[]),je=ce==null?void 0:ce.parentNode;B.useImperativeHandle(Me,()=>({focus:()=>{le.current.focus()},node:ne.current,value:te}),[te]),B.useEffect(()=>{u&&q&&ce&&!we&&(Ne(o?null:je.clientWidth),le.current.focus())},[ce,o]),B.useEffect(()=>{i&&le.current.focus()},[i]),B.useEffect(()=>{if(!_)return;const rt=hi(le.current).getElementById(_);if(rt){const Yt=()=>{getSelection().isCollapsed&&le.current.focus()};return rt.addEventListener("click",Yt),()=>{rt.removeEventListener("click",Yt)}}},[_]);const dt=(rt,Yt)=>{rt?D&&D(Yt):L&&L(Yt),we||(Ne(o?null:je.clientWidth),K(rt))},Ye=rt=>{rt.button===0&&(rt.preventDefault(),le.current.focus(),dt(!0,rt))},Ue=rt=>{dt(!1,rt)},en=B.Children.toArray(a),Be=rt=>{const Yt=en.find(Gn=>Gn.props.value===rt.target.value);Yt!==void 0&&(de(Yt.props.value),k&&k(rt,Yt))},_t=rt=>Yt=>{let Gn;if(Yt.currentTarget.hasAttribute("tabindex")){if(x){Gn=Array.isArray(te)?te.slice():[];const Xr=te.indexOf(rt.props.value);Xr===-1?Gn.push(rt.props.value):Gn.splice(Xr,1)}else Gn=rt.props.value;if(rt.props.onClick&&rt.props.onClick(Yt),te!==Gn&&(de(Gn),k)){const Xr=Yt.nativeEvent||Yt,Wa=new Xr.constructor(Xr.type,Xr);Object.defineProperty(Wa,"target",{writable:!0,value:{value:Gn,name:C}}),k(Wa,rt)}x||dt(!1,Yt)}},Ut=rt=>{T||[" ","ArrowUp","ArrowDown","Enter"].includes(rt.key)&&(rt.preventDefault(),dt(!0,rt))},Ot=ce!==null&&q,mt=rt=>{!Ot&&A&&(Object.defineProperty(rt,"target",{writable:!0,value:{value:te,name:C}}),A(rt))};delete Q["aria-invalid"];let Le,$t;const qt=[];let qn=!1;(CA({value:te})||m)&&($?Le=$(te):qn=!0);const Gt=en.map(rt=>{if(!B.isValidElement(rt))return null;let Yt;if(x){if(!Array.isArray(te))throw new Error(gd(2));Yt=te.some(Gn=>f9(Gn,rt.props.value)),Yt&&qn&&qt.push(rt.props.children)}else Yt=f9(te,rt.props.value),Yt&&qn&&($t=rt.props.children);return B.cloneElement(rt,{"aria-selected":Yt?"true":"false",onClick:_t(rt),onKeyUp:Gn=>{Gn.key===" "&&Gn.preventDefault(),rt.props.onKeyUp&&rt.props.onKeyUp(Gn)},role:"option",selected:Yt,value:void 0,"data-value":rt.props.value})});qn&&(x?qt.length===0?Le=null:Le=qt.reduce((rt,Yt,Gn)=>(rt.push(Yt),Gn<qt.length-1&&rt.push(", "),rt),[]):Le=$t);let lt=ke;!o&&we&&ce&&(lt=je.clientWidth);let St;typeof Y<"u"?St=Y:St=p?null:0;const Kt=j.id||(C?`mui-component-select-${C}`:void 0),vn={...e,variant:ee,value:te,open:Ot,error:y},tt=bve(vn),sn={...E.PaperProps,...(Cn=E.slotProps)==null?void 0:Cn.paper},En=J0();return I.jsxs(B.Fragment,{children:[I.jsx(gve,{as:"div",ref:Je,tabIndex:St,role:"combobox","aria-controls":Ot?En:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":Ot?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[_,Kt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":z?"true":void 0,"aria-invalid":y?"true":void 0,onKeyDown:Ut,onMouseDown:p||T?null:Ye,onBlur:mt,onFocus:P,...j,ownerState:vn,className:We(j.className,tt.select,l),id:Kt,children:wve(Le)?h9||(h9=I.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Le}),I.jsx(vve,{"aria-invalid":y,value:Array.isArray(te)?te.join(","):te,name:C,ref:ne,"aria-hidden":!0,onChange:Be,tabIndex:-1,disabled:p,className:tt.nativeInput,autoFocus:i,required:z,...Q,ownerState:vn}),I.jsx(yve,{as:b,className:tt.icon,ownerState:vn}),I.jsx(HK,{id:`menu-${C||""}`,anchorEl:je,open:Ot,onClose:Ue,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...E,MenuListProps:{"aria-labelledby":_,role:"listbox","aria-multiselectable":x?"true":void 0,disableListWrap:!0,id:En,...E.MenuListProps},slotProps:{...E.slotProps,paper:{...sn,style:{minWidth:lt,...sn!=null?sn.style:null}}},children:Gt})]})}),Sve=n=>{const{classes:e}=n,r=xt({root:["root"]},qK,e);return{...e,...r}},P$={name:"MuiSelect",overridesResolver:(n,e)=>e.root,shouldForwardProp:n=>fo(n)&&n!=="variant",slot:"Root"},Eve=Ie(A$,P$)(""),Cve=Ie(k$,P$)(""),Tve=Ie(C$,P$)(""),tI=B.forwardRef(function(e,t){const r=Mt({name:"MuiSelect",props:e}),{autoWidth:s=!1,children:i,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:h=Rge,id:p,input:m,inputProps:y,label:b,labelId:v,MenuProps:_,multiple:E=!1,native:x=!1,onClose:C,onOpen:A,open:k,renderValue:L,SelectDisplayProps:P,variant:D="outlined",...F}=r,T=x?lve:_ve,$=Of(),z=wg({props:r,muiFormControl:$,states:["variant","error"]}),j=z.variant||D,Y={...r,variant:j,classes:o},Z=Sve(Y),{root:J,...ee}=Z,Q=m||{standard:I.jsx(Eve,{ownerState:Y}),outlined:I.jsx(Cve,{label:b,ownerState:Y}),filled:I.jsx(Tve,{ownerState:Y})}[j],te=vr(t,Rf(Q));return I.jsx(B.Fragment,{children:B.cloneElement(Q,{inputComponent:T,inputProps:{children:i,error:z.error,IconComponent:h,variant:j,type:void 0,multiple:E,...x?{id:p}:{autoWidth:s,defaultOpen:l,displayEmpty:u,labelId:v,MenuProps:_,onClose:C,onOpen:A,open:k,renderValue:L,SelectDisplayProps:{id:p,...P}},...y,classes:y?di(ee,y.classes):ee,...m?m.props.inputProps:{}},...(E&&x||u)&&j==="outlined"?{notched:!0}:{},ref:te,className:We(Q.props.className,a,Z.root),...!m&&{variant:j},...F})})});tI.muiName="Select";function xve(n){return Tt("MuiSkeleton",n)}pt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Ave=n=>{const{classes:e,variant:t,animation:r,hasChildren:s,width:i,height:o}=n;return xt({root:["root",t,r,s&&"withChildren",s&&!i&&"fitContent",s&&!o&&"heightAuto"]},xve,e)},nN=pg`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,rN=pg`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,Rve=typeof nN!="string"?ZE`
        animation: ${nN} 2s ease-in-out 0.5s infinite;
      `:null,Ive=typeof rN!="string"?ZE`
        &::after {
          animation: ${rN} 2s linear 0.5s infinite;
        }
      `:null,kve=Ie("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],t.animation!==!1&&e[t.animation],t.hasChildren&&e.withChildren,t.hasChildren&&!t.width&&e.fitContent,t.hasChildren&&!t.height&&e.heightAuto]}})(vt(({theme:n})=>{const e=voe(n.shape.borderRadius)||"px",t=woe(n.shape.borderRadius);return{display:"block",backgroundColor:n.vars?n.vars.palette.Skeleton.bg:Lt(n.palette.text.primary,n.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${t}${e}/${Math.round(t/.6*10)/10}${e}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:Rve||{animation:`${nN} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(n.vars||n).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:Ive||{"&::after":{animation:`${rN} 2s linear 0.5s infinite`}}}]}})),Pve=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiSkeleton"}),{animation:s="pulse",className:i,component:o="span",height:a,style:l,variant:u="text",width:h,...p}=r,m={...r,animation:s,component:o,variant:u,hasChildren:!!p.children},y=Ave(m);return I.jsx(kve,{as:o,ref:t,className:We(y.root,i),ownerState:m,...p,style:{width:h,height:a,...l}})});function Dve(n={}){const{autoHideDuration:e=null,disableWindowBlurListener:t=!1,onClose:r,open:s,resumeHideDuration:i}=n,o=Sp();B.useEffect(()=>{if(!s)return;function E(x){x.defaultPrevented||x.key==="Escape"&&(r==null||r(x,"escapeKeyDown"))}return document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E)}},[s,r]);const a=Tl((E,x)=>{r==null||r(E,x)}),l=Tl(E=>{!r||E==null||o.start(E,()=>{a(null,"timeout")})});B.useEffect(()=>(s&&l(e),o.clear),[s,e,l,o]);const u=E=>{r==null||r(E,"clickaway")},h=o.clear,p=B.useCallback(()=>{e!=null&&l(i??e*.5)},[e,i,l]),m=E=>x=>{const C=E.onBlur;C==null||C(x),p()},y=E=>x=>{const C=E.onFocus;C==null||C(x),h()},b=E=>x=>{const C=E.onMouseEnter;C==null||C(x),h()},v=E=>x=>{const C=E.onMouseLeave;C==null||C(x),p()};return B.useEffect(()=>{if(!t&&s)return window.addEventListener("focus",p),window.addEventListener("blur",h),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",h)}},[t,s,p,h]),{getRootProps:(E={})=>{const x={...lA(n),...lA(E)};return{role:"presentation",...E,...x,onBlur:m(x),onFocus:y(x),onMouseEnter:b(x),onMouseLeave:v(x)}},onClickAway:u}}function Mve(n){return Tt("MuiSnackbarContent",n)}pt("MuiSnackbarContent",["root","message","action"]);const Ove=n=>{const{classes:e}=n;return xt({root:["root"],action:["action"],message:["message"]},Mve,e)},Lve=Ie(vg,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(n,e)=>e.root})(vt(({theme:n})=>{const e=n.palette.mode==="light"?.8:.98,t=m8(n.palette.background.default,e);return{...n.typography.body2,color:n.vars?n.vars.palette.SnackbarContent.color:n.palette.getContrastText(t),backgroundColor:n.vars?n.vars.palette.SnackbarContent.bg:t,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(n.vars||n).shape.borderRadius,flexGrow:1,[n.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),Nve=Ie("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(n,e)=>e.message})({padding:"8px 0"}),Fve=Ie("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(n,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Bve=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiSnackbarContent"}),{action:s,className:i,message:o,role:a="alert",...l}=r,u=r,h=Ove(u);return I.jsxs(Lve,{role:a,square:!0,elevation:6,className:We(h.root,i),ownerState:u,ref:t,...l,children:[I.jsx(Nve,{className:h.message,ownerState:u,children:o}),s?I.jsx(Fve,{className:h.action,ownerState:u,children:s}):null]})});function $ve(n){return Tt("MuiSnackbar",n)}pt("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const jve=n=>{const{classes:e,anchorOrigin:t}=n,r={root:["root",`anchorOrigin${ve(t.vertical)}${ve(t.horizontal)}`]};return xt(r,$ve,e)},p9=Ie("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`anchorOrigin${ve(t.anchorOrigin.vertical)}${ve(t.anchorOrigin.horizontal)}`]]}})(vt(({theme:n})=>({zIndex:(n.vars||n).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:e})=>e.anchorOrigin.vertical==="top",style:{top:8,[n.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:e})=>e.anchorOrigin.vertical!=="top",style:{bottom:8,[n.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[n.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[n.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="center",style:{[n.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),Uve=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiSnackbar"}),s=Ua(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:h,className:p,ClickAwayListenerProps:m,ContentProps:y,disableWindowBlurListener:b=!1,message:v,onBlur:_,onClose:E,onFocus:x,onMouseEnter:C,onMouseLeave:A,open:k,resumeHideDuration:L,TransitionComponent:P=I_,transitionDuration:D=i,TransitionProps:{onEnter:F,onExited:T,...$}={},...z}=r,j={...r,anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:u,disableWindowBlurListener:b,TransitionComponent:P,transitionDuration:D},Y=jve(j),{getRootProps:Z,onClickAway:J}=Dve({...j}),[ee,Q]=B.useState(!0),te=cA({elementType:p9,getSlotProps:Z,externalForwardedProps:z,ownerState:j,additionalProps:{ref:t},className:[Y.root,p]}),de=K=>{Q(!0),T&&T(K)},q=(K,ne)=>{Q(!1),F&&F(K,ne)};return!k&&ee?null:I.jsx(Lge,{onClickAway:J,...m,children:I.jsx(p9,{...te,children:I.jsx(P,{appear:!0,in:k,timeout:D,direction:a==="top"?"down":"up",onEnter:q,onExited:de,...$,children:h||I.jsx(Bve,{message:v,action:o,...y})})})})});function Vve(n){return Tt("MuiTooltip",n)}const Ar=pt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function Hve(n){return Math.round(n*1e5)/1e5}const zve=n=>{const{classes:e,disableInteractive:t,arrow:r,touch:s,placement:i}=n,o={popper:["popper",!t&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",s&&"touch",`tooltipPlacement${ve(i.split("-")[0])}`],arrow:["arrow"]};return xt(o,Vve,e)},Wve=Ie(BK,{name:"MuiTooltip",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.popper,!t.disableInteractive&&e.popperInteractive,t.arrow&&e.popperArrow,!t.open&&e.popperClose]}})(vt(({theme:n})=>({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Ar.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ar.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ar.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Ar.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Ar.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Ar.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Ar.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Ar.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),qve=Ie("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.tooltip,t.touch&&e.touch,t.arrow&&e.tooltipArrow,e[`tooltipPlacement${ve(t.placement.split("-")[0])}`]]}})(vt(({theme:n})=>({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:Lt(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium,[`.${Ar.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Ar.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Ar.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Ar.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:`${Hve(16/14)}em`,fontWeight:n.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Ar.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Ar.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Ar.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Ar.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Ar.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Ar.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Ar.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Ar.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Ar.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Ar.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Gve=Ie("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(n,e)=>e.arrow})(vt(({theme:n})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:n.vars?n.vars.palette.Tooltip.bg:Lt(n.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let _T=!1;const m9=new FR;let db={x:0,y:0};function ST(n,e){return(t,...r)=>{e&&e(t,...r),n(t,...r)}}const xs=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiTooltip"}),{arrow:s=!1,children:i,classes:o,components:a={},componentsProps:l={},describeChild:u=!1,disableFocusListener:h=!1,disableHoverListener:p=!1,disableInteractive:m=!1,disableTouchListener:y=!1,enterDelay:b=100,enterNextDelay:v=0,enterTouchDelay:_=700,followCursor:E=!1,id:x,leaveDelay:C=0,leaveTouchDelay:A=1500,onClose:k,onOpen:L,open:P,placement:D="bottom",PopperComponent:F,PopperProps:T={},slotProps:$={},slots:z={},title:j,TransitionComponent:Y,TransitionProps:Z,...J}=r,ee=B.isValidElement(i)?i:I.jsx("span",{children:i}),Q=Ua(),te=BR(),[de,q]=B.useState(),[K,ne]=B.useState(null),le=B.useRef(!1),ce=m||E,be=Sp(),we=Sp(),ke=Sp(),Ne=Sp(),[Me,Je]=aA({controlled:P,default:!1,name:"Tooltip",state:"open"});let je=Me;const dt=J0(x),Ye=B.useRef(),Ue=Tl(()=>{Ye.current!==void 0&&(document.body.style.WebkitUserSelect=Ye.current,Ye.current=void 0),Ne.clear()});B.useEffect(()=>Ue,[Ue]);const en=gt=>{m9.clear(),_T=!0,Je(!0),L&&!je&&L(gt)},Be=Tl(gt=>{m9.start(800+C,()=>{_T=!1}),Je(!1),k&&je&&k(gt),be.start(Q.transitions.duration.shortest,()=>{le.current=!1})}),_t=gt=>{le.current&&gt.type!=="touchstart"||(de&&de.removeAttribute("title"),we.clear(),ke.clear(),b||_T&&v?we.start(_T?v:b,()=>{en(gt)}):en(gt))},Ut=gt=>{we.clear(),ke.start(C,()=>{Be(gt)})},[,Ot]=B.useState(!1),mt=gt=>{D0(gt.target)||(Ot(!1),Ut(gt))},Le=gt=>{de||q(gt.currentTarget),D0(gt.target)&&(Ot(!0),_t(gt))},$t=gt=>{le.current=!0;const Pr=ee.props;Pr.onTouchStart&&Pr.onTouchStart(gt)},qt=gt=>{$t(gt),ke.clear(),be.clear(),Ue(),Ye.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ne.start(_,()=>{document.body.style.WebkitUserSelect=Ye.current,_t(gt)})},qn=gt=>{ee.props.onTouchEnd&&ee.props.onTouchEnd(gt),Ue(),ke.start(A,()=>{Be(gt)})};B.useEffect(()=>{if(!je)return;function gt(Pr){Pr.key==="Escape"&&Be(Pr)}return document.addEventListener("keydown",gt),()=>{document.removeEventListener("keydown",gt)}},[Be,je]);const Gt=vr(Rf(ee),q,t);!j&&j!==0&&(je=!1);const lt=B.useRef(),St=gt=>{const Pr=ee.props;Pr.onMouseMove&&Pr.onMouseMove(gt),db={x:gt.clientX,y:gt.clientY},lt.current&&lt.current.update()},Kt={},vn=typeof j=="string";u?(Kt.title=!je&&vn&&!p?j:null,Kt["aria-describedby"]=je?dt:null):(Kt["aria-label"]=vn?j:null,Kt["aria-labelledby"]=je&&!vn?dt:null);const tt={...Kt,...J,...ee.props,className:We(J.className,ee.props.className),onTouchStart:$t,ref:Gt,...E?{onMouseMove:St}:{}},sn={};y||(tt.onTouchStart=qt,tt.onTouchEnd=qn),p||(tt.onMouseOver=ST(_t,tt.onMouseOver),tt.onMouseLeave=ST(Ut,tt.onMouseLeave),ce||(sn.onMouseOver=_t,sn.onMouseLeave=Ut)),h||(tt.onFocus=ST(Le,tt.onFocus),tt.onBlur=ST(mt,tt.onBlur),ce||(sn.onFocus=Le,sn.onBlur=mt));const En={...r,isRtl:te,arrow:s,disableInteractive:ce,placement:D,PopperComponentProp:F,touch:le.current},Cn=typeof $.popper=="function"?$.popper(En):$.popper,rt=B.useMemo(()=>{var Pr,Md;let gt=[{name:"arrow",enabled:!!K,options:{element:K,padding:4}}];return(Pr=T.popperOptions)!=null&&Pr.modifiers&&(gt=gt.concat(T.popperOptions.modifiers)),(Md=Cn==null?void 0:Cn.popperOptions)!=null&&Md.modifiers&&(gt=gt.concat(Cn.popperOptions.modifiers)),{...T.popperOptions,...Cn==null?void 0:Cn.popperOptions,modifiers:gt}},[K,T.popperOptions,Cn==null?void 0:Cn.popperOptions]),Yt=zve(En),Gn=typeof $.transition=="function"?$.transition(En):$.transition,Xr={slots:{popper:a.Popper,transition:a.Transition??Y,tooltip:a.Tooltip,arrow:a.Arrow,...z},slotProps:{arrow:$.arrow??l.arrow,popper:{...T,...Cn??l.popper},tooltip:$.tooltip??l.tooltip,transition:{...Z,...Gn??l.transition}}},[Wa,Pd]=Sn("popper",{elementType:Wve,externalForwardedProps:Xr,ownerState:En,className:We(Yt.popper,T==null?void 0:T.className)}),[Di,Qo]=Sn("transition",{elementType:I_,externalForwardedProps:Xr,ownerState:En}),[Dd,Zo]=Sn("tooltip",{elementType:qve,className:Yt.tooltip,externalForwardedProps:Xr,ownerState:En}),[$f,Gc]=Sn("arrow",{elementType:Gve,className:Yt.arrow,externalForwardedProps:Xr,ownerState:En,ref:ne});return I.jsxs(B.Fragment,{children:[B.cloneElement(ee,tt),I.jsx(Wa,{as:F??BK,placement:D,anchorEl:E?{getBoundingClientRect:()=>({top:db.y,left:db.x,right:db.x,bottom:db.y,width:0,height:0})}:de,popperRef:lt,open:de?je:!1,id:dt,transition:!0,...sn,...Pd,popperOptions:rt,children:({TransitionProps:gt})=>I.jsx(Di,{timeout:Q.transitions.duration.shorter,...gt,...Qo,children:I.jsxs(Dd,{...Zo,children:[j,s?I.jsx($f,{...Gc}):null]})})})]})});function Kve(n){return Tt("MuiSwitch",n)}const Ei=pt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Yve=n=>{const{classes:e,edge:t,size:r,color:s,checked:i,disabled:o}=n,a={root:["root",t&&`edge${ve(t)}`,`size${ve(r)}`],switchBase:["switchBase",`color${ve(s)}`,i&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=xt(a,Kve,e);return{...e,...l}},Xve=Ie("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.edge&&e[`edge${ve(t.edge)}`],e[`size${ve(t.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Ei.thumb}`]:{width:16,height:16},[`& .${Ei.switchBase}`]:{padding:4,[`&.${Ei.checked}`]:{transform:"translateX(16px)"}}}}]}),Jve=Ie(Mge,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.switchBase,{[`& .${Ei.input}`]:e.input},t.color!=="default"&&e[`color${ve(t.color)}`]]}})(vt(({theme:n})=>({position:"absolute",top:0,left:0,zIndex:1,color:n.vars?n.vars.palette.Switch.defaultColor:`${n.palette.mode==="light"?n.palette.common.white:n.palette.grey[300]}`,transition:n.transitions.create(["left","transform"],{duration:n.transitions.duration.shortest}),[`&.${Ei.checked}`]:{transform:"translateX(20px)"},[`&.${Ei.disabled}`]:{color:n.vars?n.vars.palette.Switch.defaultDisabledColor:`${n.palette.mode==="light"?n.palette.grey[100]:n.palette.grey[600]}`},[`&.${Ei.checked} + .${Ei.track}`]:{opacity:.5},[`&.${Ei.disabled} + .${Ei.track}`]:{opacity:n.vars?n.vars.opacity.switchTrackDisabled:`${n.palette.mode==="light"?.12:.2}`},[`& .${Ei.input}`]:{left:"-100%",width:"300%"}})),vt(({theme:n})=>({"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Lt(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(n.palette).filter(os(["light"])).map(([e])=>({props:{color:e},style:{[`&.${Ei.checked}`]:{color:(n.vars||n).palette[e].main,"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Lt(n.palette[e].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ei.disabled}`]:{color:n.vars?n.vars.palette.Switch[`${e}DisabledColor`]:`${n.palette.mode==="light"?P0(n.palette[e].main,.62):k0(n.palette[e].main,.55)}`}},[`&.${Ei.checked} + .${Ei.track}`]:{backgroundColor:(n.vars||n).palette[e].main}}}))]}))),Qve=Ie("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(n,e)=>e.track})(vt(({theme:n})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:n.transitions.create(["opacity","background-color"],{duration:n.transitions.duration.shortest}),backgroundColor:n.vars?n.vars.palette.common.onBackground:`${n.palette.mode==="light"?n.palette.common.black:n.palette.common.white}`,opacity:n.vars?n.vars.opacity.switchTrack:`${n.palette.mode==="light"?.38:.3}`}))),Zve=Ie("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(n,e)=>e.thumb})(vt(({theme:n})=>({boxShadow:(n.vars||n).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),e0e=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiSwitch"}),{className:s,color:i="primary",edge:o=!1,size:a="medium",sx:l,...u}=r,h={...r,color:i,edge:o,size:a},p=Yve(h),m=I.jsx(Zve,{className:p.thumb,ownerState:h});return I.jsxs(Xve,{className:We(p.root,s),sx:l,ownerState:h,children:[I.jsx(Jve,{type:"checkbox",icon:m,checkedIcon:m,ref:t,ownerState:h,...u,classes:{...p,root:p.switchBase}}),I.jsx(Qve,{className:p.track,ownerState:h})]})});function t0e(n){return Tt("MuiTextField",n)}pt("MuiTextField",["root"]);const n0e={standard:A$,filled:C$,outlined:k$},r0e=n=>{const{classes:e}=n;return xt({root:["root"]},t0e,e)},s0e=Ie(T$,{name:"MuiTextField",slot:"Root",overridesResolver:(n,e)=>e.root})({}),id=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiTextField"}),{autoComplete:s,autoFocus:i=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:h=!1,error:p=!1,FormHelperTextProps:m,fullWidth:y=!1,helperText:b,id:v,InputLabelProps:_,inputProps:E,InputProps:x,inputRef:C,label:A,maxRows:k,minRows:L,multiline:P=!1,name:D,onBlur:F,onChange:T,onFocus:$,placeholder:z,required:j=!1,rows:Y,select:Z=!1,SelectProps:J,slots:ee={},slotProps:Q={},type:te,value:de,variant:q="outlined",...K}=r,ne={...r,autoFocus:i,color:l,disabled:h,error:p,fullWidth:y,multiline:P,required:j,select:Z,variant:q},le=r0e(ne),ce=J0(v),be=b&&ce?`${ce}-helper-text`:void 0,we=A&&ce?`${ce}-label`:void 0,ke=n0e[q],Ne={slots:ee,slotProps:{input:x,inputLabel:_,htmlInput:E,formHelperText:m,select:J,...Q}},Me={},Je=Ne.slotProps.inputLabel;q==="outlined"&&(Je&&typeof Je.shrink<"u"&&(Me.notched=Je.shrink),Me.label=A),Z&&((!J||!J.native)&&(Me.id=void 0),Me["aria-describedby"]=void 0);const[je,dt]=Sn("input",{elementType:ke,externalForwardedProps:Ne,additionalProps:Me,ownerState:ne}),[Ye,Ue]=Sn("inputLabel",{elementType:R$,externalForwardedProps:Ne,ownerState:ne}),[en,Be]=Sn("htmlInput",{elementType:"input",externalForwardedProps:Ne,ownerState:ne}),[_t,Ut]=Sn("formHelperText",{elementType:vye,externalForwardedProps:Ne,ownerState:ne}),[Ot,mt]=Sn("select",{elementType:tI,externalForwardedProps:Ne,ownerState:ne}),Le=I.jsx(je,{"aria-describedby":be,autoComplete:s,autoFocus:i,defaultValue:u,fullWidth:y,multiline:P,name:D,rows:Y,maxRows:k,minRows:L,type:te,value:de,id:ce,inputRef:C,onBlur:F,onChange:T,onFocus:$,placeholder:z,inputProps:Be,slots:{input:ee.htmlInput?en:void 0},...dt});return I.jsxs(s0e,{className:We(le.root,a),disabled:h,error:p,fullWidth:y,ref:t,required:j,color:l,variant:q,ownerState:ne,...K,children:[A!=null&&A!==""&&I.jsx(Ye,{htmlFor:ce,id:we,...Ue,children:A}),Z?I.jsx(Ot,{"aria-describedby":be,id:ce,labelId:we,value:de,input:Le,...mt,children:o}):Le,b&&I.jsx(_t,{id:be,...Ut,children:b})]})});function i0e(n){return Tt("MuiToggleButton",n)}const xp=pt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),GK=B.createContext({}),KK=B.createContext(void 0);function o0e(n,e){return e===void 0||n===void 0?!1:Array.isArray(e)?e.includes(n):n===e}const a0e=n=>{const{classes:e,fullWidth:t,selected:r,disabled:s,size:i,color:o}=n,a={root:["root",r&&"selected",s&&"disabled",t&&"fullWidth",`size${ve(i)}`,o]};return xt(a,i0e,e)},l0e=Ie(eg,{name:"MuiToggleButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`size${ve(t.size)}`]]}})(vt(({theme:n})=>({...n.typography.button,borderRadius:(n.vars||n).shape.borderRadius,padding:11,border:`1px solid ${(n.vars||n).palette.divider}`,color:(n.vars||n).palette.action.active,[`&.${xp.disabled}`]:{color:(n.vars||n).palette.action.disabled,border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Lt(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${xp.selected}`]:{color:(n.vars||n).palette.text.primary,backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.selectedOpacity})`:Lt(n.palette.text.primary,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Lt(n.palette.text.primary,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.selectedOpacity})`:Lt(n.palette.text.primary,n.palette.action.selectedOpacity)}}}}},...Object.entries(n.palette).filter(os()).map(([e])=>({props:{color:e},style:{[`&.${xp.selected}`]:{color:(n.vars||n).palette[e].main,backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Lt(n.palette[e].main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Lt(n.palette[e].main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Lt(n.palette[e].main,n.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:n.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:n.typography.pxToRem(15)}}]}))),g9=B.forwardRef(function(e,t){const{value:r,...s}=B.useContext(GK),i=B.useContext(KK),o=I0({...s,selected:o0e(e.value,r)},e),a=Mt({props:o,name:"MuiToggleButton"}),{children:l,className:u,color:h="standard",disabled:p=!1,disableFocusRipple:m=!1,fullWidth:y=!1,onChange:b,onClick:v,selected:_,size:E="medium",value:x,...C}=a,A={...a,color:h,disabled:p,disableFocusRipple:m,fullWidth:y,size:E},k=a0e(A),L=D=>{v&&(v(D,x),D.defaultPrevented)||b&&b(D,x)},P=i||"";return I.jsx(l0e,{className:We(s.className,k.root,u,P),disabled:p,focusRipple:!m,ref:t,onClick:L,onChange:b,value:x,ownerState:A,"aria-pressed":_,...C,children:l})});function c0e(n){return Tt("MuiToggleButtonGroup",n)}const Xn=pt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),u0e=n=>{const{classes:e,orientation:t,fullWidth:r,disabled:s}=n,i={root:["root",t,r&&"fullWidth"],grouped:["grouped",`grouped${ve(t)}`,s&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return xt(i,c0e,e)},d0e=Ie("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Xn.grouped}`]:e.grouped},{[`& .${Xn.grouped}`]:e[`grouped${ve(t.orientation)}`]},{[`& .${Xn.firstButton}`]:e.firstButton},{[`& .${Xn.lastButton}`]:e.lastButton},{[`& .${Xn.middleButton}`]:e.middleButton},e.root,t.orientation==="vertical"&&e.vertical,t.fullWidth&&e.fullWidth]}})(vt(({theme:n})=>({display:"inline-flex",borderRadius:(n.vars||n).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${Xn.grouped}`]:{[`&.${Xn.selected} + .${Xn.grouped}.${Xn.selected}`]:{borderTop:0,marginTop:0}},[`& .${Xn.firstButton},& .${Xn.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${Xn.lastButton},& .${Xn.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${Xn.lastButton}.${xp.disabled},& .${Xn.middleButton}.${xp.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${Xn.grouped}`]:{[`&.${Xn.selected} + .${Xn.grouped}.${Xn.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${Xn.firstButton},& .${Xn.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${Xn.lastButton},& .${Xn.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${Xn.lastButton}.${xp.disabled},& .${Xn.middleButton}.${xp.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),h0e=B.forwardRef(function(e,t){const r=Mt({props:e,name:"MuiToggleButtonGroup"}),{children:s,className:i,color:o="standard",disabled:a=!1,exclusive:l=!1,fullWidth:u=!1,onChange:h,orientation:p="horizontal",size:m="medium",value:y,...b}=r,v={...r,disabled:a,fullWidth:u,orientation:p,size:m},_=u0e(v),E=B.useCallback((P,D)=>{if(!h)return;const F=y&&y.indexOf(D);let T;y&&F>=0?(T=y.slice(),T.splice(F,1)):T=y?y.concat(D):[D],h(P,T)},[h,y]),x=B.useCallback((P,D)=>{h&&h(P,y===D?null:D)},[h,y]),C=B.useMemo(()=>({className:_.grouped,onChange:l?x:E,value:y,size:m,fullWidth:u,color:o,disabled:a}),[_.grouped,l,x,E,y,m,u,o,a]),A=bie(s),k=A.length,L=P=>{const D=P===0,F=P===k-1;return D&&F?"":D?_.firstButton:F?_.lastButton:_.middleButton};return I.jsx(d0e,{role:"group",className:We(_.root,i),ref:t,ownerState:v,...b,children:I.jsx(GK.Provider,{value:C,children:A.map((P,D)=>I.jsx(KK.Provider,{value:L(D),children:P},D))})})}),y9=({anchorEl:n,onClose:e})=>I.jsx(h1,{open:!!n,anchorEl:n,onClose:()=>setTimeout(e,0),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:I.jsxs(ge,{sx:j5.container,children:[I.jsx(Ae,{children:"Are you sure you want to logout?"}),I.jsxs(ge,{sx:j5.buttons,children:[I.jsx(ur,{variant:"text",onClick:e,children:"Cancel"}),I.jsx(ur,{variant:"filled",onClick:gfe,children:"Logout"})]})]})}),v9={popover:{},container:{padding:4}},f0e="data:image/svg+xml,%3c?xml%20version='1.0'%20?%3e%3csvg%20id='Apple'%20viewBox='0%200%20512%20512'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23f0432c;}.cls-2{fill:%23ffbf00;}.cls-3{fill:%2324aa49;}.cls-4{fill:%233384fc;}%3c/style%3e%3c/defs%3e%3ctitle/%3e%3cpath%20class='cls-1'%20d='M90,93.25l65.06,65.06a140.31,140.31,0,0,1,201-1v0l65-65.09a232.33,232.33,0,0,0-331,1Z'/%3e%3cpath%20class='cls-2'%20d='M90.85,419.76l65-65a140.34,140.34,0,0,1,1-198.71L91.81,91a232.35,232.35,0,0,0-1,328.8Z'/%3e%3cpolygon%20class='cls-3'%20points='301.98%20301.84%20301.98%20302.8%20302.94%20302.8%20301.98%20301.84'/%3e%3cpath%20class='cls-3'%20d='M255.5,488.21a231.65,231.65,0,0,0,164.55-68.3L355,354.84a140.3,140.3,0,0,1-199,0l-65,65A231.65,231.65,0,0,0,255.5,488.21Z'/%3e%3cpath%20class='cls-4'%20d='M484.36,210.33l-181.42.25V302.8h85.84a140.7,140.7,0,0,1-33.69,52.91l65.05,65.06a232.65,232.65,0,0,0,64.22-210.44Z'/%3e%3c/svg%3e",cu={container:{display:"flex",flexDirection:"column",gap:2,width:"300px"},formFields:{display:"flex",flexDirection:"column",gap:2,alignItems:"center"},field:{width:"100%"},google:{height:"24px"},googleButton:{display:"flex",flexDirection:"row",gap:1.5,paddingLeft:2.5,paddingRight:3,borderRadius:"20px"},title:{display:"flex",flexDirection:"row",gap:1,alignItems:"center"},logo:{height:"36px"}},p0e=()=>{const[n,e]=B.useState(!1),[t,r]=B.useState(""),[s,i]=B.useState(""),[o,a]=B.useState(""),[l,u]=B.useState(void 0),h=()=>{n?s===o?mfe(t,s).then(x=>u(x)):u({field:"password2",message:"Passwords do not match"}):pfe(t,s).then(x=>u(x))},p=I.jsx(id,{sx:cu.field,value:t,type:"text",variant:"outlined",placeholder:"Email",autoFocus:!0,error:l&&l.field==="email",helperText:l&&l.field==="email"?l.message:null,onChange:x=>r(x.target.value)}),m=I.jsx(id,{sx:cu.field,value:s,type:"password",variant:"outlined",placeholder:"Password",error:l&&l.field==="password",helperText:l&&l.field==="password"?l.message:null,autoFocus:!0,onChange:x=>i(x.target.value)}),y=I.jsx(id,{sx:cu.field,value:o,type:"password",variant:"outlined",placeholder:"Confirm Password",autoFocus:!0,autoComplete:"off",error:l&&l.field==="password2",helperText:l&&l.field==="password2"?l.message:null,onChange:x=>a(x.target.value)}),b=I.jsx(ur,{disabled:!t||!s,variant:"filled",onClick:h,children:n?"Sign Up":"Sign In"}),v=I.jsxs(ur,{sx:cu.googleButton,onClick:ffe,variant:"outlined",children:[I.jsx(ge,{src:f0e,sx:cu.google,component:"img",alt:"google logo"}),"Sign in with Google"]}),_=()=>{const x=n?"Already have an account?":"Don't have an account?",C=n?"Sign In":"Sign Up";return I.jsxs(I.Fragment,{children:[I.jsx(Ae,{children:x}),I.jsx(ur,{variant:"text",onClick:()=>e(!n),children:C})]})},E=l&&!["password2","password","email"].includes(l.field)&&I.jsx("div",{className:"error-message",children:I.jsx("p",{children:l==null?void 0:l.message})});return I.jsxs(ge,{sx:cu.container,children:[I.jsxs(ge,{sx:cu.title,children:[I.jsx(Ae,{variant:"h1",children:"Welcome"}),I.jsx(ge,{sx:cu.logo,src:mK,component:"img"})]}),I.jsx(Ae,{children:"Sign in to customize the list of bills you're tracking"}),I.jsxs(ge,{sx:cu.formFields,children:[p,m,n&&y,E,b,"or",v,_()]})]})},w9=({anchorEl:n,onClose:e})=>I.jsx(h1,{open:!!n,anchorEl:n,sx:v9.popover,onClose:()=>setTimeout(e,0),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:I.jsx(ge,{sx:v9.container,children:I.jsx(p0e,{})})}),b9=Ur(I.jsx("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"}),"BugReport"),m0e=Ur(I.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),_9=({})=>{const{setModalClosed:n,anchorEl:e,setModalOpen:t}=Gy(),r=Z0(),{currentUser:s}=Hc(),i=Ua(),o=x$(i.breakpoints.down("md")),[a,l]=B.useState(null),u=!!a;B.useEffect(()=>{n()},[s]);const h=y=>{l(y.currentTarget)},p=()=>{l(null)},m=()=>{r("/feedback"),p()};return I.jsxs(ge,{sx:gT.container,children:[I.jsx(Afe,{}),I.jsxs(ge,{sx:gT.rightSection,children:[!o&&I.jsxs(I.Fragment,{children:[s&&I.jsxs(ge,{sx:gT.logout,children:[I.jsx(Ae,{sx:gT.emailText,children:s.email}),I.jsx(ur,{variant:"text",onClick:t,children:"Logout"}),I.jsx(y9,{anchorEl:e,onClose:n})]}),!s&&I.jsxs(I.Fragment,{children:[I.jsx(ur,{variant:"filled",onClick:t,children:"Login"}),I.jsx(w9,{anchorEl:e,onClose:n})]}),I.jsx(xs,{title:"Submit Feedback",children:I.jsx(Rs,{onClick:()=>r("/feedback"),children:I.jsx(b9,{})})})]}),o&&I.jsxs(I.Fragment,{children:[I.jsx(Rs,{onClick:h,children:I.jsx(m0e,{})}),I.jsxs(HK,{anchorEl:a,open:u,onClose:p,children:[s&&I.jsxs(I.Fragment,{children:[I.jsx(df,{onClick:y=>{t(y),p()},children:I.jsx(tN,{primary:"Logout",secondary:s.email})}),I.jsx(y9,{anchorEl:e,onClose:n})]}),!s&&I.jsxs(I.Fragment,{children:[I.jsx(df,{onClick:y=>{t(y),p()},children:"Login"}),I.jsx(w9,{anchorEl:e,onClose:n})]}),I.jsxs(df,{onClick:m,children:[I.jsx(tN,{children:"Submit Feedback"}),I.jsx(Vye,{sx:{justifyContent:"flex-end"},children:I.jsx(b9,{fontSize:"small"})})]})]})]})]})]})},hb={buttonRow:{display:"flex",flexDirection:"row",gap:2},tabButton:{paddingTop:1,paddingBottom:1,paddingLeft:3,paddingRight:3,backgroundColor:"#f7f7f7",boxShadow:"none","&:hover":{filter:"brightness(80%)",boxShadow:"none"}},activeTabButton:{color:"#3E753B",backgroundColor:"#D4ECD4"},tabText:{color:"#A7A7A7 !important"},activeText:{color:"#3E753B !important"}},YK=({value:n,children:e})=>localStorage.getItem(n)!=="true"?null:I.jsx(I.Fragment,{children:e}),S9=()=>{const n=If().pathname,e=Z0(),t=B.useMemo(()=>{if(n.includes("/bill/"))return"bill";if(n.includes("/calendar"))return"calendar";if(n.includes("/updates"))return"updates";if(n.includes("/location"))return"location";if(n.includes("/votes"))return"votes";if(n.includes("/"))return"updates"},[n]),r=B.useCallback(i=>{i==="updates"&&e("/updates"),i==="calendar"&&e("/calendar"),i==="location"&&e("/location"),i==="votes"&&e("/votes")},[e]),s=({label:i,path:o})=>I.jsx(ur,{variant:"contained",sx:[hb.tabButton,...t===o?[hb.activeTabButton]:[]],onClick:()=>r(o),children:I.jsx(Ae,{sx:{...hb.tabText,...t===o?hb.activeText:{}},variant:"button",children:i})});return I.jsxs(ge,{sx:hb.buttonRow,children:[I.jsx(s,{label:"Updates",path:"updates"}),I.jsx(s,{label:"Location",path:"location"}),I.jsx(s,{label:"Calendar",path:"calendar"}),I.jsx(YK,{value:"votes",children:I.jsx(s,{label:"Votes",path:"votes"})})]})},E9=n=>{let e;const t=new Set,r=(u,h)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const m=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(y=>y(e,m))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(t.add(u),()=>t.delete(u))},l=e=n(r,s,a);return a},g0e=n=>n?E9(n):E9,y0e=n=>n;function v0e(n,e=y0e){const t=ie.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return ie.useDebugValue(t),t}const C9=n=>{const e=g0e(n),t=r=>v0e(e,r);return Object.assign(t,e),t},bg=n=>n?C9(n):C9,w0e="348px",Ap={MeasureModal:"View measure details",DeleteMeasure:"Remove bill from tracking",ToggleVisibility:"Toggle Measure Visibility"},b0e="2025R1",Nt=n=>{const{MeasurePrefix:e,MeasureNumber:t,SessionKey:r}=n;return`${e}-${t}-${r}`},Jy=n=>{const{MeasurePrefix:e,MeasureNumber:t}=n;return`${e} ${t}`},p_=n=>{const[e,t,r]=n.split("-");return{MeasurePrefix:e,MeasureNumber:Number(t),SessionKey:r}},XK=n=>{const{MeasurePrefix:e,MeasureNumber:t,SessionKey:r}=p_(n);return encodeURIComponent(`MeasureNumber eq ${t} and MeasurePrefix eq '${e}' and SessionKey eq '${r}'`)},JK=()=>encodeURIComponent(`SessionKey eq '${b0e}'`),$r=bg((n,e)=>({userTrackedMeasures:void 0,areUserMeasuresLoading:!0,getSafeUserTrackedMeasures:()=>e().userTrackedMeasures?e().userTrackedMeasures:[],setUserTrackedMeasures:t=>n({userTrackedMeasures:t}),setAreUserMeasuresLoading:t=>n({areUserMeasuresLoading:t}),addUserTrackedMeasure:t=>n({userTrackedMeasures:[...e().getSafeUserTrackedMeasures(),t]}),updateUserTrackedMeasure:(t,r)=>{const s=e().getSafeUserTrackedMeasures(),i=s.findIndex(o=>Nt(o)===t);if(i>=0){const o=[...s],a=Nt(r);t!==a?(o.splice(i,1),o.push(r)):o[i]=r,n({userTrackedMeasures:o})}},getUserTrackedMeasureUniqueIds:()=>e().getSafeUserTrackedMeasures().map(t=>Nt(t)),removeTrackedMeasureById:t=>n({userTrackedMeasures:e().getSafeUserTrackedMeasures().filter(r=>Nt(r)!=t)}),getUserTrackedMeasurePositionById:t=>{var r;return(r=e().getSafeUserTrackedMeasures().find(s=>Nt(s)===t))==null?void 0:r.position},getUserMeasureMetadataById:t=>e().getSafeUserTrackedMeasures().find(r=>Nt(r)===t),getUserMeasureColorById:t=>{const s=e().getAllTrackedMeasuresWithSource().find(i=>Nt(i)===t);return s==null?void 0:s.color},getUserMeasureNicknameById:t=>{if(!t)return;const s=e().getAllTrackedMeasuresWithSource().find(i=>Nt(i)===t);return s==null?void 0:s.nickname},setUserTrackedMeasureFilterStatusById:(t,r)=>n({userTrackedMeasures:S0e(e().getSafeUserTrackedMeasures(),t,r)}),toggleAllUserTrackedFilterStatusesBasedOnAnId:t=>n({userTrackedMeasures:_0e(e().getSafeUserTrackedMeasures(),t)}),userGroups:[],setUserGroups:t=>n({userGroups:t}),addUserGroup:t=>n({userGroups:[...e().userGroups,t]}),removeUserGroup:t=>n({userGroups:e().userGroups.filter(r=>r.id!==t)}),groupMeasures:{},setGroupMeasures:t=>n({groupMeasures:t}),getAllTrackedMeasuresWithSource:()=>{const t=e().getSafeUserTrackedMeasures(),r=e().groupMeasures,s=e().userGroups,i=new Set(t.map(a=>Nt(a))),o=t.map(a=>({...a,source:"user",isDuplicate:!1}));return Object.entries(r).forEach(([a,l])=>{const u=s.find(h=>h.id===a);u&&l.forEach(h=>{const p=Nt(h),m=i.has(p);o.push({...h,source:{type:"group",groupId:a,groupName:u.name},isDuplicate:m})})}),o},getAllMeasureIdsForFetching:()=>{const t=e().getSafeUserTrackedMeasures(),r=e().groupMeasures,s=new Set(t.map(o=>Nt(o))),i=new Set;return s.forEach(o=>i.add(o)),Object.values(r).forEach(o=>{o.forEach(a=>{const l=Nt(a);s.has(l)||i.add(l)})}),Array.from(i)}})),_0e=(n,e)=>{let t=[];const r=n.filter(s=>s.isDisplayed);return r.length===1&&Nt(r[0])===e?n.forEach(s=>{t.push({...s,isDisplayed:!0})}):n.forEach(s=>{Nt(s)===e?t.push({...s,isDisplayed:!0}):t.push({...s,isDisplayed:!1})}),t},S0e=(n,e,t)=>{let r=[];return n.forEach(s=>{Nt(s)===e?r.push({...s,isDisplayed:t}):r.push(s)}),r};var T9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hf,QK;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,D){function F(){}F.prototype=D.prototype,P.D=D.prototype,P.prototype=new F,P.prototype.constructor=P,P.C=function(T,$,z){for(var j=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)j[Y-2]=arguments[Y];return D.prototype[$].apply(T,j)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,D,F){F||(F=0);var T=Array(16);if(typeof D=="string")for(var $=0;16>$;++$)T[$]=D.charCodeAt(F++)|D.charCodeAt(F++)<<8|D.charCodeAt(F++)<<16|D.charCodeAt(F++)<<24;else for($=0;16>$;++$)T[$]=D[F++]|D[F++]<<8|D[F++]<<16|D[F++]<<24;D=P.g[0],F=P.g[1],$=P.g[2];var z=P.g[3],j=D+(z^F&($^z))+T[0]+3614090360&4294967295;D=F+(j<<7&4294967295|j>>>25),j=z+($^D&(F^$))+T[1]+3905402710&4294967295,z=D+(j<<12&4294967295|j>>>20),j=$+(F^z&(D^F))+T[2]+606105819&4294967295,$=z+(j<<17&4294967295|j>>>15),j=F+(D^$&(z^D))+T[3]+3250441966&4294967295,F=$+(j<<22&4294967295|j>>>10),j=D+(z^F&($^z))+T[4]+4118548399&4294967295,D=F+(j<<7&4294967295|j>>>25),j=z+($^D&(F^$))+T[5]+1200080426&4294967295,z=D+(j<<12&4294967295|j>>>20),j=$+(F^z&(D^F))+T[6]+2821735955&4294967295,$=z+(j<<17&4294967295|j>>>15),j=F+(D^$&(z^D))+T[7]+4249261313&4294967295,F=$+(j<<22&4294967295|j>>>10),j=D+(z^F&($^z))+T[8]+1770035416&4294967295,D=F+(j<<7&4294967295|j>>>25),j=z+($^D&(F^$))+T[9]+2336552879&4294967295,z=D+(j<<12&4294967295|j>>>20),j=$+(F^z&(D^F))+T[10]+4294925233&4294967295,$=z+(j<<17&4294967295|j>>>15),j=F+(D^$&(z^D))+T[11]+2304563134&4294967295,F=$+(j<<22&4294967295|j>>>10),j=D+(z^F&($^z))+T[12]+1804603682&4294967295,D=F+(j<<7&4294967295|j>>>25),j=z+($^D&(F^$))+T[13]+4254626195&4294967295,z=D+(j<<12&4294967295|j>>>20),j=$+(F^z&(D^F))+T[14]+2792965006&4294967295,$=z+(j<<17&4294967295|j>>>15),j=F+(D^$&(z^D))+T[15]+1236535329&4294967295,F=$+(j<<22&4294967295|j>>>10),j=D+($^z&(F^$))+T[1]+4129170786&4294967295,D=F+(j<<5&4294967295|j>>>27),j=z+(F^$&(D^F))+T[6]+3225465664&4294967295,z=D+(j<<9&4294967295|j>>>23),j=$+(D^F&(z^D))+T[11]+643717713&4294967295,$=z+(j<<14&4294967295|j>>>18),j=F+(z^D&($^z))+T[0]+3921069994&4294967295,F=$+(j<<20&4294967295|j>>>12),j=D+($^z&(F^$))+T[5]+3593408605&4294967295,D=F+(j<<5&4294967295|j>>>27),j=z+(F^$&(D^F))+T[10]+38016083&4294967295,z=D+(j<<9&4294967295|j>>>23),j=$+(D^F&(z^D))+T[15]+3634488961&4294967295,$=z+(j<<14&4294967295|j>>>18),j=F+(z^D&($^z))+T[4]+3889429448&4294967295,F=$+(j<<20&4294967295|j>>>12),j=D+($^z&(F^$))+T[9]+568446438&4294967295,D=F+(j<<5&4294967295|j>>>27),j=z+(F^$&(D^F))+T[14]+3275163606&4294967295,z=D+(j<<9&4294967295|j>>>23),j=$+(D^F&(z^D))+T[3]+4107603335&4294967295,$=z+(j<<14&4294967295|j>>>18),j=F+(z^D&($^z))+T[8]+1163531501&4294967295,F=$+(j<<20&4294967295|j>>>12),j=D+($^z&(F^$))+T[13]+2850285829&4294967295,D=F+(j<<5&4294967295|j>>>27),j=z+(F^$&(D^F))+T[2]+4243563512&4294967295,z=D+(j<<9&4294967295|j>>>23),j=$+(D^F&(z^D))+T[7]+1735328473&4294967295,$=z+(j<<14&4294967295|j>>>18),j=F+(z^D&($^z))+T[12]+2368359562&4294967295,F=$+(j<<20&4294967295|j>>>12),j=D+(F^$^z)+T[5]+4294588738&4294967295,D=F+(j<<4&4294967295|j>>>28),j=z+(D^F^$)+T[8]+2272392833&4294967295,z=D+(j<<11&4294967295|j>>>21),j=$+(z^D^F)+T[11]+1839030562&4294967295,$=z+(j<<16&4294967295|j>>>16),j=F+($^z^D)+T[14]+4259657740&4294967295,F=$+(j<<23&4294967295|j>>>9),j=D+(F^$^z)+T[1]+2763975236&4294967295,D=F+(j<<4&4294967295|j>>>28),j=z+(D^F^$)+T[4]+1272893353&4294967295,z=D+(j<<11&4294967295|j>>>21),j=$+(z^D^F)+T[7]+4139469664&4294967295,$=z+(j<<16&4294967295|j>>>16),j=F+($^z^D)+T[10]+3200236656&4294967295,F=$+(j<<23&4294967295|j>>>9),j=D+(F^$^z)+T[13]+681279174&4294967295,D=F+(j<<4&4294967295|j>>>28),j=z+(D^F^$)+T[0]+3936430074&4294967295,z=D+(j<<11&4294967295|j>>>21),j=$+(z^D^F)+T[3]+3572445317&4294967295,$=z+(j<<16&4294967295|j>>>16),j=F+($^z^D)+T[6]+76029189&4294967295,F=$+(j<<23&4294967295|j>>>9),j=D+(F^$^z)+T[9]+3654602809&4294967295,D=F+(j<<4&4294967295|j>>>28),j=z+(D^F^$)+T[12]+3873151461&4294967295,z=D+(j<<11&4294967295|j>>>21),j=$+(z^D^F)+T[15]+530742520&4294967295,$=z+(j<<16&4294967295|j>>>16),j=F+($^z^D)+T[2]+3299628645&4294967295,F=$+(j<<23&4294967295|j>>>9),j=D+($^(F|~z))+T[0]+4096336452&4294967295,D=F+(j<<6&4294967295|j>>>26),j=z+(F^(D|~$))+T[7]+1126891415&4294967295,z=D+(j<<10&4294967295|j>>>22),j=$+(D^(z|~F))+T[14]+2878612391&4294967295,$=z+(j<<15&4294967295|j>>>17),j=F+(z^($|~D))+T[5]+4237533241&4294967295,F=$+(j<<21&4294967295|j>>>11),j=D+($^(F|~z))+T[12]+1700485571&4294967295,D=F+(j<<6&4294967295|j>>>26),j=z+(F^(D|~$))+T[3]+2399980690&4294967295,z=D+(j<<10&4294967295|j>>>22),j=$+(D^(z|~F))+T[10]+4293915773&4294967295,$=z+(j<<15&4294967295|j>>>17),j=F+(z^($|~D))+T[1]+2240044497&4294967295,F=$+(j<<21&4294967295|j>>>11),j=D+($^(F|~z))+T[8]+1873313359&4294967295,D=F+(j<<6&4294967295|j>>>26),j=z+(F^(D|~$))+T[15]+4264355552&4294967295,z=D+(j<<10&4294967295|j>>>22),j=$+(D^(z|~F))+T[6]+2734768916&4294967295,$=z+(j<<15&4294967295|j>>>17),j=F+(z^($|~D))+T[13]+1309151649&4294967295,F=$+(j<<21&4294967295|j>>>11),j=D+($^(F|~z))+T[4]+4149444226&4294967295,D=F+(j<<6&4294967295|j>>>26),j=z+(F^(D|~$))+T[11]+3174756917&4294967295,z=D+(j<<10&4294967295|j>>>22),j=$+(D^(z|~F))+T[2]+718787259&4294967295,$=z+(j<<15&4294967295|j>>>17),j=F+(z^($|~D))+T[9]+3951481745&4294967295,P.g[0]=P.g[0]+D&4294967295,P.g[1]=P.g[1]+($+(j<<21&4294967295|j>>>11))&4294967295,P.g[2]=P.g[2]+$&4294967295,P.g[3]=P.g[3]+z&4294967295}r.prototype.u=function(P,D){D===void 0&&(D=P.length);for(var F=D-this.blockSize,T=this.B,$=this.h,z=0;z<D;){if($==0)for(;z<=F;)s(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<D;)if(T[$++]=P.charCodeAt(z++),$==this.blockSize){s(this,T),$=0;break}}else for(;z<D;)if(T[$++]=P[z++],$==this.blockSize){s(this,T),$=0;break}}this.h=$,this.o+=D},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var D=1;D<P.length-8;++D)P[D]=0;var F=8*this.o;for(D=P.length-8;D<P.length;++D)P[D]=F&255,F/=256;for(this.u(P),P=Array(16),D=F=0;4>D;++D)for(var T=0;32>T;T+=8)P[F++]=this.g[D]>>>T&255;return P};function i(P,D){var F=a;return Object.prototype.hasOwnProperty.call(F,P)?F[P]:F[P]=D(P)}function o(P,D){this.h=D;for(var F=[],T=!0,$=P.length-1;0<=$;$--){var z=P[$]|0;T&&z==D||(F[$]=z,T=!1)}this.g=F}var a={};function l(P){return-128<=P&&128>P?i(P,function(D){return new o([D|0],0>D?-1:0)}):new o([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return p;if(0>P)return _(u(-P));for(var D=[],F=1,T=0;P>=F;T++)D[T]=P/F|0,F*=4294967296;return new o(D,0)}function h(P,D){if(P.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(P.charAt(0)=="-")return _(h(P.substring(1),D));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var F=u(Math.pow(D,8)),T=p,$=0;$<P.length;$+=8){var z=Math.min(8,P.length-$),j=parseInt(P.substring($,$+z),D);8>z?(z=u(Math.pow(D,z)),T=T.j(z).add(u(j))):(T=T.j(F),T=T.add(u(j)))}return T}var p=l(0),m=l(1),y=l(16777216);n=o.prototype,n.m=function(){if(v(this))return-_(this).m();for(var P=0,D=1,F=0;F<this.g.length;F++){var T=this.i(F);P+=(0<=T?T:4294967296+T)*D,D*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(b(this))return"0";if(v(this))return"-"+_(this).toString(P);for(var D=u(Math.pow(P,6)),F=this,T="";;){var $=A(F,D).g;F=E(F,$.j(D));var z=((0<F.g.length?F.g[0]:F.h)>>>0).toString(P);if(F=$,b(F))return z+T;for(;6>z.length;)z="0"+z;T=z+T}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function b(P){if(P.h!=0)return!1;for(var D=0;D<P.g.length;D++)if(P.g[D]!=0)return!1;return!0}function v(P){return P.h==-1}n.l=function(P){return P=E(this,P),v(P)?-1:b(P)?0:1};function _(P){for(var D=P.g.length,F=[],T=0;T<D;T++)F[T]=~P.g[T];return new o(F,~P.h).add(m)}n.abs=function(){return v(this)?_(this):this},n.add=function(P){for(var D=Math.max(this.g.length,P.g.length),F=[],T=0,$=0;$<=D;$++){var z=T+(this.i($)&65535)+(P.i($)&65535),j=(z>>>16)+(this.i($)>>>16)+(P.i($)>>>16);T=j>>>16,z&=65535,j&=65535,F[$]=j<<16|z}return new o(F,F[F.length-1]&-2147483648?-1:0)};function E(P,D){return P.add(_(D))}n.j=function(P){if(b(this)||b(P))return p;if(v(this))return v(P)?_(this).j(_(P)):_(_(this).j(P));if(v(P))return _(this.j(_(P)));if(0>this.l(y)&&0>P.l(y))return u(this.m()*P.m());for(var D=this.g.length+P.g.length,F=[],T=0;T<2*D;T++)F[T]=0;for(T=0;T<this.g.length;T++)for(var $=0;$<P.g.length;$++){var z=this.i(T)>>>16,j=this.i(T)&65535,Y=P.i($)>>>16,Z=P.i($)&65535;F[2*T+2*$]+=j*Z,x(F,2*T+2*$),F[2*T+2*$+1]+=z*Z,x(F,2*T+2*$+1),F[2*T+2*$+1]+=j*Y,x(F,2*T+2*$+1),F[2*T+2*$+2]+=z*Y,x(F,2*T+2*$+2)}for(T=0;T<D;T++)F[T]=F[2*T+1]<<16|F[2*T];for(T=D;T<2*D;T++)F[T]=0;return new o(F,0)};function x(P,D){for(;(P[D]&65535)!=P[D];)P[D+1]+=P[D]>>>16,P[D]&=65535,D++}function C(P,D){this.g=P,this.h=D}function A(P,D){if(b(D))throw Error("division by zero");if(b(P))return new C(p,p);if(v(P))return D=A(_(P),D),new C(_(D.g),_(D.h));if(v(D))return D=A(P,_(D)),new C(_(D.g),D.h);if(30<P.g.length){if(v(P)||v(D))throw Error("slowDivide_ only works with positive integers.");for(var F=m,T=D;0>=T.l(P);)F=k(F),T=k(T);var $=L(F,1),z=L(T,1);for(T=L(T,2),F=L(F,2);!b(T);){var j=z.add(T);0>=j.l(P)&&($=$.add(F),z=j),T=L(T,1),F=L(F,1)}return D=E(P,$.j(D)),new C($,D)}for($=p;0<=P.l(D);){for(F=Math.max(1,Math.floor(P.m()/D.m())),T=Math.ceil(Math.log(F)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),z=u(F),j=z.j(D);v(j)||0<j.l(P);)F-=T,z=u(F),j=z.j(D);b(z)&&(z=m),$=$.add(z),P=E(P,j)}return new C($,P)}n.A=function(P){return A(this,P).h},n.and=function(P){for(var D=Math.max(this.g.length,P.g.length),F=[],T=0;T<D;T++)F[T]=this.i(T)&P.i(T);return new o(F,this.h&P.h)},n.or=function(P){for(var D=Math.max(this.g.length,P.g.length),F=[],T=0;T<D;T++)F[T]=this.i(T)|P.i(T);return new o(F,this.h|P.h)},n.xor=function(P){for(var D=Math.max(this.g.length,P.g.length),F=[],T=0;T<D;T++)F[T]=this.i(T)^P.i(T);return new o(F,this.h^P.h)};function k(P){for(var D=P.g.length+1,F=[],T=0;T<D;T++)F[T]=P.i(T)<<1|P.i(T-1)>>>31;return new o(F,P.h)}function L(P,D){var F=D>>5;D%=32;for(var T=P.g.length-F,$=[],z=0;z<T;z++)$[z]=0<D?P.i(z+F)>>>D|P.i(z+F+1)<<32-D:P.i(z+F);return new o($,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QK=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,hf=o}).apply(typeof T9<"u"?T9:typeof self<"u"?self:typeof window<"u"?window:{});var ET=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZK,Db,eY,nx,sN,tY,nY,rY;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,M,V){return w==Array.prototype||w==Object.prototype||(w[M]=V.value),w};function t(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof ET=="object"&&ET];for(var M=0;M<w.length;++M){var V=w[M];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var r=t(this);function s(w,M){if(M)e:{var V=r;w=w.split(".");for(var G=0;G<w.length-1;G++){var oe=w[G];if(!(oe in V))break e;V=V[oe]}w=w[w.length-1],G=V[w],M=M(G),M!=G&&M!=null&&e(V,w,{configurable:!0,writable:!0,value:M})}}function i(w,M){w instanceof String&&(w+="");var V=0,G=!1,oe={next:function(){if(!G&&V<w.length){var pe=V++;return{value:M(pe,w[pe]),done:!1}}return G=!0,{done:!0,value:void 0}}};return oe[Symbol.iterator]=function(){return oe},oe}s("Array.prototype.values",function(w){return w||function(){return i(this,function(M,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(w){var M=typeof w;return M=M!="object"?M:w?Array.isArray(w)?"array":M:"null",M=="array"||M=="object"&&typeof w.length=="number"}function u(w){var M=typeof w;return M=="object"&&w!=null||M=="function"}function h(w,M,V){return w.call.apply(w.bind,arguments)}function p(w,M,V){if(!w)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(oe,G),w.apply(M,oe)}}return function(){return w.apply(M,arguments)}}function m(w,M,V){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(w,M){var V=Array.prototype.slice.call(arguments,1);return function(){var G=V.slice();return G.push.apply(G,arguments),w.apply(this,G)}}function b(w,M){function V(){}V.prototype=M.prototype,w.aa=M.prototype,w.prototype=new V,w.prototype.constructor=w,w.Qb=function(G,oe,pe){for(var De=Array(arguments.length-2),wn=2;wn<arguments.length;wn++)De[wn-2]=arguments[wn];return M.prototype[oe].apply(G,De)}}function v(w){const M=w.length;if(0<M){const V=Array(M);for(let G=0;G<M;G++)V[G]=w[G];return V}return[]}function _(w,M){for(let V=1;V<arguments.length;V++){const G=arguments[V];if(l(G)){const oe=w.length||0,pe=G.length||0;w.length=oe+pe;for(let De=0;De<pe;De++)w[oe+De]=G[De]}else w.push(G)}}class E{constructor(M,V){this.i=M,this.j=V,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}function x(w){return/^[\s\xa0]*$/.test(w)}function C(){var w=a.navigator;return w&&(w=w.userAgent)?w:""}function A(w){return A[" "](w),w}A[" "]=function(){};var k=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function L(w,M,V){for(const G in w)M.call(V,w[G],G,w)}function P(w,M){for(const V in w)M.call(void 0,w[V],V,w)}function D(w){const M={};for(const V in w)M[V]=w[V];return M}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(w,M){let V,G;for(let oe=1;oe<arguments.length;oe++){G=arguments[oe];for(V in G)w[V]=G[V];for(let pe=0;pe<F.length;pe++)V=F[pe],Object.prototype.hasOwnProperty.call(G,V)&&(w[V]=G[V])}}function $(w){var M=1;w=w.split(":");const V=[];for(;0<M&&w.length;)V.push(w.shift()),M--;return w.length&&V.push(w.join(":")),V}function z(w){a.setTimeout(()=>{throw w},0)}function j(){var w=te;let M=null;return w.g&&(M=w.g,w.g=w.g.next,w.g||(w.h=null),M.next=null),M}class Y{constructor(){this.h=this.g=null}add(M,V){const G=Z.get();G.set(M,V),this.h?this.h.next=G:this.g=G,this.h=G}}var Z=new E(()=>new J,w=>w.reset());class J{constructor(){this.next=this.g=this.h=null}set(M,V){this.h=M,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,Q=!1,te=new Y,de=()=>{const w=a.Promise.resolve(void 0);ee=()=>{w.then(q)}};var q=()=>{for(var w;w=j();){try{w.h.call(w.g)}catch(V){z(V)}var M=Z;M.j(w),100>M.h&&(M.h++,w.next=M.g,M.g=w)}Q=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(w,M){this.type=w,this.g=this.target=M,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var le=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var w=!1,M=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const V=()=>{};a.addEventListener("test",V,M),a.removeEventListener("test",V,M)}catch{}return w})();function ce(w,M){if(ne.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var V=this.type=w.type,G=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=M,M=w.relatedTarget){if(k){e:{try{A(M.nodeName);var oe=!0;break e}catch{}oe=!1}oe||(M=null)}}else V=="mouseover"?M=w.fromElement:V=="mouseout"&&(M=w.toElement);this.relatedTarget=M,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:be[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&ce.aa.h.call(this)}}b(ce,ne);var be={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),ke=0;function Ne(w,M,V,G,oe){this.listener=w,this.proxy=null,this.src=M,this.type=V,this.capture=!!G,this.ha=oe,this.key=++ke,this.da=this.fa=!1}function Me(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function Je(w){this.src=w,this.g={},this.h=0}Je.prototype.add=function(w,M,V,G,oe){var pe=w.toString();w=this.g[pe],w||(w=this.g[pe]=[],this.h++);var De=dt(w,M,G,oe);return-1<De?(M=w[De],V||(M.fa=!1)):(M=new Ne(M,this.src,pe,!!G,oe),M.fa=V,w.push(M)),M};function je(w,M){var V=M.type;if(V in w.g){var G=w.g[V],oe=Array.prototype.indexOf.call(G,M,void 0),pe;(pe=0<=oe)&&Array.prototype.splice.call(G,oe,1),pe&&(Me(M),w.g[V].length==0&&(delete w.g[V],w.h--))}}function dt(w,M,V,G){for(var oe=0;oe<w.length;++oe){var pe=w[oe];if(!pe.da&&pe.listener==M&&pe.capture==!!V&&pe.ha==G)return oe}return-1}var Ye="closure_lm_"+(1e6*Math.random()|0),Ue={};function en(w,M,V,G,oe){if(Array.isArray(M)){for(var pe=0;pe<M.length;pe++)en(w,M[pe],V,G,oe);return null}return V=qn(V),w&&w[we]?w.K(M,V,u(G)?!!G.capture:!1,oe):Be(w,M,V,!1,G,oe)}function Be(w,M,V,G,oe,pe){if(!M)throw Error("Invalid event type");var De=u(oe)?!!oe.capture:!!oe,wn=$t(w);if(wn||(w[Ye]=wn=new Je(w)),V=wn.add(M,V,G,De,pe),V.proxy)return V;if(G=_t(),V.proxy=G,G.src=w,G.listener=V,w.addEventListener)le||(oe=De),oe===void 0&&(oe=!1),w.addEventListener(M.toString(),G,oe);else if(w.attachEvent)w.attachEvent(mt(M.toString()),G);else if(w.addListener&&w.removeListener)w.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return V}function _t(){function w(V){return M.call(w.src,w.listener,V)}const M=Le;return w}function Ut(w,M,V,G,oe){if(Array.isArray(M))for(var pe=0;pe<M.length;pe++)Ut(w,M[pe],V,G,oe);else G=u(G)?!!G.capture:!!G,V=qn(V),w&&w[we]?(w=w.i,M=String(M).toString(),M in w.g&&(pe=w.g[M],V=dt(pe,V,G,oe),-1<V&&(Me(pe[V]),Array.prototype.splice.call(pe,V,1),pe.length==0&&(delete w.g[M],w.h--)))):w&&(w=$t(w))&&(M=w.g[M.toString()],w=-1,M&&(w=dt(M,V,G,oe)),(V=-1<w?M[w]:null)&&Ot(V))}function Ot(w){if(typeof w!="number"&&w&&!w.da){var M=w.src;if(M&&M[we])je(M.i,w);else{var V=w.type,G=w.proxy;M.removeEventListener?M.removeEventListener(V,G,w.capture):M.detachEvent?M.detachEvent(mt(V),G):M.addListener&&M.removeListener&&M.removeListener(G),(V=$t(M))?(je(V,w),V.h==0&&(V.src=null,M[Ye]=null)):Me(w)}}}function mt(w){return w in Ue?Ue[w]:Ue[w]="on"+w}function Le(w,M){if(w.da)w=!0;else{M=new ce(M,this);var V=w.listener,G=w.ha||w.src;w.fa&&Ot(w),w=V.call(G,M)}return w}function $t(w){return w=w[Ye],w instanceof Je?w:null}var qt="__closure_events_fn_"+(1e9*Math.random()>>>0);function qn(w){return typeof w=="function"?w:(w[qt]||(w[qt]=function(M){return w.handleEvent(M)}),w[qt])}function Gt(){K.call(this),this.i=new Je(this),this.M=this,this.F=null}b(Gt,K),Gt.prototype[we]=!0,Gt.prototype.removeEventListener=function(w,M,V,G){Ut(this,w,M,V,G)};function lt(w,M){var V,G=w.F;if(G)for(V=[];G;G=G.F)V.push(G);if(w=w.M,G=M.type||M,typeof M=="string")M=new ne(M,w);else if(M instanceof ne)M.target=M.target||w;else{var oe=M;M=new ne(G,w),T(M,oe)}if(oe=!0,V)for(var pe=V.length-1;0<=pe;pe--){var De=M.g=V[pe];oe=St(De,G,!0,M)&&oe}if(De=M.g=w,oe=St(De,G,!0,M)&&oe,oe=St(De,G,!1,M)&&oe,V)for(pe=0;pe<V.length;pe++)De=M.g=V[pe],oe=St(De,G,!1,M)&&oe}Gt.prototype.N=function(){if(Gt.aa.N.call(this),this.i){var w=this.i,M;for(M in w.g){for(var V=w.g[M],G=0;G<V.length;G++)Me(V[G]);delete w.g[M],w.h--}}this.F=null},Gt.prototype.K=function(w,M,V,G){return this.i.add(String(w),M,!1,V,G)},Gt.prototype.L=function(w,M,V,G){return this.i.add(String(w),M,!0,V,G)};function St(w,M,V,G){if(M=w.i.g[String(M)],!M)return!0;M=M.concat();for(var oe=!0,pe=0;pe<M.length;++pe){var De=M[pe];if(De&&!De.da&&De.capture==V){var wn=De.listener,Jr=De.ha||De.src;De.fa&&je(w.i,De),oe=wn.call(Jr,G)!==!1&&oe}}return oe&&!G.defaultPrevented}function Kt(w,M,V){if(typeof w=="function")V&&(w=m(w,V));else if(w&&typeof w.handleEvent=="function")w=m(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(M)?-1:a.setTimeout(w,M||0)}function vn(w){w.g=Kt(()=>{w.g=null,w.i&&(w.i=!1,vn(w))},w.l);const M=w.h;w.h=null,w.m.apply(null,M)}class tt extends K{constructor(M,V){super(),this.m=M,this.l=V,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:vn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sn(w){K.call(this),this.h=w,this.g={}}b(sn,K);var En=[];function Cn(w){L(w.g,function(M,V){this.g.hasOwnProperty(V)&&Ot(M)},w),w.g={}}sn.prototype.N=function(){sn.aa.N.call(this),Cn(this)},sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rt=a.JSON.stringify,Yt=a.JSON.parse,Gn=class{stringify(w){return a.JSON.stringify(w,void 0)}parse(w){return a.JSON.parse(w,void 0)}};function Xr(){}Xr.prototype.h=null;function Wa(w){return w.h||(w.h=w.i())}function Pd(){}var Di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qo(){ne.call(this,"d")}b(Qo,ne);function Dd(){ne.call(this,"c")}b(Dd,ne);var Zo={},$f=null;function Gc(){return $f=$f||new Gt}Zo.La="serverreachability";function gt(w){ne.call(this,Zo.La,w)}b(gt,ne);function Pr(w){const M=Gc();lt(M,new gt(M))}Zo.STAT_EVENT="statevent";function Md(w,M){ne.call(this,Zo.STAT_EVENT,w),this.stat=M}b(Md,ne);function Dr(w){const M=Gc();lt(M,new Md(M,w))}Zo.Ma="timingevent";function Rg(w,M){ne.call(this,Zo.Ma,w),this.size=M}b(Rg,ne);function qa(w,M){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){w()},M)}function jf(){this.g=!0}jf.prototype.xa=function(){this.g=!1};function Uf(w,M,V,G,oe,pe){w.info(function(){if(w.g)if(pe)for(var De="",wn=pe.split("&"),Jr=0;Jr<wn.length;Jr++){var tn=wn[Jr].split("=");if(1<tn.length){var ps=tn[0];tn=tn[1];var Vr=ps.split("_");De=2<=Vr.length&&Vr[1]=="type"?De+(ps+"="+tn+"&"):De+(ps+"=redacted&")}}else De=null;else De=pe;return"XMLHTTP REQ ("+G+") [attempt "+oe+"]: "+M+`
`+V+`
`+De})}function Ig(w,M,V,G,oe,pe,De){w.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+oe+"]: "+M+`
`+V+`
`+pe+" "+De})}function Ga(w,M,V,G){w.info(function(){return"XMLHTTP TEXT ("+M+"): "+pk(w,V)+(G?" "+G:"")})}function bw(w,M){w.info(function(){return"TIMEOUT: "+M})}jf.prototype.info=function(){};function pk(w,M){if(!w.g)return M;if(!M)return null;try{var V=JSON.parse(M);if(V){for(w=0;w<V.length;w++)if(Array.isArray(V[w])){var G=V[w];if(!(2>G.length)){var oe=G[1];if(Array.isArray(oe)&&!(1>oe.length)){var pe=oe[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var De=1;De<oe.length;De++)oe[De]=""}}}}return rt(V)}catch{return M}}var kg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},G1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ka;function Vf(){}b(Vf,Xr),Vf.prototype.g=function(){return new XMLHttpRequest},Vf.prototype.i=function(){return{}},Ka=new Vf;function Ya(w,M,V,G){this.j=w,this.i=M,this.l=V,this.R=G||1,this.U=new sn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new K1}function K1(){this.i=null,this.g="",this.h=!1}var _w={},Pg={};function Dg(w,M,V){w.L=1,w.v=Bd(mo(M)),w.m=V,w.P=!0,Sw(w,null)}function Sw(w,M){w.F=Date.now(),Un(w),w.A=mo(w.v);var V=w.A,G=w.R;Array.isArray(G)||(G=[String(G)]),jd(V.i,"t",G),w.C=0,V=w.j.J,w.h=new K1,w.g=hC(w.j,V?M:null,!w.m),0<w.O&&(w.M=new tt(m(w.Y,w,w.g),w.O)),M=w.U,V=w.g,G=w.ca;var oe="readystatechange";Array.isArray(oe)||(oe&&(En[0]=oe.toString()),oe=En);for(var pe=0;pe<oe.length;pe++){var De=en(V,oe[pe],G||M.handleEvent,!1,M.h||M);if(!De)break;M.g[De.key]=De}M=w.H?D(w.H):{},w.m?(w.u||(w.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,M)):(w.u="GET",w.g.ea(w.A,w.u,null,M)),Pr(),Uf(w.i,w.u,w.A,w.l,w.R,w.m)}Ya.prototype.ca=function(w){w=w.target;const M=this.M;M&&Oi(w)==3?M.j():this.Y(w)},Ya.prototype.Y=function(w){try{if(w==this.g)e:{const Vr=Oi(this.g);var M=this.g.Ba();const na=this.g.Z();if(!(3>Vr)&&(Vr!=3||this.g&&(this.h.h||this.g.oa()||Rw(this.g)))){this.J||Vr!=4||M==7||(M==8||0>=na?Pr(3):Pr(2)),Hf(this);var V=this.g.Z();this.X=V;t:if(Y1(this)){var G=Rw(this.g);w="";var oe=G.length,pe=Oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ea(this),Od(this);var De="";break t}this.h.i=new a.TextDecoder}for(M=0;M<oe;M++)this.h.h=!0,w+=this.h.i.decode(G[M],{stream:!(pe&&M==oe-1)});G.length=0,this.h.g+=w,this.C=0,De=this.h.g}else De=this.g.oa();if(this.o=V==200,Ig(this.i,this.u,this.A,this.l,this.R,Vr,V),this.o){if(this.T&&!this.K){t:{if(this.g){var wn,Jr=this.g;if((wn=Jr.g?Jr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(wn)){var tn=wn;break t}}tn=null}if(V=tn)Ga(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ew(this,V);else{this.o=!1,this.s=3,Dr(12),ea(this),Od(this);break e}}if(this.P){V=!0;let yo;for(;!this.J&&this.C<De.length;)if(yo=mk(this,De),yo==Pg){Vr==4&&(this.s=4,Dr(14),V=!1),Ga(this.i,this.l,null,"[Incomplete Response]");break}else if(yo==_w){this.s=4,Dr(15),Ga(this.i,this.l,De,"[Invalid Chunk]"),V=!1;break}else Ga(this.i,this.l,yo,null),Ew(this,yo);if(Y1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vr!=4||De.length!=0||this.h.h||(this.s=1,Dr(16),V=!1),this.o=this.o&&V,!V)Ga(this.i,this.l,De,"[Invalid Chunked Response]"),ea(this),Od(this);else if(0<De.length&&!this.W){this.W=!0;var ps=this.j;ps.g==this&&ps.ba&&!ps.M&&(ps.j.info("Great, no buffering proxy detected. Bytes received: "+De.length),kw(ps),ps.M=!0,Dr(11))}}else Ga(this.i,this.l,De,null),Ew(this,De);Vr==4&&ea(this),this.o&&!this.J&&(Vr==4?Hg(this.j,this):(this.o=!1,Un(this)))}else Bg(this.g),V==400&&0<De.indexOf("Unknown SID")?(this.s=3,Dr(12)):(this.s=0,Dr(13)),ea(this),Od(this)}}}catch{}finally{}};function Y1(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function mk(w,M){var V=w.C,G=M.indexOf(`
`,V);return G==-1?Pg:(V=Number(M.substring(V,G)),isNaN(V)?_w:(G+=1,G+V>M.length?Pg:(M=M.slice(G,G+V),w.C=G+V,M)))}Ya.prototype.cancel=function(){this.J=!0,ea(this)};function Un(w){w.S=Date.now()+w.I,X1(w,w.I)}function X1(w,M){if(w.B!=null)throw Error("WatchDog timer not null");w.B=qa(m(w.ba,w),M)}function Hf(w){w.B&&(a.clearTimeout(w.B),w.B=null)}Ya.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(bw(this.i,this.A),this.L!=2&&(Pr(),Dr(17)),ea(this),this.s=2,Od(this)):X1(this,this.S-w)};function Od(w){w.j.G==0||w.J||Hg(w.j,w)}function ea(w){Hf(w);var M=w.M;M&&typeof M.ma=="function"&&M.ma(),w.M=null,Cn(w.U),w.g&&(M=w.g,w.g=null,M.abort(),M.ma())}function Ew(w,M){try{var V=w.j;if(V.G!=0&&(V.g==w||yi(V.h,w))){if(!w.K&&yi(V.h,w)&&V.G==3){try{var G=V.Da.g.parse(M)}catch{G=null}if(Array.isArray(G)&&G.length==3){var oe=G;if(oe[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<w.F)Vg(V),el(V);else break e;Ug(V),Dr(18)}}else V.za=oe[1],0<V.za-V.T&&37500>oe[2]&&V.F&&V.v==0&&!V.C&&(V.C=qa(m(V.Za,V),6e3));if(1>=Q1(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else Qc(V,11)}else if((w.K||V.g==w)&&Vg(V),!x(M))for(oe=V.Da.g.parse(M),M=0;M<oe.length;M++){let tn=oe[M];if(V.T=tn[0],tn=tn[1],V.G==2)if(tn[0]=="c"){V.K=tn[1],V.ia=tn[2];const ps=tn[3];ps!=null&&(V.la=ps,V.j.info("VER="+V.la));const Vr=tn[4];Vr!=null&&(V.Aa=Vr,V.j.info("SVER="+V.Aa));const na=tn[5];na!=null&&typeof na=="number"&&0<na&&(G=1.5*na,V.L=G,V.j.info("backChannelRequestTimeoutMs_="+G)),G=V;const yo=w.g;if(yo){const Xf=yo.g?yo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xf){var pe=G.h;pe.g||Xf.indexOf("spdy")==-1&&Xf.indexOf("quic")==-1&&Xf.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(Cw(pe,pe.h),pe.h=null))}if(G.D){const Wg=yo.g?yo.g.getResponseHeader("X-HTTP-Session-Id"):null;Wg&&(G.ya=Wg,Mn(G.I,G.D,Wg))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-w.F,V.j.info("Handshake RTT: "+V.R+"ms")),G=V;var De=w;if(G.qa=dC(G,G.J?G.ia:null,G.W),De.K){Z1(G.h,De);var wn=De,Jr=G.L;Jr&&(wn.I=Jr),wn.B&&(Hf(wn),Un(wn)),G.g=De}else Yf(G);0<V.i.length&&Vl(V)}else tn[0]!="stop"&&tn[0]!="close"||Qc(V,7);else V.G==3&&(tn[0]=="stop"||tn[0]=="close"?tn[0]=="stop"?Qc(V,7):ks(V):tn[0]!="noop"&&V.l&&V.l.ta(tn),V.v=0)}}Pr(4)}catch{}}var J1=class{constructor(w,M){this.g=w,this.map=M}};function zf(w){this.l=w||10,a.PerformanceNavigationTiming?(w=a.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function po(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function Q1(w){return w.h?1:w.g?w.g.size:0}function yi(w,M){return w.h?w.h==M:w.g?w.g.has(M):!1}function Cw(w,M){w.g?w.g.add(M):w.h=M}function Z1(w,M){w.h&&w.h==M?w.h=null:w.g&&w.g.has(M)&&w.g.delete(M)}zf.prototype.cancel=function(){if(this.i=eC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function eC(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let M=w.i;for(const V of w.g.values())M=M.concat(V.D);return M}return v(w.i)}function Mg(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(l(w)){for(var M=[],V=w.length,G=0;G<V;G++)M.push(w[G]);return M}M=[],V=0;for(G in w)M[V++]=w[G];return M}function Og(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(l(w)||typeof w=="string"){var M=[];w=w.length;for(var V=0;V<w;V++)M.push(V);return M}M=[],V=0;for(const G in w)M[V++]=G;return M}}}function Ld(w,M){if(w.forEach&&typeof w.forEach=="function")w.forEach(M,void 0);else if(l(w)||typeof w=="string")Array.prototype.forEach.call(w,M,void 0);else for(var V=Og(w),G=Mg(w),oe=G.length,pe=0;pe<oe;pe++)M.call(void 0,G[pe],V&&V[pe],w)}var Wf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gk(w,M){if(w){w=w.split("&");for(var V=0;V<w.length;V++){var G=w[V].indexOf("="),oe=null;if(0<=G){var pe=w[V].substring(0,G);oe=w[V].substring(G+1)}else pe=w[V];M(pe,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function Kc(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof Kc){this.h=w.h,qf(this,w.j),this.o=w.o,this.g=w.g,Nd(this,w.s),this.l=w.l;var M=w.i,V=new $l;V.i=M.i,M.g&&(V.g=new Map(M.g),V.h=M.h),Fd(this,V),this.m=w.m}else w&&(M=String(w).match(Wf))?(this.h=!1,qf(this,M[1]||"",!0),this.o=Xt(M[2]||""),this.g=Xt(M[3]||"",!0),Nd(this,M[4]),this.l=Xt(M[5]||"",!0),Fd(this,M[6]||"",!0),this.m=Xt(M[7]||"")):(this.h=!1,this.i=new $l(null,this.h))}Kc.prototype.toString=function(){var w=[],M=this.j;M&&w.push($d(M,Lg,!0),":");var V=this.g;return(V||M=="file")&&(w.push("//"),(M=this.o)&&w.push($d(M,Lg,!0),"@"),w.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&w.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&w.push("/"),w.push($d(V,V.charAt(0)=="/"?rC:nC,!0))),(V=this.i.toString())&&w.push("?",V),(V=this.m)&&w.push("#",$d(V,Tw)),w.join("")};function mo(w){return new Kc(w)}function qf(w,M,V){w.j=V?Xt(M,!0):M,w.j&&(w.j=w.j.replace(/:$/,""))}function Nd(w,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);w.s=M}else w.s=null}function Fd(w,M,V){M instanceof $l?(w.i=M,jl(w.i,w.h)):(V||(M=$d(M,sC)),w.i=new $l(M,w.h))}function Mn(w,M,V){w.i.set(M,V)}function Bd(w){return Mn(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function Xt(w,M){return w?M?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function $d(w,M,V){return typeof w=="string"?(w=encodeURI(w).replace(M,tC),V&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function tC(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var Lg=/[#\/\?@]/g,nC=/[#\?:]/g,rC=/[#\?]/g,sC=/[#\?@]/g,Tw=/#/g;function $l(w,M){this.h=this.g=null,this.i=w||null,this.j=!!M}function Is(w){w.g||(w.g=new Map,w.h=0,w.i&&gk(w.i,function(M,V){w.add(decodeURIComponent(M.replace(/\+/g," ")),V)}))}n=$l.prototype,n.add=function(w,M){Is(this),this.i=null,w=ta(this,w);var V=this.g.get(w);return V||this.g.set(w,V=[]),V.push(M),this.h+=1,this};function Xa(w,M){Is(w),M=ta(w,M),w.g.has(M)&&(w.i=null,w.h-=w.g.get(M).length,w.g.delete(M))}function Ja(w,M){return Is(w),M=ta(w,M),w.g.has(M)}n.forEach=function(w,M){Is(this),this.g.forEach(function(V,G){V.forEach(function(oe){w.call(M,oe,G,this)},this)},this)},n.na=function(){Is(this);const w=Array.from(this.g.values()),M=Array.from(this.g.keys()),V=[];for(let G=0;G<M.length;G++){const oe=w[G];for(let pe=0;pe<oe.length;pe++)V.push(M[G])}return V},n.V=function(w){Is(this);let M=[];if(typeof w=="string")Ja(this,w)&&(M=M.concat(this.g.get(ta(this,w))));else{w=Array.from(this.g.values());for(let V=0;V<w.length;V++)M=M.concat(w[V])}return M},n.set=function(w,M){return Is(this),this.i=null,w=ta(this,w),Ja(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[M]),this.h+=1,this},n.get=function(w,M){return w?(w=this.V(w),0<w.length?String(w[0]):M):M};function jd(w,M,V){Xa(w,M),0<V.length&&(w.i=null,w.g.set(ta(w,M),v(V)),w.h+=V.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],M=Array.from(this.g.keys());for(var V=0;V<M.length;V++){var G=M[V];const pe=encodeURIComponent(String(G)),De=this.V(G);for(G=0;G<De.length;G++){var oe=pe;De[G]!==""&&(oe+="="+encodeURIComponent(String(De[G]))),w.push(oe)}}return this.i=w.join("&")};function ta(w,M){return M=String(M),w.j&&(M=M.toLowerCase()),M}function jl(w,M){M&&!w.j&&(Is(w),w.i=null,w.g.forEach(function(V,G){var oe=G.toLowerCase();G!=oe&&(Xa(this,G),jd(this,oe,V))},w)),w.j=M}function yk(w,M){const V=new jf;if(a.Image){const G=new Image;G.onload=y(Mi,V,"TestLoadImage: loaded",!0,M,G),G.onerror=y(Mi,V,"TestLoadImage: error",!1,M,G),G.onabort=y(Mi,V,"TestLoadImage: abort",!1,M,G),G.ontimeout=y(Mi,V,"TestLoadImage: timeout",!1,M,G),a.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=w}else M(!1)}function iC(w,M){const V=new jf,G=new AbortController,oe=setTimeout(()=>{G.abort(),Mi(V,"TestPingServer: timeout",!1,M)},1e4);fetch(w,{signal:G.signal}).then(pe=>{clearTimeout(oe),pe.ok?Mi(V,"TestPingServer: ok",!0,M):Mi(V,"TestPingServer: server error",!1,M)}).catch(()=>{clearTimeout(oe),Mi(V,"TestPingServer: error",!1,M)})}function Mi(w,M,V,G,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),G(V)}catch{}}function vk(){this.g=new Gn}function oC(w,M,V){const G=V||"";try{Ld(w,function(oe,pe){let De=oe;u(oe)&&(De=rt(oe)),M.push(G+pe+"="+encodeURIComponent(De))})}catch(oe){throw M.push(G+"type="+encodeURIComponent("_badmap")),oe}}function Yc(w){this.l=w.Ub||null,this.j=w.eb||!1}b(Yc,Xr),Yc.prototype.g=function(){return new Gf(this.l,this.j)},Yc.prototype.i=(function(w){return function(){return w}})({});function Gf(w,M){Gt.call(this),this.D=w,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Gf,Gt),n=Gf.prototype,n.open=function(w,M){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=M,this.readyState=1,Za(this)},n.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(M.body=w),(this.D||a).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qa(this)),this.readyState=0},n.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Za(this)),this.g&&(this.readyState=3,Za(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;aC(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function aC(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}n.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var M=w.value?w.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!w.done}))&&(this.response=this.responseText+=M)}w.done?Qa(this):Za(this),this.readyState==3&&aC(this)}},n.Ra=function(w){this.g&&(this.response=this.responseText=w,Qa(this))},n.Qa=function(w){this.g&&(this.response=w,Qa(this))},n.ga=function(){this.g&&Qa(this)};function Qa(w){w.readyState=4,w.l=null,w.j=null,w.v=null,Za(w)}n.setRequestHeader=function(w,M){this.u.append(w,M)},n.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],M=this.h.entries();for(var V=M.next();!V.done;)V=V.value,w.push(V[0]+": "+V[1]),V=M.next();return w.join(`\r
`)};function Za(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(Gf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function Xc(w){let M="";return L(w,function(V,G){M+=G,M+=":",M+=V,M+=`\r
`}),M}function Ud(w,M,V){e:{for(G in V){var G=!1;break e}G=!0}G||(V=Xc(V),typeof w=="string"?V!=null&&encodeURIComponent(String(V)):Mn(w,M,V))}function tr(w){Gt.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(tr,Gt);var wk=/^https?$/i,xw=["POST","PUT"];n=tr.prototype,n.Ha=function(w){this.J=w},n.ea=function(w,M,V,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);M=M?M.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ka.g(),this.v=this.o?Wa(this.o):Wa(Ka),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(M,String(w),!0),this.B=!1}catch(pe){Kf(this,pe);return}if(w=V||"",V=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var oe in G)V.set(oe,G[oe]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const pe of G.keys())V.set(pe,G.get(pe));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(V.keys()).find(pe=>pe.toLowerCase()=="content-type"),oe=a.FormData&&w instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xw,M,void 0))||G||oe||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,De]of V)this.g.setRequestHeader(pe,De);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fg(this),this.u=!0,this.g.send(w),this.u=!1}catch(pe){Kf(this,pe)}};function Kf(w,M){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=M,w.m=5,Ng(w),go(w)}function Ng(w){w.A||(w.A=!0,lt(w,"complete"),lt(w,"error"))}n.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,lt(this,"complete"),lt(this,"abort"),go(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),go(this,!0)),tr.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Aw(this):this.bb())},n.bb=function(){Aw(this)};function Aw(w){if(w.h&&typeof o<"u"&&(!w.v[1]||Oi(w)!=4||w.Z()!=2)){if(w.u&&Oi(w)==4)Kt(w.Ea,0,w);else if(lt(w,"readystatechange"),Oi(w)==4){w.h=!1;try{const De=w.Z();e:switch(De){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var V;if(!(V=M)){var G;if(G=De===0){var oe=String(w.D).match(Wf)[1]||null;!oe&&a.self&&a.self.location&&(oe=a.self.location.protocol.slice(0,-1)),G=!wk.test(oe?oe.toLowerCase():"")}V=G}if(V)lt(w,"complete"),lt(w,"success");else{w.m=6;try{var pe=2<Oi(w)?w.g.statusText:""}catch{pe=""}w.l=pe+" ["+w.Z()+"]",Ng(w)}}finally{go(w)}}}}function go(w,M){if(w.g){Fg(w);const V=w.g,G=w.v[0]?()=>{}:null;w.g=null,w.v=null,M||lt(w,"ready");try{V.onreadystatechange=G}catch{}}}function Fg(w){w.I&&(a.clearTimeout(w.I),w.I=null)}n.isActive=function(){return!!this.g};function Oi(w){return w.g?w.g.readyState:0}n.Z=function(){try{return 2<Oi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(w){if(this.g){var M=this.g.responseText;return w&&M.indexOf(w)==0&&(M=M.substring(w.length)),Yt(M)}};function Rw(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function Bg(w){const M={};w=(w.g&&2<=Oi(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<w.length;G++){if(x(w[G]))continue;var V=$(w[G]);const oe=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const pe=M[oe]||[];M[oe]=pe,pe.push(V)}P(M,function(G){return G.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ul(w,M,V){return V&&V.internalChannelParams&&V.internalChannelParams[w]||M}function Iw(w){this.Aa=0,this.i=[],this.j=new jf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ul("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ul("baseRetryDelayMs",5e3,w),this.cb=Ul("retryDelaySeedMs",1e4,w),this.Wa=Ul("forwardChannelMaxRetries",2,w),this.wa=Ul("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new zf(w&&w.concurrentRequestLimit),this.Da=new vk,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Iw.prototype,n.la=8,n.G=1,n.connect=function(w,M,V,G){Dr(0),this.W=w,this.H=M||{},V&&G!==void 0&&(this.H.OSID=V,this.H.OAID=G),this.F=this.X,this.I=dC(this,null,this.W),Vl(this)};function ks(w){if($g(w),w.G==3){var M=w.U++,V=mo(w.I);if(Mn(V,"SID",w.K),Mn(V,"RID",M),Mn(V,"TYPE","terminate"),Jc(w,V),M=new Ya(w,w.j,M),M.L=2,M.v=Bd(mo(V)),V=!1,a.navigator&&a.navigator.sendBeacon)try{V=a.navigator.sendBeacon(M.v.toString(),"")}catch{}!V&&a.Image&&(new Image().src=M.v,V=!0),V||(M.g=hC(M.j,null),M.g.ea(M.v)),M.F=Date.now(),Un(M)}uC(w)}function el(w){w.g&&(kw(w),w.g.cancel(),w.g=null)}function $g(w){el(w),w.u&&(a.clearTimeout(w.u),w.u=null),Vg(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&a.clearTimeout(w.s),w.s=null)}function Vl(w){if(!po(w.h)&&!w.s){w.s=!0;var M=w.Ga;ee||de(),Q||(ee(),Q=!0),te.add(M,w),w.B=0}}function bk(w,M){return Q1(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=M.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=qa(m(w.Ga,w,M),cC(w,w.B)),w.B++,!0)}n.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const oe=new Ya(this,this.j,w);let pe=this.o;if(this.S&&(pe?(pe=D(pe),T(pe,this.S)):pe=this.S),this.m!==null||this.O||(oe.H=pe,pe=null),this.P)e:{for(var M=0,V=0;V<this.i.length;V++){t:{var G=this.i[V];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(M+=G,4096<M){M=V;break e}if(M===4096||V===this.i.length-1){M=V+1;break e}}M=1e3}else M=1e3;M=Vd(this,oe,M),V=mo(this.I),Mn(V,"RID",w),Mn(V,"CVER",22),this.D&&Mn(V,"X-HTTP-Session-Id",this.D),Jc(this,V),pe&&(this.O?M="headers="+encodeURIComponent(String(Xc(pe)))+"&"+M:this.m&&Ud(V,this.m,pe)),Cw(this.h,oe),this.Ua&&Mn(V,"TYPE","init"),this.P?(Mn(V,"$req",M),Mn(V,"SID","null"),oe.T=!0,Dg(oe,V,null)):Dg(oe,V,M),this.G=2}}else this.G==3&&(w?jg(this,w):this.i.length==0||po(this.h)||jg(this))};function jg(w,M){var V;M?V=M.l:V=w.U++;const G=mo(w.I);Mn(G,"SID",w.K),Mn(G,"RID",V),Mn(G,"AID",w.T),Jc(w,G),w.m&&w.o&&Ud(G,w.m,w.o),V=new Ya(w,w.j,V,w.B+1),w.m===null&&(V.H=w.o),M&&(w.i=M.D.concat(w.i)),M=Vd(w,V,1e3),V.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),Cw(w.h,V),Dg(V,G,M)}function Jc(w,M){w.H&&L(w.H,function(V,G){Mn(M,G,V)}),w.l&&Ld({},function(V,G){Mn(M,G,V)})}function Vd(w,M,V){V=Math.min(w.i.length,V);var G=w.l?m(w.l.Na,w.l,w):null;e:{var oe=w.i;let pe=-1;for(;;){const De=["count="+V];pe==-1?0<V?(pe=oe[0].g,De.push("ofs="+pe)):pe=0:De.push("ofs="+pe);let wn=!0;for(let Jr=0;Jr<V;Jr++){let tn=oe[Jr].g;const ps=oe[Jr].map;if(tn-=pe,0>tn)pe=Math.max(0,oe[Jr].g-100),wn=!1;else try{oC(ps,De,"req"+tn+"_")}catch{G&&G(ps)}}if(wn){G=De.join("&");break e}}}return w=w.i.splice(0,V),M.D=w,G}function Yf(w){if(!w.g&&!w.u){w.Y=1;var M=w.Fa;ee||de(),Q||(ee(),Q=!0),te.add(M,w),w.v=0}}function Ug(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=qa(m(w.Fa,w),cC(w,w.v)),w.v++,!0)}n.Fa=function(){if(this.u=null,lC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=qa(m(this.ab,this),w)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dr(10),el(this),lC(this))};function kw(w){w.A!=null&&(a.clearTimeout(w.A),w.A=null)}function lC(w){w.g=new Ya(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var M=mo(w.qa);Mn(M,"RID","rpc"),Mn(M,"SID",w.K),Mn(M,"AID",w.T),Mn(M,"CI",w.F?"0":"1"),!w.F&&w.ja&&Mn(M,"TO",w.ja),Mn(M,"TYPE","xmlhttp"),Jc(w,M),w.m&&w.o&&Ud(M,w.m,w.o),w.L&&(w.g.I=w.L);var V=w.g;w=w.ia,V.L=1,V.v=Bd(mo(M)),V.m=null,V.P=!0,Sw(V,w)}n.Za=function(){this.C!=null&&(this.C=null,el(this),Ug(this),Dr(19))};function Vg(w){w.C!=null&&(a.clearTimeout(w.C),w.C=null)}function Hg(w,M){var V=null;if(w.g==M){Vg(w),kw(w),w.g=null;var G=2}else if(yi(w.h,M))V=M.D,Z1(w.h,M),G=1;else return;if(w.G!=0){if(M.o)if(G==1){V=M.m?M.m.length:0,M=Date.now()-M.F;var oe=w.B;G=Gc(),lt(G,new Rg(G,V)),Vl(w)}else Yf(w);else if(oe=M.s,oe==3||oe==0&&0<M.X||!(G==1&&bk(w,M)||G==2&&Ug(w)))switch(V&&0<V.length&&(M=w.h,M.i=M.i.concat(V)),oe){case 1:Qc(w,5);break;case 4:Qc(w,10);break;case 3:Qc(w,6);break;default:Qc(w,2)}}}function cC(w,M){let V=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(V*=2),V*M}function Qc(w,M){if(w.j.info("Error code "+M),M==2){var V=m(w.fb,w),G=w.Xa;const oe=!G;G=new Kc(G||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qf(G,"https"),Bd(G),oe?yk(G.toString(),V):iC(G.toString(),V)}else Dr(2);w.G=0,w.l&&w.l.sa(M),uC(w),$g(w)}n.fb=function(w){w?(this.j.info("Successfully pinged google.com"),Dr(2)):(this.j.info("Failed to ping google.com"),Dr(1))};function uC(w){if(w.G=0,w.ka=[],w.l){const M=eC(w.h);(M.length!=0||w.i.length!=0)&&(_(w.ka,M),_(w.ka,w.i),w.h.i.length=0,v(w.i),w.i.length=0),w.l.ra()}}function dC(w,M,V){var G=V instanceof Kc?mo(V):new Kc(V);if(G.g!="")M&&(G.g=M+"."+G.g),Nd(G,G.s);else{var oe=a.location;G=oe.protocol,M=M?M+"."+oe.hostname:oe.hostname,oe=+oe.port;var pe=new Kc(null);G&&qf(pe,G),M&&(pe.g=M),oe&&Nd(pe,oe),V&&(pe.l=V),G=pe}return V=w.D,M=w.ya,V&&M&&Mn(G,V,M),Mn(G,"VER",w.la),Jc(w,G),G}function hC(w,M,V){if(M&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return M=w.Ca&&!w.pa?new tr(new Yc({eb:V})):new tr(w.pa),M.Ha(w.J),M}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pw(){}n=Pw.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function zg(){}zg.prototype.g=function(w,M){return new vi(w,M)};function vi(w,M){Gt.call(this),this.g=new Iw(M),this.l=w,this.h=M&&M.messageUrlParams||null,w=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(w?w["X-WebChannel-Content-Type"]=M.messageContentType:w={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(w?w["X-WebChannel-Client-Profile"]=M.va:w={"X-WebChannel-Client-Profile":M.va}),this.g.S=w,(w=M&&M.Sb)&&!x(w)&&(this.g.m=w),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!x(M)&&(this.g.D=M,w=this.h,w!==null&&M in w&&(w=this.h,M in w&&delete w[M])),this.j=new Hl(this)}b(vi,Gt),vi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vi.prototype.close=function(){ks(this.g)},vi.prototype.o=function(w){var M=this.g;if(typeof w=="string"){var V={};V.__data__=w,w=V}else this.u&&(V={},V.__data__=rt(w),w=V);M.i.push(new J1(M.Ya++,w)),M.G==3&&Vl(M)},vi.prototype.N=function(){this.g.l=null,delete this.j,ks(this.g),delete this.g,vi.aa.N.call(this)};function fC(w){Qo.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var M=w.__sm__;if(M){e:{for(const V in M){w=V;break e}w=void 0}(this.i=w)&&(w=this.i,M=M!==null&&w in M?M[w]:void 0),this.data=M}else this.data=w}b(fC,Qo);function pC(){Dd.call(this),this.status=1}b(pC,Dd);function Hl(w){this.g=w}b(Hl,Pw),Hl.prototype.ua=function(){lt(this.g,"a")},Hl.prototype.ta=function(w){lt(this.g,new fC(w))},Hl.prototype.sa=function(w){lt(this.g,new pC)},Hl.prototype.ra=function(){lt(this.g,"b")},zg.prototype.createWebChannel=zg.prototype.g,vi.prototype.send=vi.prototype.o,vi.prototype.open=vi.prototype.m,vi.prototype.close=vi.prototype.close,rY=function(){return new zg},nY=function(){return Gc()},tY=Zo,sN={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kg.NO_ERROR=0,kg.TIMEOUT=8,kg.HTTP_ERROR=6,nx=kg,G1.COMPLETE="complete",eY=G1,Pd.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",Gt.prototype.listen=Gt.prototype.K,Db=Pd,tr.prototype.listenOnce=tr.prototype.L,tr.prototype.getLastError=tr.prototype.Ka,tr.prototype.getLastErrorCode=tr.prototype.Ba,tr.prototype.getStatus=tr.prototype.Z,tr.prototype.getResponseJson=tr.prototype.Oa,tr.prototype.getResponseText=tr.prototype.oa,tr.prototype.send=tr.prototype.ea,tr.prototype.setWithCredentials=tr.prototype.Ha,ZK=tr}).apply(typeof ET<"u"?ET:typeof self<"u"?self:typeof window<"u"?window:{});const x9="@firebase/firestore",A9="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}li.UNAUTHENTICATED=new li(null),li.GOOGLE_CREDENTIALS=new li("google-credentials-uid"),li.FIRST_PARTY=new li("first-party-uid"),li.MOCK_USER=new li("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sw="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=new HR("@firebase/firestore");function Sy(){return ng.logLevel}function Ve(n,...e){if(ng.logLevel<=Ht.DEBUG){const t=e.map(D$);ng.debug(`Firestore (${sw}): ${n}`,...t)}}function Sd(n,...e){if(ng.logLevel<=Ht.ERROR){const t=e.map(D$);ng.error(`Firestore (${sw}): ${n}`,...t)}}function $0(n,...e){if(ng.logLevel<=Ht.WARN){const t=e.map(D$);ng.warn(`Firestore (${sw}): ${n}`,...t)}}function D$(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(n="Unexpected state"){const e=`FIRESTORE (${sw}) INTERNAL ASSERTION FAILED: `+n;throw Sd(e),new Error(e)}function gn(n,e){n||ht()}function bt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends Ll{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sY{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class E0e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(li.UNAUTHENTICATED)))}shutdown(){}}class C0e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class T0e{constructor(e){this.t=e,this.currentUser=li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){gn(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let i=new ud;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ud,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const l=i;e.enqueueRetryable((async()=>{await l.promise,await s(this.currentUser)}))},a=l=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ud)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gn(typeof r.accessToken=="string"),new sY(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gn(e===null||typeof e=="string"),new li(e)}}class x0e{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=li.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class A0e{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new x0e(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(li.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class R9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R0e{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Wo(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){gn(this.o===void 0);const r=i=>{i.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new R9(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(gn(typeof t.token=="string"),this.R=t.token,new R9(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0e(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=I0e(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%62))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function j0(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=-62135596800,k9=1e6;class cs{static now(){return cs.fromMillis(Date.now())}static fromDate(e){return cs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*k9);return new cs(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new nt(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new nt(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<I9)throw new nt(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nt(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k9}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-I9;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new cs(0,0))}static max(){return new yt(new cs(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="__name__";class ec{constructor(e,t,r){t===void 0?t=0:t>e.length&&ht(),r===void 0?r=e.length-t:r>e.length-t&&ht(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ec.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ec?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=ec.compareSegments(e.get(s),t.get(s));if(i!==0)return i}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=ec.isNumericId(e),s=ec.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?ec.extractNumericId(e).compare(ec.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hf.fromString(e.substring(4,e.length-2))}}class cr extends ec{construct(e,t,r){return new cr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new nt(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new cr(t)}static emptyPath(){return new cr([])}}const k0e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hs extends ec{construct(e,t,r){return new Hs(e,t,r)}static isValidIdentifier(e){return k0e.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P9}static keyField(){return new Hs([P9])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new nt(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new nt(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new nt(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new nt(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hs(t)}static emptyPath(){return new Hs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.path=e}static fromPath(e){return new at(cr.fromString(e))}static fromName(e){return new at(cr.fromString(e).popFirst(5))}static empty(){return new at(cr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&cr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return cr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new cr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=-1;function P0e(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=yt.fromTimestamp(r===1e9?new cs(t+1,0):new cs(t,r));return new vf(s,at.empty(),e)}function D0e(n){return new vf(n.readTime,n.key,M_)}class vf{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new vf(yt.min(),at.empty(),M_)}static max(){return new vf(yt.max(),at.empty(),M_)}}function M0e(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=at.comparator(n.documentKey,e.documentKey),t!==0?t:Zt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0e="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L0e{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(n){if(n.code!==Ce.FAILED_PRECONDITION||n.message!==O0e)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ye.reject(t)}static resolve(e){return new ye(((t,r)=>{t(e)}))}static reject(e){return new ye(((t,r)=>{r(e)}))}static waitFor(e){return new ye(((t,r)=>{let s=0,i=0,o=!1;e.forEach((a=>{++s,a.next((()=>{++i,o&&i===s&&t()}),(l=>r(l)))})),o=!0,i===s&&t()}))}static or(e){let t=ye.resolve(!1);for(const r of e)t=t.next((s=>s?ye.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,i)=>{r.push(t.call(this,s,i))})),this.waitFor(r)}static mapArray(e,t){return new ye(((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;t(e[u]).next((h=>{o[u]=h,++a,a===i&&r(o)}),(h=>s(h)))}}))}static doWhile(e,t){return new ye(((r,s)=>{const i=()=>{e()===!0?t().next((()=>{i()}),s):r()};i()}))}}function N0e(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ow(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}nI.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$=-1;function rI(n){return n==null}function TA(n){return n===0&&1/n==-1/0}function F0e(n){return typeof n=="number"&&Number.isInteger(n)&&!TA(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY="";function B0e(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=D9(e)),e=$0e(n.get(t),e);return D9(e)}function $0e(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case oY:t+="";break;default:t+=i}}return t}function D9(n){return n+oY+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Lf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function aY(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t){this.comparator=e,this.root=t||$s.EMPTY}insert(e,t){return new wr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$s.BLACK,null,null))}remove(e){return new wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$s.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new CT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new CT(this.root,e,this.comparator,!1)}getReverseIterator(){return new CT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new CT(this.root,e,this.comparator,!0)}}class CT{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $s{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??$s.RED,this.left=s??$s.EMPTY,this.right=i??$s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new $s(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return $s.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const e=this.left.check();if(e!==this.right.check())throw ht();return e+(this.isRed()?0:1)}}$s.EMPTY=null,$s.RED=!0,$s.BLACK=!1;$s.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(e,t,r,s,i){return this}insert(e,t,r){return new $s(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.comparator=e,this.data=new wr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new O9(this.data.getIterator())}getIteratorFrom(e){return new O9(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof us)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new us(this.comparator);return t.data=e,t}}class O9{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.fields=e,e.sort(Hs.comparator)}static empty(){return new qo([])}unionWith(e){let t=new us(Hs.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new qo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return j0(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new lY("Invalid base64 string: "+i):i}})(e);return new qs(t)}static fromUint8Array(e){const t=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new qs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qs.EMPTY_BYTE_STRING=new qs("");const j0e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wf(n){if(gn(!!n),typeof n=="string"){let e=0;const t=j0e.exec(n);if(gn(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Br(n.seconds),nanos:Br(n.nanos)}}function Br(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function bf(n){return typeof n=="string"?qs.fromBase64String(n):qs.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cY="server_timestamp",uY="__type__",dY="__previous_value__",hY="__local_write_time__";function O$(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[uY])===null||t===void 0?void 0:t.stringValue)===cY}function sI(n){const e=n.mapValue.fields[dY];return O$(e)?sI(e):e}function O_(n){const e=wf(n.mapValue.fields[hY].timestampValue);return new cs(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0e{constructor(e,t,r,s,i,o,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}const xA="(default)";class L_{constructor(e,t){this.projectId=e,this.database=t||xA}static empty(){return new L_("","")}get isDefaultDatabase(){return this.database===xA}isEqual(e){return e instanceof L_&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY="__type__",V0e="__max__",TT={mapValue:{}},pY="__vector__",AA="value";function _f(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?O$(n)?4:z0e(n)?9007199254740991:H0e(n)?10:11:ht()}function Lc(n,e){if(n===e)return!0;const t=_f(n);if(t!==_f(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return O_(n).isEqual(O_(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=wf(s.timestampValue),a=wf(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,i){return bf(s.bytesValue).isEqual(bf(i.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,i){return Br(s.geoPointValue.latitude)===Br(i.geoPointValue.latitude)&&Br(s.geoPointValue.longitude)===Br(i.geoPointValue.longitude)})(n,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Br(s.integerValue)===Br(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Br(s.doubleValue),a=Br(i.doubleValue);return o===a?TA(o)===TA(a):isNaN(o)&&isNaN(a)}return!1})(n,e);case 9:return j0(n.arrayValue.values||[],e.arrayValue.values||[],Lc);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(M9(o)!==M9(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Lc(o[l],a[l])))return!1;return!0})(n,e);default:return ht()}}function N_(n,e){return(n.values||[]).find((t=>Lc(t,e)))!==void 0}function U0(n,e){if(n===e)return 0;const t=_f(n),r=_f(e);if(t!==r)return Zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return(function(i,o){const a=Br(i.integerValue||i.doubleValue),l=Br(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(n,e);case 3:return L9(n.timestampValue,e.timestampValue);case 4:return L9(O_(n),O_(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return(function(i,o){const a=bf(i),l=bf(o);return a.compareTo(l)})(n.bytesValue,e.bytesValue);case 7:return(function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Zt(a[u],l[u]);if(h!==0)return h}return Zt(a.length,l.length)})(n.referenceValue,e.referenceValue);case 8:return(function(i,o){const a=Zt(Br(i.latitude),Br(o.latitude));return a!==0?a:Zt(Br(i.longitude),Br(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return N9(n.arrayValue,e.arrayValue);case 10:return(function(i,o){var a,l,u,h;const p=i.fields||{},m=o.fields||{},y=(a=p[AA])===null||a===void 0?void 0:a.arrayValue,b=(l=m[AA])===null||l===void 0?void 0:l.arrayValue,v=Zt(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return v!==0?v:N9(y,b)})(n.mapValue,e.mapValue);case 11:return(function(i,o){if(i===TT.mapValue&&o===TT.mapValue)return 0;if(i===TT.mapValue)return 1;if(o===TT.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const m=Zt(l[p],h[p]);if(m!==0)return m;const y=U0(a[l[p]],u[h[p]]);if(y!==0)return y}return Zt(l.length,h.length)})(n.mapValue,e.mapValue);default:throw ht()}}function L9(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Zt(n,e);const t=wf(n),r=wf(e),s=Zt(t.seconds,r.seconds);return s!==0?s:Zt(t.nanos,r.nanos)}function N9(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=U0(t[s],r[s]);if(i)return i}return Zt(t.length,r.length)}function V0(n){return iN(n)}function iN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=wf(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return bf(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return at.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=iN(i);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${iN(t.fields[o])}`;return s+"}"})(n.mapValue):ht()}function rx(n){switch(_f(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sI(n);return e?16+rx(e):16;case 5:return 2*n.stringValue.length;case 6:return bf(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+rx(i)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Lf(r.fields,((i,o)=>{s+=i.length+rx(o)})),s})(n.mapValue);default:throw ht()}}function oN(n){return!!n&&"integerValue"in n}function L$(n){return!!n&&"arrayValue"in n}function F9(n){return!!n&&"nullValue"in n}function B9(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sx(n){return!!n&&"mapValue"in n}function H0e(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[fY])===null||t===void 0?void 0:t.stringValue)===pY}function m_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Lf(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=m_(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=m_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function z0e(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===V0e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.value=e}static empty(){return new eo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sx(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=m_(t)}setAll(e){let t=Hs.emptyPath(),r={},s=[];e.forEach(((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,s),r={},s=[],t=a.popLast()}o?r[a.lastSegment()]=m_(o):s.push(a.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());sx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Lc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];sx(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Lf(t,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new eo(m_(this.value))}}function mY(n){const e=[];return Lf(n.fields,((t,r)=>{const s=new Hs([t]);if(sx(r)){const i=mY(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new qo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,t,r,s,i,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ci(e,0,yt.min(),yt.min(),yt.min(),eo.empty(),0)}static newFoundDocument(e,t,r,s){return new ci(e,1,t,yt.min(),r,s,0)}static newNoDocument(e,t){return new ci(e,2,t,yt.min(),yt.min(),eo.empty(),0)}static newUnknownDocument(e,t){return new ci(e,3,t,yt.min(),yt.min(),eo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=eo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=eo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ci&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,t){this.position=e,this.inclusive=t}}function $9(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],o=n.position[s];if(i.field.isKeyField()?r=at.comparator(at.fromName(o.referenceValue),t.key):r=U0(o,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function j9(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Lc(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,t="asc"){this.field=e,this.dir=t}}function W0e(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{}class is extends gY{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new G0e(e,t,r):t==="array-contains"?new X0e(e,r):t==="in"?new J0e(e,r):t==="not-in"?new Q0e(e,r):t==="array-contains-any"?new Z0e(e,r):new is(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new K0e(e,r):new Y0e(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(U0(t,this.value)):t!==null&&_f(this.value)===_f(t)&&this.matchesComparison(U0(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ht()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nc extends gY{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Nc(e,t)}matches(e){return yY(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function yY(n){return n.op==="and"}function vY(n){return q0e(n)&&yY(n)}function q0e(n){for(const e of n.filters)if(e instanceof Nc)return!1;return!0}function aN(n){if(n instanceof is)return n.field.canonicalString()+n.op.toString()+V0(n.value);if(vY(n))return n.filters.map((e=>aN(e))).join(",");{const e=n.filters.map((t=>aN(t))).join(",");return`${n.op}(${e})`}}function wY(n,e){return n instanceof is?(function(r,s){return s instanceof is&&r.op===s.op&&r.field.isEqual(s.field)&&Lc(r.value,s.value)})(n,e):n instanceof Nc?(function(r,s){return s instanceof Nc&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,a)=>i&&wY(o,s.filters[a])),!0):!1})(n,e):void ht()}function bY(n){return n instanceof is?(function(t){return`${t.field.canonicalString()} ${t.op} ${V0(t.value)}`})(n):n instanceof Nc?(function(t){return t.op.toString()+" {"+t.getFilters().map(bY).join(" ,")+"}"})(n):"Filter"}class G0e extends is{constructor(e,t,r){super(e,t,r),this.key=at.fromName(r.referenceValue)}matches(e){const t=at.comparator(e.key,this.key);return this.matchesComparison(t)}}class K0e extends is{constructor(e,t){super(e,"in",t),this.keys=_Y("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Y0e extends is{constructor(e,t){super(e,"not-in",t),this.keys=_Y("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function _Y(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((r=>at.fromName(r.referenceValue)))}class X0e extends is{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return L$(t)&&N_(t.arrayValue,this.value)}}class J0e extends is{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&N_(this.value.arrayValue,t)}}class Q0e extends is{constructor(e,t){super(e,"not-in",t)}matches(e){if(N_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!N_(this.value.arrayValue,t)}}class Z0e extends is{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!L$(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>N_(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ewe{constructor(e,t=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function U9(n,e=null,t=[],r=[],s=null,i=null,o=null){return new ewe(n,e,t,r,s,i,o)}function N$(n){const e=bt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>aN(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),rI(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>V0(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>V0(r))).join(",")),e.le=t}return e.le}function F$(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!W0e(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!wY(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!j9(n.startAt,e.startAt)&&j9(n.endAt,e.endAt)}function lN(n){return at.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,t=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function twe(n,e,t,r,s,i,o,a){return new iI(n,e,t,r,s,i,o,a)}function B$(n){return new iI(n)}function V9(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nwe(n){return n.collectionGroup!==null}function g_(n){const e=bt(n);if(e.he===null){e.he=[];const t=new Set;for(const i of e.explicitOrderBy)e.he.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new us(Hs.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(a=a.add(u.field))}))})),a})(e).forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.he.push(new IA(i,r))})),t.has(Hs.keyField().canonicalString())||e.he.push(new IA(Hs.keyField(),r))}return e.he}function Pc(n){const e=bt(n);return e.Pe||(e.Pe=rwe(e,g_(n))),e.Pe}function rwe(n,e){if(n.limitType==="F")return U9(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new IA(s.field,i)}));const t=n.endAt?new RA(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new RA(n.startAt.position,n.startAt.inclusive):null;return U9(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function cN(n,e,t){return new iI(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function oI(n,e){return F$(Pc(n),Pc(e))&&n.limitType===e.limitType}function SY(n){return`${N$(Pc(n))}|lt:${n.limitType}`}function Ey(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>bY(s))).join(", ")}]`),rI(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>V0(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>V0(s))).join(",")),`Target(${r})`})(Pc(n))}; limitType=${n.limitType})`}function aI(n,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):at.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(n,e)&&(function(r,s){for(const i of g_(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(o,a,l){const u=$9(o,a,l);return o.inclusive?u<=0:u<0})(r.startAt,g_(r),s)||r.endAt&&!(function(o,a,l){const u=$9(o,a,l);return o.inclusive?u>=0:u>0})(r.endAt,g_(r),s))})(n,e)}function swe(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function EY(n){return(e,t)=>{let r=!1;for(const s of g_(n)){const i=iwe(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function iwe(n,e,t){const r=n.field.isKeyField()?at.comparator(e.key,t.key):(function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?U0(l,u):ht()})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ht()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Lf(this.inner,((t,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return aY(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const owe=new wr(at.comparator);function Ed(){return owe}const CY=new wr(at.comparator);function Mb(...n){let e=CY;for(const t of n)e=e.insert(t.key,t);return e}function TY(n){let e=CY;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Rp(){return y_()}function xY(){return y_()}function y_(){return new _g((n=>n.toString()),((n,e)=>n.isEqual(e)))}const awe=new wr(at.comparator),lwe=new us(at.comparator);function zt(...n){let e=lwe;for(const t of n)e=e.add(t);return e}const cwe=new us(Zt);function uwe(){return cwe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:TA(e)?"-0":e}}function AY(n){return{integerValue:""+n}}function dwe(n,e){return F0e(e)?AY(e):$$(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this._=void 0}}function hwe(n,e,t){return n instanceof F_?(function(s,i){const o={fields:{[uY]:{stringValue:cY},[hY]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&O$(i)&&(i=sI(i)),i&&(o.fields[dY]=i),{mapValue:o}})(t,e):n instanceof B_?IY(n,e):n instanceof $_?kY(n,e):(function(s,i){const o=RY(s,i),a=H9(o)+H9(s.Ie);return oN(o)&&oN(s.Ie)?AY(a):$$(s.serializer,a)})(n,e)}function fwe(n,e,t){return n instanceof B_?IY(n,e):n instanceof $_?kY(n,e):t}function RY(n,e){return n instanceof kA?(function(r){return oN(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class F_ extends lI{}class B_ extends lI{constructor(e){super(),this.elements=e}}function IY(n,e){const t=PY(e);for(const r of n.elements)t.some((s=>Lc(s,r)))||t.push(r);return{arrayValue:{values:t}}}class $_ extends lI{constructor(e){super(),this.elements=e}}function kY(n,e){let t=PY(e);for(const r of n.elements)t=t.filter((s=>!Lc(s,r)));return{arrayValue:{values:t}}}class kA extends lI{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function H9(n){return Br(n.integerValue||n.doubleValue)}function PY(n){return L$(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pwe{constructor(e,t){this.field=e,this.transform=t}}function mwe(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof B_&&s instanceof B_||r instanceof $_&&s instanceof $_?j0(r.elements,s.elements,Lc):r instanceof kA&&s instanceof kA?Lc(r.Ie,s.Ie):r instanceof F_&&s instanceof F_})(n.transform,e.transform)}class gwe{constructor(e,t){this.version=e,this.transformResults=t}}class Da{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Da}static exists(e){return new Da(void 0,e)}static updateTime(e){return new Da(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ix(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class cI{}function DY(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new j$(n.key,Da.none()):new m1(n.key,n.data,Da.none());{const t=n.data,r=eo.empty();let s=new us(Hs.comparator);for(let i of e.fields)if(!s.has(i)){let o=t.field(i);o===null&&i.length>1&&(i=i.popLast(),o=t.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Nf(n.key,r,new qo(s.toArray()),Da.none())}}function ywe(n,e,t){n instanceof m1?(function(s,i,o){const a=s.value.clone(),l=W9(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Nf?(function(s,i,o){if(!ix(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=W9(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(MY(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(n,e,t):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function v_(n,e,t,r){return n instanceof m1?(function(i,o,a,l){if(!ix(i.precondition,o))return a;const u=i.value.clone(),h=q9(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(n,e,t,r):n instanceof Nf?(function(i,o,a,l){if(!ix(i.precondition,o))return a;const u=q9(i.fieldTransforms,l,o),h=o.data;return h.setAll(MY(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((p=>p.field)))})(n,e,t,r):(function(i,o,a){return ix(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(n,e,t)}function vwe(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=RY(r.transform,s||null);i!=null&&(t===null&&(t=eo.empty()),t.set(r.field,i))}return t||null}function z9(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&j0(r,s,((i,o)=>mwe(i,o)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class m1 extends cI{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Nf extends cI{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function MY(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function W9(n,e,t){const r=new Map;gn(n.length===t.length);for(let s=0;s<t.length;s++){const i=n[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,fwe(o,a,t[s]))}return r}function q9(n,e,t){const r=new Map;for(const s of n){const i=s.transform,o=t.data.field(s.field);r.set(s.field,hwe(i,o,e))}return r}class j$ extends cI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wwe extends cI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bwe{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&ywe(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=v_(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=v_(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=xY();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(s.key)?null:a;const l=DY(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),zt())}isEqual(e){return this.batchId===e.batchId&&j0(this.mutations,e.mutations,((t,r)=>z9(t,r)))&&j0(this.baseMutations,e.baseMutations,((t,r)=>z9(t,r)))}}class U${constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){gn(e.mutations.length===r.length);let s=(function(){return awe})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new U$(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _we=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Swe{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qr,nn;function Ewe(n){switch(n){case Ce.OK:return ht();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0;default:return ht()}}function OY(n){if(n===void 0)return Sd("GRPC error has no .code"),Ce.UNKNOWN;switch(n){case qr.OK:return Ce.OK;case qr.CANCELLED:return Ce.CANCELLED;case qr.UNKNOWN:return Ce.UNKNOWN;case qr.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case qr.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case qr.INTERNAL:return Ce.INTERNAL;case qr.UNAVAILABLE:return Ce.UNAVAILABLE;case qr.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case qr.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case qr.NOT_FOUND:return Ce.NOT_FOUND;case qr.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case qr.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case qr.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case qr.ABORTED:return Ce.ABORTED;case qr.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case qr.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case qr.DATA_LOSS:return Ce.DATA_LOSS;default:return ht()}}(nn=qr||(qr={}))[nn.OK=0]="OK",nn[nn.CANCELLED=1]="CANCELLED",nn[nn.UNKNOWN=2]="UNKNOWN",nn[nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nn[nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nn[nn.NOT_FOUND=5]="NOT_FOUND",nn[nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",nn[nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",nn[nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",nn[nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nn[nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nn[nn.ABORTED=10]="ABORTED",nn[nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",nn[nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",nn[nn.INTERNAL=13]="INTERNAL",nn[nn.UNAVAILABLE=14]="UNAVAILABLE",nn[nn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cwe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Twe=new hf([4294967295,4294967295],0);function G9(n){const e=Cwe().encode(n),t=new QK;return t.update(e),new Uint8Array(t.digest())}function K9(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new hf([t,r],0),new hf([s,i],0)]}class V${constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ob(`Invalid padding: ${t}`);if(r<0)throw new Ob(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ob(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ob(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=hf.fromNumber(this.Ee)}Ae(e,t,r){let s=e.add(t.multiply(hf.fromNumber(r)));return s.compare(Twe)===1&&(s=new hf([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=G9(e),[r,s]=K9(t);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new V$(i,s,t);return r.forEach((a=>o.insert(a))),o}insert(e){if(this.Ee===0)return;const t=G9(e),[r,s]=K9(t);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ob extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,g1.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new uI(yt.min(),s,new wr(Zt),Ed(),zt())}}class g1{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new g1(r,t,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,t,r,s){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=s}}class LY{constructor(e,t){this.targetId=e,this.ge=t}}class NY{constructor(e,t,r=qs.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Y9{constructor(){this.pe=0,this.ye=X9(),this.we=qs.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=zt(),t=zt(),r=zt();return this.ye.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ht()}})),new g1(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=X9()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,gn(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class xwe{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ed(),this.$e=xT(),this.Ke=xT(),this.Ue=new wr(Zt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:ht()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((r,s)=>{this.Je(s)&&t(s)}))}Ze(e){const t=e.targetId,r=e.ge.count,s=this.Xe(t);if(s){const i=s.target;if(lN(i))if(r===0){const o=new at(i.path);this.ze(t,o,ci.newNoDocument(o,yt.min()))}else gn(r===1);else{const o=this.et(t);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(t);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,u)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let o,a;try{o=bf(r).toUint8Array()}catch(l){if(l instanceof lY)return $0("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new V$(o,s,i)}catch(l){return $0(l instanceof Ob?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let s=0;return r.forEach((i=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,i,null),s++)})),s}ot(e){const t=new Map;this.qe.forEach(((i,o)=>{const a=this.Xe(o);if(a){if(i.current&&lN(a.target)){const l=new at(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,ci.newNoDocument(l,e))}i.ve&&(t.set(o,i.Fe()),i.Me())}}));let r=zt();this.Ke.forEach(((i,o)=>{let a=!0;o.forEachWhile((l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(r=r.add(i))})),this.Qe.forEach(((i,o)=>o.setReadTime(e)));const s=new uI(e,t,this.Ue,this.Qe,r);return this.Qe=Ed(),this.$e=xT(),this.Ke=xT(),this.Ue=new wr(Zt),s}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Y9,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new us(Zt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new us(Zt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Y9),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function xT(){return new wr(at.comparator)}function X9(){return new wr(at.comparator)}const Awe={asc:"ASCENDING",desc:"DESCENDING"},Rwe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iwe={and:"AND",or:"OR"};class kwe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uN(n,e){return n.useProto3Json||rI(e)?e:{value:e}}function PA(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FY(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Pwe(n,e){return PA(n,e.toTimestamp())}function Dc(n){return gn(!!n),yt.fromTimestamp((function(t){const r=wf(t);return new cs(r.seconds,r.nanos)})(n))}function H$(n,e){return dN(n,e).canonicalString()}function dN(n,e){const t=(function(s){return new cr(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function BY(n){const e=cr.fromString(n);return gn(HY(e)),e}function hN(n,e){return H$(n.databaseId,e.path)}function SD(n,e){const t=BY(e);if(t.get(1)!==n.databaseId.projectId)throw new nt(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new nt(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new at(jY(t))}function $Y(n,e){return H$(n.databaseId,e)}function Dwe(n){const e=BY(n);return e.length===4?cr.emptyPath():jY(e)}function fN(n){return new cr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jY(n){return gn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function J9(n,e,t){return{name:hN(n,e),fields:t.value.mapValue.fields}}function Mwe(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ht()})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(u,h){return u.useProto3Json?(gn(h===void 0||typeof h=="string"),qs.fromBase64String(h||"")):(gn(h===void 0||h instanceof Buffer||h instanceof Uint8Array),qs.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(u){const h=u.code===void 0?Ce.UNKNOWN:OY(u.code);return new nt(h,u.message||"")})(o);t=new NY(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=SD(n,r.document.name),i=Dc(r.document.updateTime),o=r.document.createTime?Dc(r.document.createTime):yt.min(),a=new eo({mapValue:{fields:r.document.fields}}),l=ci.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];t=new ox(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=SD(n,r.document),i=r.readTime?Dc(r.readTime):yt.min(),o=ci.newNoDocument(s,i),a=r.removedTargetIds||[];t=new ox([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=SD(n,r.document),i=r.removedTargetIds||[];t=new ox([],i,s,null)}else{if(!("filter"in e))return ht();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Swe(s,i),a=r.targetId;t=new LY(a,o)}}return t}function Owe(n,e){let t;if(e instanceof m1)t={update:J9(n,e.key,e.value)};else if(e instanceof j$)t={delete:hN(n,e.key)};else if(e instanceof Nf)t={update:J9(n,e.key,e.data),updateMask:Hwe(e.fieldMask)};else{if(!(e instanceof wwe))return ht();t={verify:hN(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const a=o.transform;if(a instanceof F_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof B_)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $_)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof kA)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ht()})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:Pwe(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ht()})(n,e.precondition)),t}function Lwe(n,e){return n&&n.length>0?(gn(e!==void 0),n.map((t=>(function(s,i){let o=s.updateTime?Dc(s.updateTime):Dc(i);return o.isEqual(yt.min())&&(o=Dc(i)),new gwe(o,s.transformResults||[])})(t,e)))):[]}function Nwe(n,e){return{documents:[$Y(n,e.path)]}}function Fwe(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=$Y(n,s);const i=(function(u){if(u.length!==0)return VY(Nc.create(u,"and"))})(e.filters);i&&(t.structuredQuery.where=i);const o=(function(u){if(u.length!==0)return u.map((h=>(function(m){return{field:Cy(m.field),direction:jwe(m.dir)}})(h)))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=uN(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ht:t,parent:s}}function Bwe(n){let e=Dwe(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){gn(r===1);const h=t.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];t.where&&(i=(function(p){const m=UY(p);return m instanceof Nc&&vY(m)?m.getFilters():[m]})(t.where));let o=[];t.orderBy&&(o=(function(p){return p.map((m=>(function(b){return new IA(Ty(b.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(m)))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,rI(m)?null:m})(t.limit));let l=null;t.startAt&&(l=(function(p){const m=!!p.before,y=p.values||[];return new RA(y,m)})(t.startAt));let u=null;return t.endAt&&(u=(function(p){const m=!p.before,y=p.values||[];return new RA(y,m)})(t.endAt)),twe(e,s,o,i,a,"F",l,u)}function $we(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function UY(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ty(t.unaryFilter.field);return is.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ty(t.unaryFilter.field);return is.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ty(t.unaryFilter.field);return is.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ty(t.unaryFilter.field);return is.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ht()}})(n):n.fieldFilter!==void 0?(function(t){return is.create(Ty(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Nc.create(t.compositeFilter.filters.map((r=>UY(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ht()}})(t.compositeFilter.op))})(n):ht()}function jwe(n){return Awe[n]}function Uwe(n){return Rwe[n]}function Vwe(n){return Iwe[n]}function Cy(n){return{fieldPath:n.canonicalString()}}function Ty(n){return Hs.fromServerFormat(n.fieldPath)}function VY(n){return n instanceof is?(function(t){if(t.op==="=="){if(B9(t.value))return{unaryFilter:{field:Cy(t.field),op:"IS_NAN"}};if(F9(t.value))return{unaryFilter:{field:Cy(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(B9(t.value))return{unaryFilter:{field:Cy(t.field),op:"IS_NOT_NAN"}};if(F9(t.value))return{unaryFilter:{field:Cy(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cy(t.field),op:Uwe(t.op),value:t.value}}})(n):n instanceof Nc?(function(t){const r=t.getFilters().map((s=>VY(s)));return r.length===1?r[0]:{compositeFilter:{op:Vwe(t.op),filters:r}}})(n):ht()}function Hwe(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function HY(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t,r,s,i=yt.min(),o=yt.min(),a=qs.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new of(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new of(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new of(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new of(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zwe{constructor(e){this.Tt=e}}function Wwe(n){const e=Bwe({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?cN(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qwe{constructor(){this.Tn=new Gwe}addToCollectionParentIndex(e,t){return this.Tn.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getIndexType(e,t){return ye.resolve(0)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,t){return ye.resolve(vf.min())}getMinOffsetFromCollectionGroup(e,t){return ye.resolve(vf.min())}updateCollectionGroup(e,t,r){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class Gwe{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new us(cr.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new us(cr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zY=41943040;class Zi{static withCacheSize(e){return new Zi(e,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi.DEFAULT_COLLECTION_PERCENTILE=10,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zi.DEFAULT=new Zi(zY,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zi.DISABLED=new Zi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new H0(0)}static Un(){return new H0(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9="LruGarbageCollector",Kwe=1048576;function eH([n,e],[t,r]){const s=Zt(n,t);return s===0?Zt(e,r):s}class Ywe{constructor(e){this.Hn=e,this.buffer=new us(eH),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();eH(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Xwe{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ve(Z9,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ow(t)?Ve(Z9,"Ignoring IndexedDB error during garbage collection: ",t):await iw(t)}await this.er(3e5)}))}}class Jwe{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ye.resolve(nI.ae);const r=new Ywe(t);return this.tr.forEachTarget(e,(s=>r.Zn(s.sequenceNumber))).next((()=>this.tr.rr(e,(s=>r.Zn(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(Q9)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q9):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,s,i,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s)))).next((p=>(r=p,a=Date.now(),this.removeTargets(e,r,t)))).next((p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(u=Date.now(),Sy()<=Ht.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p}))))}}function Qwe(n,e){return new Jwe(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zwe{constructor(){this.changes=new _g((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ci.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ye.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ebe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tbe{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&v_(r.mutation,s,qo.empty(),cs.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,zt()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=zt()){const s=Rp();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((i=>{let o=Mb();return i.forEach(((a,l)=>{o=o.insert(a,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,t){const r=Rp();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,zt())))}populateOverlays(e,t,r){const s=[];return r.forEach((i=>{t.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,a)=>{t.set(o,a)}))}))}computeViews(e,t,r,s){let i=Ed();const o=y_(),a=(function(){return y_()})();return t.forEach(((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Nf)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),v_(h.mutation,u,h.mutation.getFieldMask(),cs.now())):o.set(u.key,qo.empty())})),this.recalculateAndSaveOverlays(e,i).next((l=>(l.forEach(((u,h)=>o.set(u,h))),t.forEach(((u,h)=>{var p;return a.set(u,new ebe(h,(p=o.get(u))!==null&&p!==void 0?p:null))})),a)))}recalculateAndSaveOverlays(e,t){const r=y_();let s=new wr(((o,a)=>o-a)),i=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((o=>{for(const a of o)a.keys().forEach((l=>{const u=t.get(l);if(u===null)return;let h=r.get(l)||qo.empty();h=a.applyToLocalView(u,h),r.set(l,h);const p=(s.get(a.batchId)||zt()).add(l);s=s.insert(a.batchId,p)}))})).next((()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,p=xY();h.forEach((m=>{if(!i.has(m)){const y=DY(t.get(m),r.get(m));y!==null&&p.set(m,y),i=i.add(m)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return ye.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(o){return at.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nwe(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):ye.resolve(Rp());let a=M_,l=i;return o.next((u=>ye.forEach(u,((h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?ye.resolve():this.remoteDocumentCache.getEntry(e,h).next((m=>{l=l.insert(h,m)}))))).next((()=>this.populateOverlays(e,u,i))).next((()=>this.computeViews(e,l,u,zt()))).next((h=>({batchId:a,changes:TY(h)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new at(t)).next((r=>{let s=Mb();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let o=Mb();return this.indexManager.getCollectionParents(e,i).next((a=>ye.forEach(a,(l=>{const u=(function(p,m){return new iI(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next((h=>{h.forEach(((p,m)=>{o=o.insert(p,m)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s)))).next((o=>{i.forEach(((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,ci.newInvalidDocument(h)))}));let a=Mb();return o.forEach(((l,u)=>{const h=i.get(l);h!==void 0&&v_(h.mutation,u,qo.empty(),cs.now()),aI(t,u)&&(a=a.insert(l,u))})),a}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nbe{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ye.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Dc(s.createTime)}})(t)),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,(function(s){return{name:s.name,query:Wwe(s.bundledQuery),readTime:Dc(s.readTime)}})(t)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rbe{constructor(){this.overlays=new wr(at.comparator),this.Rr=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Rp();return ye.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,i)=>{this.Et(e,t,i)})),ye.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.Rr.delete(r)),ye.resolve()}getOverlaysForCollection(e,t,r){const s=Rp(),i=t.length+1,o=new at(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return ye.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new wr(((u,h)=>u-h));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Rp(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Rp(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,h)=>a.set(u,h))),!(a.size()>=s)););return ye.resolve(a)}Et(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _we(t,r));let i=this.Rr.get(t);i===void 0&&(i=zt(),this.Rr.set(t,i)),this.Rr.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sbe{constructor(){this.sessionToken=qs.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(){this.Vr=new us(Ts.mr),this.gr=new us(Ts.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Ts(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.wr(new Ts(e,t))}br(e,t){e.forEach((r=>this.removeReference(r,t)))}Sr(e){const t=new at(new cr([])),r=new Ts(t,e),s=new Ts(t,e+1),i=[];return this.gr.forEachInRange([r,s],(o=>{this.wr(o),i.push(o.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new at(new cr([])),r=new Ts(t,e),s=new Ts(t,e+1);let i=zt();return this.gr.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const t=new Ts(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ts{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return at.comparator(e.key,t.key)||Zt(e.Cr,t.Cr)}static pr(e,t){return Zt(e.Cr,t.Cr)||at.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ibe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new us(Ts.mr)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bwe(i,t,r,s);this.mutationQueue.push(o);for(const a of s)this.Mr=this.Mr.add(new Ts(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ye.resolve(o)}lookupMutationBatch(e,t){return ye.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Nr(r),i=s<0?0:s;return ye.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?M$:this.Fr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ts(t,0),s=new Ts(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],(o=>{const a=this.Or(o.Cr);i.push(a)})),ye.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new us(Zt);return t.forEach((s=>{const i=new Ts(s,0),o=new Ts(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],(a=>{r=r.add(a.Cr)}))})),ye.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;at.isDocumentKey(i)||(i=i.child(""));const o=new Ts(new at(i),0);let a=new us(Zt);return this.Mr.forEachWhile((l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Cr)),!0)}),o),ye.resolve(this.Br(a))}Br(e){const t=[];return e.forEach((r=>{const s=this.Or(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){gn(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ye.forEach(t.mutations,(s=>{const i=new Ts(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Mr=r}))}qn(e){}containsKey(e,t){const r=new Ts(t,0),s=this.Mr.firstAfterOrEqual(r);return ye.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class obe{constructor(e){this.kr=e,this.docs=(function(){return new wr(at.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,o=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ye.resolve(r?r.document.mutableCopy():ci.newInvalidDocument(t))}getEntries(e,t){let r=Ed();return t.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ci.newInvalidDocument(s))})),ye.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=Ed();const o=t.path,a=new at(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||M0e(D0e(h),r)<=0||(s.has(h.key)||aI(t,h))&&(i=i.insert(h.key,h.mutableCopy()))}return ye.resolve(i)}getAllFromCollectionGroup(e,t,r,s){ht()}qr(e,t){return ye.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new abe(this)}getSize(e){return ye.resolve(this.size)}}class abe extends Zwe{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)})),ye.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lbe{constructor(e){this.persistence=e,this.Qr=new _g((t=>N$(t)),F$),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new z$,this.targetCount=0,this.Ur=H0.Kn()}forEachTarget(e,t){return this.Qr.forEach(((r,s)=>t(s))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ye.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new H0(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.zn(t),ye.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.Qr.forEach(((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)})),ye.waitFor(i).next((()=>s))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ye.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ye.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),ye.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return ye.resolve(r)}containsKey(e,t){return ye.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new nI(0),this.zr=!1,this.zr=!0,this.jr=new sbe,this.referenceDelegate=e(this),this.Hr=new lbe(this),this.indexManager=new qwe,this.remoteDocumentCache=(function(s){return new obe(s)})((r=>this.referenceDelegate.Jr(r))),this.serializer=new zwe(t),this.Yr=new nbe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rbe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new ibe(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){Ve("MemoryPersistence","Starting transaction:",e);const s=new cbe(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next((i=>this.referenceDelegate.Xr(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}ei(e,t){return ye.or(Object.values(this.Wr).map((r=>()=>r.containsKey(e,t))))}}class cbe extends L0e{constructor(e){super(),this.currentSequenceNumber=e}}class W${constructor(e){this.persistence=e,this.ti=new z$,this.ni=null}static ri(e){return new W$(e)}get ii(){if(this.ni)return this.ni;throw ht()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ye.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ye.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach((s=>this.ii.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((i=>this.ii.add(i.toString())))})).next((()=>r.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.ii,(r=>{const s=at.fromPath(r);return this.si(e,s).next((i=>{i||t.removeEntry(s,yt.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return ye.or([()=>ye.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class DA{constructor(e,t){this.persistence=e,this.oi=new _g((r=>B0e(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=Qwe(this,t)}static ri(e,t){return new DA(e,t)}Zr(){}Xr(e){return ye.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}sr(e){let t=0;return this.rr(e,(r=>{t++})).next((()=>t))}rr(e,t){return ye.forEach(this.oi,((r,s)=>this.ar(e,r,s).next((i=>i?ye.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,(o=>this.ar(e,o,t).next((a=>{a||(r++,i.removeEntry(o,yt.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ye.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ye.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=rx(e.data.value)),t}ar(e,t,r){return ye.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return ye.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=s}static Yi(e,t){let r=zt(),s=zt();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new q$(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ube{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dbe{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=(function(){return ule()?8:N0e(pi())>0?6:4})()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.rs(e,t).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ss(e,t,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new ube;return this._s(e,t,o).next((a=>{if(i.result=a,this.Xi)return this.us(e,t,o,a.size)}))})).next((()=>i.result))}us(e,t,r,s){return r.documentReadCount<this.es?(Sy()<=Ht.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",Ey(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ye.resolve()):(Sy()<=Ht.DEBUG&&Ve("QueryEngine","Query:",Ey(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(Sy()<=Ht.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",Ey(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pc(t))):ye.resolve())}rs(e,t){if(V9(t))return ye.resolve(null);let r=Pc(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=cN(t,null,"F"),r=Pc(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=zt(...i);return this.ns.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,r).next((l=>{const u=this.cs(t,a);return this.ls(t,u,o,l.readTime)?this.rs(e,cN(t,null,"F")):this.hs(e,u,t,l)}))))})))))}ss(e,t,r,s){return V9(t)||s.isEqual(yt.min())?ye.resolve(null):this.ns.getDocuments(e,r).next((i=>{const o=this.cs(t,i);return this.ls(t,o,r,s)?ye.resolve(null):(Sy()<=Ht.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ey(t)),this.hs(e,o,t,P0e(s,M_)).next((a=>a)))}))}cs(e,t){let r=new us(EY(e));return t.forEach(((s,i)=>{aI(e,i)&&(r=r.add(i))})),r}ls(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,t,r){return Sy()<=Ht.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",Ey(t)),this.ns.getDocumentsMatchingQuery(e,t,vf.min(),r)}hs(e,t,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next((i=>(t.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$="LocalStore",hbe=3e8;class fbe{constructor(e,t,r,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new wr(Zt),this.Is=new _g((i=>N$(i)),F$),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tbe(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function pbe(n,e,t,r){return new fbe(n,e,t,r)}async function qY(n,e){const t=bt(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,t.As(e),t.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],a=[];let l=zt();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next((u=>({Rs:u,removedBatchIds:o,addedBatchIds:a})))}))}))}function mbe(n,e){const t=bt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=t.ds.newChangeBuffer({trackRemovals:!0});return(function(a,l,u,h){const p=u.batch,m=p.keys();let y=ye.resolve();return m.forEach((b=>{y=y.next((()=>h.getEntry(l,b))).next((v=>{const _=u.docVersions.get(b);gn(_!==null),v.version.compareTo(_)<0&&(p.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),h.addEntry(v)))}))})),y.next((()=>a.mutationQueue.removeMutationBatch(l,p)))})(t,r,e,i).next((()=>i.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let l=zt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function GY(n){const e=bt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Hr.getLastRemoteSnapshotVersion(t)))}function gbe(n,e){const t=bt(n),r=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const a=[];e.targetChanges.forEach(((h,p)=>{const m=s.get(p);if(!m)return;a.push(t.Hr.removeMatchingKeys(i,h.removedDocuments,p).next((()=>t.Hr.addMatchingKeys(i,h.addedDocuments,p))));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(qs.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(p,y),(function(v,_,E){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=hbe?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(m,y,h)&&a.push(t.Hr.updateTargetData(i,y))}));let l=Ed(),u=zt();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(i,h))})),a.push(ybe(i,o,e.documentUpdates).next((h=>{l=h.Vs,u=h.fs}))),!r.isEqual(yt.min())){const h=t.Hr.getLastRemoteSnapshotVersion(i).next((p=>t.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r)));a.push(h)}return ye.waitFor(a).next((()=>o.apply(i))).next((()=>t.localDocuments.getLocalViewOfDocuments(i,l,u))).next((()=>l))})).then((i=>(t.Ts=s,i)))}function ybe(n,e,t){let r=zt(),s=zt();return t.forEach((i=>r=r.add(i))),e.getEntries(n,r).next((i=>{let o=Ed();return t.forEach(((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(yt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ve(G$,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)})),{Vs:o,fs:s}}))}function vbe(n,e){const t=bt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=M$),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function wbe(n,e){const t=bt(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Hr.getTargetData(r,e).next((i=>i?(s=i,ye.resolve(s)):t.Hr.allocateTargetId(r).next((o=>(s=new of(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r}))}async function pN(n,e,t){const r=bt(n),s=r.Ts.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!ow(o))throw o;Ve(G$,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function tH(n,e,t){const r=bt(n);let s=yt.min(),i=zt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,u,h){const p=bt(l),m=p.Is.get(h);return m!==void 0?ye.resolve(p.Ts.get(m)):p.Hr.getTargetData(u,h)})(r,o,Pc(e)).next((a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next((l=>{i=l}))})).next((()=>r.Ps.getDocumentsMatchingQuery(o,e,t?s:yt.min(),t?i:zt()))).next((a=>(bbe(r,swe(e),a),{documents:a,gs:i})))))}function bbe(n,e,t){let r=n.Es.get(e)||yt.min();t.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),n.Es.set(e,r)}class nH{constructor(){this.activeTargetIds=uwe()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _be{constructor(){this.ho=new nH,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new nH,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sbe{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH="ConnectivityMonitor";class sH{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ve(rH,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ve(rH,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AT=null;function mN(){return AT===null?AT=(function(){return 268435456+Math.round(2147483648*Math.random())})():AT++,"0x"+AT.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="RestConnection",Ebe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cbe{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===xA?`project_id=${r}`:`project_id=${r}&database_id=${s}`}bo(e,t,r,s,i){const o=mN(),a=this.So(e,t.toUriEncodedString());Ve(ED,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,s,i),this.vo(e,a,l,r).then((u=>(Ve(ED,`Received RPC '${e}' ${o}: `,u),u)),(u=>{throw $0(ED,`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u}))}Co(e,t,r,s,i,o){return this.bo(e,t,r,s,i)}Do(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sw})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}So(e,t){const r=Ebe[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tbe{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="WebChannelConnection";class xbe extends Cbe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const i=mN();return new Promise(((o,a)=>{const l=new ZK;l.setWithCredentials(!0),l.listenOnce(eY.COMPLETE,(()=>{try{switch(l.getLastErrorCode()){case nx.NO_ERROR:const h=l.getResponseJson();Ve(Qs,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case nx.TIMEOUT:Ve(Qs,`RPC '${e}' ${i} timed out`),a(new nt(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case nx.HTTP_ERROR:const p=l.getStatus();if(Ve(Qs,`RPC '${e}' ${i} failed with status:`,p,"response text:",l.getResponseText()),p>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const b=(function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(E)>=0?E:Ce.UNKNOWN})(y.status);a(new nt(b,y.message))}else a(new nt(Ce.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new nt(Ce.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{Ve(Qs,`RPC '${e}' ${i} completed.`)}}));const u=JSON.stringify(s);Ve(Qs,`RPC '${e}' ${i} sending request:`,s),l.send(t,"POST",u,r,15)}))}Wo(e,t,r){const s=mN(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rY(),a=nY(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const h=i.join("");Ve(Qs,`Creating RPC '${e}' stream ${s}: ${h}`,l);const p=o.createWebChannel(h,l);let m=!1,y=!1;const b=new Tbe({Fo:_=>{y?Ve(Qs,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(m||(Ve(Qs,`Opening RPC '${e}' stream ${s} transport.`),p.open(),m=!0),Ve(Qs,`RPC '${e}' stream ${s} sending:`,_),p.send(_))},Mo:()=>p.close()}),v=(_,E,x)=>{_.listen(E,(C=>{try{x(C)}catch(A){setTimeout((()=>{throw A}),0)}}))};return v(p,Db.EventType.OPEN,(()=>{y||(Ve(Qs,`RPC '${e}' stream ${s} transport opened.`),b.Qo())})),v(p,Db.EventType.CLOSE,(()=>{y||(y=!0,Ve(Qs,`RPC '${e}' stream ${s} transport closed`),b.Ko())})),v(p,Db.EventType.ERROR,(_=>{y||(y=!0,$0(Qs,`RPC '${e}' stream ${s} transport errored:`,_),b.Ko(new nt(Ce.UNAVAILABLE,"The operation could not be completed")))})),v(p,Db.EventType.MESSAGE,(_=>{var E;if(!y){const x=_.data[0];gn(!!x);const C=x,A=(C==null?void 0:C.error)||((E=C[0])===null||E===void 0?void 0:E.error);if(A){Ve(Qs,`RPC '${e}' stream ${s} received error:`,A);const k=A.status;let L=(function(F){const T=qr[F];if(T!==void 0)return OY(T)})(k),P=A.message;L===void 0&&(L=Ce.INTERNAL,P="Unknown error status: "+k+" with message "+A.message),y=!0,b.Ko(new nt(L,P)),p.close()}else Ve(Qs,`RPC '${e}' stream ${s} received:`,x),b.Uo(x)}})),v(a,tY.STAT_EVENT,(_=>{_.stat===sN.PROXY?Ve(Qs,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===sN.NOPROXY&&Ve(Qs,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{b.$o()}),0),b}}function CD(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(n){return new kwe(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(e,t,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-r);s>0&&Ve("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH="PersistentStream";class YY{constructor(e,t,r,s,i,o,a,l){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new KY(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Ce.RESOURCE_EXHAUSTED?(Sd(t.toString()),Sd("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.i_===t&&this.V_(r,s)}),(r=>{e((()=>{const s=new nt(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)}))}))}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{r((()=>this.listener.xo()))})),this.stream.No((()=>{r((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((s=>{r((()=>this.m_(s)))})),this.stream.onMessage((s=>{r((()=>++this.__==1?this.g_(s):this.onNext(s)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return Ve(iH,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(Ve(iH,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Abe extends YY{constructor(e,t,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Mwe(this.serializer,e),r=(function(i){if(!("targetChange"in i))return yt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?yt.min():o.readTime?Dc(o.readTime):yt.min()})(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=fN(this.serializer),t.addTarget=(function(i,o){let a;const l=o.target;if(a=lN(l)?{documents:Nwe(i,l)}:{query:Fwe(i,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=FY(i,o.resumeToken);const u=uN(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(yt.min())>0){a.readTime=PA(i,o.snapshotVersion.toTimestamp());const u=uN(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);const r=$we(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=fN(this.serializer),t.removeTarget=e,this.I_(t)}}class Rbe extends YY{constructor(e,t,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return gn(!!e.streamToken),this.lastStreamToken=e.streamToken,gn(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){gn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Lwe(e.writeResults,e.commitTime),r=Dc(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=fN(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Owe(this.serializer,r)))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ibe{}class kbe extends Ibe{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new nt(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.bo(e,dN(t,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new nt(Ce.UNKNOWN,i.toString())}))}Co(e,t,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Co(e,dN(t,r),s,o,a,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new nt(Ce.UNKNOWN,o.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class Pbe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Sd(t),this.N_=!1):Ve("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="RemoteStore";class Dbe{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((o=>{r.enqueueAndForget((async()=>{Sg(this)&&(Ve(rg,"Restarting streams for network reachability change."),await(async function(l){const u=bt(l);u.W_.add(4),await y1(u),u.j_.set("Unknown"),u.W_.delete(4),await hI(u)})(this))}))})),this.j_=new Pbe(r,s)}}async function hI(n){if(Sg(n))for(const e of n.G_)await e(!0)}async function y1(n){for(const e of n.G_)await e(!1)}function XY(n,e){const t=bt(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),J$(t)?X$(t):aw(t).c_()&&Y$(t,e))}function K$(n,e){const t=bt(n),r=aw(t);t.U_.delete(e),r.c_()&&JY(t,e),t.U_.size===0&&(r.c_()?r.P_():Sg(t)&&t.j_.set("Unknown"))}function Y$(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}aw(n).y_(e)}function JY(n,e){n.H_.Ne(e),aw(n).w_(e)}function X$(n){n.H_=new xwe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),aw(n).start(),n.j_.B_()}function J$(n){return Sg(n)&&!aw(n).u_()&&n.U_.size>0}function Sg(n){return bt(n).W_.size===0}function QY(n){n.H_=void 0}async function Mbe(n){n.j_.set("Online")}async function Obe(n){n.U_.forEach(((e,t)=>{Y$(n,e)}))}async function Lbe(n,e){QY(n),J$(n)?(n.j_.q_(e),X$(n)):n.j_.set("Unknown")}async function Nbe(n,e,t){if(n.j_.set("Online"),e instanceof NY&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const a of i.targetIds)s.U_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.U_.delete(a),s.H_.removeTarget(a))})(n,e)}catch(r){Ve(rg,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await MA(n,r)}else if(e instanceof ox?n.H_.We(e):e instanceof LY?n.H_.Ze(e):n.H_.je(e),!t.isEqual(yt.min()))try{const r=await GY(n.localStore);t.compareTo(r)>=0&&await(function(i,o){const a=i.H_.ot(o);return a.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.U_.get(u);h&&i.U_.set(u,h.withResumeToken(l.resumeToken,o))}})),a.targetMismatches.forEach(((l,u)=>{const h=i.U_.get(l);if(!h)return;i.U_.set(l,h.withResumeToken(qs.EMPTY_BYTE_STRING,h.snapshotVersion)),JY(i,l);const p=new of(h.target,l,u,h.sequenceNumber);Y$(i,p)})),i.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){Ve(rg,"Failed to raise snapshot:",r),await MA(n,r)}}async function MA(n,e,t){if(!ow(e))throw e;n.W_.add(1),await y1(n),n.j_.set("Offline"),t||(t=()=>GY(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ve(rg,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await hI(n)}))}function ZY(n,e){return e().catch((t=>MA(n,t,e)))}async function fI(n){const e=bt(n),t=Sf(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:M$;for(;Fbe(e);)try{const s=await vbe(e.localStore,r);if(s===null){e.K_.length===0&&t.P_();break}r=s.batchId,Bbe(e,s)}catch(s){await MA(e,s)}eX(e)&&tX(e)}function Fbe(n){return Sg(n)&&n.K_.length<10}function Bbe(n,e){n.K_.push(e);const t=Sf(n);t.c_()&&t.b_&&t.S_(e.mutations)}function eX(n){return Sg(n)&&!Sf(n).u_()&&n.K_.length>0}function tX(n){Sf(n).start()}async function $be(n){Sf(n).C_()}async function jbe(n){const e=Sf(n);for(const t of n.K_)e.S_(t.mutations)}async function Ube(n,e,t){const r=n.K_.shift(),s=U$.from(r,e,t);await ZY(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await fI(n)}async function Vbe(n,e){e&&Sf(n).b_&&await(async function(r,s){if((function(o){return Ewe(o)&&o!==Ce.ABORTED})(s.code)){const i=r.K_.shift();Sf(r).h_(),await ZY(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await fI(r)}})(n,e),eX(n)&&tX(n)}async function oH(n,e){const t=bt(n);t.asyncQueue.verifyOperationInProgress(),Ve(rg,"RemoteStore received new credentials");const r=Sg(t);t.W_.add(3),await y1(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await hI(t)}async function Hbe(n,e){const t=bt(n);e?(t.W_.delete(2),await hI(t)):e||(t.W_.add(2),await y1(t),t.j_.set("Unknown"))}function aw(n){return n.J_||(n.J_=(function(t,r,s){const i=bt(t);return i.M_(),new Abe(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{xo:Mbe.bind(null,n),No:Obe.bind(null,n),Lo:Lbe.bind(null,n),p_:Nbe.bind(null,n)}),n.G_.push((async e=>{e?(n.J_.h_(),J$(n)?X$(n):n.j_.set("Unknown")):(await n.J_.stop(),QY(n))}))),n.J_}function Sf(n){return n.Y_||(n.Y_=(function(t,r,s){const i=bt(t);return i.M_(),new Rbe(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:$be.bind(null,n),Lo:Vbe.bind(null,n),D_:jbe.bind(null,n),v_:Ube.bind(null,n)}),n.G_.push((async e=>{e?(n.Y_.h_(),await fI(n)):(await n.Y_.stop(),n.K_.length>0&&(Ve(rg,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))}))),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ud,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const o=Date.now()+r,a=new Q$(e,t,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z$(n,e){if(Sd("AsyncQueue",`${e}: ${n}`),ow(n))return new nt(Ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{static emptySet(e){return new Qy(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||at.comparator(t.key,r.key):(t,r)=>at.comparator(t.key,r.key),this.keyedMap=Mb(),this.sortedSet=new wr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Qy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(){this.Z_=new wr(at.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):ht():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,r)=>{e.push(r)})),e}}class z0{constructor(e,t,r,s,i,o,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,s,i){const o=[];return t.forEach((a=>{o.push({type:0,doc:a})})),new z0(e,t,Qy.emptySet(t),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oI(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zbe{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class Wbe{constructor(){this.queries=lH(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const s=bt(t),i=s.queries;s.queries=lH(),i.forEach(((o,a)=>{for(const l of a.ta)l.onError(r)}))})(this,new nt(Ce.ABORTED,"Firestore shutting down"))}}function lH(){return new _g((n=>SY(n)),oI)}async function nX(n,e){const t=bt(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new zbe,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await t.onListen(s,!0);break;case 1:i.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(o){const a=Z$(o,`Initialization of query '${Ey(e.query)}' failed`);return void e.onError(a)}t.queries.set(s,i),i.ta.push(e),e.sa(t.onlineState),i.ea&&e.oa(i.ea)&&ej(t)}async function rX(n,e){const t=bt(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function qbe(n,e){const t=bt(n);let r=!1;for(const s of e){const i=s.query,o=t.queries.get(i);if(o){for(const a of o.ta)a.oa(s)&&(r=!0);o.ea=s}}r&&ej(t)}function Gbe(n,e,t){const r=bt(n),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(t);r.queries.delete(e)}function ej(n){n.ia.forEach((e=>{e.next()}))}var gN,cH;(cH=gN||(gN={}))._a="default",cH.Cache="cache";class sX{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new z0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=z0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==gN.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(e){this.key=e}}class oX{constructor(e){this.key=e}}class Kbe{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=zt(),this.mutatedKeys=zt(),this.ya=EY(e),this.wa=new Qy(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new aH,s=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((h,p)=>{const m=s.get(h),y=aI(this.query,p)?p:null,b=!!m&&this.mutatedKeys.has(m.key),v=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;m&&y?m.data.isEqual(y.data)?b!==v&&(r.track({type:3,doc:y}),_=!0):this.va(m,y)||(r.track({type:2,doc:y}),_=!0,(l&&this.ya(y,l)>0||u&&this.ya(y,u)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),_=!0):m&&!y&&(r.track({type:1,doc:m}),_=!0,(l||u)&&(a=!0)),_&&(y?(o=o.add(y),i=v?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{wa:o,Da:r,ls:a,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort(((h,p)=>(function(y,b){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return v(y)-v(b)})(h.type,p.type)||this.ya(h.doc,p.doc))),this.Ca(r),s=s!=null&&s;const a=t&&!s?this.Fa():[],l=this.pa.size===0&&this.current&&!s?1:0,u=l!==this.ga;return this.ga=l,o.length!==0||u?{snapshot:new z0(this.query,e.wa,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new aH,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((t=>this.fa=this.fa.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.fa=this.fa.delete(t))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=zt(),this.wa.forEach((r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))}));const t=[];return e.forEach((r=>{this.pa.has(r)||t.push(new oX(r))})),this.pa.forEach((r=>{e.has(r)||t.push(new iX(r))})),t}Oa(e){this.fa=e.gs,this.pa=zt();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return z0.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const tj="SyncEngine";class Ybe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Xbe{constructor(e){this.key=e,this.Ba=!1}}class Jbe{constructor(e,t,r,s,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new _g((a=>SY(a)),oI),this.qa=new Map,this.Qa=new Set,this.$a=new wr(at.comparator),this.Ka=new Map,this.Ua=new z$,this.Wa={},this.Ga=new Map,this.za=H0.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Qbe(n,e,t=!0){const r=hX(n);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await aX(r,e,t,!0),s}async function Zbe(n,e){const t=hX(n);await aX(t,e,!0,!1)}async function aX(n,e,t,r){const s=await wbe(n.localStore,Pc(e)),i=s.targetId,o=n.sharedClientState.addLocalQueryTarget(i,t);let a;return r&&(a=await e_e(n,e,i,o==="current",s.resumeToken)),n.isPrimaryClient&&t&&XY(n.remoteStore,s),a}async function e_e(n,e,t,r,s){n.Ha=(p,m,y)=>(async function(v,_,E,x){let C=_.view.Sa(E);C.ls&&(C=await tH(v.localStore,_.query,!1).then((({documents:P})=>_.view.Sa(P,C))));const A=x&&x.targetChanges.get(_.targetId),k=x&&x.targetMismatches.get(_.targetId)!=null,L=_.view.applyChanges(C,v.isPrimaryClient,A,k);return dH(v,_.targetId,L.Ma),L.snapshot})(n,p,m,y);const i=await tH(n.localStore,e,!0),o=new Kbe(e,i.gs),a=o.Sa(i.documents),l=g1.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),u=o.applyChanges(a,n.isPrimaryClient,l);dH(n,t,u.Ma);const h=new Ybe(e,t,o);return n.ka.set(e,h),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),u.snapshot}async function t_e(n,e,t){const r=bt(n),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter((o=>!oI(o,e)))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await pN(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&K$(r.remoteStore,s.targetId),yN(r,s.targetId)})).catch(iw)):(yN(r,s.targetId),await pN(r.localStore,s.targetId,!0))}async function n_e(n,e){const t=bt(n),r=t.ka.get(e),s=t.qa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),K$(t.remoteStore,r.targetId))}async function r_e(n,e,t){const r=u_e(n);try{const s=await(function(o,a){const l=bt(o),u=cs.now(),h=a.reduce(((y,b)=>y.add(b.key)),zt());let p,m;return l.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let b=Ed(),v=zt();return l.ds.getEntries(y,h).next((_=>{b=_,b.forEach(((E,x)=>{x.isValidDocument()||(v=v.add(E))}))})).next((()=>l.localDocuments.getOverlayedDocuments(y,b))).next((_=>{p=_;const E=[];for(const x of a){const C=vwe(x,p.get(x.key).overlayedDocument);C!=null&&E.push(new Nf(x.key,C,mY(C.value.mapValue),Da.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,E,a)})).next((_=>{m=_;const E=_.applyToLocalDocumentSet(p,v);return l.documentOverlayCache.saveOverlays(y,_.batchId,E)}))})).then((()=>({batchId:m.batchId,changes:TY(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,a,l){let u=o.Wa[o.currentUser.toKey()];u||(u=new wr(Zt)),u=u.insert(a,l),o.Wa[o.currentUser.toKey()]=u})(r,s.batchId,t),await v1(r,s.changes),await fI(r.remoteStore)}catch(s){const i=Z$(s,"Failed to persist write");t.reject(i)}}async function lX(n,e){const t=bt(n);try{const r=await gbe(t.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=t.Ka.get(i);o&&(gn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?gn(o.Ba):s.removedDocuments.size>0&&(gn(o.Ba),o.Ba=!1))})),await v1(t,r,e)}catch(r){await iw(r)}}function uH(n,e,t){const r=bt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ka.forEach(((i,o)=>{const a=o.view.sa(e);a.snapshot&&s.push(a.snapshot)})),(function(o,a){const l=bt(o);l.onlineState=a;let u=!1;l.queries.forEach(((h,p)=>{for(const m of p.ta)m.sa(a)&&(u=!0)})),u&&ej(l)})(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function s_e(n,e,t){const r=bt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ka.get(e),i=s&&s.key;if(i){let o=new wr(at.comparator);o=o.insert(i,ci.newNoDocument(i,yt.min()));const a=zt().add(i),l=new uI(yt.min(),new Map,new wr(Zt),o,a);await lX(r,l),r.$a=r.$a.remove(i),r.Ka.delete(e),nj(r)}else await pN(r.localStore,e,!1).then((()=>yN(r,e,t))).catch(iw)}async function i_e(n,e){const t=bt(n),r=e.batch.batchId;try{const s=await mbe(t.localStore,e);uX(t,r,null),cX(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await v1(t,s)}catch(s){await iw(s)}}async function o_e(n,e,t){const r=bt(n);try{const s=await(function(o,a){const l=bt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next((p=>(gn(p!==null),h=p.keys(),l.mutationQueue.removeMutationBatch(u,p)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h))).next((()=>l.localDocuments.getDocuments(u,h)))}))})(r.localStore,e);uX(r,e,t),cX(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await v1(r,s)}catch(s){await iw(s)}}function cX(n,e){(n.Ga.get(e)||[]).forEach((t=>{t.resolve()})),n.Ga.delete(e)}function uX(n,e,t){const r=bt(n);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function yN(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach((r=>{n.Ua.containsKey(r)||dX(n,r)}))}function dX(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(K$(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),nj(n))}function dH(n,e,t){for(const r of t)r instanceof iX?(n.Ua.addReference(r.key,e),a_e(n,r)):r instanceof oX?(Ve(tj,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||dX(n,r.key)):ht()}function a_e(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(Ve(tj,"New document in limbo: "+t),n.Qa.add(r),nj(n))}function nj(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new at(cr.fromString(e)),r=n.za.next();n.Ka.set(r,new Xbe(t)),n.$a=n.$a.insert(t,r),XY(n.remoteStore,new of(Pc(B$(t.path)),r,"TargetPurposeLimboResolution",nI.ae))}}async function v1(n,e,t){const r=bt(n),s=[],i=[],o=[];r.ka.isEmpty()||(r.ka.forEach(((a,l)=>{o.push(r.Ha(l,e,t).then((u=>{var h;if((u||t)&&r.isPrimaryClient){const p=u?!u.fromCache:(h=t==null?void 0:t.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){s.push(u);const p=q$.Yi(l.targetId,u);i.push(p)}})))})),await Promise.all(o),r.La.p_(s),await(async function(l,u){const h=bt(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>ye.forEach(u,(m=>ye.forEach(m.Hi,(y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y))).next((()=>ye.forEach(m.Ji,(y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))))))}catch(p){if(!ow(p))throw p;Ve(G$,"Failed to update sequence numbers: "+p)}for(const p of u){const m=p.targetId;if(!p.fromCache){const y=h.Ts.get(m),b=y.snapshotVersion,v=y.withLastLimboFreeSnapshotVersion(b);h.Ts=h.Ts.insert(m,v)}}})(r.localStore,i))}async function l_e(n,e){const t=bt(n);if(!t.currentUser.isEqual(e)){Ve(tj,"User change. New user:",e.toKey());const r=await qY(t.localStore,e);t.currentUser=e,(function(i,o){i.Ga.forEach((a=>{a.forEach((l=>{l.reject(new nt(Ce.CANCELLED,o))}))})),i.Ga.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await v1(t,r.Rs)}}function c_e(n,e){const t=bt(n),r=t.Ka.get(e);if(r&&r.Ba)return zt().add(r.key);{let s=zt();const i=t.qa.get(e);if(!i)return s;for(const o of i){const a=t.ka.get(o);s=s.unionWith(a.view.ba)}return s}}function hX(n){const e=bt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lX.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c_e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s_e.bind(null,e),e.La.p_=qbe.bind(null,e.eventManager),e.La.Ja=Gbe.bind(null,e.eventManager),e}function u_e(n){const e=bt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i_e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o_e.bind(null,e),e}class OA{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dI(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return pbe(this.persistence,new dbe,e.initialUser,this.serializer)}Xa(e){return new WY(W$.ri,this.serializer)}Za(e){return new _be}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}OA.provider={build:()=>new OA};class d_e extends OA{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){gn(this.persistence.referenceDelegate instanceof DA);const r=this.persistence.referenceDelegate.garbageCollector;return new Xwe(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Zi.withCacheSize(this.cacheSizeBytes):Zi.DEFAULT;return new WY((r=>DA.ri(r,t)),this.serializer)}}class vN{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uH(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=l_e.bind(null,this.syncEngine),await Hbe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Wbe})()}createDatastore(e){const t=dI(e.databaseInfo.databaseId),r=(function(i){return new xbe(i)})(e.databaseInfo);return(function(i,o,a,l){return new kbe(i,o,a,l)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,i,o,a){return new Dbe(r,s,i,o,a)})(this.localStore,this.datastore,e.asyncQueue,(t=>uH(this.syncEngine,t,0)),(function(){return sH.D()?new sH:new Sbe})())}createSyncEngine(e,t){return(function(s,i,o,a,l,u,h){const p=new Jbe(s,i,o,a,l,u);return h&&(p.ja=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const i=bt(s);Ve(rg,"RemoteStore shutting down."),i.W_.add(5),await y1(i),i.z_.shutdown(),i.j_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}vN.provider={build:()=>new vN};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fX{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Sd("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="FirestoreClient";class h_e{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=li.UNAUTHENTICATED,this.clientId=iY.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{Ve(Ef,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Ve(Ef,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ud;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Z$(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function TD(n,e){n.asyncQueue.verifyOperationInProgress(),Ve(Ef,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await qY(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function hH(n,e){n.asyncQueue.verifyOperationInProgress();const t=await f_e(n);Ve(Ef,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>oH(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>oH(e.remoteStore,s))),n._onlineComponents=e}async function f_e(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ve(Ef,"Using user provided OfflineComponentProvider");try{await TD(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Ce.FAILED_PRECONDITION||s.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;$0("Error using user provided cache. Falling back to memory cache: "+t),await TD(n,new OA)}}else Ve(Ef,"Using default OfflineComponentProvider"),await TD(n,new d_e(void 0));return n._offlineComponents}async function pX(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ve(Ef,"Using user provided OnlineComponentProvider"),await hH(n,n._uninitializedComponentsProvider._online)):(Ve(Ef,"Using default OnlineComponentProvider"),await hH(n,new vN))),n._onlineComponents}function p_e(n){return pX(n).then((e=>e.syncEngine))}async function mX(n){const e=await pX(n),t=e.eventManager;return t.onListen=Qbe.bind(null,e.syncEngine),t.onUnlisten=t_e.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Zbe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=n_e.bind(null,e.syncEngine),t}function m_e(n,e,t={}){const r=new ud;return n.asyncQueue.enqueueAndForget((async()=>(function(i,o,a,l,u){const h=new fX({next:m=>{h.su(),o.enqueueAndForget((()=>rX(i,p)));const y=m.docs.has(a);!y&&m.fromCache?u.reject(new nt(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&l&&l.source==="server"?u.reject(new nt(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new sX(B$(a.path),h,{includeMetadataChanges:!0,Ta:!0});return nX(i,p)})(await mX(n),n.asyncQueue,e,t,r))),r.promise}function g_e(n,e,t={}){const r=new ud;return n.asyncQueue.enqueueAndForget((async()=>(function(i,o,a,l,u){const h=new fX({next:m=>{h.su(),o.enqueueAndForget((()=>rX(i,p))),m.fromCache&&l.source==="server"?u.reject(new nt(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new sX(a,h,{includeMetadataChanges:!0,Ta:!0});return nX(i,p)})(await mX(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gX(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yX(n,e,t){if(!t)throw new nt(Ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function y_e(n,e,t,r){if(e===!0&&r===!0)throw new nt(Ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function pH(n){if(!at.isDocumentKey(n))throw new nt(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mH(n){if(at.isDocumentKey(n))throw new nt(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rj(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ht()}function kl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new nt(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rj(n);throw new nt(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vX="firestore.googleapis.com",gH=!0;class yH{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new nt(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vX,this.ssl=gH}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:gH;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zY;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Kwe)throw new nt(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y_e("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gX((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new nt(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new nt(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new nt(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pI{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yH({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new nt(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yH(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new E0e;switch(r.type){case"firstParty":return new A0e(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new nt(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=fH.get(t);r&&(Ve("ComponentProvider","Removing Datastore"),fH.delete(t),r.terminate())})(this),Promise.resolve()}}function v_e(n,e,t,r={}){var s;const i=(n=kl(n,pI))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;i.host!==vX&&i.host!==a&&$0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},i),{host:a,ssl:!1,emulatorOptions:r});if(!yf(l,o)&&(n._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=li.MOCK_USER;else{u=sle(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new nt(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new li(p)}n._authCredentials=new C0e(new sY(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mI(this.firestore,e,this._query)}}class so{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ff(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new so(this.firestore,e,this._key)}}class ff extends mI{constructor(e,t,r){super(e,t,B$(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new so(this.firestore,null,new at(e))}withConverter(e){return new ff(this.firestore,e,this._path)}}function lw(n,e,...t){if(n=As(n),yX("collection","path",e),n instanceof pI){const r=cr.fromString(e,...t);return mH(r),new ff(n,null,r)}{if(!(n instanceof so||n instanceof ff))throw new nt(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cr.fromString(e,...t));return mH(r),new ff(n.firestore,null,r)}}function co(n,e,...t){if(n=As(n),arguments.length===1&&(e=iY.newId()),yX("doc","path",e),n instanceof pI){const r=cr.fromString(e,...t);return pH(r),new so(n,null,new at(r))}{if(!(n instanceof so||n instanceof ff))throw new nt(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cr.fromString(e,...t));return pH(r),new so(n.firestore,n instanceof ff?n.converter:null,new at(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH="AsyncQueue";class wH{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new KY(this,"async_queue_retry"),this.bu=()=>{const r=CD();r&&Ve(vH,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=CD();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=CD();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new ud;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ow(e))throw e;Ve(vH,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.Su.then((()=>(this.pu=!0,e().catch((r=>{this.gu=r,this.pu=!1;const s=(function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a})(r);throw Sd("INTERNAL UNHANDLED ERROR: ",s),r})).then((r=>(this.pu=!1,r))))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=Q$.createAndSchedule(this,e,t,r,(i=>this.Fu(i)));return this.fu.push(s),s}Du(){this.gu&&ht()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Eg extends pI{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new wH,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wH(e),this._firestoreClient=void 0,await e}}}function w_e(n,e){const t=typeof n=="object"?n:WB(),r=typeof n=="string"?n:xA,s=yg(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=nle("firestore");i&&v_e(s,...i)}return s}function sj(n){if(n._terminated)throw new nt(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||b_e(n),n._firestoreClient}function b_e(n){var e,t,r;const s=n._freezeSettings(),i=(function(a,l,u,h){return new U0e(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,gX(h.experimentalLongPollingOptions),h.useFetchStreams)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new h_e(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&(function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e){this._byteString=e}static fromBase64String(e){try{return new W0(qs.fromBase64String(e))}catch(t){throw new nt(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new W0(qs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new nt(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new nt(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new nt(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __e=/^__.*__$/;class S_e{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Nf(e,this.data,this.fieldMask,t,this.fieldTransforms):new m1(e,this.data,t,this.fieldTransforms)}}class wX{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Nf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bX(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class aj{constructor(e,t,r,s,i,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new aj(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return LA(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(bX(this.Lu)&&__e.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class E_e{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||dI(e)}ju(e,t,r,s=!1){return new aj({Lu:e,methodName:t,zu:r,path:Hs.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lj(n){const e=n._freezeSettings(),t=dI(n._databaseId);return new E_e(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _X(n,e,t,r,s,i={}){const o=n.ju(i.merge||i.mergeFields?2:0,e,t,s);uj("Data must be an object, but it was:",o,r);const a=SX(r,o);let l,u;if(i.merge)l=new qo(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const m=wN(e,p,t);if(!o.contains(m))throw new nt(Ce.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);CX(h,m)||h.push(m)}l=new qo(h),u=o.fieldTransforms.filter((p=>l.covers(p.field)))}else l=null,u=o.fieldTransforms;return new S_e(new eo(a),l,u)}class vI extends yI{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vI}}class cj extends yI{_toFieldTransform(e){return new pwe(e.path,new F_)}isEqual(e){return e instanceof cj}}function C_e(n,e,t,r){const s=n.ju(1,e,t);uj("Data must be an object, but it was:",s,r);const i=[],o=eo.empty();Lf(r,((l,u)=>{const h=dj(e,l,t);u=As(u);const p=s.Ku(h);if(u instanceof vI)i.push(h);else{const m=wI(u,p);m!=null&&(i.push(h),o.set(h,m))}}));const a=new qo(i);return new wX(o,a,s.fieldTransforms)}function T_e(n,e,t,r,s,i){const o=n.ju(1,e,t),a=[wN(e,r,t)],l=[s];if(i.length%2!=0)throw new nt(Ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(wN(e,i[m])),l.push(i[m+1]);const u=[],h=eo.empty();for(let m=a.length-1;m>=0;--m)if(!CX(u,a[m])){const y=a[m];let b=l[m];b=As(b);const v=o.Ku(y);if(b instanceof vI)u.push(y);else{const _=wI(b,v);_!=null&&(u.push(y),h.set(y,_))}}const p=new qo(u);return new wX(h,p,o.fieldTransforms)}function wI(n,e){if(EX(n=As(n)))return uj("Unsupported field value:",e,n),SX(n,e);if(n instanceof yI)return(function(r,s){if(!bX(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const a of r){let l=wI(a,s.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}})(n,e)}return(function(r,s){if((r=As(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dwe(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=cs.fromDate(r);return{timestampValue:PA(s.serializer,i)}}if(r instanceof cs){const i=new cs(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:PA(s.serializer,i)}}if(r instanceof ij)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof W0)return{bytesValue:FY(s.serializer,r._byteString)};if(r instanceof so){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:H$(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof oj)return(function(o,a){return{mapValue:{fields:{[fY]:{stringValue:pY},[AA]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return $$(a.serializer,u)}))}}}}}})(r,s);throw s.Wu(`Unsupported field value: ${rj(r)}`)})(n,e)}function SX(n,e){const t={};return aY(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lf(n,((r,s)=>{const i=wI(s,e.qu(r));i!=null&&(t[r]=i)})),{mapValue:{fields:t}}}function EX(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof cs||n instanceof ij||n instanceof W0||n instanceof so||n instanceof yI||n instanceof oj)}function uj(n,e,t){if(!EX(t)||!(function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)})(t)){const r=rj(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function wN(n,e,t){if((e=As(e))instanceof gI)return e._internalPath;if(typeof e=="string")return dj(n,e);throw LA("Field path arguments must be of type string or ",n,!1,void 0,t)}const x_e=new RegExp("[~\\*/\\[\\]]");function dj(n,e,t){if(e.search(x_e)>=0)throw LA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gI(...e.split("."))._internalPath}catch{throw LA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function LA(n,e,t,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new nt(Ce.INVALID_ARGUMENT,a+n+l)}function CX(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TX{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new so(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new A_e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xX("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class A_e extends TX{data(){return super.data()}}function xX(n,e){return typeof e=="string"?dj(n,e):e instanceof gI?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_e(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new nt(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I_e{convertValue(e,t="none"){switch(_f(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ht()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Lf(e,((s,i)=>{r[s]=this.convertValue(i,t)})),r}convertVectorValue(e){var t,r,s;const i=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[AA].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map((o=>Br(o.doubleValue)));return new oj(i)}convertGeoPoint(e){return new ij(Br(e.latitude),Br(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sI(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(O_(e));default:return null}}convertTimestamp(e){const t=wf(e);return new cs(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=cr.fromString(e);gn(HY(r));const s=new L_(r.get(1),r.get(3)),i=new at(r.popFirst(5));return s.isEqual(t)||Sd(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AX(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RX extends TX{constructor(e,t,r,s,i,o){super(e,t,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ax(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(xX("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ax extends RX{data(e={}){return super.data(e)}}class k_e{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Lb(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new ax(this._firestore,this._userDataWriter,r.key,r,new Lb(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new nt(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((a=>{const l=new ax(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Lb(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((a=>i||a.type!==3)).map((a=>{const l=new ax(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Lb(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:P_e(a.type),doc:l,oldIndex:u,newIndex:h}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function P_e(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n){n=kl(n,so);const e=kl(n.firestore,Eg);return m_e(sj(e),n._key).then((t=>M_e(e,n,t)))}class IX extends I_e{constructor(e){super(),this.firestore=e}convertBytes(e){return new W0(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new so(this.firestore,null,t)}}function w1(n){n=kl(n,mI);const e=kl(n.firestore,Eg),t=sj(e),r=new IX(e);return R_e(n._query),g_e(t,n._query).then((s=>new k_e(e,r,n,s)))}function hj(n,e,t){n=kl(n,so);const r=kl(n.firestore,Eg),s=AX(n.converter,e);return bI(r,[_X(lj(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Da.none())])}function b1(n,e,t,...r){n=kl(n,so);const s=kl(n.firestore,Eg),i=lj(s);let o;return o=typeof(e=As(e))=="string"||e instanceof gI?T_e(i,"updateDoc",n._key,e,t,r):C_e(i,"updateDoc",n._key,e),bI(s,[o.toMutation(n._key,Da.exists(!0))])}function fj(n){return bI(kl(n.firestore,Eg),[new j$(n._key,Da.none())])}function D_e(n,e){const t=kl(n.firestore,Eg),r=co(n),s=AX(n.converter,e);return bI(t,[_X(lj(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Da.exists(!1))]).then((()=>r))}function bI(n,e){return(function(r,s){const i=new ud;return r.asyncQueue.enqueueAndForget((async()=>r_e(await p_e(r),s,i))),i.promise})(sj(n),e)}function M_e(n,e,t){const r=t.docs.get(e._key),s=new IX(n);return new RX(n,s,e._key,r,new Lb(t.hasPendingWrites,t.fromCache),e.converter)}function O_e(){return new cj("serverTimestamp")}(function(e,t=!0){(function(s){sw=s})(ew),Mc(new Il("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Eg(new T0e(r.getProvider("auth-internal")),new R0e(o,r.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new nt(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new L_(u.options.projectId,h)})(o,s),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),ka(x9,A9,e),ka(x9,A9,"esm2017")})();const ds=w_e(l$),L_e=async(n,e)=>{try{const t=co(ds,`users/${n}/measures`,Nt(e));await hj(t,e),console.log("Measure added successfully.")}catch(t){console.error("Error adding measure:",t)}},N_e=async(n,e,t)=>{try{const r=Nt(t),s=co(ds,`users/${n}/measures`,e),i=co(ds,`users/${n}/measures`,r);e!==r?(await fj(s),await hj(i,t)):await b1(s,{MeasurePrefix:t.MeasurePrefix,MeasureNumber:t.MeasureNumber,position:t.position,SessionKey:t.SessionKey,isDisplayed:t.isDisplayed,color:t.color,nickname:t.nickname}),console.log("Measure updated successfully.")}catch(r){throw console.error("Error updating measure:",r),r}},F_e=async(n,e)=>{try{const t=co(ds,`users/${n}/measures`,e);await fj(t),console.log("Measure removed successfully.")}catch(t){throw console.error("Error removing measure:",t),t}},B_e=async n=>{const e=n.uid,t=lw(ds,`users/${e}/measures`);try{return(await w1(t)).docs.map(i=>({id:i.id,...i.data()}))}catch(r){return console.error("Error fetching user measures:",r),[]}},$_e=async n=>{try{const e=lw(ds,"feedback");await D_e(e,{...n,timestamp:O_e()}),console.log("Feedback submitted successfully.")}catch(e){throw console.error("Error submitting feedback:",e),e}},j_e=async()=>{try{const n=lw(ds,"feedback");return(await w1(n)).docs.map(r=>({id:r.id,...r.data()})).sort((r,s)=>!r.timestamp||!s.timestamp?0:s.timestamp.toMillis()-r.timestamp.toMillis())}catch(n){throw console.error("Error fetching feedback entries:",n),n}},U_e=async(n,e)=>{try{const t=co(ds,"feedback",n);await b1(t,{status:e}),console.log("Feedback status updated successfully.")}catch(t){throw console.error("Error updating feedback status:",t),t}},V_e=async()=>{try{const n=lw(ds,"groups");return(await w1(n)).docs.map(r=>({id:r.id,name:r.data().name||""}))}catch(n){throw console.error("Error fetching all groups:",n),n}},H_e=async n=>{try{const e=lw(ds,`users/${n}/groups`),t=await w1(e);if(t.empty)return[];const s=t.docs.map(o=>o.id).map(async o=>{const a=co(ds,"groups",o),l=await cw(a);return l.exists()?{id:l.id,name:l.data().name||""}:null});return(await Promise.all(s)).filter(o=>o!==null)}catch(e){throw console.error("Error fetching user groups:",e),e}},q0=async n=>{try{const e=lw(ds,`users/${n}/groups`),t=await w1(e);if(t.empty)return{};const r=t.docs.map(o=>o.id),s={},i=r.map(async o=>{const a=co(ds,"groups",o),l=await cw(a);if(l.exists()){const u=l.data().measures||[];s[o]=u}});return await Promise.all(i),s}catch(e){throw console.error("Error fetching user group measures:",e),e}},kX=async n=>{try{const e=co(ds,"groups",n),t=await cw(e);if(!t.exists())return null;const r=t.data();return{id:t.id,name:r.name||"",admins:r.admins||[],measures:r.measures||[]}}catch(e){throw console.error("Error fetching group:",e),e}},z_e=async(n,e)=>{try{const t=co(ds,`users/${n}/groups`,e);await hj(t,{}),console.log("Group added to user successfully.")}catch(t){throw console.error("Error adding group to user:",t),t}},W_e=async(n,e)=>{try{const t=co(ds,`users/${n}/groups`,e);await fj(t),console.log("Group removed from user successfully.")}catch(t){throw console.error("Error removing group from user:",t),t}},q_e=async(n,e)=>{try{const t=co(ds,"groups",n),r=await cw(t);if(!r.exists())throw new Error("Group not found");const s=r.data().measures||[],i=Nt(e);s.some(a=>Nt(a)===i)?console.log("Measure already exists in group."):(await b1(t,{measures:[...s,e]}),console.log("Measure added to group successfully."))}catch(t){throw console.error("Error adding measure to group:",t),t}},G_e=async(n,e)=>{try{const t=co(ds,"groups",n),r=await cw(t);if(!r.exists())throw new Error("Group not found");const i=(r.data().measures||[]).filter(o=>Nt(o)!==e);await b1(t,{measures:i}),console.log("Measure removed from group successfully.")}catch(t){throw console.error("Error removing measure from group:",t),t}},K_e=async(n,e,t)=>{try{const r=co(ds,"groups",n),s=await cw(r);if(!s.exists())throw new Error("Group not found");const o=(s.data().measures||[]).map(a=>Nt(a)===e?t:a);await b1(r,{measures:o}),console.log("Measure updated in group successfully.")}catch(r){throw console.error("Error updating measure in group:",r),r}},bN={RED:"#C94754",SALMON:"#F18D7E",PINK:"#FDC0C7",ORANGE:"#FFA86A",GOLD:"#CFA044",SAGE:"#7FAD7F",PEACH:"#F6C388",LIME:"#DCDE73",TEAL:"#3F7880",PURPLE:"#7C3361",BLUE:"#57A5BB",VIOLET:"#A391B7"},Y_e={square:{width:"20px",height:"20px",borderRadius:"4px",boxSizing:"border-box"}},NA=({color:n="#fff",filled:e=!0})=>{const t={backgroundColor:e?n:"transparent",border:`2px solid ${n}`};return I.jsx(ge,{sx:{...Y_e.square,...t}})},PX=Ur(I.jsx("path",{d:"M8.12 9.29 12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41 0s.39 1.02 0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41 0L6.7 10.7a.996.996 0 0 1 0-1.41c.39-.38 1.03-.39 1.42 0"}),"KeyboardArrowDownRounded"),ih={container:{padding:3,borderRadius:"8px",display:"flex",flexDirection:"column",gap:2,alignItems:"flex-end"},title:{width:"100%"},form:{display:"flex",flexDirection:"row",gap:2},prefix:{width:"80px"},number:{width:"100px"},sessionKey:{width:"100%"},nickname:{width:"100%"},color:{display:"flex",flexDirection:"row",padding:"0px 16px",backgroundColor:"#EFEFEF",gap:2,alignItems:"center",borderRadius:"8px",position:"relative"}},bH={popover:{marginTop:1},colorsContainer:{padding:2,display:"flex",flexDirection:"row",width:"144px",flexWrap:"wrap"}},X_e=({anchorEl:n,onClose:e,updateColor:t})=>I.jsx(h1,{open:!!n,anchorEl:n,sx:bH.popover,onClose:()=>setTimeout(e,0),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:I.jsx(ge,{sx:bH.colorsContainer,children:Object.values(bN).map(r=>I.jsx(Rs,{onClick:()=>{t(r),setTimeout(e,0)},children:I.jsx(NA,{color:r})}))})}),DX=Ur(I.jsx("path",{d:"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1"}),"AddRounded"),pj=Ur(I.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),mj=({title:n,tooltip:e,onAdd:t,initialValues:r,triggerIcon:s="add",anchorEl:i,onClose:o,onOpen:a})=>{const[l,u]=B.useState(null),h=i!==void 0?i:l,[p,m]=B.useState(null),y=B.useRef(null),[b,v]=B.useState(""),[_,E]=B.useState(""),[x,C]=B.useState(bN.SAGE),[A,k]=B.useState("2025R1"),[L,P]=B.useState(""),D=()=>{r?(v(r.MeasurePrefix),E(r.MeasureNumber.toString()),C(r.color),k(r.SessionKey),P(r.nickname)):(v(""),E(""),C(bN.SAGE),k("2025R1"),P(""))};B.useEffect(()=>{D()},[h,r]);const F=async()=>{!b||!_||(i!==void 0&&o?o():u(null),m(null),await t(b,Number(_),x,A,L))},T=j=>{a?a(j):u(j.currentTarget)},$=()=>{i!==void 0&&o?o():u(null),m(null)},z=s==="edit"?pj:DX;return I.jsxs(I.Fragment,{children:[s==="add"&&I.jsx(xs,{title:e,children:I.jsx(Rs,{onClick:T,children:I.jsx(z,{})})}),I.jsx(h1,{open:!!h,anchorEl:h||null,onClose:$,anchorOrigin:{vertical:"bottom",horizontal:"left"},onAnimationEnd:()=>{var j;return(j=y.current)==null?void 0:j.focus()},children:I.jsxs(ge,{sx:ih.container,children:[I.jsx(Ae,{variant:"h2",sx:ih.title,children:n}),I.jsxs(ge,{sx:ih.form,children:[I.jsx(id,{sx:ih.prefix,placeholder:"HB",value:b,inputRef:y,onChange:j=>v(j.target.value)}),I.jsx(id,{sx:ih.number,placeholder:"2024",value:_,onChange:j=>E(j.target.value)}),I.jsxs(ur,{sx:ih.color,onClick:j=>m(j.currentTarget),children:[I.jsx(NA,{color:x}),I.jsx(PX,{}),I.jsx(X_e,{anchorEl:p,onClose:()=>m(null),updateColor:C})]})]}),I.jsx(id,{sx:ih.sessionKey,disabled:!0,placeholder:"Session Key",value:A,onChange:j=>k(j.target.value),fullWidth:!0}),I.jsx(id,{sx:ih.nickname,placeholder:"Nickname (optional)",value:L,onChange:j=>P(j.target.value),fullWidth:!0}),I.jsx(ur,{variant:"filled",onClick:F,disabled:!b||!_,children:r?"Save":"Add"})]})})]})},J_e=()=>{const{addUserTrackedMeasure:n}=$r(),{currentUser:e}=Hc(),t=async(r,s,i,o,a)=>{const l={color:i,position:"?",MeasurePrefix:r,MeasureNumber:s,isDisplayed:!0,SessionKey:o,nickname:a};if(n(l),e)try{await L_e(e.uid,l)}catch(u){console.error("Error adding measure to Firebase:",u)}};return I.jsx(mj,{title:"Add Bill to Track",tooltip:"Add bill to track",onAdd:t})},Q_e={dialogContent:{display:"flex",flexDirection:"column",gap:2,minHeight:"200px"}},Z_e=()=>{const[n,e]=B.useState(!1),[t,r]=B.useState(!1),[s,i]=B.useState([]),[o,a]=B.useState(""),[l,u]=B.useState(!1),[h,p]=B.useState(new Set),{currentUser:m}=Hc(),{userGroups:y,addUserGroup:b,removeUserGroup:v,setGroupMeasures:_}=$r();B.useEffect(()=>{if(n){if(u(!0),V_e().then(k=>{i(k),u(!1)}).catch(k=>{console.error("Error fetching groups:",k),u(!1)}),m&&y.length>0){const k=y.map(L=>kX(L.id).then(P=>P&&P.admins.includes(m.uid)?L.id:null).catch(()=>null));Promise.all(k).then(L=>{p(new Set(L.filter(P=>P!==null)))})}}else a(""),r(!1)},[n,m,y]);const E=async()=>{if(!o||!m)return;const k=s.find(P=>P.id===o);if(!k)return;if(y.some(P=>P.id===o)){console.log("User is already in this group"),a(""),r(!1);return}b(k);try{await z_e(m.uid,o);const P=await q0(m.uid);_(P),a(""),r(!1)}catch(P){console.error("Error adding group to user:",P),v(o)}},x=()=>{r(!1),a("")},C=async k=>{if(m){v(k);try{await W_e(m.uid,k);const L=await q0(m.uid);_(L)}catch(L){console.error("Error removing group from user:",L);const P=y.find(D=>D.id===k);P&&b(P)}}},A=s.filter(k=>!y.some(L=>L.id===k.id));return I.jsxs(I.Fragment,{children:[I.jsx(xs,{title:"Edit Groups",children:I.jsx(Rs,{onClick:()=>e(!0),children:I.jsx(pj,{})})}),I.jsx(eI,{open:n,onClose:()=>e(!1),maxWidth:"sm",fullWidth:!0,children:I.jsx(Gge,{children:I.jsxs(ge,{sx:Q_e.dialogContent,children:[I.jsx(Ae,{variant:"h1",children:"My Groups"}),y.length===0&&!t?I.jsxs(ge,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[I.jsx(Ae,{variant:"body2",color:"text.secondary",children:"You are not in any groups yet."}),I.jsx(ur,{variant:"filled",onClick:()=>r(!0),children:"Join a group"})]}):I.jsxs(I.Fragment,{children:[y.length>0&&I.jsx(ge,{children:y.map(k=>I.jsxs(ge,{sx:{display:"flex",gap:2,alignItems:"center"},children:[I.jsx(tN,{primary:k.name}),h.has(k.id)&&I.jsx($K,{label:"Admin",size:"small",sx:{backgroundColor:"#ffee8c"}}),I.jsx(ur,{variant:"text",onClick:()=>C(k.id),children:"Leave"})]},k.id))}),t?I.jsxs(ge,{sx:{display:"flex",gap:2,marginTop:2,alignItems:"center"},children:[I.jsxs(T$,{sx:{flexGrow:1,minWidth:200},children:[I.jsx(R$,{children:"Select a group"}),I.jsx(tI,{value:o,onChange:k=>a(k.target.value),label:"Select a group",disabled:l,children:A.length===0?I.jsx(df,{disabled:!0,value:"",children:"No more groups found"}):A.map(k=>I.jsx(df,{value:k.id,children:k.name},k.id))})]}),I.jsx(ur,{variant:"text",onClick:x,children:"Cancel"}),I.jsx(ur,{variant:"filled",onClick:E,disabled:!o||l,children:"Join"})]}):I.jsx(ge,{sx:{marginTop:2,display:"flex",justifyContent:"flex-end"},children:I.jsx(xs,{title:"Add a group",children:I.jsx(Rs,{onClick:()=>r(!0),children:I.jsx(DX,{})})})})]})]})})})]})},_o={measureFilterContainer:{display:"flex",flexDirection:"row",alignItems:"flex-start",gap:"16px",padding:2,borderRadius:"8px","&:hover":{backgroundColor:"#EDEDED",cursor:"pointer"},"&:hover #deleteIcon":{visibility:"visible"},"&:hover #editIcon":{visibility:"visible"}},checkbox:{marginTop:"6px",minWidth:"unset",padding:0,"&:hover":{filter:"brightness(80%)"}},infoArea:{display:"flex",flexDirection:"column",alignItems:"flexStart",textAlign:"left",gap:"4px",flexGrow:1},infoTopline:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},deleteIcon:{visibility:"hidden"},duplicateTag:{textDecoration:"none",fontSize:"0.75rem",height:"20px",backgroundColor:"#E0E0E0",color:"#666",fontWeight:500}},MX=Ur(I.jsx("path",{d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59 7.11 5.7a.996.996 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41s1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4"}),"CloseRounded"),_H={container:{padding:3,display:"flex",flexDirection:"column",gap:2},buttonContainer:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"flex-end",gap:2}},eSe=({anchorEl:n,onClose:e,handleAction:t,message:r,subtitle:s})=>I.jsx(eI,{open:!!n,onClose:e,children:I.jsxs(ge,{sx:_H.container,children:[I.jsx(Ae,{variant:"h5",children:r}),I.jsx(Ae,{variant:"body2",children:s}),I.jsxs(ge,{sx:_H.buttonContainer,children:[I.jsx(ur,{variant:"text",onClick:e,children:"Cancel"}),I.jsx(ur,{variant:"contained",color:"error",onClick:()=>{t(),e()},children:"Delete"})]})]})}),tSe=Ur(I.jsx("path",{d:"M21 8.59V4c0-.55-.45-1-1-1h-4.59c-.89 0-1.34 1.08-.71 1.71l1.59 1.59-10 10-1.59-1.59c-.62-.63-1.7-.19-1.7.7V20c0 .55.45 1 1 1h4.59c.89 0 1.34-1.08.71-1.71L7.71 17.7l10-10 1.59 1.59c.62.63 1.7.19 1.7-.7"}),"OpenInFullRounded"),nSe={BB:"#91F2A4",BM49:"#91F2B6",BM50:"#91F2B6",BM51:"#91F2B6",BM52:"#91F2B6",BM53:"#91F2B6",BM54:"#91F2B6",BM55:"#91F2B6",BM56:"#91F2B6",BM57:"#91F2B6",BM70:"#91F2B6",BM71:"#91F2B6",BM72:"#91F2B6",BM77:"#91F2B6",BM78:"#91F2B6",BM86:"#91F2B6",BM87:"#91F2B6",BM93:"#91F2B6",CIS:"#91ACF2",CRR:"#919FF2",EB:"#91F2A9",EBED:"#C591F2",EBGG:"#CD91F2",EBHS:"#E291F2",EBOARD:"#E3F291",EBPS:"#EF91F2",EBTR:"#F291F0",FSSC:"#F291ED",HA:"#91F2AC",HAGLU:"#F29F91",HAGLUW:"#B8F291",HAGNR:"#F29E91",HALNRW:"#B1F291",HANR:"#ED91F2",HB2021:"#91F2AE",HB2092:"#91F2AE",HB2111:"#91F2AE",HB2112:"#91F2AE",HB2122:"#91F2AE",HB2147:"#91F2AE",HB2175:"#91F2AE",HB2227:"#91F2AE",HB2233:"#91F2AE",HB2312:"#91F2AE",HB2342:"#91F2AE",HB2434:"#91F2AE",HB2453:"#91F2AE",HB2463:"#91F2AE",HB2472:"#91F2AE",HB2536:"#91F2AE",HB2604:"#91F2AE",HB2710:"#91F2AE",HB2723:"#91F2AE",HB2792:"#91F2AE",HB2823:"#91F2AE",HB2841:"#91F2AE",HB2870:"#91F2AE",HB2872:"#91F2AE",HB2896:"#91F2AE",HB2898:"#91F2AE",HB3039:"#91F2AE",HB3089:"#91F2AE",HB3099:"#91F2AE",HB3225:"#91F2AE",HB3242:"#91F2AE",HB3271:"#91F2AE",HB3280:"#91F2AE",HB3283:"#91F2AE",HB3416:"#91F2AE",HB3438:"#91F2AE",HB3452:"#91F2AE",HB3464:"#91F2AE",HBH:"#91C1F2",HBHHC:"#F291A3",HBL:"#91BBF2",HBLWD:"#F29F91",HBLWFD:"#D3F291",HC:"#91F2B0",HC1221:"#91F2B0",HCAS:"#DD91F2",HCCP:"#DB91F2",HCD19R:"#91C6F2",HCEE:"#CD91F2",HCOND:"#F29791",HCP:"#91B3F2",HCPGA:"#F29199",HCPGE:"#F29192",HCRED:"#F29194",HEC:"#91C5F2",HECD:"#CB91F2",HECDSB:"#EAF291",HECDT:"#F29191",HECFS:"#F29291",HECHS:"#F29691",HED:"#91C3F2",HEE:"#91C1F2",HEER:"#E591F2",HEEW:"#ED91F2",HEMGGV:"#C8F291",HENVNR:"#A9F291",HEPOP:"#F2B191",HERP:"#F291ED",HEW:"#91A4F2",HGAIT:"#F29991",HGAMRG:"#D5F291",HGG:"#91BBF2",HGGCP:"#F29291",HGL:"#91B3F2",HHC:"#91C0F2",HHC19:"#91C0F2",HHED:"#D391F2",HHEDIW:"#D0F291",HHEDW:"#F29E91",HHEWD:"#F29E91",HHOUS:"#F2C391",HHOUSH:"#ACF291",HHS:"#91A6F2",HHSWW:"#F2D391",HJUD:"#F091F2",HJUDCL:"#CEF291",HJUDEP:"#C5F291",HLC:"#91B9F2",HLRED:"#F29C91",HLU:"#919CF2",HLWS:"#F291D5",HMPL:"#F291EA",HNR:"#919EF2",HOCTF:"#F2A491",HRC:"#91B0F2",HRCLUW:"#A3F291",HRED:"#E391F2",HREDIS:"#C6F291",HREV:"#F291E3",HRP:"#919BF2",HRULES:"#A6F291",HSB:"#91B0F2",HSBG:"#E591F2",HSBTF:"#F2A991",HSCAIM:"#D6F291",HSED:"#E591F2",HSEI:"#ED91F2",HSHE:"#EB91F2",HSHP:"#F291E6",HSUBED:"#CDF291",HTED:"#E691F2",HTP:"#9197F2",HTRANS:"#ABF291",HVA:"#91ACF2",HVEM:"#F291EB",HVES:"#F291E2",HVET:"#F291E0",HVETS:"#F2C891",HWED:"#EB91F2",HWFED:"#F29B91",HWR:"#9291F2",HWREC:"#F2AC91",HWSUB:"#F2C691",HWTR:"#F291C9",IRR401:"#9196F2",IRR404:"#9196F2",J1SS:"#DBF291",J2SS:"#DBF291",J3SS:"#DBF291",JACSR:"#F2A391",JARDHO:"#D1F291",JAUD:"#E591F2",JBM401:"#91B6F2",JBM402:"#91B6F2",JBMARG:"#DAF291",JBMTES:"#BCF291",JBTM:"#F291F0",JCASA:"#F2919B",JCCC:"#C991F2",JCCR:"#E291F2",JCDEO:"#F29196",JCF:"#91C0F2",JCFWO:"#F2AC91",JCOND:"#F29B91",JCPAY:"#F2A991",JCSS:"#F291E6",JCSSAT:"#B8F291",JCSSEC:"#CDF291",JCSSR:"#F2C091",JCT:"#91A9F2",JCTE:"#E891F2",JCTOA:"#F29F91",JEB:"#91C3F2",JEBED:"#F291A7",JEBGG:"#F2919F",JEBHS:"#F29791",JED:"#91C0F2",JEHB:"#D391F2",JEPOP:"#F2B491",JFPRX:"#F2C891",JFSS:"#F291E2",JFSSC:"#F2AC91",JGAMRG:"#D1F291",JHCCR:"#F29491",JHCT:"#ED91F2",JHIT:"#F291ED",JI5:"#91F2BC",JI5B:"#91F2BC",JISCWF:"#BBF291",JJSR:"#F291DD",JLA:"#91B9F2",JLAC:"#D591F2",JLADMN:"#D5F291",JLAIMT:"#C3F291",JLAUD:"#F29E91",JLC:"#91B6F2",JLCC:"#D891F2",JLCCPR:"#C8F291",JLCIMT:"#C0F291",JLCPR:"#F2B091",JLPR:"#F291DE",JLUF:"#F291EA",JM91:"#91F2C3",JML:"#91A6F2",JMR:"#919CF2",JOCRC:"#F29F91",JOCSS:"#F2BB91",JOL:"#91A3F2",JOLCC:"#F29691",JP2SS:"#91F2C8",JPEA:"#DE91F2",JPGC:"#E591F2",JPS:"#9196F2",JRF301:"#91A7F2",JSAFE:"#F29291",JSC762:"#91ABF2",JSCF:"#E891F2",JSCVR:"#F2C591",JSEMI:"#F2AB91",JSHC:"#EB91F2",JSHP:"#F291E3",JSP:"#9196F2",JSPEA:"#F2A391",JSRED:"#F2AB91",JSS:"#9191F2",JSSCWF:"#ABF291",JSSS:"#F291CD",JSTEM:"#F2BC91",JTAX:"#F291E0",JTBHCP:"#CDF291",JTFACC:"#E6F291",JTFAI:"#F29B91",JTFAS:"#F2AB91",JTFBHA:"#E0F291",JTFBHW:"#BCF291",JTFCCB:"#E5F291",JTFCFR:"#C6F291",JTFCMC:"#D3F291",JTFCS:"#F2AE91",JTFFFW:"#B9F291",JTFHDC:"#DAF291",JTFRDE:"#C6F291",JTFREB:"#C9F291",JTFREH:"#C0F291",JTFRF:"#F2B191",JTFS:"#F291E0",JTFSC:"#F2AE91",JTFSES:"#ACF291",JTFST:"#F2C991",JTFUHC:"#BEF291",JTMP:"#F291DA",JTOAC:"#F29F91",JTPM:"#F291DA",JTPUFR:"#99F291",JTR:"#9191F2",JTSSTP:"#91F29E",JTUSHE:"#A6F291",JUG:"#91A1F2",JVSG:"#F291DB",JWM:"#9194F2",JWMCC:"#F2A491",JWMED:"#F2A991",JWMGG:"#F2B191",JWMHS:"#F2C691",JWMIT:"#F2C991",JWMNR:"#F2CE91",JWMPS:"#F2D391",JWMTR:"#F2D891",LAC:"#91C5F2",LWRK:"#F291D1",OCCC:"#D191F2",OSCF:"#F091F2",OTCA:"#EA91F2",PSS:"#9B91F2",SB1036:"#91F2C0",SB1040:"#91F2C0",SB108:"#91F2C0",SB1509:"#91F2C0",SB1563:"#91F2C0",SB19:"#91F2C0",SB24:"#91F2C0",SB244:"#91F2C0",SB248:"#91F2C0",SB274:"#91F2C0",SB347:"#91F2C0",SB413:"#91F2C0",SB473:"#91F2C0",SB600:"#91F2C0",SB64:"#91F2C0",SB673:"#91F2C0",SB688:"#91F2C0",SB729:"#91F2C0",SB753:"#91F2C0",SB767:"#91F2C0",SB816:"#91F2C0",SB93:"#91F2C0",SB973:"#91F2C0",SB998:"#91F2C0",SBG:"#91B1F2",SBGG:"#E391F2",SBT:"#919CF2",SBTED:"#F2A191",SBTW:"#F291D1",SCAMP:"#F2A491",SCL:"#91A7F2",SCOM:"#F291E8",SCON:"#F291E6",SCOND:"#F2A991",SCPPA:"#F2A991",SCR14:"#919EF2",SCWD:"#F291EA",SECBH:"#F29196",SED:"#91B1F2",SEDWD:"#F2A991",SEE:"#91B0F2",SEGG:"#E891F2",SENR:"#F291DE",SFR:"#9199F2",SFY:"#9491F2",SGAIT:"#F2AB91",SGGA:"#E291F2",SGGCP:"#F2A491",SGGEP:"#F2A791",SHC:"#91AEF2",SHCR:"#F291EB",SHCVA:"#F2A691",SHDEV:"#F2AE91",SHH:"#91A6F2",SHHR:"#F291E3",SHHS:"#F291E2",SHOUS:"#F2D591",SHPPA:"#F2B191",SHS:"#9194F2",SHSEC:"#F2A791",SHSMHR:"#A3F291",SHSRH:"#F2C591",SHSRHP:"#9EF291",SIM91:"#919CF2",SJ:"#91F2CD",SJD110:"#91A9F2",SJR41:"#9192F2",SJT:"#9291F2",SJUD:"#F291E2",SLB:"#91A9F2",SLOR:"#F291D1",SLUF:"#F291DB",SMH:"#919EF2",SNR:"#9691F2",SNRW:"#F291C1",SNRWR:"#F2E591",SRCED:"#F29F91",SRE:"#919BF2",SREA:"#F091F2",SRED:"#F291EF",SRULES:"#94F291",SSC:"#919CF2",SSDS:"#F291D6",SSHCR:"#F2BC91",SSSPD:"#F2CD91",SST:"#A191F2",ST:"#91F2DD",STEST:"#F2D691",STRANS:"#99F291",SVA:"#919BF2",SVEMFW:"#9EF291",SVEP:"#F291D5",SVET:"#F291CE",SVMA:"#F291E0",SWF:"#9191F2",SWGG:"#F291DE",SWRR:"#F291BB",TFASC:"#F29F91",TFCCBP:"#DBF291",TFCSFL:"#C1F291",TFHST:"#F2C691",TFORS:"#F2CE91",TFPH:"#F291E8",TFPMH:"#F2B691",TFSBP:"#F2B691",TFTORT:"#91F296",TOA:"#91A4F2",WGJCD:"#F29C91",WGOEA:"#F2A391",WGREDS:"#B1F291"},_1=bg((n,e)=>({unfilteredCommitteeAgenda:[],setUnfilteredCommitteeAgenda:t=>n({unfilteredCommitteeAgenda:t}),getCommitteeAgendaItems:()=>e().unfilteredCommitteeAgenda,getCalendarEvents:()=>rSe(e().getCommitteeItemsGroupedIntoMeetings()),getUpcomingAgendaItemsById:t=>e().unfilteredCommitteeAgenda.filter(r=>Nt(r)===t).filter(r=>new Date(r.MeetingDate)>new Date),getTestimonyLinkByIdAndDate:(t,r)=>iSe(SH(e().unfilteredCommitteeAgenda,t,r)),getCommitteeMeetingByIdAndDate:(t,r)=>{var s;return(s=SH(e().unfilteredCommitteeAgenda,t,r))==null?void 0:s.CommitteeMeeting},getCommitteeItemsGroupedIntoMeetings:()=>sSe(e().getCommitteeAgendaItems()),getCommitteeMeetingWithItemsByGuid:t=>e().getCommitteeItemsGroupedIntoMeetings()[t]})),rSe=n=>Object.keys(n).map(e=>{const t=n[e].CommitteeMeeting,r=new Date(t.MeetingDate),s=new Date(r.getTime()+90*1e3*60);return{title:t.CommitteeCode,start:r,end:s,id:e,comments:"item.Comments",color:nSe[t.CommitteeCode]||"#f7f7f7"}}),sSe=n=>{const e={};return n.forEach(t=>{const r=t.CommitteeMeeting.MeetingGuid,s=e[r];if(!s)e[r]={CommitteeMeeting:t.CommitteeMeeting,AgendaItems:[t]};else{let i=[...s.AgendaItems];i.push(t),e[r]={...s,AgendaItems:i}}}),e},SH=(n,e,t)=>n.find(s=>{const i=Nt(s)===e,o=new Date(s.MeetingDate),a=300*1e3,l=Math.abs(o.getTime()-t.getTime())<a;return i&&l}),iSe=n=>n?{written:`https://olis.oregonlegislature.gov/liz/${n.SessionKey}/Testimony/${n.CommitteCode}/${n.MeasurePrefix}/${n.MeasureNumber}/0000-00-00-00-00?area=Measures`,inPerson:""}:null,gj=bg((n,e)=>({committees:[],setCommittees:t=>n({committees:t}),addCommittee:t=>n({committees:[...e().committees,t]}),setUnfilteredCommittees:t=>n({committees:t}),getCommitteeByCode:t=>{var r;return(r=e().committees)==null?void 0:r.find(s=>s.CommitteeCode===t)},getFullCommitteeNameByCode:t=>{var r,s;return(s=(r=e().committees)==null?void 0:r.find(i=>i.CommitteeCode===t))==null?void 0:s.CommitteeName}})),oSe=["In House Committee","In House Committee Awaiting transfer to Desk","In Senate Committee","In Senate Committee Awaiting transfer to Desk","Senate Desk - Awaiting Second Reading"],aSe=["Senate - Tabled","Senate Desk - Failed","House Desk - Failed","At House Desk Upon Adjournment","At Senate Desk Upon Adjournment","At Speakers Desk Upon Adjournment","In House Committee","In Senate Committee"],lSe=["Governors Office - Awaiting Signature","Senate Presidents Desk - Awaiting Signature","Speakers Desk - Awaiting Signature"],cSe=["Filed with Secretary of State","Secretary of States Office - Chapter Number Assignment","Chapter Number Assigned"],uSe=[{group:"Sorting Errors",data:[{section:"Uncategorized Bills"}]}],dSe=[{group:"First Chamber",data:[{section:"Committee",data:[{status:"In Committee",data:["In House Committee","In Senate Committee"]},{status:"Awaiting Transfer to Desk",data:["In House Committee","In Senate Committee"]}]},{section:"Floor",data:[{status:"Awaiting First Reading",data:["In House","In Senate"]},{status:"Awaiting Second Reading",data:["In House","In Senate"]}]}]},{group:"Second Chamber",data:[{section:"Committee",data:[{status:"In Committee",data:["In House Committee","In Senate Committee"]},{status:"Awaiting Transfer to Desk",data:["In House Committee","In Senate Committee"]}]},{section:"Floor",data:[{status:"Awaiting First Reading",data:["In House","In Senate"]},{status:"Awaiting Second Reading",data:["In House","In Senate"]}]}]},{group:"Administrative Checks",data:[{section:"Awaiting Signature",data:[{status:"Governors Office",data:[""]},{status:"Chamber",data:["Senate President Desk","Speakers Desk"]}]}]},{group:"Passed",data:[{section:"Passed",data:[{status:"Filed with Secretary of State",data:[""]},{status:"Awaiting Chapter Number",data:[""]},{status:"Chapter Number Assigned",data:[""]}]}]},{group:"Not Passed",data:[{section:"Not Passed",data:[{status:"Failed",data:["At House Desk","At Senate Desk"]},{status:"Tabled",data:["In Senate","In House"]},{status:"At Desk Upon Adjourment",data:["At House Speakers Desk","At Senate Desk","At House Desk"]},{status:"In Committee Upon Adjourment",data:["In Senate Committee","In House Committee"]}]}]}],hSe=(n,e,t)=>{const r=t.some(l=>l.ActionText.toLowerCase().includes("in committee upon adjournment"));if(oSe.some(l=>n===l)&&!r){var s={};const l=n.includes("Senate")&&e==="SB"||n.includes("House")&&e==="HB"||n.includes("House")&&e==="HJM",u=n.includes("Committee");return s.group=l?"First Chamber":"Second Chamber",s.section=u?"Committee":"Floor",s.status=n.includes("Awaiting Transfer")?"Awaiting Transfer to desk":"In Committee",u?s.sublocation=n.includes("Senate")?"In Senate Committee":"In House Committee":s.sublocation=n.includes("Senate")?"On Senate Floor":"On House Floor",s}if(lSe.some(l=>n===l)){var i={};return i.group="Administrative Checks",i.section="Awaiting Signature",n.includes("Governors")?(i.status="Governors Office",i.sublocation=""):(i.status="Chamber",i.sublocation=n.includes("Speaker")?"Speakers Desk":"Senate President Desk"),i}if(cSe.some(l=>n===l)){var o={};return o.group="Passed",o.section="Passed",n.includes("filed")?o.status="Filed with Secretary of State":(n="Chapter Number Assigned")?o.status="Chapter Number Assigned":o.status="Awaiting Chapter Number",o.sublocation="",o}if(aSe.some(l=>n===l)||r){var a={};return a.group="Not Passed",a.section="Not Passed",r?(a.status="In Committee Upon Adjourment",a.sublocation=n.includes("Senate")?"In Senate Committee":"In House Committee"):n.includes("tabled")?(a.status="Tabled",a.sublocation=n.includes("senate")?"In Senate":"In House"):n.includes("failed")?(a.status="Failed",a.sublocation=n.includes("senate")?"At Senate Desk":"At House Desk"):(a.status="At Desk Upon Adjourment",n==="At House Desk Upon Adjournment"&&(a.sublocation="At House Desk"),n==="At Senate Desk Upon Adjournment"&&(a.sublocation="At Senate Desk"),n==="At Speakers Desk Upon Adjournment"&&(a.sublocation="At House Speakers Desk")),a}return{group:"Sorting Errors",status:n,section:"Uncategorized Bills",sublocation:"uncategorized"}},uo=bg((n,e)=>({areOlisMeasuresLoading:{areMeasuresLoading:!0,totalMeasures:0,measuresLoaded:0},setAreOlisMeasuresLoading:t=>n({areOlisMeasuresLoading:t}),loadingMeasureIds:new Set,setLoadingMeasureIds:t=>{t instanceof Set?n({loadingMeasureIds:t}):n(r=>({loadingMeasureIds:t(r.loadingMeasureIds)}))},isMeasureLoading:t=>e().loadingMeasureIds.has(t),getFilteredMeasureIds:()=>$r.getState().getAllTrackedMeasuresWithSource().filter(r=>r.isDisplayed&&(!r.isDuplicate||r.source==="user")).map(r=>Nt(r)),getFilteredMeasureDocuments:()=>e().getMeasures().flatMap(t=>t.MeasureDocuments),unfilteredMeasures:[],getMeasures:()=>gSe(e().unfilteredMeasures,$r.getState().getAllTrackedMeasuresWithSource()),getMeasuresSortedIntoKanbanLocations:()=>vSe(e().getMeasures()),getHasKanbanSortingError:()=>ySe(e().getMeasuresSortedIntoKanbanLocations()),setUnfilteredMeasures:t=>n({unfilteredMeasures:wSe(t)}),getMeasureById:t=>e().unfilteredMeasures.find(r=>r.id===t),getMeasureUrlById:t=>mSe(e().getMeasureById(t)),getMeasureCommitteeCodeById:t=>{var r;return(r=e().getMeasureById(t))==null?void 0:r.CurrentCommitteeCode},getMeasureDocumentsById:t=>{var r;return(r=e().getMeasureById(t))==null?void 0:r.MeasureDocuments},getMeasureTitleById:t=>{var r;return(r=e().getMeasureById(t))==null?void 0:r.CatchLine},getMeasureNicknameById:t=>{var i;const s=$r.getState().getAllTrackedMeasuresWithSource().find(o=>Nt(o)===t);return(s==null?void 0:s.nickname)||((i=e().getMeasureById(t))==null?void 0:i.CatchLine)||void 0},getSortedMeasureSponsorsById:t=>{var r;return pSe((r=e().getMeasureById(t))==null?void 0:r.MeasureSponsors)},getSortedMeasureChiefSponsorsById:t=>{var r;return fSe((r=e().getMeasureById(t))==null?void 0:r.MeasureSponsors)}})),fSe=n=>n?n.filter(e=>e.SponsorType==="Member"&&e.SponsorLevel==="Chief").sort((e,t)=>Number(t.PrintOrder)-Number(e.PrintOrder)):[],pSe=n=>n?n.filter(e=>e.SponsorType==="Member"&&e.SponsorLevel==="Regular").sort((e,t)=>Number(t.PrintOrder)-Number(e.PrintOrder)):[],mSe=n=>n?`https://olis.oregonlegislature.gov/liz/${n.SessionKey}/Measures/Overview/${n.MeasurePrefix}${n.MeasureNumber}`:"",gSe=(n,e)=>n.filter(t=>{const r=e.find(a=>Nt(t)===Nt(a));if(!r)return!1;const s=r.isDisplayed,i="isDuplicate"in r&&r.isDuplicate,o=!("source"in r)||r.source==="user";return s&&(o||!i)?t:null}),ySe=n=>!!(n!=null&&n["Sorting Errors"]),vSe=n=>{let e={};return n&&n.forEach(t=>{let{group:r,section:s,status:i,sublocation:o}=hSe(t.CurrentLocation,t.MeasurePrefix,t.MeasureHistoryActions);e[r]=e[r]||{},e[r][s]=e[r][s]||{},e[r][s][i]=e[r][s][i]||{},e[r][s][i][o]=e[r][s][i][o]||[],e[r][s][i][o]=[...e[r][s][i][o],t]}),e},wSe=n=>n.filter(r=>r!==void 0).filter(r=>r.value[0]).map(r=>{const s=r.value[0],i=Nt(s);return{...s,id:i}}),_I={"2026-03-09":"Last Day of Session"},bSe="https://www.oregonlegislature.gov/secretary-of-senate/Documents/2025%20Interim%20Calendar.pdf",_Se=n=>{let e=n.getHours();const r=(n.getMinutes()===1?0:n.getMinutes()).toString().padStart(2,"0"),s=e>=12?"pm":"am";return e=e%12||12,`${e}:${r} ${s}`},SI=n=>{const e=n.toLocaleString("en-US",{month:"short"}),t=n.getDate();let r=n.getHours();const i=(n.getMinutes()===1?0:n.getMinutes()).toString().padStart(2,"0"),o=r>=12?"pm":"am";return r=r%12||12,`${e}. ${t}, ${r}:${i}${o}`},SSe={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},ESe=n=>{const e=n.toLocaleString("en-US",{month:"long"}),t=n.getDate(),r=n.getFullYear(),s=n.getDay();return`${e} ${t}, ${r}, ${SSe[s]}`},CSe=n=>{const e=new Date;e.setHours(0,0,0,0);const t=new Date(n);t.setHours(0,0,0,0);const r=e.getTime()-t.getTime(),s=Math.floor(r/(1e3*60*60*24));return s===-1?"in 1 day":s<0?`in ${Math.abs(s)} days`:s===0?"Today":s===1?"1 day ago":`${s} days ago`},OX=n=>`${n.getFullYear()}-${w_(n.getMonth()+1)}-${w_(n.getDate())}-${w_(n.getHours())}-00`,w_=n=>n.toString().padStart(2,"0"),TSe=n=>`${n.getFullYear()}-${w_(n.getMonth()+1)}-${w_(n.getDate())}`,xSe=n=>{const e=new Date,t=new Date(n),r=3600*1e3,s=new Date(t.getTime()+r);return e>s},LX=n=>{const e=new Date,t=new Date(n),r=10080*60*1e3,s=new Date(t.getTime()+r);return e>s},EI=bg((n,e)=>({unfilteredHistory:[],setUnfilteredHistory:t=>n({unfilteredHistory:t}),getHistoryById:t=>RSe(e().unfilteredHistory.filter(r=>Nt(r)===t)),getFilteredHistory:()=>ASe(e().unfilteredHistory,uo.getState().getFilteredMeasureIds()),getUpdatesById:t=>[...NX(e().getHistoryById(t)),...FX(uo.getState().getMeasureDocumentsById(t))],getFilteredUpdatesSortedByDate:()=>CH(RT()),getFilteredUpdatesLength:()=>RT().length,getFilteredLatestUpdatesOnlyByDate:()=>CH(EH(RT())),getFilteredLatestUpdatesLength:()=>EH(RT()).length})),NX=n=>n.map(e=>{const{ActionDate:t,ActionText:r,MeasurePrefix:s,MeasureNumber:i,SessionKey:o,MeasureHistoryId:a}=e,l=uo.getState().getMeasureNicknameById(Nt(e)),u=e.ActionText.toLowerCase(),h=u.includes("public hearing")||u.includes("work session");return{Text:r,Date:t,MeasurePrefix:s,MeasureNumber:i,MeasureName:l,SessionKey:o,Link:null,Key:a.toString(),Type:h?"CommitteeMeeting":"MeasureHistoryItem"}}),FX=n=>n?n.map(e=>{const{CreatedDate:t,DocumentUrl:r,VersionDescription:s,MeasurePrefix:i,MeasureNumber:o,SessionKey:a}=e,l=uo.getState().getMeasureNicknameById(Nt(e));return{Text:s,Date:t,MeasurePrefix:i,MeasureNumber:o,MeasureName:l,SessionKey:a,Link:r,Key:r,Type:"MeasureDocument"}}):[],ASe=(n,e)=>n.filter(t=>{const r=Nt(t);return e.includes(r)}),RSe=n=>n.sort((e,t)=>new Date(t.ActionDate).getTime()-new Date(e.ActionDate).getTime()),RT=()=>[...NX(EI.getState().getFilteredHistory()),...FX(uo.getState().getFilteredMeasureDocuments())],EH=n=>{const e={};return n.forEach(t=>{const r=Nt(t),s=e[r];(!s||new Date(s.Date)<new Date(t.Date))&&(e[r]=t)}),Object.keys(e).map(t=>e[t])},ISe=n=>n.sort((e,t)=>new Date(t.Date).getTime()-new Date(e.Date).getTime()),kSe=n=>ISe(n).reduce((e,t)=>{const r=new Date(t.Date).toISOString().split("T")[0];return e[r]||(e[r]=[]),e[r].push(t),e},{}),PSe=n=>{const e=Object.keys(_I).find(t=>{const r=TSe(new Date);return t>=r});e&&(n[e]||(n[e]=[]))},CH=n=>{const e=kSe(n);return PSe(e),Object.keys(e).forEach(t=>{e[t].sort((r,s)=>new Date(s.Date).getTime()-new Date(r.Date).getTime())}),e},BX=bg((n,e)=>({legislators:[],setLegislators:t=>n({legislators:t}),addLegislator:t=>n({legislators:[...e().legislators,t]}),setUnfilteredLegislators:t=>n({legislators:t}),getLegislatorByCode:t=>{var r;return(r=e().legislators)==null?void 0:r.find(s=>s.LegislatorCode===t)},getFullLegislatorNameByCode:t=>{var s;const r=(s=e().legislators)==null?void 0:s.find(i=>i.LegislatorCode===t);return r?`${r.FirstName} ${r.LastName}`:"undefined"},getFullLegislatorNameByCodeWithTitle:t=>{var s;const r=(s=e().legislators)==null?void 0:s.find(i=>i.LegislatorCode===t);return r?`${r.Title.slice(0,3)} ${r.FirstName} ${r.LastName}`:"undefined"},getEmailByLegislatorCode:t=>{var s;const r=(s=e().legislators)==null?void 0:s.find(i=>i.LegislatorCode===t);return r?r.EmailAddress:void 0},getWebsiteByLegislatorCode:t=>{var s;const r=(s=e().legislators)==null?void 0:s.find(i=>i.LegislatorCode===t);return r?r.WebSiteUrl:void 0},exportLegislatorContactsAsCSV:t=>{const r=e().legislators.filter(o=>t.includes(o.LegislatorCode)),s=`FirstName,LastName,Title,CapitolPhone,EmailAddress
`,i=r.map(o=>`${o.FirstName},${o.LastName},${o.Title},${o.CapitolPhone},${o.EmailAddress}`).join(`
`);return s+i}})),fb={pill:{padding:"0px 16px",borderRadius:"16px",minWidth:"110px",width:"fit-content",boxSizing:"border-box",textAlign:"center",height:"fit-content",flexShrink:0,flexWrap:"nowrap"},pillHover:{"&:hover":{filter:"brightness(80%)"}}},CI=({id:n,withModal:e,shouldNavigateToBillOnClick:t=!1})=>{const r=$r.getState().getUserMeasureColorById(n),{anchorEl:s,setModalOpen:i,setModalClosed:o}=Gy(),a=Z0(),l={backgroundColor:r!==void 0?r:"#9E9E9E"};return e?I.jsxs(I.Fragment,{children:[I.jsx(xs,{title:Ap.MeasureModal,children:I.jsx(ur,{sx:{...fb.pill,...l,...fb.pillHover},onClick:i,children:I.jsx(Ae,{variant:"overline",children:Jy(p_(n))})})}),I.jsx(vj,{measureId:n,anchorEl:s,onClose:o})]}):t?I.jsx(xs,{title:Ap.MeasureModal,children:I.jsx(ur,{sx:{...fb.pill,...l,...fb.pillHover},onClick:()=>a(`/bill/${n}`),children:I.jsx(Ae,{variant:"overline",children:Jy(p_(n))})})}):I.jsx(ge,{sx:{...fb.pill,...l},children:I.jsx(Ae,{variant:"overline",children:Jy(p_(n))})})},oh={container:{display:"flex",flexDirection:"row",gap:2},time:{minWidth:"65px",flexShrink:0},contentContainer:{display:"flex",flexDirection:{xs:"column",sm:"row"},width:"100%",gap:{xs:0,sm:2}},content:{display:"flex",flexDirection:"column"},topLine:{display:"flex",flexDirection:"row",justifyContent:"space-between",height:"34px"},documentLine:{display:"flex",minHeight:"34px",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},gap:1.5},buttonContainer:{flexDirection:"row",display:{xs:"none",sm:"flex"}}},DSe=Ur(I.jsx("path",{d:"M14.59 2.59c-.38-.38-.89-.59-1.42-.59H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8.83c0-.53-.21-1.04-.59-1.41zM15 18H9c-.55 0-1-.45-1-1s.45-1 1-1h6c.55 0 1 .45 1 1s-.45 1-1 1m0-4H9c-.55 0-1-.45-1-1s.45-1 1-1h6c.55 0 1 .45 1 1s-.45 1-1 1m-2-6V3.5L18.5 9H14c-.55 0-1-.45-1-1"}),"DescriptionRounded"),MSe=n=>{if(!n||n.Type!=="CommitteeMeeting")return null;const e=n.Text.toLowerCase().includes("public hearing"),t=2880*60*1e3,r=new Date().getTime()-t<new Date(n.Date).getTime();return e&&r},OSe=Ur(I.jsx("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM17 14H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1m0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1m0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1"}),"CommentRounded"),LSe=({testimonyLinks:n})=>I.jsx(I.Fragment,{children:I.jsx(xs,{title:"Submit Written Testimony",children:I.jsx(Rs,{size:"small",href:n.written,target:"_blank",children:I.jsx(OSe,{})})})}),NSe=Ur(I.jsx("path",{d:"M16 10H8c-.55 0-1 .45-1 1s.45 1 1 1h8c.55 0 1-.45 1-1s-.45-1-1-1m3-7h-1V2c0-.55-.45-1-1-1s-1 .45-1 1v1H8V2c0-.55-.45-1-1-1s-1 .45-1 1v1H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-1 16H6c-.55 0-1-.45-1-1V8h14v10c0 .55-.45 1-1 1m-5-5H8c-.55 0-1 .45-1 1s.45 1 1 1h5c.55 0 1-.45 1-1s-.45-1-1-1"}),"EventNoteRounded"),FSe=({committeeMeeting:n,MeasurePrefix:e,MeasureNumber:t})=>{const{SessionKey:r,CommitteeCode:s,MeetingDate:i}=n,o=OX(new Date(i)),a=`https://olis.oregonlegislature.gov/liz/${r}/Committees/${s}/${o}/${e}${t}/PUB/Details`;return I.jsx(xs,{title:"View Meeting in OLIS",children:I.jsx(Rs,{href:a,target:"_blank",size:"small",children:I.jsx(NSe,{})})})},_N=({updateItem:n,variant:e,selected:t,toggleSelected:r})=>{const{getTestimonyLinkByIdAndDate:s,getCommitteeMeetingByIdAndDate:i}=_1(),o=Ua(),a=(n==null?void 0:n.Type)==="MeasureDocument",l=(n==null?void 0:n.Type)==="CommitteeMeeting",u=x$(o.breakpoints.down("sm")),h=Nt(n),p=MSe(n)?s(h,new Date(n.Date)):null,m=l&&i(h,new Date(n.Date));if(!n)return null;const y=a&&n.Link?I.jsx(Rs,{href:n.Link,target:"_blank",size:"small",children:I.jsx(DSe,{fontSize:"small"})}):null,b=u&&(y||m||p);return I.jsxs(ge,{sx:{...oh.container,...b?{cursor:"pointer"}:{}},onClick:b?r:void 0,children:[I.jsx(Ae,{variant:"subtitle2",sx:oh.time,children:e==="full"?_Se(new Date(n.Date)):SI(new Date(n.Date))}),I.jsxs(ge,{sx:oh.contentContainer,children:[I.jsxs(ge,{sx:oh.topLine,children:[e==="full"&&I.jsx(CI,{id:Nt(n),withModal:!0}),b&&I.jsx(Rs,{sx:oh.dropdownIcon,size:"small",onClick:r,children:I.jsx(PX,{sx:{transform:t?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})})]}),I.jsxs(ge,{sx:oh.content,children:[I.jsxs(ge,{sx:oh.documentLine,children:[I.jsx(Ae,{variant:"body1",children:n.Text}),I.jsxs(ge,{sx:{...oh.buttonContainer,...t?{display:"block"}:{}},children:[y,m&&I.jsx(FSe,{committeeMeeting:m,MeasureNumber:n.MeasureNumber,MeasurePrefix:n.MeasurePrefix}),p&&I.jsx(LSe,{testimonyLinks:p})]})]}),e==="full"&&I.jsx(Ae,{variant:"caption",children:n.MeasureName})]})]})]})},BSe=Ur(I.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),$Se={emailIcon:{color:"#A7A7A7",maxWidth:"20px"}},jSe=({emails:n,buttonText:e="Send Email"})=>{const t=()=>{if(n.length===0)return;const[r,...s]=n,i=`mailto:${r}?bcc=${s.join(",")}`;window.location.href=i};return I.jsxs(ur,{variant:"outlined",onClick:t,children:[I.jsx(BSe,{sx:$Se.emailIcon,fontSize:"small"}),e]})},$X=Ur(I.jsx("path",{d:"M18 19H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h5c.55 0 1-.45 1-1s-.45-1-1-1H5c-1.11 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6c0-.55-.45-1-1-1s-1 .45-1 1v5c0 .55-.45 1-1 1M14 4c0 .55.45 1 1 1h2.59l-9.13 9.13c-.39.39-.39 1.02 0 1.41s1.02.39 1.41 0L19 6.41V9c0 .55.45 1 1 1s1-.45 1-1V3h-6c-.55 0-1 .45-1 1"}),"LaunchRounded"),USe={launchIcon:{color:"#A7A7A7"}},yj=({url:n})=>I.jsxs(ur,{variant:"outlined",href:n,target:"_blank",children:["View in OLIS",I.jsx($X,{sx:USe.launchIcon,fontSize:"small"})]}),Or={modalContent:{display:"flex",flexDirection:"column",gap:3,overflow:"auto"},title:{fontWeight:600},infoSection:{gap:3,display:"flex",flexDirection:"column"},history:{padding:3,backgroundColor:"#f7f7f7",borderRadius:"8px"},historyItemsContainer:{display:"flex",flexDirection:"column",gap:2},measureDocument:{padding:"8px 16px",backgroundColor:"#EFEFEF",width:"fit-content",borderRadius:"4px",color:"black",textDecoration:"none",whiteSpace:"nowrap",flexShrink:0,"&:hover":{backgroundColor:"#D9D9D9",color:"black"}},measureDocumentSection:{display:"flex",flexDirection:"column",gap:1},documentsContainer:{display:"flex",flexDirection:"row",gap:2,flexShrink:0,overflowX:"auto",overflowY:"hidden",width:"100%",paddingBottom:"12px",marginBottom:"4px"},lineItem:{display:"flex",flexDirection:"row",gap:2,"& *:first-child":{minWidth:"100px"}},lineItemButton:{display:"flex",flexDirection:"row",gap:2},header:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},headerButtons:{display:"flex",flexDirection:"row",gap:1},hyperlink:{color:"dimgray",textDecorationColor:"dimgray","&:hover":{color:"black",textDecorationColor:"black"}}},jX=({measureModalId:n,onModalClose:e})=>{const t=V8(),r=Z0(),s=n||t.id,{getMeasureById:i,getMeasureUrlById:o,getSortedMeasureSponsorsById:a,getSortedMeasureChiefSponsorsById:l}=uo(),{getUpdatesById:u}=EI(),{getUpcomingAgendaItemsById:h}=_1(),{getFullCommitteeNameByCode:p}=gj(),{getFullLegislatorNameByCodeWithTitle:m,getEmailByLegislatorCode:y,getWebsiteByLegislatorCode:b}=BX(),v=i(s),_=$r.getState().getUserMeasureNicknameById(s),E=h(s),x=a(s),C=l(s),A=!!n;if(!s||!v)return null;const{RelatingTo:k,CatchLine:L,MeasureDocuments:P,CurrentLocation:D}=v,F=[...C.map(T=>y(T.LegislatoreCode)),...x.map(T=>y(T.LegislatoreCode))].filter(T=>T!==void 0);return I.jsx(I.Fragment,{children:I.jsxs(ge,{sx:Or.modalContent,children:[I.jsxs(ge,{sx:Or.header,children:[I.jsx(CI,{id:s,withModal:!1}),I.jsxs(ge,{sx:Or.headerButtons,children:[I.jsx(yj,{url:o(s)}),A&&I.jsx(Rs,{sx:Or.headerButton,onClick:()=>{e==null||e(),r(`/bill/${s}`)},children:I.jsx(tSe,{})})]})]}),I.jsx(Ae,{variant:"h1",sx:Or.title,children:_||L}),_&&I.jsx(Ae,{variant:"subtitle2",children:L}),I.jsxs(ge,{sx:Or.measureDocumentSection,children:[I.jsx(Ae,{variant:"h3",children:"Measure Documents"}),I.jsx(ge,{sx:Or.documentsContainer,children:P.map(T=>I.jsx(bD,{role:"button",sx:Or.measureDocument,href:`/#/bill/${s}/document/${T.VersionDescription}`,onClick:()=>{e==null||e()},children:I.jsx(Ae,{variant:"body1",sx:{whiteSpace:"nowrap"},children:T.VersionDescription})},T.DocumentUrl))})]}),I.jsxs(ge,{sx:Or.infoSection,children:[I.jsx(Ae,{variant:"h3",children:"Upcoming Events"}),E.length?E.map(T=>I.jsxs(ge,{sx:Or.lineItem,children:[I.jsx(Ae,{variant:"subtitle2",children:SI(new Date(T.MeetingDate))}),I.jsx(Ae,{variant:"body1",children:T.MeetingType})]},T.CommitteeAgendaItemId)):I.jsx(Ae,{variant:"subtitle2",children:"No Upcoming Events"})]}),I.jsxs(ge,{sx:{...Or.history,...Or.infoSection},children:[I.jsx(Ae,{variant:"h3",children:"History"}),I.jsx(ge,{sx:Or.historyItemsContainer,children:u(s).map(T=>I.jsx(_N,{selected:!1,toggleSelected:()=>console.log("TODO: IMPLEMENT"),updateItem:T,variant:"light"},T.Key))})]}),I.jsxs(ge,{sx:Or.infoSection,children:[I.jsx(Ae,{variant:"h3",children:"Summary"}),I.jsxs(ge,{sx:Or.lineItem,children:[I.jsx(Ae,{variant:"subtitle2",children:"Relating to"}),I.jsx(Ae,{variant:"body1",children:k})]}),I.jsxs(ge,{sx:Or.lineItem,children:[I.jsx(Ae,{variant:"subtitle2",children:"Location"}),I.jsx(Ae,{variant:"body1",children:`${D} | ${p(v==null?void 0:v.CurrentCommitteeCode)}`})]}),I.jsxs(ge,{sx:Or.lineItem,children:[I.jsx(Ae,{sx:{maxWidth:"100px"},variant:"subtitle2",children:"Chief Sponsors"}),I.jsx(Ae,{variant:"body1",children:C.map(T=>I.jsxs(I.Fragment,{children:[I.jsx(bD,{href:b(T.LegislatoreCode),target:"_blank",sx:Or.hyperlink,children:m(T.LegislatoreCode)},T.LegislatoreCode),I.jsx("br",{})]}))})]}),I.jsxs(ge,{sx:Or.lineItem,children:[I.jsx(Ae,{variant:"subtitle2",children:"Sponsors"}),I.jsx(Ae,{variant:"body1",children:x.map(T=>I.jsxs(I.Fragment,{children:[I.jsx(bD,{href:b(T.LegislatoreCode),target:"_blank",sx:Or.hyperlink,children:m(T.LegislatoreCode)},T.LegislatoreCode),I.jsx("br",{})]}))})]}),I.jsxs(ge,{sx:Or.lineItemButton,children:[I.jsx(Ae,{sx:{maxWidth:"100px"},variant:"subtitle2",children:"Contact Sponsors"}),I.jsx(jSe,{emails:F,buttonText:"Send Email To All Sponsors"})]})]})]})})},VSe={modalContainer:{width:"900px",boxSizing:"border-box",padding:6,display:"flex",flexDirection:"column"}},vj=({anchorEl:n,onClose:e,measureId:t})=>I.jsx(eI,{maxWidth:"lg",open:!!n,onClose:e,children:I.jsx(ge,{sx:VSe.modalContainer,children:I.jsx(jX,{measureModalId:t,onModalClose:e})})}),UX=({userTrackedMeasure:n,isDuplicate:e,isGroupMeasure:t,groupId:r,isGroupAdmin:s,onGroupMeasureRemoved:i})=>{const{anchorEl:o,setModalClosed:a,setModalOpen:l}=Gy(),{anchorEl:u,setModalClosed:h,setModalOpen:p}=Gy(),{anchorEl:m,setModalClosed:y,setModalOpen:b}=Gy(),{removeTrackedMeasureById:v,setUserTrackedMeasureFilterStatusById:_,updateUserTrackedMeasure:E,setGroupMeasures:x}=$r(),{getMeasureNicknameById:C}=uo(),A=uo(j=>j.loadingMeasureIds),{currentUser:k}=Hc(),{isDisplayed:L,color:P,nickname:D}=n,F=Nt(n),T=A.has(F),$=D||C(F),z=P;return T?I.jsxs(ge,{sx:_o.measureFilterContainer,children:[I.jsx(xs,{title:Ap.ToggleVisibility,children:I.jsx(ur,{sx:_o.checkbox,disabled:!0,children:I.jsx(NA,{color:z,filled:L})})}),I.jsxs(ge,{sx:_o.infoArea,children:[I.jsx(ge,{sx:_o.infoTopline,children:I.jsx(Ae,{variant:"h5",sx:_o.measureId,children:Jy(n)})}),I.jsx(Pve,{variant:"text",width:"80%",height:20})]})]}):I.jsxs(I.Fragment,{children:[I.jsx(xs,{title:Ap.MeasureModal,children:I.jsxs(ge,{sx:_o.measureFilterContainer,onClick:j=>p(j),role:"button",children:[I.jsx(xs,{title:Ap.ToggleVisibility,children:I.jsx(ur,{sx:_o.checkbox,onClick:j=>{j.stopPropagation(),e||_(F,!L)},children:I.jsx(NA,{color:z,filled:L})})}),I.jsxs(ge,{sx:_o.infoArea,children:[I.jsxs(ge,{sx:_o.infoTopline,children:[I.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1},children:[I.jsx(Ae,{variant:"h5",sx:{..._o.measureId,...e&&{textDecoration:"line-through"}},children:Jy(n)}),e&&I.jsx($K,{label:"Duplicate",size:"small",sx:_o.duplicateTag})]}),(!t||s)&&I.jsxs(ge,{children:[I.jsx(xs,{title:"Edit measure",children:I.jsx(Rs,{id:"editIcon",sx:_o.deleteIcon,size:"small",onClick:j=>{j.stopPropagation(),b(j)},children:I.jsx(pj,{})})}),I.jsx(xs,{title:Ap.DeleteMeasure,children:I.jsx(Rs,{id:"deleteIcon",sx:_o.deleteIcon,size:"small",onClick:j=>{j.stopPropagation(),l(j)},children:I.jsx(MX,{})})})]})]}),I.jsx(Ae,{variant:"body1",children:$})]})]})}),I.jsx(eSe,{anchorEl:o,onClose:a,handleAction:async()=>{if(t&&r)try{await G_e(r,F),i==null||i()}catch(j){console.error("Error removing measure from group:",j)}else if(v(F),k)try{await F_e(k.uid,F)}catch(j){console.error("Error removing measure from Firebase:",j)}},message:`Delete ${F}?`,subtitle:t&&"source"in n&&typeof n.source=="object"&&n.source.type==="group"?`Are you sure you want to remove this measure from the ${n.source.groupName} group? This action will delete the measure for all members and cannot be undone.`:"Are you sure you want to remove this measure from your tracked measures? This action cannot be undone."}),I.jsx(vj,{anchorEl:u,onClose:h,measureId:F}),(!t||t&&s)&&I.jsx(mj,{title:"Edit Bill",tooltip:"Edit bill",triggerIcon:"edit",initialValues:n,anchorEl:m,onClose:y,onOpen:j=>b(j),onAdd:async(j,Y,Z,J,ee)=>{if(t&&r){const Q={...n,MeasurePrefix:j,MeasureNumber:Y,color:Z,SessionKey:J,nickname:ee};try{if(await K_e(r,F,Q),k){const te=await q0(k.uid);x(te)}i&&i()}catch(te){console.error("Error updating measure in group:",te)}}else{const Q={...n,MeasurePrefix:j,MeasureNumber:Y,color:Z,SessionKey:J,nickname:ee};if(E(F,Q),k)try{await N_e(k.uid,F,Q)}catch(te){console.error("Error updating measure in Firebase:",te)}}}})]})},TH={groupContainer:{display:"flex",flexDirection:"column",gap:.5,width:"100%",marginTop:2},sectionHeader:{display:"flex",flexDirection:"row",justifyContent:"space-between",fontSize:"20px",alignItems:"center"}},HSe=({groupId:n,onMeasureAdded:e})=>{const{setGroupMeasures:t}=$r(),{currentUser:r}=Hc(),s=async(i,o,a,l,u)=>{const h={MeasurePrefix:i,MeasureNumber:o,SessionKey:l,position:"?",isDisplayed:!0,color:a,nickname:u};try{if(await q_e(n,h),r){const p=await q0(r.uid);t(p)}e&&e()}catch(p){console.error("Error adding measure to group:",p)}};return I.jsx(mj,{title:"Add Measure to Group",tooltip:"Add measure to group",onAdd:s})},zSe=({group:n})=>{const e=$r(p=>p.userTrackedMeasures),t=$r(p=>p.groupMeasures),r=$r(p=>p.userGroups),s=$r(p=>p.getAllTrackedMeasuresWithSource),{setGroupMeasures:i}=$r(),{currentUser:o}=Hc(),[a,l]=B.useState(!1),u=B.useMemo(()=>{const p=s(),m=p.filter(y=>y.source!=="user"&&typeof y.source=="object"&&y.source.type==="group"&&y.source.groupId===n.id);return console.log(`Group ${n.id} (${n.name}):`,{allMeasuresCount:p.length,filteredCount:m.length,groupMeasuresStore:t[n.id],filteredMeasures:m}),m},[s,n.id,e,t,r]),h=()=>{o&&q0(o.uid).then(p=>{console.log("Fetched group measures:",p),i(p)}).catch(p=>{console.error("Error fetching group measures:",p)})};return B.useEffect(()=>{h(),o&&kX(n.id).then(p=>{p&&(console.log("Group data:",p),l(p.admins.includes(o.uid)))}).catch(p=>{console.error("Error fetching group data:",p)})},[n.id,o]),I.jsxs(ge,{sx:TH.groupContainer,children:[I.jsxs(ge,{sx:TH.sectionHeader,children:[I.jsx(Ae,{variant:"h2",children:n.name}),a&&I.jsx(HSe,{groupId:n.id,onMeasureAdded:h})]}),u.map(p=>{const m=typeof p.source=="object"&&p.source.type==="group",y=m?p.source:null;return I.jsx(UX,{userTrackedMeasure:p,isDuplicate:p.isDuplicate,isGroupMeasure:m,groupId:y==null?void 0:y.groupId,isGroupAdmin:m?a:void 0,onGroupMeasureRemoved:m?h:void 0},Nt(p))})]})},uu={drawerContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start"},drawer:{transition:"0.3s all ease-in-out"},container:{width:`${w0e}`,boxSizing:"border-box",height:"100vh",flexShrink:0,backgroundColor:"#F7F7F7",padding:"24px 24px",color:"black",textAlign:"left",display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5,overflowY:"auto",overscrollBehavior:"contain","&:hover #closeIcon":{visibility:"visible",opacity:1}},section:{display:"flex",flexDirection:"column",gap:.5,width:"100%",marginTop:2,"&:first-of-type":{marginTop:0}},sectionHeader:{display:"flex",flexDirection:"row",justifyContent:"space-between",fontSize:"20px",alignItems:"center"},closeArrows:{width:"40",opacity:{xs:1,md:0},visibility:{xs:"visible",md:"hidden"},transition:"opacity 0.2s ease-in-out, visibility 0.2s"},menuIconContainer:{padding:{xs:2,md:3},position:{xs:"absolute",md:"fixed"}}},WSe=Ur([I.jsx("path",{d:"M18.29 17.29c.39-.39.39-1.02 0-1.41L14.42 12l3.88-3.88c.39-.39.39-1.02 0-1.41a.996.996 0 0 0-1.41 0L12.3 11.3c-.39.39-.39 1.02 0 1.41l4.59 4.59c.38.38 1.01.38 1.4-.01"},"0"),I.jsx("path",{d:"M11.7 17.29c.39-.39.39-1.02 0-1.41L7.83 12l3.88-3.88c.39-.39.39-1.02 0-1.41a.996.996 0 0 0-1.41 0L5.71 11.3c-.39.39-.39 1.02 0 1.41l4.59 4.59c.38.38 1.01.38 1.4-.01"},"1")],"KeyboardDoubleArrowLeftRounded"),qSe=Ur(I.jsx("path",{d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1m0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1M3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1"}),"MenuRounded"),xH=({open:n,setOpen:e})=>{const{userTrackedMeasures:t,userGroups:r}=$r(),{currentUser:s}=Hc(),i=Ua(),o=x$(i.breakpoints.down("md"));return I.jsxs(ge,{sx:uu.drawerContainer,children:[I.jsx(rye,{sx:uu.drawer,open:n,variant:o?"temporary":"persistent",anchor:"left",onClose:()=>e(!1),PaperProps:{sx:{overscrollBehavior:"contain"}},children:I.jsxs(ge,{sx:uu.container,children:[I.jsx(xs,{title:"Close Sidebar",children:I.jsx(Rs,{id:"closeIcon",sx:uu.closeArrows,onClick:()=>e(!1),children:I.jsx(WSe,{})})}),I.jsxs(ge,{sx:uu.section,children:[I.jsxs(ge,{sx:uu.sectionHeader,children:[I.jsx(Ae,{variant:"h2",children:"My Tracked Bills"}),I.jsx(J_e,{})]}),t&&t.map(a=>I.jsx(UX,{userTrackedMeasure:a},Nt(a)))]}),I.jsxs(ge,{sx:uu.section,children:[I.jsxs(ge,{sx:uu.sectionHeader,children:[I.jsx(Ae,{variant:"h6",children:"My Groups"}),s&&I.jsx(Z_e,{})]}),s?r.map(a=>I.jsx(zSe,{group:a},a.id)):I.jsx(Ae,{variant:"body2",children:"Login to join groups"})]})]})}),I.jsx(ge,{sx:uu.menuIconContainer,children:I.jsx(xs,{title:"Open Sidebar",children:I.jsx(Rs,{onClick:()=>e(!0),children:I.jsx(qSe,{})})})})]})},al=({shouldLayoutChildren:n=!0,showSidebar:e=!0,showTabs:t=!0,children:r})=>{const[s,i]=B.useState(!1);return n?I.jsxs(I.Fragment,{children:[e&&I.jsx(xH,{open:s,setOpen:i}),I.jsx(ge,{sx:{...pT.contentContainer,paddingLeft:{xs:"0px",md:e&&s?"348px":"0px"}},children:I.jsxs(ge,{sx:{...pT.regularPageContainers,paddingLeft:{xs:e&&s?6:2,md:e&&s?6:12}},children:[I.jsx(_9,{}),t&&I.jsx(S9,{}),r]})})]}):I.jsxs(I.Fragment,{children:[e&&I.jsx(xH,{open:s,setOpen:i}),I.jsxs(ge,{sx:{...pT.contentContainer,paddingLeft:{xs:"0px",md:e&&s?"348px":"0px"}},children:[I.jsxs(ge,{sx:{...pT.regularPageContainers,paddingLeft:{xs:e&&s?6:2,md:e&&s?6:12}},children:[I.jsx(_9,{}),t&&I.jsx(S9,{})]}),r]})]})},GSe=bg((n,e)=>({queue:[],current:null,open:!1,showSnackbar:(t,r="info")=>{n(s=>({queue:[...s.queue,{message:t,severity:r}]})),e().open||e().processQueue()},closeSnackbar:()=>{n({open:!1}),setTimeout(()=>e().processQueue(),300)},processQueue:()=>{const{queue:t}=e();if(t.length>0){const r=t[0];n({current:r,open:!0,queue:t.slice(1)})}}})),KSe={alert:{width:"100%"}},YSe=()=>{const{queue:n,closeSnackbar:e}=GSe();return I.jsx(I.Fragment,{children:n.map((t,r)=>I.jsx(Uve,{open:!0,autoHideDuration:5e3,onClose:()=>e(),anchorOrigin:{vertical:"bottom",horizontal:"left"},style:{bottom:50*r+24},children:I.jsx(ame,{variant:"filled",onClose:()=>e(),severity:t.severity,sx:KSe.alert,children:t.message})},r))})},AH={container:{display:"flex",flexDirection:"column",gap:1,alignItems:"flex-start"},divider:{height:"3px",width:"100%",borderRadius:"4px",backgroundColor:"darkgreen"}},XSe=({group:n})=>I.jsxs(ge,{sx:AH.container,children:[I.jsx(Ae,{variant:"h6",children:n.group}),I.jsx(ge,{sx:AH.divider})]}),xD={billCard:{display:"flex",flexDirection:"column",alignItems:"flex-start",backgroundColor:"#fff",borderRadius:"6px",padding:1.5,gap:1.5,width:"100%",boxSizing:"border-box",boxShadow:"2px 2px 4px 0px rgba(127, 127, 132, 0.2)","&:hover, :focus":{backgroundColor:"#ededed",boxShadow:"2px 2px 4px 0px rgba(127, 127, 132, 0.4)"}},committeeCode:{backgroundColor:"#f7f7f7",padding:"0px 12px",borderRadius:"2px"},info:{display:"flex",flexDirection:"row",gap:1,alignItems:"center"}},JSe={twoLineEllipses:{display:"-webkit-box",maxWidth:"100%",WebkitLineClamp:2,overflow:"hidden",WebkitBoxOrient:"vertical"}},RH=({billId:n})=>{const{anchorEl:e,setModalOpen:t,setModalClosed:r}=Gy(),{getMeasureCommitteeCodeById:s,getMeasureTitleById:i}=uo(),{getUserTrackedMeasurePositionById:o,getUserMeasureColorById:a}=$r(),l=s(n),u=o(n),h=i(n),m={borderLeft:`8px solid ${a(n)||"#9E9E9E"}`};return I.jsxs(I.Fragment,{children:[I.jsx(xs,{title:Ap.MeasureModal,children:I.jsxs(ur,{sx:{...m,...xD.billCard},onClick:t,children:[I.jsx(Ae,{variant:"body1",sx:{...JSe.twoLineEllipses},children:h}),l&&I.jsx(Ae,{variant:"body2",sx:xD.committeeCode,children:l}),I.jsxs(ge,{sx:xD.info,children:[I.jsxs(ge,{children:[u==="Support"&&"",u==="Oppose"&&""]}),I.jsx(Ae,{variant:"h5",children:Jy(p_(n))})]})]},n)}),I.jsx(vj,{anchorEl:e,onClose:r,measureId:n})]})},IH={count:{padding:"0px 8px",backgroundColor:"white",borderRadius:"4px"},container:{display:"flex",flexDirection:"row",gap:1.5,alignItems:"center"}},QSe=({title:n,billCount:e})=>I.jsxs(ge,{sx:IH.container,children:[I.jsx(Ae,{variant:"h4",children:n}),I.jsx(ge,{sx:IH.count,children:I.jsx(Ae,{children:e})})]}),kH={divider:{width:"100%",height:"2px",borderRadius:"4px",backgroundColor:"#E0E0E0"},container:{display:"flex",flexDirection:"column",gap:2,alignItems:"flex-start"}},PH=({title:n})=>I.jsxs(ge,{sx:kH.container,children:[I.jsx(Ae,{variant:"h6",children:n}),I.jsx(ge,{sx:kH.divider})]}),ZSe=n=>{let e=0;return n&&Object.keys(n).forEach(t=>{Object.keys(n[t]).forEach(r=>e+=n[t][r].length)}),e},eEe=({sectionData:n,groupTitle:e,sectionTitle:t})=>{var u;const{section:r,data:s}=n,o=(u=uo.getState().getMeasuresSortedIntoKanbanLocations()[e])==null?void 0:u[t],a=ZSe(o),l=()=>Object.keys(o).map(h=>I.jsxs("div",{className:"status-container",children:[I.jsx(PH,{title:h},h),o[h].uncategorized.map(p=>I.jsx(RH,{billId:p.id},p.id))]},`${e}-${r}-${h}`));return I.jsxs("div",{className:"section",children:[I.jsx(QSe,{title:r,billCount:a}),!s&&I.jsx(l,{}),s&&s.map(h=>I.jsxs("div",{className:"status-container",children:[I.jsx(PH,{title:h.status},h.status),I.jsx("div",{className:"sublocations-container",children:h.data.map(p=>{var m;return I.jsxs(ie.Fragment,{children:[p&&I.jsx("div",{className:"sublocation-title",children:p},p),(((m=o==null?void 0:o[h.status])==null?void 0:m[p])||[]).map(y=>I.jsx(RH,{billId:y.id},y.id))]},p)})},"sublocation"+h.status)]},`${e}-${r}-${h.status}`))]},`${e}-${r}`)},DH={sectionsContainer:{display:"flex",flexDirection:"row",gap:2},groupsContainer:{paddingRight:2,display:"flex",flexDirection:"row",gap:2,width:"fit-content"}},tEe=({sidebarIsOpen:n})=>{const e=uo.getState().getHasKanbanSortingError();return I.jsx(ge,{className:"kanban-container",children:I.jsx(ge,{className:"kanban-content",children:I.jsx(ge,{sx:{...DH.groupsContainer,paddingLeft:n?6:12,transition:"0.3s all ease-in-out"},children:[...e?uSe:[],...dSe].map(t=>I.jsxs(ge,{className:"group",children:[I.jsx(XSe,{group:t}),I.jsx(ge,{sx:DH.sectionsContainer,children:t.data.map(r=>I.jsx(eEe,{sectionData:r,groupTitle:t.group,sectionTitle:r.section},`${t.group}-${r.section}`))})]},t.group))})})})};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var VX;function Fe(){return VX.apply(null,arguments)}function nEe(n){VX=n}function Pl(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function Gm(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function un(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function wj(n){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(n).length===0;var e;for(e in n)if(un(n,e))return!1;return!0}function zi(n){return n===void 0}function Cd(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function S1(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function HX(n,e){var t=[],r,s=n.length;for(r=0;r<s;++r)t.push(e(n[r],r));return t}function af(n,e){for(var t in e)un(e,t)&&(n[t]=e[t]);return un(e,"toString")&&(n.toString=e.toString),un(e,"valueOf")&&(n.valueOf=e.valueOf),n}function zc(n,e,t,r){return hJ(n,e,t,r,!0).utc()}function rEe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function kt(n){return n._pf==null&&(n._pf=rEe()),n._pf}var SN;Array.prototype.some?SN=Array.prototype.some:SN=function(n){var e=Object(this),t=e.length>>>0,r;for(r=0;r<t;r++)if(r in e&&n.call(this,e[r],r,e))return!0;return!1};function bj(n){var e=null,t=!1,r=n._d&&!isNaN(n._d.getTime());if(r&&(e=kt(n),t=SN.call(e.parsedDateParts,function(s){return s!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t),n._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(n))n._isValid=r;else return r;return n._isValid}function TI(n){var e=zc(NaN);return n!=null?af(kt(e),n):kt(e).userInvalidated=!0,e}var MH=Fe.momentProperties=[],AD=!1;function _j(n,e){var t,r,s,i=MH.length;if(zi(e._isAMomentObject)||(n._isAMomentObject=e._isAMomentObject),zi(e._i)||(n._i=e._i),zi(e._f)||(n._f=e._f),zi(e._l)||(n._l=e._l),zi(e._strict)||(n._strict=e._strict),zi(e._tzm)||(n._tzm=e._tzm),zi(e._isUTC)||(n._isUTC=e._isUTC),zi(e._offset)||(n._offset=e._offset),zi(e._pf)||(n._pf=kt(e)),zi(e._locale)||(n._locale=e._locale),i>0)for(t=0;t<i;t++)r=MH[t],s=e[r],zi(s)||(n[r]=s);return n}function E1(n){_j(this,n),this._d=new Date(n._d!=null?n._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),AD===!1&&(AD=!0,Fe.updateOffset(this),AD=!1)}function Dl(n){return n instanceof E1||n!=null&&n._isAMomentObject!=null}function zX(n){Fe.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+n)}function Va(n,e){var t=!0;return af(function(){if(Fe.deprecationHandler!=null&&Fe.deprecationHandler(null,n),t){var r=[],s,i,o,a=arguments.length;for(i=0;i<a;i++){if(s="",typeof arguments[i]=="object"){s+=`
[`+i+"] ";for(o in arguments[0])un(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[i];r.push(s)}zX(n+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),t=!1}return e.apply(this,arguments)},e)}var OH={};function WX(n,e){Fe.deprecationHandler!=null&&Fe.deprecationHandler(n,e),OH[n]||(zX(e),OH[n]=!0)}Fe.suppressDeprecationWarnings=!1;Fe.deprecationHandler=null;function Wc(n){return typeof Function<"u"&&n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function sEe(n){var e,t;for(t in n)un(n,t)&&(e=n[t],Wc(e)?this[t]=e:this["_"+t]=e);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function EN(n,e){var t=af({},n),r;for(r in e)un(e,r)&&(Gm(n[r])&&Gm(e[r])?(t[r]={},af(t[r],n[r]),af(t[r],e[r])):e[r]!=null?t[r]=e[r]:delete t[r]);for(r in n)un(n,r)&&!un(e,r)&&Gm(n[r])&&(t[r]=af({},t[r]));return t}function Sj(n){n!=null&&this.set(n)}var CN;Object.keys?CN=Object.keys:CN=function(n){var e,t=[];for(e in n)un(n,e)&&t.push(e);return t};var iEe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function oEe(n,e,t){var r=this._calendar[n]||this._calendar.sameElse;return Wc(r)?r.call(e,t):r}function Fc(n,e,t){var r=""+Math.abs(n),s=e-r.length,i=n>=0;return(i?t?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var Ej=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,IT=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,RD={},Zy={};function st(n,e,t,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),n&&(Zy[n]=s),e&&(Zy[e[0]]=function(){return Fc(s.apply(this,arguments),e[1],e[2])}),t&&(Zy[t]=function(){return this.localeData().ordinal(s.apply(this,arguments),n)})}function aEe(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function lEe(n){var e=n.match(Ej),t,r;for(t=0,r=e.length;t<r;t++)Zy[e[t]]?e[t]=Zy[e[t]]:e[t]=aEe(e[t]);return function(s){var i="",o;for(o=0;o<r;o++)i+=Wc(e[o])?e[o].call(s,n):e[o];return i}}function lx(n,e){return n.isValid()?(e=qX(e,n.localeData()),RD[e]=RD[e]||lEe(e),RD[e](n)):n.localeData().invalidDate()}function qX(n,e){var t=5;function r(s){return e.longDateFormat(s)||s}for(IT.lastIndex=0;t>=0&&IT.test(n);)n=n.replace(IT,r),IT.lastIndex=0,t-=1;return n}var cEe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function uEe(n){var e=this._longDateFormat[n],t=this._longDateFormat[n.toUpperCase()];return e||!t?e:(this._longDateFormat[n]=t.match(Ej).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[n])}var dEe="Invalid date";function hEe(){return this._invalidDate}var fEe="%d",pEe=/\d{1,2}/;function mEe(n){return this._ordinal.replace("%d",n)}var gEe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function yEe(n,e,t,r){var s=this._relativeTime[t];return Wc(s)?s(n,e,t,r):s.replace(/%d/i,n)}function vEe(n,e){var t=this._relativeTime[n>0?"future":"past"];return Wc(t)?t(e):t.replace(/%s/i,e)}var LH={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ha(n){return typeof n=="string"?LH[n]||LH[n.toLowerCase()]:void 0}function Cj(n){var e={},t,r;for(r in n)un(n,r)&&(t=Ha(r),t&&(e[t]=n[r]));return e}var wEe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function bEe(n){var e=[],t;for(t in n)un(n,t)&&e.push({unit:t,priority:wEe[t]});return e.sort(function(r,s){return r.priority-s.priority}),e}var GX=/\d/,Jo=/\d\d/,KX=/\d{3}/,Tj=/\d{4}/,xI=/[+-]?\d{6}/,er=/\d\d?/,YX=/\d\d\d\d?/,XX=/\d\d\d\d\d\d?/,AI=/\d{1,3}/,xj=/\d{1,4}/,RI=/[+-]?\d{1,6}/,uw=/\d+/,II=/[+-]?\d+/,_Ee=/Z|[+-]\d\d:?\d\d/gi,kI=/Z|[+-]\d\d(?::?\d\d)?/gi,SEe=/[+-]?\d+(\.\d{1,3})?/,C1=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,dw=/^[1-9]\d?/,Aj=/^([1-9]\d|\d)/,FA;FA={};function qe(n,e,t){FA[n]=Wc(e)?e:function(r,s){return r&&t?t:e}}function EEe(n,e){return un(FA,n)?FA[n](e._strict,e._locale):new RegExp(CEe(n))}function CEe(n){return dd(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,r,s,i){return t||r||s||i}))}function dd(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function xa(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function Wt(n){var e=+n,t=0;return e!==0&&isFinite(e)&&(t=xa(e)),t}var TN={};function Dn(n,e){var t,r=e,s;for(typeof n=="string"&&(n=[n]),Cd(e)&&(r=function(i,o){o[e]=Wt(i)}),s=n.length,t=0;t<s;t++)TN[n[t]]=r}function T1(n,e){Dn(n,function(t,r,s,i){s._w=s._w||{},e(t,s._w,s,i)})}function TEe(n,e,t){e!=null&&un(TN,n)&&TN[n](e,t._a,t,n)}function PI(n){return n%4===0&&n%100!==0||n%400===0}var fi=0,od=1,xc=2,as=3,El=4,ad=5,Ip=6,xEe=7,AEe=8;st("Y",0,0,function(){var n=this.year();return n<=9999?Fc(n,4):"+"+n});st(0,["YY",2],0,function(){return this.year()%100});st(0,["YYYY",4],0,"year");st(0,["YYYYY",5],0,"year");st(0,["YYYYYY",6,!0],0,"year");qe("Y",II);qe("YY",er,Jo);qe("YYYY",xj,Tj);qe("YYYYY",RI,xI);qe("YYYYYY",RI,xI);Dn(["YYYYY","YYYYYY"],fi);Dn("YYYY",function(n,e){e[fi]=n.length===2?Fe.parseTwoDigitYear(n):Wt(n)});Dn("YY",function(n,e){e[fi]=Fe.parseTwoDigitYear(n)});Dn("Y",function(n,e){e[fi]=parseInt(n,10)});function b_(n){return PI(n)?366:365}Fe.parseTwoDigitYear=function(n){return Wt(n)+(Wt(n)>68?1900:2e3)};var JX=hw("FullYear",!0);function REe(){return PI(this.year())}function hw(n,e){return function(t){return t!=null?(QX(this,n,t),Fe.updateOffset(this,e),this):j_(this,n)}}function j_(n,e){if(!n.isValid())return NaN;var t=n._d,r=n._isUTC;switch(e){case"Milliseconds":return r?t.getUTCMilliseconds():t.getMilliseconds();case"Seconds":return r?t.getUTCSeconds():t.getSeconds();case"Minutes":return r?t.getUTCMinutes():t.getMinutes();case"Hours":return r?t.getUTCHours():t.getHours();case"Date":return r?t.getUTCDate():t.getDate();case"Day":return r?t.getUTCDay():t.getDay();case"Month":return r?t.getUTCMonth():t.getMonth();case"FullYear":return r?t.getUTCFullYear():t.getFullYear();default:return NaN}}function QX(n,e,t){var r,s,i,o,a;if(!(!n.isValid()||isNaN(t))){switch(r=n._d,s=n._isUTC,e){case"Milliseconds":return void(s?r.setUTCMilliseconds(t):r.setMilliseconds(t));case"Seconds":return void(s?r.setUTCSeconds(t):r.setSeconds(t));case"Minutes":return void(s?r.setUTCMinutes(t):r.setMinutes(t));case"Hours":return void(s?r.setUTCHours(t):r.setHours(t));case"Date":return void(s?r.setUTCDate(t):r.setDate(t));case"FullYear":break;default:return}i=t,o=n.month(),a=n.date(),a=a===29&&o===1&&!PI(i)?28:a,s?r.setUTCFullYear(i,o,a):r.setFullYear(i,o,a)}}function IEe(n){return n=Ha(n),Wc(this[n])?this[n]():this}function kEe(n,e){if(typeof n=="object"){n=Cj(n);var t=bEe(n),r,s=t.length;for(r=0;r<s;r++)this[t[r].unit](n[t[r].unit])}else if(n=Ha(n),Wc(this[n]))return this[n](e);return this}function PEe(n,e){return(n%e+e)%e}var Fr;Array.prototype.indexOf?Fr=Array.prototype.indexOf:Fr=function(n){var e;for(e=0;e<this.length;++e)if(this[e]===n)return e;return-1};function Rj(n,e){if(isNaN(n)||isNaN(e))return NaN;var t=PEe(e,12);return n+=(e-t)/12,t===1?PI(n)?29:28:31-t%7%2}st("M",["MM",2],"Mo",function(){return this.month()+1});st("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});st("MMMM",0,0,function(n){return this.localeData().months(this,n)});qe("M",er,dw);qe("MM",er,Jo);qe("MMM",function(n,e){return e.monthsShortRegex(n)});qe("MMMM",function(n,e){return e.monthsRegex(n)});Dn(["M","MM"],function(n,e){e[od]=Wt(n)-1});Dn(["MMM","MMMM"],function(n,e,t,r){var s=t._locale.monthsParse(n,r,t._strict);s!=null?e[od]=s:kt(t).invalidMonth=n});var DEe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ZX="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),eJ=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,MEe=C1,OEe=C1;function LEe(n,e){return n?Pl(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||eJ).test(e)?"format":"standalone"][n.month()]:Pl(this._months)?this._months:this._months.standalone}function NEe(n,e){return n?Pl(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[eJ.test(e)?"format":"standalone"][n.month()]:Pl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function FEe(n,e,t){var r,s,i,o=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=zc([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return t?e==="MMM"?(s=Fr.call(this._shortMonthsParse,o),s!==-1?s:null):(s=Fr.call(this._longMonthsParse,o),s!==-1?s:null):e==="MMM"?(s=Fr.call(this._shortMonthsParse,o),s!==-1?s:(s=Fr.call(this._longMonthsParse,o),s!==-1?s:null)):(s=Fr.call(this._longMonthsParse,o),s!==-1?s:(s=Fr.call(this._shortMonthsParse,o),s!==-1?s:null))}function BEe(n,e,t){var r,s,i;if(this._monthsParseExact)return FEe.call(this,n,e,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=zc([2e3,r]),t&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!t&&!this._monthsParse[r]&&(i="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),t&&e==="MMMM"&&this._longMonthsParse[r].test(n))return r;if(t&&e==="MMM"&&this._shortMonthsParse[r].test(n))return r;if(!t&&this._monthsParse[r].test(n))return r}}function tJ(n,e){if(!n.isValid())return n;if(typeof e=="string"){if(/^\d+$/.test(e))e=Wt(e);else if(e=n.localeData().monthsParse(e),!Cd(e))return n}var t=e,r=n.date();return r=r<29?r:Math.min(r,Rj(n.year(),t)),n._isUTC?n._d.setUTCMonth(t,r):n._d.setMonth(t,r),n}function nJ(n){return n!=null?(tJ(this,n),Fe.updateOffset(this,!0),this):j_(this,"Month")}function $Ee(){return Rj(this.year(),this.month())}function jEe(n){return this._monthsParseExact?(un(this,"_monthsRegex")||rJ.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(un(this,"_monthsShortRegex")||(this._monthsShortRegex=MEe),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function UEe(n){return this._monthsParseExact?(un(this,"_monthsRegex")||rJ.call(this),n?this._monthsStrictRegex:this._monthsRegex):(un(this,"_monthsRegex")||(this._monthsRegex=OEe),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function rJ(){function n(l,u){return u.length-l.length}var e=[],t=[],r=[],s,i,o,a;for(s=0;s<12;s++)i=zc([2e3,s]),o=dd(this.monthsShort(i,"")),a=dd(this.months(i,"")),e.push(o),t.push(a),r.push(a),r.push(o);e.sort(n),t.sort(n),r.sort(n),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function VEe(n,e,t,r,s,i,o){var a;return n<100&&n>=0?(a=new Date(n+400,e,t,r,s,i,o),isFinite(a.getFullYear())&&a.setFullYear(n)):a=new Date(n,e,t,r,s,i,o),a}function U_(n){var e,t;return n<100&&n>=0?(t=Array.prototype.slice.call(arguments),t[0]=n+400,e=new Date(Date.UTC.apply(null,t)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(n)):e=new Date(Date.UTC.apply(null,arguments)),e}function BA(n,e,t){var r=7+e-t,s=(7+U_(n,0,r).getUTCDay()-e)%7;return-s+r-1}function sJ(n,e,t,r,s){var i=(7+t-r)%7,o=BA(n,r,s),a=1+7*(e-1)+i+o,l,u;return a<=0?(l=n-1,u=b_(l)+a):a>b_(n)?(l=n+1,u=a-b_(n)):(l=n,u=a),{year:l,dayOfYear:u}}function V_(n,e,t){var r=BA(n.year(),e,t),s=Math.floor((n.dayOfYear()-r-1)/7)+1,i,o;return s<1?(o=n.year()-1,i=s+hd(o,e,t)):s>hd(n.year(),e,t)?(i=s-hd(n.year(),e,t),o=n.year()+1):(o=n.year(),i=s),{week:i,year:o}}function hd(n,e,t){var r=BA(n,e,t),s=BA(n+1,e,t);return(b_(n)-r+s)/7}st("w",["ww",2],"wo","week");st("W",["WW",2],"Wo","isoWeek");qe("w",er,dw);qe("ww",er,Jo);qe("W",er,dw);qe("WW",er,Jo);T1(["w","ww","W","WW"],function(n,e,t,r){e[r.substr(0,1)]=Wt(n)});function HEe(n){return V_(n,this._week.dow,this._week.doy).week}var zEe={dow:0,doy:6};function WEe(){return this._week.dow}function qEe(){return this._week.doy}function GEe(n){var e=this.localeData().week(this);return n==null?e:this.add((n-e)*7,"d")}function KEe(n){var e=V_(this,1,4).week;return n==null?e:this.add((n-e)*7,"d")}st("d",0,"do","day");st("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});st("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});st("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});st("e",0,0,"weekday");st("E",0,0,"isoWeekday");qe("d",er);qe("e",er);qe("E",er);qe("dd",function(n,e){return e.weekdaysMinRegex(n)});qe("ddd",function(n,e){return e.weekdaysShortRegex(n)});qe("dddd",function(n,e){return e.weekdaysRegex(n)});T1(["dd","ddd","dddd"],function(n,e,t,r){var s=t._locale.weekdaysParse(n,r,t._strict);s!=null?e.d=s:kt(t).invalidWeekday=n});T1(["d","e","E"],function(n,e,t,r){e[r]=Wt(n)});function YEe(n,e){return typeof n!="string"?n:isNaN(n)?(n=e.weekdaysParse(n),typeof n=="number"?n:null):parseInt(n,10)}function XEe(n,e){return typeof n=="string"?e.weekdaysParse(n)%7||7:isNaN(n)?null:n}function Ij(n,e){return n.slice(e,7).concat(n.slice(0,e))}var JEe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),iJ="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),QEe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ZEe=C1,e1e=C1,t1e=C1;function n1e(n,e){var t=Pl(this._weekdays)?this._weekdays:this._weekdays[n&&n!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return n===!0?Ij(t,this._week.dow):n?t[n.day()]:t}function r1e(n){return n===!0?Ij(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort}function s1e(n){return n===!0?Ij(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin}function i1e(n,e,t){var r,s,i,o=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=zc([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return t?e==="dddd"?(s=Fr.call(this._weekdaysParse,o),s!==-1?s:null):e==="ddd"?(s=Fr.call(this._shortWeekdaysParse,o),s!==-1?s:null):(s=Fr.call(this._minWeekdaysParse,o),s!==-1?s:null):e==="dddd"?(s=Fr.call(this._weekdaysParse,o),s!==-1||(s=Fr.call(this._shortWeekdaysParse,o),s!==-1)?s:(s=Fr.call(this._minWeekdaysParse,o),s!==-1?s:null)):e==="ddd"?(s=Fr.call(this._shortWeekdaysParse,o),s!==-1||(s=Fr.call(this._weekdaysParse,o),s!==-1)?s:(s=Fr.call(this._minWeekdaysParse,o),s!==-1?s:null)):(s=Fr.call(this._minWeekdaysParse,o),s!==-1||(s=Fr.call(this._weekdaysParse,o),s!==-1)?s:(s=Fr.call(this._shortWeekdaysParse,o),s!==-1?s:null))}function o1e(n,e,t){var r,s,i;if(this._weekdaysParseExact)return i1e.call(this,n,e,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=zc([2e3,1]).day(r),t&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),t&&e==="dddd"&&this._fullWeekdaysParse[r].test(n))return r;if(t&&e==="ddd"&&this._shortWeekdaysParse[r].test(n))return r;if(t&&e==="dd"&&this._minWeekdaysParse[r].test(n))return r;if(!t&&this._weekdaysParse[r].test(n))return r}}function a1e(n){if(!this.isValid())return n!=null?this:NaN;var e=j_(this,"Day");return n!=null?(n=YEe(n,this.localeData()),this.add(n-e,"d")):e}function l1e(n){if(!this.isValid())return n!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return n==null?e:this.add(n-e,"d")}function c1e(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var e=XEe(n,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function u1e(n){return this._weekdaysParseExact?(un(this,"_weekdaysRegex")||kj.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(un(this,"_weekdaysRegex")||(this._weekdaysRegex=ZEe),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function d1e(n){return this._weekdaysParseExact?(un(this,"_weekdaysRegex")||kj.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(un(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=e1e),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function h1e(n){return this._weekdaysParseExact?(un(this,"_weekdaysRegex")||kj.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(un(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=t1e),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function kj(){function n(h,p){return p.length-h.length}var e=[],t=[],r=[],s=[],i,o,a,l,u;for(i=0;i<7;i++)o=zc([2e3,1]).day(i),a=dd(this.weekdaysMin(o,"")),l=dd(this.weekdaysShort(o,"")),u=dd(this.weekdays(o,"")),e.push(a),t.push(l),r.push(u),s.push(a),s.push(l),s.push(u);e.sort(n),t.sort(n),r.sort(n),s.sort(n),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Pj(){return this.hours()%12||12}function f1e(){return this.hours()||24}st("H",["HH",2],0,"hour");st("h",["hh",2],0,Pj);st("k",["kk",2],0,f1e);st("hmm",0,0,function(){return""+Pj.apply(this)+Fc(this.minutes(),2)});st("hmmss",0,0,function(){return""+Pj.apply(this)+Fc(this.minutes(),2)+Fc(this.seconds(),2)});st("Hmm",0,0,function(){return""+this.hours()+Fc(this.minutes(),2)});st("Hmmss",0,0,function(){return""+this.hours()+Fc(this.minutes(),2)+Fc(this.seconds(),2)});function oJ(n,e){st(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}oJ("a",!0);oJ("A",!1);function aJ(n,e){return e._meridiemParse}qe("a",aJ);qe("A",aJ);qe("H",er,Aj);qe("h",er,dw);qe("k",er,dw);qe("HH",er,Jo);qe("hh",er,Jo);qe("kk",er,Jo);qe("hmm",YX);qe("hmmss",XX);qe("Hmm",YX);qe("Hmmss",XX);Dn(["H","HH"],as);Dn(["k","kk"],function(n,e,t){var r=Wt(n);e[as]=r===24?0:r});Dn(["a","A"],function(n,e,t){t._isPm=t._locale.isPM(n),t._meridiem=n});Dn(["h","hh"],function(n,e,t){e[as]=Wt(n),kt(t).bigHour=!0});Dn("hmm",function(n,e,t){var r=n.length-2;e[as]=Wt(n.substr(0,r)),e[El]=Wt(n.substr(r)),kt(t).bigHour=!0});Dn("hmmss",function(n,e,t){var r=n.length-4,s=n.length-2;e[as]=Wt(n.substr(0,r)),e[El]=Wt(n.substr(r,2)),e[ad]=Wt(n.substr(s)),kt(t).bigHour=!0});Dn("Hmm",function(n,e,t){var r=n.length-2;e[as]=Wt(n.substr(0,r)),e[El]=Wt(n.substr(r))});Dn("Hmmss",function(n,e,t){var r=n.length-4,s=n.length-2;e[as]=Wt(n.substr(0,r)),e[El]=Wt(n.substr(r,2)),e[ad]=Wt(n.substr(s))});function p1e(n){return(n+"").toLowerCase().charAt(0)==="p"}var m1e=/[ap]\.?m?\.?/i,g1e=hw("Hours",!0);function y1e(n,e,t){return n>11?t?"pm":"PM":t?"am":"AM"}var lJ={calendar:iEe,longDateFormat:cEe,invalidDate:dEe,ordinal:fEe,dayOfMonthOrdinalParse:pEe,relativeTime:gEe,months:DEe,monthsShort:ZX,week:zEe,weekdays:JEe,weekdaysMin:QEe,weekdaysShort:iJ,meridiemParse:m1e},ar={},pb={},H_;function v1e(n,e){var t,r=Math.min(n.length,e.length);for(t=0;t<r;t+=1)if(n[t]!==e[t])return t;return r}function NH(n){return n&&n.toLowerCase().replace("_","-")}function w1e(n){for(var e=0,t,r,s,i;e<n.length;){for(i=NH(n[e]).split("-"),t=i.length,r=NH(n[e+1]),r=r?r.split("-"):null;t>0;){if(s=DI(i.slice(0,t).join("-")),s)return s;if(r&&r.length>=t&&v1e(i,r)>=t-1)break;t--}e++}return H_}function b1e(n){return!!(n&&n.match("^[^/\\\\]*$"))}function DI(n){var e=null,t;if(ar[n]===void 0&&typeof module<"u"&&module&&module.exports&&b1e(n))try{e=H_._abbr,t=require,t("./locale/"+n),pf(e)}catch{ar[n]=null}return ar[n]}function pf(n,e){var t;return n&&(zi(e)?t=Rd(n):t=Dj(n,e),t?H_=t:typeof console<"u"&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),H_._abbr}function Dj(n,e){if(e!==null){var t,r=lJ;if(e.abbr=n,ar[n]!=null)WX("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ar[n]._config;else if(e.parentLocale!=null)if(ar[e.parentLocale]!=null)r=ar[e.parentLocale]._config;else if(t=DI(e.parentLocale),t!=null)r=t._config;else return pb[e.parentLocale]||(pb[e.parentLocale]=[]),pb[e.parentLocale].push({name:n,config:e}),null;return ar[n]=new Sj(EN(r,e)),pb[n]&&pb[n].forEach(function(s){Dj(s.name,s.config)}),pf(n),ar[n]}else return delete ar[n],null}function _1e(n,e){if(e!=null){var t,r,s=lJ;ar[n]!=null&&ar[n].parentLocale!=null?ar[n].set(EN(ar[n]._config,e)):(r=DI(n),r!=null&&(s=r._config),e=EN(s,e),r==null&&(e.abbr=n),t=new Sj(e),t.parentLocale=ar[n],ar[n]=t),pf(n)}else ar[n]!=null&&(ar[n].parentLocale!=null?(ar[n]=ar[n].parentLocale,n===pf()&&pf(n)):ar[n]!=null&&delete ar[n]);return ar[n]}function Rd(n){var e;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return H_;if(!Pl(n)){if(e=DI(n),e)return e;n=[n]}return w1e(n)}function S1e(){return CN(ar)}function Mj(n){var e,t=n._a;return t&&kt(n).overflow===-2&&(e=t[od]<0||t[od]>11?od:t[xc]<1||t[xc]>Rj(t[fi],t[od])?xc:t[as]<0||t[as]>24||t[as]===24&&(t[El]!==0||t[ad]!==0||t[Ip]!==0)?as:t[El]<0||t[El]>59?El:t[ad]<0||t[ad]>59?ad:t[Ip]<0||t[Ip]>999?Ip:-1,kt(n)._overflowDayOfYear&&(e<fi||e>xc)&&(e=xc),kt(n)._overflowWeeks&&e===-1&&(e=xEe),kt(n)._overflowWeekday&&e===-1&&(e=AEe),kt(n).overflow=e),n}var E1e=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,C1e=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,T1e=/Z|[+-]\d\d(?::?\d\d)?/,kT=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ID=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],x1e=/^\/?Date\((-?\d+)/i,A1e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,R1e={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function cJ(n){var e,t,r=n._i,s=E1e.exec(r)||C1e.exec(r),i,o,a,l,u=kT.length,h=ID.length;if(s){for(kt(n).iso=!0,e=0,t=u;e<t;e++)if(kT[e][1].exec(s[1])){o=kT[e][0],i=kT[e][2]!==!1;break}if(o==null){n._isValid=!1;return}if(s[3]){for(e=0,t=h;e<t;e++)if(ID[e][1].exec(s[3])){a=(s[2]||" ")+ID[e][0];break}if(a==null){n._isValid=!1;return}}if(!i&&a!=null){n._isValid=!1;return}if(s[4])if(T1e.exec(s[4]))l="Z";else{n._isValid=!1;return}n._f=o+(a||"")+(l||""),Lj(n)}else n._isValid=!1}function I1e(n,e,t,r,s,i){var o=[k1e(n),ZX.indexOf(e),parseInt(t,10),parseInt(r,10),parseInt(s,10)];return i&&o.push(parseInt(i,10)),o}function k1e(n){var e=parseInt(n,10);return e<=49?2e3+e:e<=999?1900+e:e}function P1e(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function D1e(n,e,t){if(n){var r=iJ.indexOf(n),s=new Date(e[0],e[1],e[2]).getDay();if(r!==s)return kt(t).weekdayMismatch=!0,t._isValid=!1,!1}return!0}function M1e(n,e,t){if(n)return R1e[n];if(e)return 0;var r=parseInt(t,10),s=r%100,i=(r-s)/100;return i*60+s}function uJ(n){var e=A1e.exec(P1e(n._i)),t;if(e){if(t=I1e(e[4],e[3],e[2],e[5],e[6],e[7]),!D1e(e[1],t,n))return;n._a=t,n._tzm=M1e(e[8],e[9],e[10]),n._d=U_.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),kt(n).rfc2822=!0}else n._isValid=!1}function O1e(n){var e=x1e.exec(n._i);if(e!==null){n._d=new Date(+e[1]);return}if(cJ(n),n._isValid===!1)delete n._isValid;else return;if(uJ(n),n._isValid===!1)delete n._isValid;else return;n._strict?n._isValid=!1:Fe.createFromInputFallback(n)}Fe.createFromInputFallback=Va("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});function xy(n,e,t){return n??e??t}function L1e(n){var e=new Date(Fe.now());return n._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Oj(n){var e,t,r=[],s,i,o;if(!n._d){for(s=L1e(n),n._w&&n._a[xc]==null&&n._a[od]==null&&N1e(n),n._dayOfYear!=null&&(o=xy(n._a[fi],s[fi]),(n._dayOfYear>b_(o)||n._dayOfYear===0)&&(kt(n)._overflowDayOfYear=!0),t=U_(o,0,n._dayOfYear),n._a[od]=t.getUTCMonth(),n._a[xc]=t.getUTCDate()),e=0;e<3&&n._a[e]==null;++e)n._a[e]=r[e]=s[e];for(;e<7;e++)n._a[e]=r[e]=n._a[e]==null?e===2?1:0:n._a[e];n._a[as]===24&&n._a[El]===0&&n._a[ad]===0&&n._a[Ip]===0&&(n._nextDay=!0,n._a[as]=0),n._d=(n._useUTC?U_:VEe).apply(null,r),i=n._useUTC?n._d.getUTCDay():n._d.getDay(),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[as]=24),n._w&&typeof n._w.d<"u"&&n._w.d!==i&&(kt(n).weekdayMismatch=!0)}}function N1e(n){var e,t,r,s,i,o,a,l,u;e=n._w,e.GG!=null||e.W!=null||e.E!=null?(i=1,o=4,t=xy(e.GG,n._a[fi],V_(Zn(),1,4).year),r=xy(e.W,1),s=xy(e.E,1),(s<1||s>7)&&(l=!0)):(i=n._locale._week.dow,o=n._locale._week.doy,u=V_(Zn(),i,o),t=xy(e.gg,n._a[fi],u.year),r=xy(e.w,u.week),e.d!=null?(s=e.d,(s<0||s>6)&&(l=!0)):e.e!=null?(s=e.e+i,(e.e<0||e.e>6)&&(l=!0)):s=i),r<1||r>hd(t,i,o)?kt(n)._overflowWeeks=!0:l!=null?kt(n)._overflowWeekday=!0:(a=sJ(t,r,s,i,o),n._a[fi]=a.year,n._dayOfYear=a.dayOfYear)}Fe.ISO_8601=function(){};Fe.RFC_2822=function(){};function Lj(n){if(n._f===Fe.ISO_8601){cJ(n);return}if(n._f===Fe.RFC_2822){uJ(n);return}n._a=[],kt(n).empty=!0;var e=""+n._i,t,r,s,i,o,a=e.length,l=0,u,h;for(s=qX(n._f,n._locale).match(Ej)||[],h=s.length,t=0;t<h;t++)i=s[t],r=(e.match(EEe(i,n))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&kt(n).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),Zy[i]?(r?kt(n).empty=!1:kt(n).unusedTokens.push(i),TEe(i,r,n)):n._strict&&!r&&kt(n).unusedTokens.push(i);kt(n).charsLeftOver=a-l,e.length>0&&kt(n).unusedInput.push(e),n._a[as]<=12&&kt(n).bigHour===!0&&n._a[as]>0&&(kt(n).bigHour=void 0),kt(n).parsedDateParts=n._a.slice(0),kt(n).meridiem=n._meridiem,n._a[as]=F1e(n._locale,n._a[as],n._meridiem),u=kt(n).era,u!==null&&(n._a[fi]=n._locale.erasConvertYear(u,n._a[fi])),Oj(n),Mj(n)}function F1e(n,e,t){var r;return t==null?e:n.meridiemHour!=null?n.meridiemHour(e,t):(n.isPM!=null&&(r=n.isPM(t),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function B1e(n){var e,t,r,s,i,o,a=!1,l=n._f.length;if(l===0){kt(n).invalidFormat=!0,n._d=new Date(NaN);return}for(s=0;s<l;s++)i=0,o=!1,e=_j({},n),n._useUTC!=null&&(e._useUTC=n._useUTC),e._f=n._f[s],Lj(e),bj(e)&&(o=!0),i+=kt(e).charsLeftOver,i+=kt(e).unusedTokens.length*10,kt(e).score=i,a?i<r&&(r=i,t=e):(r==null||i<r||o)&&(r=i,t=e,o&&(a=!0));af(n,t||e)}function $1e(n){if(!n._d){var e=Cj(n._i),t=e.day===void 0?e.date:e.day;n._a=HX([e.year,e.month,t,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),Oj(n)}}function j1e(n){var e=new E1(Mj(dJ(n)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function dJ(n){var e=n._i,t=n._f;return n._locale=n._locale||Rd(n._l),e===null||t===void 0&&e===""?TI({nullInput:!0}):(typeof e=="string"&&(n._i=e=n._locale.preparse(e)),Dl(e)?new E1(Mj(e)):(S1(e)?n._d=e:Pl(t)?B1e(n):t?Lj(n):U1e(n),bj(n)||(n._d=null),n))}function U1e(n){var e=n._i;zi(e)?n._d=new Date(Fe.now()):S1(e)?n._d=new Date(e.valueOf()):typeof e=="string"?O1e(n):Pl(e)?(n._a=HX(e.slice(0),function(t){return parseInt(t,10)}),Oj(n)):Gm(e)?$1e(n):Cd(e)?n._d=new Date(e):Fe.createFromInputFallback(n)}function hJ(n,e,t,r,s){var i={};return(e===!0||e===!1)&&(r=e,e=void 0),(t===!0||t===!1)&&(r=t,t=void 0),(Gm(n)&&wj(n)||Pl(n)&&n.length===0)&&(n=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=s,i._l=t,i._i=n,i._f=e,i._strict=r,j1e(i)}function Zn(n,e,t,r){return hJ(n,e,t,r,!1)}var V1e=Va("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=Zn.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:TI()}),H1e=Va("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=Zn.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:TI()});function fJ(n,e){var t,r;if(e.length===1&&Pl(e[0])&&(e=e[0]),!e.length)return Zn();for(t=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][n](t))&&(t=e[r]);return t}function z1e(){var n=[].slice.call(arguments,0);return fJ("isBefore",n)}function W1e(){var n=[].slice.call(arguments,0);return fJ("isAfter",n)}var q1e=function(){return Date.now?Date.now():+new Date},mb=["year","quarter","month","week","day","hour","minute","second","millisecond"];function G1e(n){var e,t=!1,r,s=mb.length;for(e in n)if(un(n,e)&&!(Fr.call(mb,e)!==-1&&(n[e]==null||!isNaN(n[e]))))return!1;for(r=0;r<s;++r)if(n[mb[r]]){if(t)return!1;parseFloat(n[mb[r]])!==Wt(n[mb[r]])&&(t=!0)}return!0}function K1e(){return this._isValid}function Y1e(){return Fl(NaN)}function MI(n){var e=Cj(n),t=e.year||0,r=e.quarter||0,s=e.month||0,i=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,h=e.millisecond||0;this._isValid=G1e(e),this._milliseconds=+h+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+i*7,this._months=+s+r*3+t*12,this._data={},this._locale=Rd(),this._bubble()}function cx(n){return n instanceof MI}function xN(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function X1e(n,e,t){var r=Math.min(n.length,e.length),s=Math.abs(n.length-e.length),i=0,o;for(o=0;o<r;o++)Wt(n[o])!==Wt(e[o])&&i++;return i+s}function pJ(n,e){st(n,0,0,function(){var t=this.utcOffset(),r="+";return t<0&&(t=-t,r="-"),r+Fc(~~(t/60),2)+e+Fc(~~t%60,2)})}pJ("Z",":");pJ("ZZ","");qe("Z",kI);qe("ZZ",kI);Dn(["Z","ZZ"],function(n,e,t){t._useUTC=!0,t._tzm=Nj(kI,n)});var J1e=/([\+\-]|\d\d)/gi;function Nj(n,e){var t=(e||"").match(n),r,s,i;return t===null?null:(r=t[t.length-1]||[],s=(r+"").match(J1e)||["-",0,0],i=+(s[1]*60)+Wt(s[2]),i===0?0:s[0]==="+"?i:-i)}function Fj(n,e){var t,r;return e._isUTC?(t=e.clone(),r=(Dl(n)||S1(n)?n.valueOf():Zn(n).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+r),Fe.updateOffset(t,!1),t):Zn(n).local()}function AN(n){return-Math.round(n._d.getTimezoneOffset())}Fe.updateOffset=function(){};function Q1e(n,e,t){var r=this._offset||0,s;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=Nj(kI,n),n===null)return this}else Math.abs(n)<16&&!t&&(n=n*60);return!this._isUTC&&e&&(s=AN(this)),this._offset=n,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==n&&(!e||this._changeInProgress?yJ(this,Fl(n-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Fe.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:AN(this)}function Z1e(n,e){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,e),this):-this.utcOffset()}function eCe(n){return this.utcOffset(0,n)}function tCe(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(AN(this),"m")),this}function nCe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var n=Nj(_Ee,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function rCe(n){return this.isValid()?(n=n?Zn(n).utcOffset():0,(this.utcOffset()-n)%60===0):!1}function sCe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function iCe(){if(!zi(this._isDSTShifted))return this._isDSTShifted;var n={},e;return _j(n,this),n=dJ(n),n._a?(e=n._isUTC?zc(n._a):Zn(n._a),this._isDSTShifted=this.isValid()&&X1e(n._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function oCe(){return this.isValid()?!this._isUTC:!1}function aCe(){return this.isValid()?this._isUTC:!1}function mJ(){return this.isValid()?this._isUTC&&this._offset===0:!1}var lCe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,cCe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Fl(n,e){var t=n,r=null,s,i,o;return cx(n)?t={ms:n._milliseconds,d:n._days,M:n._months}:Cd(n)||!isNaN(+n)?(t={},e?t[e]=+n:t.milliseconds=+n):(r=lCe.exec(n))?(s=r[1]==="-"?-1:1,t={y:0,d:Wt(r[xc])*s,h:Wt(r[as])*s,m:Wt(r[El])*s,s:Wt(r[ad])*s,ms:Wt(xN(r[Ip]*1e3))*s}):(r=cCe.exec(n))?(s=r[1]==="-"?-1:1,t={y:dp(r[2],s),M:dp(r[3],s),w:dp(r[4],s),d:dp(r[5],s),h:dp(r[6],s),m:dp(r[7],s),s:dp(r[8],s)}):t==null?t={}:typeof t=="object"&&("from"in t||"to"in t)&&(o=uCe(Zn(t.from),Zn(t.to)),t={},t.ms=o.milliseconds,t.M=o.months),i=new MI(t),cx(n)&&un(n,"_locale")&&(i._locale=n._locale),cx(n)&&un(n,"_isValid")&&(i._isValid=n._isValid),i}Fl.fn=MI.prototype;Fl.invalid=Y1e;function dp(n,e){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*e}function FH(n,e){var t={};return t.months=e.month()-n.month()+(e.year()-n.year())*12,n.clone().add(t.months,"M").isAfter(e)&&--t.months,t.milliseconds=+e-+n.clone().add(t.months,"M"),t}function uCe(n,e){var t;return n.isValid()&&e.isValid()?(e=Fj(e,n),n.isBefore(e)?t=FH(n,e):(t=FH(e,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t):{milliseconds:0,months:0}}function gJ(n,e){return function(t,r){var s,i;return r!==null&&!isNaN(+r)&&(WX(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=t,t=r,r=i),s=Fl(t,r),yJ(this,s,n),this}}function yJ(n,e,t,r){var s=e._milliseconds,i=xN(e._days),o=xN(e._months);n.isValid()&&(r=r??!0,o&&tJ(n,j_(n,"Month")+o*t),i&&QX(n,"Date",j_(n,"Date")+i*t),s&&n._d.setTime(n._d.valueOf()+s*t),r&&Fe.updateOffset(n,i||o))}var dCe=gJ(1,"add"),hCe=gJ(-1,"subtract");function vJ(n){return typeof n=="string"||n instanceof String}function fCe(n){return Dl(n)||S1(n)||vJ(n)||Cd(n)||mCe(n)||pCe(n)||n===null||n===void 0}function pCe(n){var e=Gm(n)&&!wj(n),t=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,i,o=r.length;for(s=0;s<o;s+=1)i=r[s],t=t||un(n,i);return e&&t}function mCe(n){var e=Pl(n),t=!1;return e&&(t=n.filter(function(r){return!Cd(r)&&vJ(n)}).length===0),e&&t}function gCe(n){var e=Gm(n)&&!wj(n),t=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,i;for(s=0;s<r.length;s+=1)i=r[s],t=t||un(n,i);return e&&t}function yCe(n,e){var t=n.diff(e,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"}function vCe(n,e){arguments.length===1&&(arguments[0]?fCe(arguments[0])?(n=arguments[0],e=void 0):gCe(arguments[0])&&(e=arguments[0],n=void 0):(n=void 0,e=void 0));var t=n||Zn(),r=Fj(t,this).startOf("day"),s=Fe.calendarFormat(this,r)||"sameElse",i=e&&(Wc(e[s])?e[s].call(this,t):e[s]);return this.format(i||this.localeData().calendar(s,this,Zn(t)))}function wCe(){return new E1(this)}function bCe(n,e){var t=Dl(n)?n:Zn(n);return this.isValid()&&t.isValid()?(e=Ha(e)||"millisecond",e==="millisecond"?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf()):!1}function _Ce(n,e){var t=Dl(n)?n:Zn(n);return this.isValid()&&t.isValid()?(e=Ha(e)||"millisecond",e==="millisecond"?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf()):!1}function SCe(n,e,t,r){var s=Dl(n)?n:Zn(n),i=Dl(e)?e:Zn(e);return this.isValid()&&s.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,t):!this.isBefore(s,t))&&(r[1]===")"?this.isBefore(i,t):!this.isAfter(i,t))):!1}function ECe(n,e){var t=Dl(n)?n:Zn(n),r;return this.isValid()&&t.isValid()?(e=Ha(e)||"millisecond",e==="millisecond"?this.valueOf()===t.valueOf():(r=t.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function CCe(n,e){return this.isSame(n,e)||this.isAfter(n,e)}function TCe(n,e){return this.isSame(n,e)||this.isBefore(n,e)}function xCe(n,e,t){var r,s,i;if(!this.isValid())return NaN;if(r=Fj(n,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,e=Ha(e),e){case"year":i=ux(this,r)/12;break;case"month":i=ux(this,r);break;case"quarter":i=ux(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-s)/864e5;break;case"week":i=(this-r-s)/6048e5;break;default:i=this-r}return t?i:xa(i)}function ux(n,e){if(n.date()<e.date())return-ux(e,n);var t=(e.year()-n.year())*12+(e.month()-n.month()),r=n.clone().add(t,"months"),s,i;return e-r<0?(s=n.clone().add(t-1,"months"),i=(e-r)/(r-s)):(s=n.clone().add(t+1,"months"),i=(e-r)/(s-r)),-(t+i)||0}Fe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Fe.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function ACe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function RCe(n){if(!this.isValid())return null;var e=n!==!0,t=e?this.clone().utc():this;return t.year()<0||t.year()>9999?lx(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Wc(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",lx(t,"Z")):lx(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ICe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var n="moment",e="",t,r,s,i;return this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),t="["+n+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",i=e+'[")]',this.format(t+r+s+i)}function kCe(n){n||(n=this.isUtc()?Fe.defaultFormatUtc:Fe.defaultFormat);var e=lx(this,n);return this.localeData().postformat(e)}function PCe(n,e){return this.isValid()&&(Dl(n)&&n.isValid()||Zn(n).isValid())?Fl({to:this,from:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function DCe(n){return this.from(Zn(),n)}function MCe(n,e){return this.isValid()&&(Dl(n)&&n.isValid()||Zn(n).isValid())?Fl({from:this,to:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function OCe(n){return this.to(Zn(),n)}function wJ(n){var e;return n===void 0?this._locale._abbr:(e=Rd(n),e!=null&&(this._locale=e),this)}var bJ=Va("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===void 0?this.localeData():this.locale(n)});function _J(){return this._locale}var $A=1e3,ev=60*$A,jA=60*ev,SJ=(365*400+97)*24*jA;function tv(n,e){return(n%e+e)%e}function EJ(n,e,t){return n<100&&n>=0?new Date(n+400,e,t)-SJ:new Date(n,e,t).valueOf()}function CJ(n,e,t){return n<100&&n>=0?Date.UTC(n+400,e,t)-SJ:Date.UTC(n,e,t)}function LCe(n){var e,t;if(n=Ha(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?CJ:EJ,n){case"year":e=t(this.year(),0,1);break;case"quarter":e=t(this.year(),this.month()-this.month()%3,1);break;case"month":e=t(this.year(),this.month(),1);break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=t(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=tv(e+(this._isUTC?0:this.utcOffset()*ev),jA);break;case"minute":e=this._d.valueOf(),e-=tv(e,ev);break;case"second":e=this._d.valueOf(),e-=tv(e,$A);break}return this._d.setTime(e),Fe.updateOffset(this,!0),this}function NCe(n){var e,t;if(n=Ha(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?CJ:EJ,n){case"year":e=t(this.year()+1,0,1)-1;break;case"quarter":e=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=t(this.year(),this.month()+1,1)-1;break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=jA-tv(e+(this._isUTC?0:this.utcOffset()*ev),jA)-1;break;case"minute":e=this._d.valueOf(),e+=ev-tv(e,ev)-1;break;case"second":e=this._d.valueOf(),e+=$A-tv(e,$A)-1;break}return this._d.setTime(e),Fe.updateOffset(this,!0),this}function FCe(){return this._d.valueOf()-(this._offset||0)*6e4}function BCe(){return Math.floor(this.valueOf()/1e3)}function $Ce(){return new Date(this.valueOf())}function jCe(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function UCe(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function VCe(){return this.isValid()?this.toISOString():null}function HCe(){return bj(this)}function zCe(){return af({},kt(this))}function WCe(){return kt(this).overflow}function qCe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}st("N",0,0,"eraAbbr");st("NN",0,0,"eraAbbr");st("NNN",0,0,"eraAbbr");st("NNNN",0,0,"eraName");st("NNNNN",0,0,"eraNarrow");st("y",["y",1],"yo","eraYear");st("y",["yy",2],0,"eraYear");st("y",["yyy",3],0,"eraYear");st("y",["yyyy",4],0,"eraYear");qe("N",Bj);qe("NN",Bj);qe("NNN",Bj);qe("NNNN",rTe);qe("NNNNN",sTe);Dn(["N","NN","NNN","NNNN","NNNNN"],function(n,e,t,r){var s=t._locale.erasParse(n,r,t._strict);s?kt(t).era=s:kt(t).invalidEra=n});qe("y",uw);qe("yy",uw);qe("yyy",uw);qe("yyyy",uw);qe("yo",iTe);Dn(["y","yy","yyy","yyyy"],fi);Dn(["yo"],function(n,e,t,r){var s;t._locale._eraYearOrdinalRegex&&(s=n.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?e[fi]=t._locale.eraYearOrdinalParse(n,s):e[fi]=parseInt(n,10)});function GCe(n,e){var t,r,s,i=this._eras||Rd("en")._eras;for(t=0,r=i.length;t<r;++t){switch(typeof i[t].since){case"string":s=Fe(i[t].since).startOf("day"),i[t].since=s.valueOf();break}switch(typeof i[t].until){case"undefined":i[t].until=1/0;break;case"string":s=Fe(i[t].until).startOf("day").valueOf(),i[t].until=s.valueOf();break}}return i}function KCe(n,e,t){var r,s,i=this.eras(),o,a,l;for(n=n.toUpperCase(),r=0,s=i.length;r<s;++r)if(o=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),l=i[r].narrow.toUpperCase(),t)switch(e){case"N":case"NN":case"NNN":if(a===n)return i[r];break;case"NNNN":if(o===n)return i[r];break;case"NNNNN":if(l===n)return i[r];break}else if([o,a,l].indexOf(n)>=0)return i[r]}function YCe(n,e){var t=n.since<=n.until?1:-1;return e===void 0?Fe(n.since).year():Fe(n.since).year()+(e-n.offset)*t}function XCe(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].name;return""}function JCe(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].narrow;return""}function QCe(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].abbr;return""}function ZCe(){var n,e,t,r,s=this.localeData().eras();for(n=0,e=s.length;n<e;++n)if(t=s[n].since<=s[n].until?1:-1,r=this.clone().startOf("day").valueOf(),s[n].since<=r&&r<=s[n].until||s[n].until<=r&&r<=s[n].since)return(this.year()-Fe(s[n].since).year())*t+s[n].offset;return this.year()}function eTe(n){return un(this,"_erasNameRegex")||$j.call(this),n?this._erasNameRegex:this._erasRegex}function tTe(n){return un(this,"_erasAbbrRegex")||$j.call(this),n?this._erasAbbrRegex:this._erasRegex}function nTe(n){return un(this,"_erasNarrowRegex")||$j.call(this),n?this._erasNarrowRegex:this._erasRegex}function Bj(n,e){return e.erasAbbrRegex(n)}function rTe(n,e){return e.erasNameRegex(n)}function sTe(n,e){return e.erasNarrowRegex(n)}function iTe(n,e){return e._eraYearOrdinalRegex||uw}function $j(){var n=[],e=[],t=[],r=[],s,i,o,a,l,u=this.eras();for(s=0,i=u.length;s<i;++s)o=dd(u[s].name),a=dd(u[s].abbr),l=dd(u[s].narrow),e.push(o),n.push(a),t.push(l),r.push(o),r.push(a),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+t.join("|")+")","i")}st(0,["gg",2],0,function(){return this.weekYear()%100});st(0,["GG",2],0,function(){return this.isoWeekYear()%100});function OI(n,e){st(0,[n,n.length],0,e)}OI("gggg","weekYear");OI("ggggg","weekYear");OI("GGGG","isoWeekYear");OI("GGGGG","isoWeekYear");qe("G",II);qe("g",II);qe("GG",er,Jo);qe("gg",er,Jo);qe("GGGG",xj,Tj);qe("gggg",xj,Tj);qe("GGGGG",RI,xI);qe("ggggg",RI,xI);T1(["gggg","ggggg","GGGG","GGGGG"],function(n,e,t,r){e[r.substr(0,2)]=Wt(n)});T1(["gg","GG"],function(n,e,t,r){e[r]=Fe.parseTwoDigitYear(n)});function oTe(n){return TJ.call(this,n,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function aTe(n){return TJ.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function lTe(){return hd(this.year(),1,4)}function cTe(){return hd(this.isoWeekYear(),1,4)}function uTe(){var n=this.localeData()._week;return hd(this.year(),n.dow,n.doy)}function dTe(){var n=this.localeData()._week;return hd(this.weekYear(),n.dow,n.doy)}function TJ(n,e,t,r,s){var i;return n==null?V_(this,r,s).year:(i=hd(n,r,s),e>i&&(e=i),hTe.call(this,n,e,t,r,s))}function hTe(n,e,t,r,s){var i=sJ(n,e,t,r,s),o=U_(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}st("Q",0,"Qo","quarter");qe("Q",GX);Dn("Q",function(n,e){e[od]=(Wt(n)-1)*3});function fTe(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}st("D",["DD",2],"Do","date");qe("D",er,dw);qe("DD",er,Jo);qe("Do",function(n,e){return n?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Dn(["D","DD"],xc);Dn("Do",function(n,e){e[xc]=Wt(n.match(er)[0])});var xJ=hw("Date",!0);st("DDD",["DDDD",3],"DDDo","dayOfYear");qe("DDD",AI);qe("DDDD",KX);Dn(["DDD","DDDD"],function(n,e,t){t._dayOfYear=Wt(n)});function pTe(n){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?e:this.add(n-e,"d")}st("m",["mm",2],0,"minute");qe("m",er,Aj);qe("mm",er,Jo);Dn(["m","mm"],El);var mTe=hw("Minutes",!1);st("s",["ss",2],0,"second");qe("s",er,Aj);qe("ss",er,Jo);Dn(["s","ss"],ad);var gTe=hw("Seconds",!1);st("S",0,0,function(){return~~(this.millisecond()/100)});st(0,["SS",2],0,function(){return~~(this.millisecond()/10)});st(0,["SSS",3],0,"millisecond");st(0,["SSSS",4],0,function(){return this.millisecond()*10});st(0,["SSSSS",5],0,function(){return this.millisecond()*100});st(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});st(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});st(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});st(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});qe("S",AI,GX);qe("SS",AI,Jo);qe("SSS",AI,KX);var lf,AJ;for(lf="SSSS";lf.length<=9;lf+="S")qe(lf,uw);function yTe(n,e){e[Ip]=Wt(("0."+n)*1e3)}for(lf="S";lf.length<=9;lf+="S")Dn(lf,yTe);AJ=hw("Milliseconds",!1);st("z",0,0,"zoneAbbr");st("zz",0,0,"zoneName");function vTe(){return this._isUTC?"UTC":""}function wTe(){return this._isUTC?"Coordinated Universal Time":""}var xe=E1.prototype;xe.add=dCe;xe.calendar=vCe;xe.clone=wCe;xe.diff=xCe;xe.endOf=NCe;xe.format=kCe;xe.from=PCe;xe.fromNow=DCe;xe.to=MCe;xe.toNow=OCe;xe.get=IEe;xe.invalidAt=WCe;xe.isAfter=bCe;xe.isBefore=_Ce;xe.isBetween=SCe;xe.isSame=ECe;xe.isSameOrAfter=CCe;xe.isSameOrBefore=TCe;xe.isValid=HCe;xe.lang=bJ;xe.locale=wJ;xe.localeData=_J;xe.max=H1e;xe.min=V1e;xe.parsingFlags=zCe;xe.set=kEe;xe.startOf=LCe;xe.subtract=hCe;xe.toArray=jCe;xe.toObject=UCe;xe.toDate=$Ce;xe.toISOString=RCe;xe.inspect=ICe;typeof Symbol<"u"&&Symbol.for!=null&&(xe[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});xe.toJSON=VCe;xe.toString=ACe;xe.unix=BCe;xe.valueOf=FCe;xe.creationData=qCe;xe.eraName=XCe;xe.eraNarrow=JCe;xe.eraAbbr=QCe;xe.eraYear=ZCe;xe.year=JX;xe.isLeapYear=REe;xe.weekYear=oTe;xe.isoWeekYear=aTe;xe.quarter=xe.quarters=fTe;xe.month=nJ;xe.daysInMonth=$Ee;xe.week=xe.weeks=GEe;xe.isoWeek=xe.isoWeeks=KEe;xe.weeksInYear=uTe;xe.weeksInWeekYear=dTe;xe.isoWeeksInYear=lTe;xe.isoWeeksInISOWeekYear=cTe;xe.date=xJ;xe.day=xe.days=a1e;xe.weekday=l1e;xe.isoWeekday=c1e;xe.dayOfYear=pTe;xe.hour=xe.hours=g1e;xe.minute=xe.minutes=mTe;xe.second=xe.seconds=gTe;xe.millisecond=xe.milliseconds=AJ;xe.utcOffset=Q1e;xe.utc=eCe;xe.local=tCe;xe.parseZone=nCe;xe.hasAlignedHourOffset=rCe;xe.isDST=sCe;xe.isLocal=oCe;xe.isUtcOffset=aCe;xe.isUtc=mJ;xe.isUTC=mJ;xe.zoneAbbr=vTe;xe.zoneName=wTe;xe.dates=Va("dates accessor is deprecated. Use date instead.",xJ);xe.months=Va("months accessor is deprecated. Use month instead",nJ);xe.years=Va("years accessor is deprecated. Use year instead",JX);xe.zone=Va("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Z1e);xe.isDSTShifted=Va("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",iCe);function bTe(n){return Zn(n*1e3)}function _Te(){return Zn.apply(null,arguments).parseZone()}function RJ(n){return n}var dn=Sj.prototype;dn.calendar=oEe;dn.longDateFormat=uEe;dn.invalidDate=hEe;dn.ordinal=mEe;dn.preparse=RJ;dn.postformat=RJ;dn.relativeTime=yEe;dn.pastFuture=vEe;dn.set=sEe;dn.eras=GCe;dn.erasParse=KCe;dn.erasConvertYear=YCe;dn.erasAbbrRegex=tTe;dn.erasNameRegex=eTe;dn.erasNarrowRegex=nTe;dn.months=LEe;dn.monthsShort=NEe;dn.monthsParse=BEe;dn.monthsRegex=UEe;dn.monthsShortRegex=jEe;dn.week=HEe;dn.firstDayOfYear=qEe;dn.firstDayOfWeek=WEe;dn.weekdays=n1e;dn.weekdaysMin=s1e;dn.weekdaysShort=r1e;dn.weekdaysParse=o1e;dn.weekdaysRegex=u1e;dn.weekdaysShortRegex=d1e;dn.weekdaysMinRegex=h1e;dn.isPM=p1e;dn.meridiem=y1e;function UA(n,e,t,r){var s=Rd(),i=zc().set(r,e);return s[t](i,n)}function IJ(n,e,t){if(Cd(n)&&(e=n,n=void 0),n=n||"",e!=null)return UA(n,e,t,"month");var r,s=[];for(r=0;r<12;r++)s[r]=UA(n,r,t,"month");return s}function jj(n,e,t,r){typeof n=="boolean"?(Cd(e)&&(t=e,e=void 0),e=e||""):(e=n,t=e,n=!1,Cd(e)&&(t=e,e=void 0),e=e||"");var s=Rd(),i=n?s._week.dow:0,o,a=[];if(t!=null)return UA(e,(t+i)%7,r,"day");for(o=0;o<7;o++)a[o]=UA(e,(o+i)%7,r,"day");return a}function STe(n,e){return IJ(n,e,"months")}function ETe(n,e){return IJ(n,e,"monthsShort")}function CTe(n,e,t){return jj(n,e,t,"weekdays")}function TTe(n,e,t){return jj(n,e,t,"weekdaysShort")}function xTe(n,e,t){return jj(n,e,t,"weekdaysMin")}pf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var e=n%10,t=Wt(n%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return n+t}});Fe.lang=Va("moment.lang is deprecated. Use moment.locale instead.",pf);Fe.langData=Va("moment.langData is deprecated. Use moment.localeData instead.",Rd);var du=Math.abs;function ATe(){var n=this._data;return this._milliseconds=du(this._milliseconds),this._days=du(this._days),this._months=du(this._months),n.milliseconds=du(n.milliseconds),n.seconds=du(n.seconds),n.minutes=du(n.minutes),n.hours=du(n.hours),n.months=du(n.months),n.years=du(n.years),this}function kJ(n,e,t,r){var s=Fl(e,t);return n._milliseconds+=r*s._milliseconds,n._days+=r*s._days,n._months+=r*s._months,n._bubble()}function RTe(n,e){return kJ(this,n,e,1)}function ITe(n,e){return kJ(this,n,e,-1)}function BH(n){return n<0?Math.floor(n):Math.ceil(n)}function kTe(){var n=this._milliseconds,e=this._days,t=this._months,r=this._data,s,i,o,a,l;return n>=0&&e>=0&&t>=0||n<=0&&e<=0&&t<=0||(n+=BH(RN(t)+e)*864e5,e=0,t=0),r.milliseconds=n%1e3,s=xa(n/1e3),r.seconds=s%60,i=xa(s/60),r.minutes=i%60,o=xa(i/60),r.hours=o%24,e+=xa(o/24),l=xa(PJ(e)),t+=l,e-=BH(RN(l)),a=xa(t/12),t%=12,r.days=e,r.months=t,r.years=a,this}function PJ(n){return n*4800/146097}function RN(n){return n*146097/4800}function PTe(n){if(!this.isValid())return NaN;var e,t,r=this._milliseconds;if(n=Ha(n),n==="month"||n==="quarter"||n==="year")switch(e=this._days+r/864e5,t=this._months+PJ(e),n){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(e=this._days+Math.round(RN(this._months)),n){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+n)}}function Id(n){return function(){return this.as(n)}}var DJ=Id("ms"),DTe=Id("s"),MTe=Id("m"),OTe=Id("h"),LTe=Id("d"),NTe=Id("w"),FTe=Id("M"),BTe=Id("Q"),$Te=Id("y"),jTe=DJ;function UTe(){return Fl(this)}function VTe(n){return n=Ha(n),this.isValid()?this[n+"s"]():NaN}function Cg(n){return function(){return this.isValid()?this._data[n]:NaN}}var HTe=Cg("milliseconds"),zTe=Cg("seconds"),WTe=Cg("minutes"),qTe=Cg("hours"),GTe=Cg("days"),KTe=Cg("months"),YTe=Cg("years");function XTe(){return xa(this.days()/7)}var gu=Math.round,By={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function JTe(n,e,t,r,s){return s.relativeTime(e||1,!!t,n,r)}function QTe(n,e,t,r){var s=Fl(n).abs(),i=gu(s.as("s")),o=gu(s.as("m")),a=gu(s.as("h")),l=gu(s.as("d")),u=gu(s.as("M")),h=gu(s.as("w")),p=gu(s.as("y")),m=i<=t.ss&&["s",i]||i<t.s&&["ss",i]||o<=1&&["m"]||o<t.m&&["mm",o]||a<=1&&["h"]||a<t.h&&["hh",a]||l<=1&&["d"]||l<t.d&&["dd",l];return t.w!=null&&(m=m||h<=1&&["w"]||h<t.w&&["ww",h]),m=m||u<=1&&["M"]||u<t.M&&["MM",u]||p<=1&&["y"]||["yy",p],m[2]=e,m[3]=+n>0,m[4]=r,JTe.apply(null,m)}function ZTe(n){return n===void 0?gu:typeof n=="function"?(gu=n,!0):!1}function exe(n,e){return By[n]===void 0?!1:e===void 0?By[n]:(By[n]=e,n==="s"&&(By.ss=e-1),!0)}function txe(n,e){if(!this.isValid())return this.localeData().invalidDate();var t=!1,r=By,s,i;return typeof n=="object"&&(e=n,n=!1),typeof n=="boolean"&&(t=n),typeof e=="object"&&(r=Object.assign({},By,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),s=this.localeData(),i=QTe(this,!t,r,s),t&&(i=s.pastFuture(+this,i)),s.postformat(i)}var kD=Math.abs;function wy(n){return(n>0)-(n<0)||+n}function LI(){if(!this.isValid())return this.localeData().invalidDate();var n=kD(this._milliseconds)/1e3,e=kD(this._days),t=kD(this._months),r,s,i,o,a=this.asSeconds(),l,u,h,p;return a?(r=xa(n/60),s=xa(r/60),n%=60,r%=60,i=xa(t/12),t%=12,o=n?n.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=wy(this._months)!==wy(a)?"-":"",h=wy(this._days)!==wy(a)?"-":"",p=wy(this._milliseconds)!==wy(a)?"-":"",l+"P"+(i?u+i+"Y":"")+(t?u+t+"M":"")+(e?h+e+"D":"")+(s||r||n?"T":"")+(s?p+s+"H":"")+(r?p+r+"M":"")+(n?p+o+"S":"")):"P0D"}var rn=MI.prototype;rn.isValid=K1e;rn.abs=ATe;rn.add=RTe;rn.subtract=ITe;rn.as=PTe;rn.asMilliseconds=DJ;rn.asSeconds=DTe;rn.asMinutes=MTe;rn.asHours=OTe;rn.asDays=LTe;rn.asWeeks=NTe;rn.asMonths=FTe;rn.asQuarters=BTe;rn.asYears=$Te;rn.valueOf=jTe;rn._bubble=kTe;rn.clone=UTe;rn.get=VTe;rn.milliseconds=HTe;rn.seconds=zTe;rn.minutes=WTe;rn.hours=qTe;rn.days=GTe;rn.weeks=XTe;rn.months=KTe;rn.years=YTe;rn.humanize=txe;rn.toISOString=LI;rn.toString=LI;rn.toJSON=LI;rn.locale=wJ;rn.localeData=_J;rn.toIsoString=Va("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",LI);rn.lang=bJ;st("X",0,0,"unix");st("x",0,0,"valueOf");qe("x",II);qe("X",SEe);Dn("X",function(n,e,t){t._d=new Date(parseFloat(n)*1e3)});Dn("x",function(n,e,t){t._d=new Date(Wt(n))});//! moment.js
Fe.version="2.30.1";nEe(Zn);Fe.fn=xe;Fe.min=z1e;Fe.max=W1e;Fe.now=q1e;Fe.utc=zc;Fe.unix=bTe;Fe.months=STe;Fe.isDate=S1;Fe.locale=pf;Fe.invalid=TI;Fe.duration=Fl;Fe.isMoment=Dl;Fe.weekdays=CTe;Fe.parseZone=_Te;Fe.localeData=Rd;Fe.isDuration=cx;Fe.monthsShort=ETe;Fe.weekdaysMin=xTe;Fe.defineLocale=Dj;Fe.updateLocale=_1e;Fe.locales=S1e;Fe.weekdaysShort=TTe;Fe.normalizeUnits=Ha;Fe.relativeTimeRounding=ZTe;Fe.relativeTimeThreshold=exe;Fe.calendarFormat=yCe;Fe.prototype=xe;Fe.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function Td(n){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(n)}function nxe(n,e){if(Td(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function MJ(n){var e=nxe(n,"string");return Td(e)=="symbol"?e:e+""}function vp(n,e,t){return(e=MJ(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $H(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function $n(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$H(Object(t),!0).forEach(function(r){vp(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$H(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Bc(n,e){if(n==null)return{};var t,r,s=nw(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}function hs(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function jH(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,MJ(r.key),r)}}function fs(n,e,t){return e&&jH(n.prototype,e),t&&jH(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function VA(n){return VA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VA(n)}function OJ(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OJ=function(){return!!n})()}function rxe(n,e){if(e&&(Td(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gK(n)}function mi(n,e,t){return e=VA(e),rxe(n,OJ()?Reflect.construct(e,t||[],VA(n).constructor):e.apply(n,t))}function gi(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_A(n,e)}function LJ(n){if(Array.isArray(n))return n}function sxe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,i,o,a=[],l=!0,u=!1;try{if(i=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=i.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){u=!0,s=h}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw s}}return a}}function IN(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function Uj(n,e){if(n){if(typeof n=="string")return IN(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?IN(n,e):void 0}}function NJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aa(n,e){return LJ(n)||sxe(n,e)||Uj(n,e)||NJ()}function FJ(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=FJ(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function kr(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=FJ(n))&&(r&&(r+=" "),r+=e);return r}var PD,UH;function ixe(){if(UH)return PD;UH=1;var n=function(e,t,r,s,i,o,a,l){if(!e){var u;if(t===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[r,s,i,o,a,l],p=0;u=new Error(t.replace(/%s/g,function(){return h[p++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};return PD=n,PD}var oxe=ixe();const z_=ho(oxe);var axe=function(){};function lxe(n,e){var t={};return Object.keys(n).forEach(function(r){t[dx(r)]=axe}),t}function VH(n,e){return n[e]!==void 0}function dx(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function cxe(n){return!!n&&(typeof n!="function"||n.prototype&&n.prototype.isReactComponent)}function BJ(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function $J(n){function e(t){var r=this.constructor.getDerivedStateFromProps(n,t);return r??null}this.setState(e.bind(this))}function jJ(n,e){try{var t=this.props,r=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,r)}finally{this.props=t,this.state=r}}BJ.__suppressDeprecationWarning=!0;$J.__suppressDeprecationWarning=!0;jJ.__suppressDeprecationWarning=!0;function uxe(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var t=null,r=null,s=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?s="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),t!==null||r!==null||s!==null){var i=n.displayName||n.name,o=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+o+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(r!==null?`
  `+r:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=BJ,e.componentWillReceiveProps=$J),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=jJ;var a=e.componentDidUpdate;e.componentDidUpdate=function(u,h,p){var m=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:p;a.call(this,u,h,m)}}return n}var dxe="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function UJ(n,e,t){t===void 0&&(t=[]);var r=n.displayName||n.name||"Component",s=cxe(n),i=Object.keys(e),o=i.map(dx);s||!t.length||z_(!1);var a=(function(u){c$(h,u);function h(){for(var m,y=arguments.length,b=new Array(y),v=0;v<y;v++)b[v]=arguments[v];m=u.call.apply(u,[this].concat(b))||this,m.handlers=Object.create(null),i.forEach(function(E){var x=e[E],C=function(k){if(m.props[x]){var L;m._notifying=!0;for(var P=arguments.length,D=new Array(P>1?P-1:0),F=1;F<P;F++)D[F-1]=arguments[F];(L=m.props)[x].apply(L,[k].concat(D)),m._notifying=!1}m.unmounted||m.setState(function(T){var $,z=T.values;return{values:lr(Object.create(null),z,($={},$[E]=k,$))}})};m.handlers[x]=C}),t.length&&(m.attachRef=function(E){m.inner=E});var _=Object.create(null);return i.forEach(function(E){_[E]=m.props[dx(E)]}),m.state={values:_,prevProps:{}},m}var p=h.prototype;return p.shouldComponentUpdate=function(){return!this._notifying},h.getDerivedStateFromProps=function(y,b){var v=b.values,_=b.prevProps,E={values:lr(Object.create(null),v),prevProps:{}};return i.forEach(function(x){E.prevProps[x]=y[x],!VH(y,x)&&VH(_,x)&&(E.values[x]=y[dx(x)])}),E},p.componentWillUnmount=function(){this.unmounted=!0},p.render=function(){var y=this,b=this.props,v=b.innerRef,_=nw(b,["innerRef"]);o.forEach(function(x){delete _[x]});var E={};return i.forEach(function(x){var C=y.props[x];E[x]=C!==void 0?C:y.state.values[x]}),ie.createElement(n,lr({},_,E,this.handlers,{ref:v||this.attachRef}))},h})(ie.Component);uxe(a),a.displayName="Uncontrolled("+r+")",a.propTypes=lr({innerRef:function(){}},lxe(e)),t.forEach(function(u){a.prototype[u]=function(){var p;return(p=this.inner)[u].apply(p,arguments)}});var l=a;return ie.forwardRef&&(l=ie.forwardRef(function(u,h){return ie.createElement(a,lr({},u,{innerRef:h,__source:{fileName:dxe,lineNumber:128},__self:this}))}),l.propTypes=a.propTypes),l.ControlledComponent=n,l.deferControlTo=function(u,h,p){return h===void 0&&(h={}),UJ(u,lr({},e,h),p)},l}var HA="milliseconds",W_="seconds",q_="minutes",G_="hours",sg="day",G0="week",K_="month",ig="year",og="decade",ag="century",VJ={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:3600*1e3,day:1440*60*1e3,week:10080*60*1e3},hxe={month:1,year:12,decade:120,century:1200};function fxe(n){return[31,pxe(n),31,30,31,30,31,31,30,31,30,31]}function pxe(n){return n%4===0&&n%100!==0||n%400===0?29:28}function Ml(n,e,t){switch(n=new Date(n),t){case HA:case W_:case q_:case G_:case sg:case G0:return mxe(n,e*VJ[t]);case K_:case ig:case og:case ag:return gxe(n,e*hxe[t])}throw new TypeError('Invalid units: "'+t+'"')}function mxe(n,e){var t=new Date(+n+e);return yxe(n,t)}function gxe(n,e){var t=n.getFullYear(),r=n.getMonth(),s=n.getDate(),i=t*12+r+e,o=Math.trunc(i/12),a=i%12,l=Math.min(s,fxe(o)[a]),u=new Date(n);return u.setFullYear(o),u.setDate(1),u.setMonth(a),u.setDate(l),u}function yxe(n,e){var t=n.getTimezoneOffset(),r=e.getTimezoneOffset(),s=r-t;return new Date(+e+s*VJ.minutes)}function Y_(n,e,t){return Ml(n,-e,t)}function Gs(n,e,t){switch(n=new Date(n),e){case ag:case og:case ig:n=WA(n,0);case K_:n=GJ(n,1);case G0:case sg:n=Q_(n,0);case G_:n=K0(n,0);case q_:n=J_(n,0);case W_:n=X_(n,0)}return e===og&&(n=Y_(n,lg(n)%10,"year")),e===ag&&(n=Y_(n,lg(n)%100,"year")),e===G0&&(n=KJ(n,0,t)),n}function zA(n,e,t){switch(n=new Date(n),n=Gs(n,e,t),e){case ag:case og:case ig:case K_:case G0:n=Ml(n,1,e),n=Y_(n,1,sg),n.setHours(23,59,59,999);break;case sg:n.setHours(23,59,59,999);break;case G_:case q_:case W_:n=Ml(n,1,e),n=Y_(n,1,HA)}return n}var x1=pw(function(n,e){return n===e}),Vj=pw(function(n,e){return n!==e}),NI=pw(function(n,e){return n>e}),A1=pw(function(n,e){return n>=e}),Hj=pw(function(n,e){return n<e}),fw=pw(function(n,e){return n<=e});function HJ(){return new Date(Math.min.apply(Math,arguments))}function zJ(){return new Date(Math.max.apply(Math,arguments))}function WJ(n,e,t,r){return r=r||"day",(!e||A1(n,e,r))&&(!t||fw(n,t,r))}var X_=Ff("Milliseconds"),J_=Ff("Seconds"),K0=Ff("Minutes"),Q_=Ff("Hours"),qJ=Ff("Day"),GJ=Ff("Date"),WA=Ff("Month"),lg=Ff("FullYear");function vxe(n,e){return e===void 0?lg(Gs(n,og)):Ml(n,e+10,ig)}function wxe(n,e){return e===void 0?lg(Gs(n,ag)):Ml(n,e+100,ig)}function KJ(n,e,t){var r=(qJ(n)+7-(t||0))%7;return e===void 0?r:Ml(n,e-r,sg)}function bxe(n,e,t,r){var s,i,o;switch(t){case HA:case W_:case q_:case G_:case sg:case G0:s=e.getTime()-n.getTime();break;case K_:case ig:case og:case ag:s=(lg(e)-lg(n))*12+WA(e)-WA(n);break;default:throw new TypeError('Invalid units: "'+t+'"')}switch(t){case HA:i=1;break;case W_:i=1e3;break;case q_:i=1e3*60;break;case G_:i=1e3*60*60;break;case sg:i=1e3*60*60*24;break;case G0:i=1e3*60*60*24*7;break;case K_:i=1;break;case ig:i=12;break;case og:i=120;break;case ag:i=1200;break;default:throw new TypeError('Invalid units: "'+t+'"')}return o=s/i,r?o:Math.round(o)}function Ff(n){var e=(function(t){switch(t){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}})(n);return function(t,r){if(r===void 0)return t["get"+n]();var s=new Date(t);return s["set"+n](r),e&&s["get"+n]()!=r&&(n==="Hours"||r>=e&&s.getHours()-t.getHours()<Math.floor(r/e))&&s["set"+n](r+e),s}}function pw(n){return function(e,t,r){return n(+Gs(e,r),+Gs(t,r))}}const HH=Object.freeze(Object.defineProperty({__proto__:null,add:Ml,century:wxe,date:GJ,day:qJ,decade:vxe,diff:bxe,endOf:zA,eq:x1,gt:NI,gte:A1,hours:Q_,inRange:WJ,lt:Hj,lte:fw,max:zJ,milliseconds:X_,min:HJ,minutes:K0,month:WA,neq:Vj,seconds:J_,startOf:Gs,subtract:Y_,weekday:KJ,year:lg},Symbol.toStringTag,{value:"Module"}));function _xe(n){if(Array.isArray(n))return IN(n)}function YJ(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Sxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hx(n){return _xe(n)||YJ(n)||Uj(n)||Sxe()}var DD,zH;function XJ(){if(zH)return DD;zH=1;function n(e,t,r){var s=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++s<i;)o[s]=e[s+t];return o}return DD=n,DD}var MD,WH;function R1(){if(WH)return MD;WH=1;function n(e,t){return e===t||e!==e&&t!==t}return MD=n,MD}var OD,qH;function JJ(){if(qH)return OD;qH=1;var n=typeof aT=="object"&&aT&&aT.Object===Object&&aT;return OD=n,OD}var LD,GH;function qc(){if(GH)return LD;GH=1;var n=JJ(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return LD=t,LD}var ND,KH;function mw(){if(KH)return ND;KH=1;var n=qc(),e=n.Symbol;return ND=e,ND}var FD,YH;function Exe(){if(YH)return FD;YH=1;var n=mw(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,s=n?n.toStringTag:void 0;function i(o){var a=t.call(o,s),l=o[s];try{o[s]=void 0;var u=!0}catch{}var h=r.call(o);return u&&(a?o[s]=l:delete o[s]),h}return FD=i,FD}var BD,XH;function Cxe(){if(XH)return BD;XH=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return BD=t,BD}var $D,JH;function gw(){if(JH)return $D;JH=1;var n=mw(),e=Exe(),t=Cxe(),r="[object Null]",s="[object Undefined]",i=n?n.toStringTag:void 0;function o(a){return a==null?a===void 0?s:r:i&&i in Object(a)?e(a):t(a)}return $D=o,$D}var jD,QH;function kd(){if(QH)return jD;QH=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return jD=n,jD}var UD,ZH;function zj(){if(ZH)return UD;ZH=1;var n=gw(),e=kd(),t="[object AsyncFunction]",r="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(a){if(!e(a))return!1;var l=n(a);return l==r||l==s||l==t||l==i}return UD=o,UD}var VD,ez;function Wj(){if(ez)return VD;ez=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return VD=e,VD}var HD,tz;function I1(){if(tz)return HD;tz=1;var n=zj(),e=Wj();function t(r){return r!=null&&e(r.length)&&!n(r)}return HD=t,HD}var zD,nz;function qj(){if(nz)return zD;nz=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,s){var i=typeof r;return s=s??n,!!s&&(i=="number"||i!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<s}return zD=t,zD}var WD,rz;function FI(){if(rz)return WD;rz=1;var n=R1(),e=I1(),t=qj(),r=kd();function s(i,o,a){if(!r(a))return!1;var l=typeof o;return(l=="number"?e(a)&&t(o,a.length):l=="string"&&o in a)?n(a[o],i):!1}return WD=s,WD}var qD,sz;function Txe(){if(sz)return qD;sz=1;var n=/\s/;function e(t){for(var r=t.length;r--&&n.test(t.charAt(r)););return r}return qD=e,qD}var GD,iz;function xxe(){if(iz)return GD;iz=1;var n=Txe(),e=/^\s+/;function t(r){return r&&r.slice(0,n(r)+1).replace(e,"")}return GD=t,GD}var KD,oz;function Bf(){if(oz)return KD;oz=1;function n(e){return e!=null&&typeof e=="object"}return KD=n,KD}var YD,az;function k1(){if(az)return YD;az=1;var n=gw(),e=Bf(),t="[object Symbol]";function r(s){return typeof s=="symbol"||e(s)&&n(s)==t}return YD=r,YD}var XD,lz;function Axe(){if(lz)return XD;lz=1;var n=xxe(),e=kd(),t=k1(),r=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(t(u))return r;if(e(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=e(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=n(u);var p=i.test(u);return p||o.test(u)?a(u.slice(2),p?2:8):s.test(u)?r:+u}return XD=l,XD}var JD,cz;function QJ(){if(cz)return JD;cz=1;var n=Axe(),e=1/0,t=17976931348623157e292;function r(s){if(!s)return s===0?s:0;if(s=n(s),s===e||s===-e){var i=s<0?-1:1;return i*t}return s===s?s:0}return JD=r,JD}var QD,uz;function ZJ(){if(uz)return QD;uz=1;var n=QJ();function e(t){var r=n(t),s=r%1;return r===r?s?r-s:r:0}return QD=e,QD}var ZD,dz;function Rxe(){if(dz)return ZD;dz=1;var n=XJ(),e=FI(),t=ZJ(),r=Math.ceil,s=Math.max;function i(o,a,l){(l?e(o,a,l):a===void 0)?a=1:a=s(t(a),0);var u=o==null?0:o.length;if(!u||a<1)return[];for(var h=0,p=0,m=Array(r(u/a));h<u;)m[p++]=n(o,h,h+=a);return m}return ZD=i,ZD}var Ixe=Rxe();const kxe=ho(Ixe);function P1(n){return n&&n.ownerDocument||document}function Pxe(n){var e=P1(n);return e&&e.defaultView||window}function Dxe(n,e){return Pxe(n).getComputedStyle(n,e)}var Mxe=/([A-Z])/g;function Oxe(n){return n.replace(Mxe,"-$1").toLowerCase()}var Lxe=/^ms-/;function PT(n){return Oxe(n).replace(Lxe,"-ms-")}var Nxe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Fxe(n){return!!(n&&Nxe.test(n))}function Ay(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(PT(e))||Dxe(n).getPropertyValue(PT(e));Object.keys(e).forEach(function(s){var i=e[s];!i&&i!==0?n.style.removeProperty(PT(s)):Fxe(s)?r+=s+"("+i+") ":t+=PT(s)+": "+i+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}function Z_(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function Bxe(n){return"nodeType"in n&&n.nodeType===document.DOCUMENT_NODE}function Gj(n){return"window"in n&&n.window===n?n:Bxe(n)&&n.defaultView||!1}function eQ(n){var e=n==="pageXOffset"?"scrollLeft":"scrollTop";function t(r,s){var i=Gj(r);if(s===void 0)return i?i[n]:r[e];i?i.scrollTo(i[n],s):r[e]=s}return t}const tQ=eQ("pageXOffset"),nQ=eQ("pageYOffset");function Km(n){var e=P1(n),t={top:0,left:0,height:0,width:0},r=e&&e.documentElement;return!r||!Z_(r,n)||(n.getBoundingClientRect!==void 0&&(t=n.getBoundingClientRect()),t={top:t.top+nQ(r)-(r.clientTop||0),left:t.left+tQ(r)-(r.clientLeft||0),width:t.width,height:t.height}),t}var $xe=function(e){return!!e&&"offsetParent"in e};function jxe(n){for(var e=P1(n),t=n&&n.offsetParent;$xe(t)&&t.nodeName!=="HTML"&&Ay(t,"position")==="static";)t=t.offsetParent;return t||e.documentElement}var Uxe=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function rQ(n,e){var t={top:0,left:0},r;if(Ay(n,"position")==="fixed")r=n.getBoundingClientRect();else{var s=e||jxe(n);r=Km(n),Uxe(s)!=="html"&&(t=Km(s));var i=String(Ay(s,"borderTopWidth")||0);t.top+=parseInt(i,10)-nQ(s)||0;var o=String(Ay(s,"borderLeftWidth")||0);t.left+=parseInt(o,10)-tQ(s)||0}var a=String(Ay(n,"marginTop")||0),l=String(Ay(n,"marginLeft")||0);return lr({},r,{top:r.top-t.top-(parseInt(a,10)||0),left:r.left-t.left-(parseInt(l,10)||0)})}const Kj=!!(typeof window<"u"&&window.document&&window.document.createElement);var hz=new Date().getTime();function Vxe(n){var e=new Date().getTime(),t=Math.max(0,16-(e-hz)),r=setTimeout(n,t);return hz=e,r}var Hxe=["","webkit","moz","o","ms"],kN="clearTimeout",PN=Vxe,fz=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};Kj&&Hxe.some(function(n){var e=fz(n,"request");return e in window&&(kN=fz(n,"cancel"),PN=function(r){return window[e](r)}),!!PN});var pz=function(e){typeof window[kN]=="function"&&window[kN](e)},sQ=PN,eM;function zxe(n,e){if(!eM){var t=document.body,r=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;eM=function(i,o){return r.call(i,o)}}return eM(n,e)}var Wxe=Function.prototype.bind.call(Function.prototype.call,[].slice);function qxe(n,e){return Wxe(n.querySelectorAll(e))}var DN=!1,MN=!1;try{var tM={get passive(){return DN=!0},get once(){return MN=DN=!0}};Kj&&(window.addEventListener("test",tM,tM),window.removeEventListener("test",tM,!0))}catch{}function Gxe(n,e,t,r){if(r&&typeof r!="boolean"&&!MN){var s=r.once,i=r.capture,o=t;!MN&&s&&(o=t.__once||function a(l){this.removeEventListener(e,a,i),t.call(this,l)},t.__once=o),n.addEventListener(e,o,DN?r:i)}n.addEventListener(e,t,r)}function Kxe(n){const e=B.useRef(n);return B.useEffect(()=>{e.current=n},[n]),e}function mz(n){const e=Kxe(n);return B.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function gz(){return B.useState(null)}function Yxe(){const n=B.useRef(!0),e=B.useRef(()=>n.current);return B.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function Xxe(n){const e=Yxe();return[n[0],B.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var Jxe=FK({defaultModifiers:[MK,LK,RK,IK,OK,DK,NK,AK]}),yz=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},Qxe={name:"applyStyles",enabled:!1},Zxe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var r=t.elements,s=r.reference,i=r.popper;if("removeAttribute"in s){var o=(s.getAttribute("aria-describedby")||"").split(",").filter(function(a){return a.trim()!==i.id});o.length?s.setAttribute("aria-describedby",o.join(",")):s.removeAttribute("aria-describedby")}}},fn:function(e){var t,r=e.state,s=r.elements,i=s.popper,o=s.reference,a=(t=i.getAttribute("role"))==null?void 0:t.toLowerCase();if(i.id&&a==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(i.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+i.id:i.id)}}},eAe=[];function tAe(n,e,t){var r=t===void 0?{}:t,s=r.enabled,i=s===void 0?!0:s,o=r.placement,a=o===void 0?"bottom":o,l=r.strategy,u=l===void 0?"absolute":l,h=r.modifiers,p=h===void 0?eAe:h,m=nw(r,["enabled","placement","strategy","modifiers"]),y=B.useRef(),b=B.useCallback(function(){var A;(A=y.current)==null||A.update()},[]),v=B.useCallback(function(){var A;(A=y.current)==null||A.forceUpdate()},[]),_=Xxe(B.useState({placement:a,update:b,forceUpdate:v,attributes:{},styles:{popper:yz(u),arrow:{}}})),E=_[0],x=_[1],C=B.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(k){var L=k.state,P={},D={};Object.keys(L.elements).forEach(function(F){P[F]=L.styles[F],D[F]=L.attributes[F]}),x({state:L,styles:P,attributes:D,update:b,forceUpdate:v,placement:L.placement})}}},[b,v,x]);return B.useEffect(function(){!y.current||!i||y.current.setOptions({placement:a,strategy:u,modifiers:[].concat(p,[C,Qxe])})},[u,a,C,i]),B.useEffect(function(){if(!(!i||n==null||e==null))return y.current=Jxe(n,e,lr({},m,{placement:a,strategy:u,modifiers:[].concat(p,[Zxe,C])})),function(){y.current!=null&&(y.current.destroy(),y.current=void 0,x(function(A){return lr({},A,{attributes:{},styles:{popper:yz(u)}})}))}},[i,n,e]),E}function nAe(n,e,t,r){var s=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,s),t.__once&&n.removeEventListener(e,t.__once,s)}function Nb(n,e,t,r){return Gxe(n,e,t,r),function(){nAe(n,e,t,r)}}var nM,vz;function rAe(){if(vz)return nM;vz=1;var n=function(){};return nM=n,nM}var sAe=rAe();const iAe=ho(sAe);function oAe(n){return n&&"setState"in n?Ny.findDOMNode(n):n??null}const aAe=(function(n){return P1(oAe(n))});var lAe=27,wz=function(){};function cAe(n){return n.button===0}function uAe(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}var bz=function(e){return e&&("current"in e?e.current:e)};function dAe(n,e,t){var r=t===void 0?{}:t,s=r.disabled,i=r.clickTrigger,o=i===void 0?"click":i,a=B.useRef(!1),l=e||wz,u=B.useCallback(function(m){var y,b=bz(n);iAe(!!b,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),a.current=!b||uAe(m)||!cAe(m)||!!Z_(b,(y=m.composedPath==null?void 0:m.composedPath()[0])!=null?y:m.target)},[n]),h=mz(function(m){a.current||l(m)}),p=mz(function(m){m.keyCode===lAe&&l(m)});B.useEffect(function(){if(!(s||n==null)){var m=window.event,y=aAe(bz(n)),b=Nb(y,o,u,!0),v=Nb(y,o,function(x){if(x===m){m=void 0;return}h(x)}),_=Nb(y,"keyup",function(x){if(x===m){m=void 0;return}p(x)}),E=[];return"ontouchstart"in y.documentElement&&(E=[].slice.call(y.body.children).map(function(x){return Nb(x,"mousemove",wz)})),function(){b(),v(),_(),E.forEach(function(x){return x()})}}},[n,s,o,u,h,p])}function hAe(n){var e={};return Array.isArray(n)?(n==null||n.forEach(function(t){e[t.name]=t}),e):n||e}function fAe(n){return n===void 0&&(n={}),Array.isArray(n)?n:Object.keys(n).map(function(e){return n[e].name=e,n[e]})}function pAe(n){var e,t,r,s,i=n.enabled,o=n.enableEvents,a=n.placement,l=n.flip,u=n.offset,h=n.fixed,p=n.containerPadding,m=n.arrowElement,y=n.popperConfig,b=y===void 0?{}:y,v=hAe(b.modifiers);return lr({},b,{placement:a,enabled:i,strategy:h?"fixed":b.strategy,modifiers:fAe(lr({},v,{eventListeners:{enabled:o},preventOverflow:lr({},v.preventOverflow,{options:p?lr({padding:p},(e=v.preventOverflow)==null?void 0:e.options):(t=v.preventOverflow)==null?void 0:t.options}),offset:{options:lr({offset:u},(r=v.offset)==null?void 0:r.options)},arrow:lr({},v.arrow,{enabled:!!m,options:lr({},(s=v.arrow)==null?void 0:s.options,{element:m})}),flip:lr({enabled:!!l},v.flip)}))})}var DT;function Yj(n){if((!DT&&DT!==0||n)&&Kj){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),DT=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return DT}var rM=function(e){var t;return typeof document>"u"?null:e==null?P1().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(t=e)!=null&&t.nodeType&&e||null)};function _z(n,e){var t=B.useState(function(){return rM(n)}),r=t[0],s=t[1];if(!r){var i=rM(n);i&&s(i)}return B.useEffect(function(){},[e,r]),B.useEffect(function(){var o=rM(n);o!==r&&s(o)},[n,r]),r}const Sz=n=>!n||typeof n=="function"?n:e=>{n.current=e};function mAe(n,e){const t=Sz(n),r=Sz(e);return s=>{t&&t(s),r&&r(s)}}function gAe(n,e){return B.useMemo(()=>mAe(n,e),[n,e])}var Xj=ie.forwardRef(function(n,e){var t=n.flip,r=n.offset,s=n.placement,i=n.containerPadding,o=i===void 0?5:i,a=n.popperConfig,l=a===void 0?{}:a,u=n.transition,h=gz(),p=h[0],m=h[1],y=gz(),b=y[0],v=y[1],_=gAe(m,e),E=_z(n.container),x=_z(n.target),C=B.useState(!n.show),A=C[0],k=C[1],L=tAe(x,p,pAe({placement:s,enableEvents:!!n.show,containerPadding:o||5,flip:t,offset:r,arrowElement:b,popperConfig:l})),P=L.styles,D=L.attributes,F=nw(L,["styles","attributes"]);n.show?A&&k(!1):!n.transition&&!A&&k(!0);var T=function(){k(!0),n.onExited&&n.onExited.apply(n,arguments)},$=n.show||u&&!A;if(dAe(p,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!$)return null;var z=n.children(lr({},F,{show:!!n.show,props:lr({},D.popper,{style:P.popper,ref:_}),arrowProps:lr({},D.arrow,{style:P.arrow,ref:v})}));if(u){var j=n.onExit,Y=n.onExiting,Z=n.onEnter,J=n.onEntering,ee=n.onEntered;z=ie.createElement(u,{in:n.show,appear:!0,onExit:j,onExiting:Y,onExited:T,onEnter:Z,onEntering:J,onEntered:ee},z)}return E?Ny.createPortal(z,E):null});Xj.displayName="Overlay";Xj.propTypes={show:Pe.bool,placement:Pe.oneOf(m$),target:Pe.any,container:Pe.any,flip:Pe.bool,children:Pe.func.isRequired,containerPadding:Pe.number,popperConfig:Pe.object,rootClose:Pe.bool,rootCloseEvent:Pe.oneOf(["click","mousedown"]),rootCloseDisabled:Pe.bool,onHide:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];if(e.rootClose){var i;return(i=Pe.func).isRequired.apply(i,[e].concat(r))}return Pe.func.apply(Pe,[e].concat(r))},transition:Pe.elementType,onEnter:Pe.func,onEntering:Pe.func,onEntered:Pe.func,onExit:Pe.func,onExiting:Pe.func,onExited:Pe.func};var sM,Ez;function yAe(){if(Ez)return sM;Ez=1;function n(){this.__data__=[],this.size=0}return sM=n,sM}var iM,Cz;function BI(){if(Cz)return iM;Cz=1;var n=R1();function e(t,r){for(var s=t.length;s--;)if(n(t[s][0],r))return s;return-1}return iM=e,iM}var oM,Tz;function vAe(){if(Tz)return oM;Tz=1;var n=BI(),e=Array.prototype,t=e.splice;function r(s){var i=this.__data__,o=n(i,s);if(o<0)return!1;var a=i.length-1;return o==a?i.pop():t.call(i,o,1),--this.size,!0}return oM=r,oM}var aM,xz;function wAe(){if(xz)return aM;xz=1;var n=BI();function e(t){var r=this.__data__,s=n(r,t);return s<0?void 0:r[s][1]}return aM=e,aM}var lM,Az;function bAe(){if(Az)return lM;Az=1;var n=BI();function e(t){return n(this.__data__,t)>-1}return lM=e,lM}var cM,Rz;function _Ae(){if(Rz)return cM;Rz=1;var n=BI();function e(t,r){var s=this.__data__,i=n(s,t);return i<0?(++this.size,s.push([t,r])):s[i][1]=r,this}return cM=e,cM}var uM,Iz;function $I(){if(Iz)return uM;Iz=1;var n=yAe(),e=vAe(),t=wAe(),r=bAe(),s=_Ae();function i(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return i.prototype.clear=n,i.prototype.delete=e,i.prototype.get=t,i.prototype.has=r,i.prototype.set=s,uM=i,uM}var dM,kz;function SAe(){if(kz)return dM;kz=1;var n=$I();function e(){this.__data__=new n,this.size=0}return dM=e,dM}var hM,Pz;function EAe(){if(Pz)return hM;Pz=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return hM=n,hM}var fM,Dz;function CAe(){if(Dz)return fM;Dz=1;function n(e){return this.__data__.get(e)}return fM=n,fM}var pM,Mz;function TAe(){if(Mz)return pM;Mz=1;function n(e){return this.__data__.has(e)}return pM=n,pM}var mM,Oz;function xAe(){if(Oz)return mM;Oz=1;var n=qc(),e=n["__core-js_shared__"];return mM=e,mM}var gM,Lz;function AAe(){if(Lz)return gM;Lz=1;var n=xAe(),e=(function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function t(r){return!!e&&e in r}return gM=t,gM}var yM,Nz;function iQ(){if(Nz)return yM;Nz=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return yM=t,yM}var vM,Fz;function RAe(){if(Fz)return vM;Fz=1;var n=zj(),e=AAe(),t=kd(),r=iQ(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,u=a.hasOwnProperty,h=RegExp("^"+l.call(u).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(m){if(!t(m)||e(m))return!1;var y=n(m)?h:i;return y.test(r(m))}return vM=p,vM}var wM,Bz;function IAe(){if(Bz)return wM;Bz=1;function n(e,t){return e==null?void 0:e[t]}return wM=n,wM}var bM,$z;function Tg(){if($z)return bM;$z=1;var n=RAe(),e=IAe();function t(r,s){var i=e(r,s);return n(i)?i:void 0}return bM=t,bM}var _M,jz;function Jj(){if(jz)return _M;jz=1;var n=Tg(),e=qc(),t=n(e,"Map");return _M=t,_M}var SM,Uz;function jI(){if(Uz)return SM;Uz=1;var n=Tg(),e=n(Object,"create");return SM=e,SM}var EM,Vz;function kAe(){if(Vz)return EM;Vz=1;var n=jI();function e(){this.__data__=n?n(null):{},this.size=0}return EM=e,EM}var CM,Hz;function PAe(){if(Hz)return CM;Hz=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return CM=n,CM}var TM,zz;function DAe(){if(zz)return TM;zz=1;var n=jI(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function s(i){var o=this.__data__;if(n){var a=o[i];return a===e?void 0:a}return r.call(o,i)?o[i]:void 0}return TM=s,TM}var xM,Wz;function MAe(){if(Wz)return xM;Wz=1;var n=jI(),e=Object.prototype,t=e.hasOwnProperty;function r(s){var i=this.__data__;return n?i[s]!==void 0:t.call(i,s)}return xM=r,xM}var AM,qz;function OAe(){if(qz)return AM;qz=1;var n=jI(),e="__lodash_hash_undefined__";function t(r,s){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=n&&s===void 0?e:s,this}return AM=t,AM}var RM,Gz;function LAe(){if(Gz)return RM;Gz=1;var n=kAe(),e=PAe(),t=DAe(),r=MAe(),s=OAe();function i(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return i.prototype.clear=n,i.prototype.delete=e,i.prototype.get=t,i.prototype.has=r,i.prototype.set=s,RM=i,RM}var IM,Kz;function NAe(){if(Kz)return IM;Kz=1;var n=LAe(),e=$I(),t=Jj();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return IM=r,IM}var kM,Yz;function FAe(){if(Yz)return kM;Yz=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return kM=n,kM}var PM,Xz;function UI(){if(Xz)return PM;Xz=1;var n=FAe();function e(t,r){var s=t.__data__;return n(r)?s[typeof r=="string"?"string":"hash"]:s.map}return PM=e,PM}var DM,Jz;function BAe(){if(Jz)return DM;Jz=1;var n=UI();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return DM=e,DM}var MM,Qz;function $Ae(){if(Qz)return MM;Qz=1;var n=UI();function e(t){return n(this,t).get(t)}return MM=e,MM}var OM,Zz;function jAe(){if(Zz)return OM;Zz=1;var n=UI();function e(t){return n(this,t).has(t)}return OM=e,OM}var LM,eW;function UAe(){if(eW)return LM;eW=1;var n=UI();function e(t,r){var s=n(this,t),i=s.size;return s.set(t,r),this.size+=s.size==i?0:1,this}return LM=e,LM}var NM,tW;function Qj(){if(tW)return NM;tW=1;var n=NAe(),e=BAe(),t=$Ae(),r=jAe(),s=UAe();function i(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return i.prototype.clear=n,i.prototype.delete=e,i.prototype.get=t,i.prototype.has=r,i.prototype.set=s,NM=i,NM}var FM,nW;function VAe(){if(nW)return FM;nW=1;var n=$I(),e=Jj(),t=Qj(),r=200;function s(i,o){var a=this.__data__;if(a instanceof n){var l=a.__data__;if(!e||l.length<r-1)return l.push([i,o]),this.size=++a.size,this;a=this.__data__=new t(l)}return a.set(i,o),this.size=a.size,this}return FM=s,FM}var BM,rW;function Zj(){if(rW)return BM;rW=1;var n=$I(),e=SAe(),t=EAe(),r=CAe(),s=TAe(),i=VAe();function o(a){var l=this.__data__=new n(a);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=s,o.prototype.set=i,BM=o,BM}var $M,sW;function HAe(){if(sW)return $M;sW=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return $M=e,$M}var jM,iW;function zAe(){if(iW)return jM;iW=1;function n(e){return this.__data__.has(e)}return jM=n,jM}var UM,oW;function WAe(){if(oW)return UM;oW=1;var n=Qj(),e=HAe(),t=zAe();function r(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new n;++i<o;)this.add(s[i])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,UM=r,UM}var VM,aW;function qAe(){if(aW)return VM;aW=1;function n(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(t(e[r],r,e))return!0;return!1}return VM=n,VM}var HM,lW;function GAe(){if(lW)return HM;lW=1;function n(e,t){return e.has(t)}return HM=n,HM}var zM,cW;function oQ(){if(cW)return zM;cW=1;var n=WAe(),e=qAe(),t=GAe(),r=1,s=2;function i(o,a,l,u,h,p){var m=l&r,y=o.length,b=a.length;if(y!=b&&!(m&&b>y))return!1;var v=p.get(o),_=p.get(a);if(v&&_)return v==a&&_==o;var E=-1,x=!0,C=l&s?new n:void 0;for(p.set(o,a),p.set(a,o);++E<y;){var A=o[E],k=a[E];if(u)var L=m?u(k,A,E,a,o,p):u(A,k,E,o,a,p);if(L!==void 0){if(L)continue;x=!1;break}if(C){if(!e(a,function(P,D){if(!t(C,D)&&(A===P||h(A,P,l,u,p)))return C.push(D)})){x=!1;break}}else if(!(A===k||h(A,k,l,u,p))){x=!1;break}}return p.delete(o),p.delete(a),x}return zM=i,zM}var WM,uW;function aQ(){if(uW)return WM;uW=1;var n=qc(),e=n.Uint8Array;return WM=e,WM}var qM,dW;function KAe(){if(dW)return qM;dW=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(s,i){r[++t]=[i,s]}),r}return qM=n,qM}var GM,hW;function YAe(){if(hW)return GM;hW=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(s){r[++t]=s}),r}return GM=n,GM}var KM,fW;function XAe(){if(fW)return KM;fW=1;var n=mw(),e=aQ(),t=R1(),r=oQ(),s=KAe(),i=YAe(),o=1,a=2,l="[object Boolean]",u="[object Date]",h="[object Error]",p="[object Map]",m="[object Number]",y="[object RegExp]",b="[object Set]",v="[object String]",_="[object Symbol]",E="[object ArrayBuffer]",x="[object DataView]",C=n?n.prototype:void 0,A=C?C.valueOf:void 0;function k(L,P,D,F,T,$,z){switch(D){case x:if(L.byteLength!=P.byteLength||L.byteOffset!=P.byteOffset)return!1;L=L.buffer,P=P.buffer;case E:return!(L.byteLength!=P.byteLength||!$(new e(L),new e(P)));case l:case u:case m:return t(+L,+P);case h:return L.name==P.name&&L.message==P.message;case y:case v:return L==P+"";case p:var j=s;case b:var Y=F&o;if(j||(j=i),L.size!=P.size&&!Y)return!1;var Z=z.get(L);if(Z)return Z==P;F|=a,z.set(L,P);var J=r(j(L),j(P),F,T,$,z);return z.delete(L),J;case _:if(A)return A.call(L)==A.call(P)}return!1}return KM=k,KM}var YM,pW;function eU(){if(pW)return YM;pW=1;function n(e,t){for(var r=-1,s=t.length,i=e.length;++r<s;)e[i+r]=t[r];return e}return YM=n,YM}var XM,mW;function za(){if(mW)return XM;mW=1;var n=Array.isArray;return XM=n,XM}var JM,gW;function lQ(){if(gW)return JM;gW=1;var n=eU(),e=za();function t(r,s,i){var o=s(r);return e(r)?o:n(o,i(r))}return JM=t,JM}var QM,yW;function JAe(){if(yW)return QM;yW=1;function n(e,t){for(var r=-1,s=e==null?0:e.length,i=0,o=[];++r<s;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}return QM=n,QM}var ZM,vW;function cQ(){if(vW)return ZM;vW=1;function n(){return[]}return ZM=n,ZM}var e2,wW;function tU(){if(wW)return e2;wW=1;var n=JAe(),e=cQ(),t=Object.prototype,r=t.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),n(s(o),function(a){return r.call(o,a)}))}:e;return e2=i,e2}var t2,bW;function QAe(){if(bW)return t2;bW=1;function n(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}return t2=n,t2}var n2,_W;function ZAe(){if(_W)return n2;_W=1;var n=gw(),e=Bf(),t="[object Arguments]";function r(s){return e(s)&&n(s)==t}return n2=r,n2}var r2,SW;function nU(){if(SW)return r2;SW=1;var n=ZAe(),e=Bf(),t=Object.prototype,r=t.hasOwnProperty,s=t.propertyIsEnumerable,i=n((function(){return arguments})())?n:function(o){return e(o)&&r.call(o,"callee")&&!s.call(o,"callee")};return r2=i,r2}var Fb={exports:{}},s2,EW;function eRe(){if(EW)return s2;EW=1;function n(){return!1}return s2=n,s2}Fb.exports;var CW;function VI(){return CW||(CW=1,(function(n,e){var t=qc(),r=eRe(),s=e&&!e.nodeType&&e,i=s&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===s,a=o?t.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;n.exports=u})(Fb,Fb.exports)),Fb.exports}var i2,TW;function tRe(){if(TW)return i2;TW=1;var n=gw(),e=Wj(),t=Bf(),r="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",h="[object Number]",p="[object Object]",m="[object RegExp]",y="[object Set]",b="[object String]",v="[object WeakMap]",_="[object ArrayBuffer]",E="[object DataView]",x="[object Float32Array]",C="[object Float64Array]",A="[object Int8Array]",k="[object Int16Array]",L="[object Int32Array]",P="[object Uint8Array]",D="[object Uint8ClampedArray]",F="[object Uint16Array]",T="[object Uint32Array]",$={};$[x]=$[C]=$[A]=$[k]=$[L]=$[P]=$[D]=$[F]=$[T]=!0,$[r]=$[s]=$[_]=$[i]=$[E]=$[o]=$[a]=$[l]=$[u]=$[h]=$[p]=$[m]=$[y]=$[b]=$[v]=!1;function z(j){return t(j)&&e(j.length)&&!!$[n(j)]}return i2=z,i2}var o2,xW;function HI(){if(xW)return o2;xW=1;function n(e){return function(t){return e(t)}}return o2=n,o2}var Bb={exports:{}};Bb.exports;var AW;function rU(){return AW||(AW=1,(function(n,e){var t=JJ(),r=e&&!e.nodeType&&e,s=r&&!0&&n&&!n.nodeType&&n,i=s&&s.exports===r,o=i&&t.process,a=(function(){try{var l=s&&s.require&&s.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();n.exports=a})(Bb,Bb.exports)),Bb.exports}var a2,RW;function sU(){if(RW)return a2;RW=1;var n=tRe(),e=HI(),t=rU(),r=t&&t.isTypedArray,s=r?e(r):n;return a2=s,a2}var l2,IW;function uQ(){if(IW)return l2;IW=1;var n=QAe(),e=nU(),t=za(),r=VI(),s=qj(),i=sU(),o=Object.prototype,a=o.hasOwnProperty;function l(u,h){var p=t(u),m=!p&&e(u),y=!p&&!m&&r(u),b=!p&&!m&&!y&&i(u),v=p||m||y||b,_=v?n(u.length,String):[],E=_.length;for(var x in u)(h||a.call(u,x))&&!(v&&(x=="length"||y&&(x=="offset"||x=="parent")||b&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||s(x,E)))&&_.push(x);return _}return l2=l,l2}var c2,kW;function iU(){if(kW)return c2;kW=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,s=typeof r=="function"&&r.prototype||n;return t===s}return c2=e,c2}var u2,PW;function dQ(){if(PW)return u2;PW=1;function n(e,t){return function(r){return e(t(r))}}return u2=n,u2}var d2,DW;function nRe(){if(DW)return d2;DW=1;var n=dQ(),e=n(Object.keys,Object);return d2=e,d2}var h2,MW;function rRe(){if(MW)return h2;MW=1;var n=iU(),e=nRe(),t=Object.prototype,r=t.hasOwnProperty;function s(i){if(!n(i))return e(i);var o=[];for(var a in Object(i))r.call(i,a)&&a!="constructor"&&o.push(a);return o}return h2=s,h2}var f2,OW;function D1(){if(OW)return f2;OW=1;var n=uQ(),e=rRe(),t=I1();function r(s){return t(s)?n(s):e(s)}return f2=r,f2}var p2,LW;function hQ(){if(LW)return p2;LW=1;var n=lQ(),e=tU(),t=D1();function r(s){return n(s,t,e)}return p2=r,p2}var m2,NW;function sRe(){if(NW)return m2;NW=1;var n=hQ(),e=1,t=Object.prototype,r=t.hasOwnProperty;function s(i,o,a,l,u,h){var p=a&e,m=n(i),y=m.length,b=n(o),v=b.length;if(y!=v&&!p)return!1;for(var _=y;_--;){var E=m[_];if(!(p?E in o:r.call(o,E)))return!1}var x=h.get(i),C=h.get(o);if(x&&C)return x==o&&C==i;var A=!0;h.set(i,o),h.set(o,i);for(var k=p;++_<y;){E=m[_];var L=i[E],P=o[E];if(l)var D=p?l(P,L,E,o,i,h):l(L,P,E,i,o,h);if(!(D===void 0?L===P||u(L,P,a,l,h):D)){A=!1;break}k||(k=E=="constructor")}if(A&&!k){var F=i.constructor,T=o.constructor;F!=T&&"constructor"in i&&"constructor"in o&&!(typeof F=="function"&&F instanceof F&&typeof T=="function"&&T instanceof T)&&(A=!1)}return h.delete(i),h.delete(o),A}return m2=s,m2}var g2,FW;function iRe(){if(FW)return g2;FW=1;var n=Tg(),e=qc(),t=n(e,"DataView");return g2=t,g2}var y2,BW;function oRe(){if(BW)return y2;BW=1;var n=Tg(),e=qc(),t=n(e,"Promise");return y2=t,y2}var v2,$W;function aRe(){if($W)return v2;$W=1;var n=Tg(),e=qc(),t=n(e,"Set");return v2=t,v2}var w2,jW;function lRe(){if(jW)return w2;jW=1;var n=Tg(),e=qc(),t=n(e,"WeakMap");return w2=t,w2}var b2,UW;function zI(){if(UW)return b2;UW=1;var n=iRe(),e=Jj(),t=oRe(),r=aRe(),s=lRe(),i=gw(),o=iQ(),a="[object Map]",l="[object Object]",u="[object Promise]",h="[object Set]",p="[object WeakMap]",m="[object DataView]",y=o(n),b=o(e),v=o(t),_=o(r),E=o(s),x=i;return(n&&x(new n(new ArrayBuffer(1)))!=m||e&&x(new e)!=a||t&&x(t.resolve())!=u||r&&x(new r)!=h||s&&x(new s)!=p)&&(x=function(C){var A=i(C),k=A==l?C.constructor:void 0,L=k?o(k):"";if(L)switch(L){case y:return m;case b:return a;case v:return u;case _:return h;case E:return p}return A}),b2=x,b2}var _2,VW;function cRe(){if(VW)return _2;VW=1;var n=Zj(),e=oQ(),t=XAe(),r=sRe(),s=zI(),i=za(),o=VI(),a=sU(),l=1,u="[object Arguments]",h="[object Array]",p="[object Object]",m=Object.prototype,y=m.hasOwnProperty;function b(v,_,E,x,C,A){var k=i(v),L=i(_),P=k?h:s(v),D=L?h:s(_);P=P==u?p:P,D=D==u?p:D;var F=P==p,T=D==p,$=P==D;if($&&o(v)){if(!o(_))return!1;k=!0,F=!1}if($&&!F)return A||(A=new n),k||a(v)?e(v,_,E,x,C,A):t(v,_,P,E,x,C,A);if(!(E&l)){var z=F&&y.call(v,"__wrapped__"),j=T&&y.call(_,"__wrapped__");if(z||j){var Y=z?v.value():v,Z=j?_.value():_;return A||(A=new n),C(Y,Z,E,x,A)}}return $?(A||(A=new n),r(v,_,E,x,C,A)):!1}return _2=b,_2}var S2,HW;function oU(){if(HW)return S2;HW=1;var n=cRe(),e=Bf();function t(r,s,i,o,a){return r===s?!0:r==null||s==null||!e(r)&&!e(s)?r!==r&&s!==s:n(r,s,i,o,t,a)}return S2=t,S2}var E2,zW;function uRe(){if(zW)return E2;zW=1;var n=oU();function e(t,r){return n(t,r)}return E2=e,E2}var dRe=uRe();const hRe=ho(dRe);function C2(n,e){var t=Gj(n);return t?t.innerHeight:Km(n).height}function fQ(n,e,t){n.closest&&!t&&n.closest(e);var r=n;do{if(zxe(r,e))return r;r=r.parentElement}while(r&&r!==t&&r.nodeType===document.ELEMENT_NODE);return null}var T2,WW;function fRe(){if(WW)return T2;WW=1;function n(e,t,r,s){for(var i=e.length,o=r+(s?1:-1);s?o--:++o<i;)if(t(e[o],o,e))return o;return-1}return T2=n,T2}var x2,qW;function pRe(){if(qW)return x2;qW=1;var n=Zj(),e=oU(),t=1,r=2;function s(i,o,a,l){var u=a.length,h=u,p=!l;if(i==null)return!h;for(i=Object(i);u--;){var m=a[u];if(p&&m[2]?m[1]!==i[m[0]]:!(m[0]in i))return!1}for(;++u<h;){m=a[u];var y=m[0],b=i[y],v=m[1];if(p&&m[2]){if(b===void 0&&!(y in i))return!1}else{var _=new n;if(l)var E=l(b,v,y,i,o,_);if(!(E===void 0?e(v,b,t|r,l,_):E))return!1}}return!0}return x2=s,x2}var A2,GW;function pQ(){if(GW)return A2;GW=1;var n=kd();function e(t){return t===t&&!n(t)}return A2=e,A2}var R2,KW;function mRe(){if(KW)return R2;KW=1;var n=pQ(),e=D1();function t(r){for(var s=e(r),i=s.length;i--;){var o=s[i],a=r[o];s[i]=[o,a,n(a)]}return s}return R2=t,R2}var I2,YW;function mQ(){if(YW)return I2;YW=1;function n(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}return I2=n,I2}var k2,XW;function gRe(){if(XW)return k2;XW=1;var n=pRe(),e=mRe(),t=mQ();function r(s){var i=e(s);return i.length==1&&i[0][2]?t(i[0][0],i[0][1]):function(o){return o===s||n(o,s,i)}}return k2=r,k2}var P2,JW;function aU(){if(JW)return P2;JW=1;var n=za(),e=k1(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(i,o){if(n(i))return!1;var a=typeof i;return a=="number"||a=="symbol"||a=="boolean"||i==null||e(i)?!0:r.test(i)||!t.test(i)||o!=null&&i in Object(o)}return P2=s,P2}var D2,QW;function yRe(){if(QW)return D2;QW=1;var n=Qj(),e="Expected a function";function t(r,s){if(typeof r!="function"||s!=null&&typeof s!="function")throw new TypeError(e);var i=function(){var o=arguments,a=s?s.apply(this,o):o[0],l=i.cache;if(l.has(a))return l.get(a);var u=r.apply(this,o);return i.cache=l.set(a,u)||l,u};return i.cache=new(t.Cache||n),i}return t.Cache=n,D2=t,D2}var M2,ZW;function vRe(){if(ZW)return M2;ZW=1;var n=yRe(),e=500;function t(r){var s=n(r,function(o){return i.size===e&&i.clear(),o}),i=s.cache;return s}return M2=t,M2}var O2,e6;function wRe(){if(e6)return O2;e6=1;var n=vRe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,r=n(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(e,function(o,a,l,u){i.push(l?u.replace(t,"$1"):a||o)}),i});return O2=r,O2}var L2,t6;function lU(){if(t6)return L2;t6=1;function n(e,t){for(var r=-1,s=e==null?0:e.length,i=Array(s);++r<s;)i[r]=t(e[r],r,e);return i}return L2=n,L2}var N2,n6;function bRe(){if(n6)return N2;n6=1;var n=mw(),e=lU(),t=za(),r=k1(),s=n?n.prototype:void 0,i=s?s.toString:void 0;function o(a){if(typeof a=="string")return a;if(t(a))return e(a,o)+"";if(r(a))return i?i.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return N2=o,N2}var F2,r6;function _Re(){if(r6)return F2;r6=1;var n=bRe();function e(t){return t==null?"":n(t)}return F2=e,F2}var B2,s6;function WI(){if(s6)return B2;s6=1;var n=za(),e=aU(),t=wRe(),r=_Re();function s(i,o){return n(i)?i:e(i,o)?[i]:t(r(i))}return B2=s,B2}var $2,i6;function M1(){if(i6)return $2;i6=1;var n=k1();function e(t){if(typeof t=="string"||n(t))return t;var r=t+"";return r=="0"&&1/t==-1/0?"-0":r}return $2=e,$2}var j2,o6;function qI(){if(o6)return j2;o6=1;var n=WI(),e=M1();function t(r,s){s=n(s,r);for(var i=0,o=s.length;r!=null&&i<o;)r=r[e(s[i++])];return i&&i==o?r:void 0}return j2=t,j2}var U2,a6;function SRe(){if(a6)return U2;a6=1;var n=qI();function e(t,r,s){var i=t==null?void 0:n(t,r);return i===void 0?s:i}return U2=e,U2}var V2,l6;function ERe(){if(l6)return V2;l6=1;function n(e,t){return e!=null&&t in Object(e)}return V2=n,V2}var H2,c6;function CRe(){if(c6)return H2;c6=1;var n=WI(),e=nU(),t=za(),r=qj(),s=Wj(),i=M1();function o(a,l,u){l=n(l,a);for(var h=-1,p=l.length,m=!1;++h<p;){var y=i(l[h]);if(!(m=a!=null&&u(a,y)))break;a=a[y]}return m||++h!=p?m:(p=a==null?0:a.length,!!p&&s(p)&&r(y,p)&&(t(a)||e(a)))}return H2=o,H2}var z2,u6;function TRe(){if(u6)return z2;u6=1;var n=ERe(),e=CRe();function t(r,s){return r!=null&&e(r,s,n)}return z2=t,z2}var W2,d6;function xRe(){if(d6)return W2;d6=1;var n=oU(),e=SRe(),t=TRe(),r=aU(),s=pQ(),i=mQ(),o=M1(),a=1,l=2;function u(h,p){return r(h)&&s(p)?i(o(h),p):function(m){var y=e(m,h);return y===void 0&&y===p?t(m,h):n(p,y,a|l)}}return W2=u,W2}var q2,h6;function GI(){if(h6)return q2;h6=1;function n(e){return e}return q2=n,q2}var G2,f6;function ARe(){if(f6)return G2;f6=1;function n(e){return function(t){return t==null?void 0:t[e]}}return G2=n,G2}var K2,p6;function RRe(){if(p6)return K2;p6=1;var n=qI();function e(t){return function(r){return n(r,t)}}return K2=e,K2}var Y2,m6;function IRe(){if(m6)return Y2;m6=1;var n=ARe(),e=RRe(),t=aU(),r=M1();function s(i){return t(i)?n(r(i)):e(i)}return Y2=s,Y2}var X2,g6;function KI(){if(g6)return X2;g6=1;var n=gRe(),e=xRe(),t=GI(),r=za(),s=IRe();function i(o){return typeof o=="function"?o:o==null?t:typeof o=="object"?r(o)?e(o[0],o[1]):n(o):s(o)}return X2=i,X2}var J2,y6;function kRe(){if(y6)return J2;y6=1;var n=fRe(),e=KI(),t=ZJ(),r=Math.max;function s(i,o,a){var l=i==null?0:i.length;if(!l)return-1;var u=a==null?0:t(a);return u<0&&(u=r(l+u,0)),n(i,e(o,3),u)}return J2=s,J2}var PRe=kRe();const DRe=ho(PRe);var Q2,v6;function MRe(){if(v6)return Q2;v6=1;var n=Math.ceil,e=Math.max;function t(r,s,i,o){for(var a=-1,l=e(n((s-r)/(i||1)),0),u=Array(l);l--;)u[o?l:++a]=r,r+=i;return u}return Q2=t,Q2}var Z2,w6;function ORe(){if(w6)return Z2;w6=1;var n=MRe(),e=FI(),t=QJ();function r(s){return function(i,o,a){return a&&typeof a!="number"&&e(i,o,a)&&(o=a=void 0),i=t(i),o===void 0?(o=i,i=0):o=t(o),a=a===void 0?i<o?1:-1:t(a),n(i,o,a,s)}}return Z2=r,Z2}var eO,b6;function LRe(){if(b6)return eO;b6=1;var n=ORe(),e=n();return eO=e,eO}var NRe=LRe();const FRe=ho(NRe);var _6=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function BRe(n,e){return!!(n===e||_6(n)&&_6(e))}function $Re(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!BRe(n[t],e[t]))return!1;return!0}function gQ(n,e){e===void 0&&(e=$Re);var t=null;function r(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(t&&t.lastThis===this&&e(s,t.lastArgs))return t.lastResult;var o=n.apply(this,s);return t={lastResult:o,lastArgs:s,lastThis:this},o}return r.clear=function(){t=null},r}function ON(n,e){var t=Gj(n);return t?t.innerWidth:Km(n).width}var tO,S6;function jRe(){if(S6)return tO;S6=1;var n=mw(),e=nU(),t=za(),r=n?n.isConcatSpreadable:void 0;function s(i){return t(i)||e(i)||!!(r&&i&&i[r])}return tO=s,tO}var nO,E6;function yQ(){if(E6)return nO;E6=1;var n=eU(),e=jRe();function t(r,s,i,o,a){var l=-1,u=r.length;for(i||(i=e),a||(a=[]);++l<u;){var h=r[l];s>0&&i(h)?s>1?t(h,s-1,i,o,a):n(a,h):o||(a[a.length]=h)}return a}return nO=t,nO}var rO,C6;function URe(){if(C6)return rO;C6=1;function n(e){return function(t,r,s){for(var i=-1,o=Object(t),a=s(t),l=a.length;l--;){var u=a[e?l:++i];if(r(o[u],u,o)===!1)break}return t}}return rO=n,rO}var sO,T6;function VRe(){if(T6)return sO;T6=1;var n=URe(),e=n();return sO=e,sO}var iO,x6;function cU(){if(x6)return iO;x6=1;var n=VRe(),e=D1();function t(r,s){return r&&n(r,s,e)}return iO=t,iO}var oO,A6;function HRe(){if(A6)return oO;A6=1;var n=I1();function e(t,r){return function(s,i){if(s==null)return s;if(!n(s))return t(s,i);for(var o=s.length,a=r?o:-1,l=Object(s);(r?a--:++a<o)&&i(l[a],a,l)!==!1;);return s}}return oO=e,oO}var aO,R6;function zRe(){if(R6)return aO;R6=1;var n=cU(),e=HRe(),t=e(n);return aO=t,aO}var lO,I6;function WRe(){if(I6)return lO;I6=1;var n=zRe(),e=I1();function t(r,s){var i=-1,o=e(r)?Array(r.length):[];return n(r,function(a,l,u){o[++i]=s(a,l,u)}),o}return lO=t,lO}var cO,k6;function qRe(){if(k6)return cO;k6=1;function n(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}return cO=n,cO}var uO,P6;function GRe(){if(P6)return uO;P6=1;var n=k1();function e(t,r){if(t!==r){var s=t!==void 0,i=t===null,o=t===t,a=n(t),l=r!==void 0,u=r===null,h=r===r,p=n(r);if(!u&&!p&&!a&&t>r||a&&l&&h&&!u&&!p||i&&l&&h||!s&&h||!o)return 1;if(!i&&!a&&!p&&t<r||p&&s&&o&&!i&&!a||u&&s&&o||!l&&o||!h)return-1}return 0}return uO=e,uO}var dO,D6;function KRe(){if(D6)return dO;D6=1;var n=GRe();function e(t,r,s){for(var i=-1,o=t.criteria,a=r.criteria,l=o.length,u=s.length;++i<l;){var h=n(o[i],a[i]);if(h){if(i>=u)return h;var p=s[i];return h*(p=="desc"?-1:1)}}return t.index-r.index}return dO=e,dO}var hO,M6;function YRe(){if(M6)return hO;M6=1;var n=lU(),e=qI(),t=KI(),r=WRe(),s=qRe(),i=HI(),o=KRe(),a=GI(),l=za();function u(h,p,m){p.length?p=n(p,function(v){return l(v)?function(_){return e(_,v.length===1?v[0]:v)}:v}):p=[a];var y=-1;p=n(p,i(t));var b=r(h,function(v,_,E){var x=n(p,function(C){return C(v)});return{criteria:x,index:++y,value:v}});return s(b,function(v,_){return o(v,_,m)})}return hO=u,hO}var fO,O6;function XRe(){if(O6)return fO;O6=1;function n(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}return fO=n,fO}var pO,L6;function vQ(){if(L6)return pO;L6=1;var n=XRe(),e=Math.max;function t(r,s,i){return s=e(s===void 0?r.length-1:s,0),function(){for(var o=arguments,a=-1,l=e(o.length-s,0),u=Array(l);++a<l;)u[a]=o[s+a];a=-1;for(var h=Array(s+1);++a<s;)h[a]=o[a];return h[s]=i(u),n(r,this,h)}}return pO=t,pO}var mO,N6;function JRe(){if(N6)return mO;N6=1;function n(e){return function(){return e}}return mO=n,mO}var gO,F6;function wQ(){if(F6)return gO;F6=1;var n=Tg(),e=(function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}})();return gO=e,gO}var yO,B6;function QRe(){if(B6)return yO;B6=1;var n=JRe(),e=wQ(),t=GI(),r=e?function(s,i){return e(s,"toString",{configurable:!0,enumerable:!1,value:n(i),writable:!0})}:t;return yO=r,yO}var vO,$6;function ZRe(){if($6)return vO;$6=1;var n=800,e=16,t=Date.now;function r(s){var i=0,o=0;return function(){var a=t(),l=e-(a-o);if(o=a,l>0){if(++i>=n)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return vO=r,vO}var wO,j6;function bQ(){if(j6)return wO;j6=1;var n=QRe(),e=ZRe(),t=e(n);return wO=t,wO}var bO,U6;function _Q(){if(U6)return bO;U6=1;var n=GI(),e=vQ(),t=bQ();function r(s,i){return t(e(s,i,n),s+"")}return bO=r,bO}var _O,V6;function eIe(){if(V6)return _O;V6=1;var n=yQ(),e=YRe(),t=_Q(),r=FI(),s=t(function(i,o){if(i==null)return[];var a=o.length;return a>1&&r(i,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(i,n(o,1),[])});return _O=s,_O}var tIe=eIe();const nIe=ho(tIe);function SQ(n){return LJ(n)||YJ(n)||Uj(n)||NJ()}var SO,H6;function rIe(){if(H6)return SO;H6=1;function n(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}return SO=n,SO}var EO,z6;function sIe(){if(z6)return EO;z6=1;var n=kd(),e=iU(),t=rIe(),r=Object.prototype,s=r.hasOwnProperty;function i(o){if(!n(o))return t(o);var a=e(o),l=[];for(var u in o)u=="constructor"&&(a||!s.call(o,u))||l.push(u);return l}return EO=i,EO}var CO,W6;function YI(){if(W6)return CO;W6=1;var n=uQ(),e=sIe(),t=I1();function r(s){return t(s)?n(s,!0):e(s)}return CO=r,CO}var TO,q6;function iIe(){if(q6)return TO;q6=1;var n=_Q(),e=R1(),t=FI(),r=YI(),s=Object.prototype,i=s.hasOwnProperty,o=n(function(a,l){a=Object(a);var u=-1,h=l.length,p=h>2?l[2]:void 0;for(p&&t(l[0],l[1],p)&&(h=1);++u<h;)for(var m=l[u],y=r(m),b=-1,v=y.length;++b<v;){var _=y[b],E=a[_];(E===void 0||e(E,s[_])&&!i.call(a,_))&&(a[_]=m[_])}return a});return TO=o,TO}var oIe=iIe();const aIe=ho(oIe);var xO,G6;function uU(){if(G6)return xO;G6=1;var n=wQ();function e(t,r,s){r=="__proto__"&&n?n(t,r,{configurable:!0,enumerable:!0,value:s,writable:!0}):t[r]=s}return xO=e,xO}var AO,K6;function lIe(){if(K6)return AO;K6=1;var n=uU(),e=cU(),t=KI();function r(s,i){var o={};return i=t(i,3),e(s,function(a,l,u){n(o,l,i(a,l,u))}),o}return AO=r,AO}var cIe=lIe();const uIe=ho(cIe);var RO,Y6;function EQ(){if(Y6)return RO;Y6=1;function n(e,t){for(var r=-1,s=e==null?0:e.length;++r<s&&t(e[r],r,e)!==!1;);return e}return RO=n,RO}var IO,X6;function CQ(){if(X6)return IO;X6=1;var n=uU(),e=R1(),t=Object.prototype,r=t.hasOwnProperty;function s(i,o,a){var l=i[o];(!(r.call(i,o)&&e(l,a))||a===void 0&&!(o in i))&&n(i,o,a)}return IO=s,IO}var kO,J6;function O1(){if(J6)return kO;J6=1;var n=CQ(),e=uU();function t(r,s,i,o){var a=!i;i||(i={});for(var l=-1,u=s.length;++l<u;){var h=s[l],p=o?o(i[h],r[h],h,i,r):void 0;p===void 0&&(p=r[h]),a?e(i,h,p):n(i,h,p)}return i}return kO=t,kO}var PO,Q6;function dIe(){if(Q6)return PO;Q6=1;var n=O1(),e=D1();function t(r,s){return r&&n(s,e(s),r)}return PO=t,PO}var DO,Z6;function hIe(){if(Z6)return DO;Z6=1;var n=O1(),e=YI();function t(r,s){return r&&n(s,e(s),r)}return DO=t,DO}var $b={exports:{}};$b.exports;var eq;function fIe(){return eq||(eq=1,(function(n,e){var t=qc(),r=e&&!e.nodeType&&e,s=r&&!0&&n&&!n.nodeType&&n,i=s&&s.exports===r,o=i?t.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,h){if(h)return u.slice();var p=u.length,m=a?a(p):new u.constructor(p);return u.copy(m),m}n.exports=l})($b,$b.exports)),$b.exports}var MO,tq;function pIe(){if(tq)return MO;tq=1;function n(e,t){var r=-1,s=e.length;for(t||(t=Array(s));++r<s;)t[r]=e[r];return t}return MO=n,MO}var OO,nq;function mIe(){if(nq)return OO;nq=1;var n=O1(),e=tU();function t(r,s){return n(r,e(r),s)}return OO=t,OO}var LO,rq;function XI(){if(rq)return LO;rq=1;var n=dQ(),e=n(Object.getPrototypeOf,Object);return LO=e,LO}var NO,sq;function TQ(){if(sq)return NO;sq=1;var n=eU(),e=XI(),t=tU(),r=cQ(),s=Object.getOwnPropertySymbols,i=s?function(o){for(var a=[];o;)n(a,t(o)),o=e(o);return a}:r;return NO=i,NO}var FO,iq;function gIe(){if(iq)return FO;iq=1;var n=O1(),e=TQ();function t(r,s){return n(r,e(r),s)}return FO=t,FO}var BO,oq;function xQ(){if(oq)return BO;oq=1;var n=lQ(),e=TQ(),t=YI();function r(s){return n(s,t,e)}return BO=r,BO}var $O,aq;function yIe(){if(aq)return $O;aq=1;var n=Object.prototype,e=n.hasOwnProperty;function t(r){var s=r.length,i=new r.constructor(s);return s&&typeof r[0]=="string"&&e.call(r,"index")&&(i.index=r.index,i.input=r.input),i}return $O=t,$O}var jO,lq;function dU(){if(lq)return jO;lq=1;var n=aQ();function e(t){var r=new t.constructor(t.byteLength);return new n(r).set(new n(t)),r}return jO=e,jO}var UO,cq;function vIe(){if(cq)return UO;cq=1;var n=dU();function e(t,r){var s=r?n(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.byteLength)}return UO=e,UO}var VO,uq;function wIe(){if(uq)return VO;uq=1;var n=/\w*$/;function e(t){var r=new t.constructor(t.source,n.exec(t));return r.lastIndex=t.lastIndex,r}return VO=e,VO}var HO,dq;function bIe(){if(dq)return HO;dq=1;var n=mw(),e=n?n.prototype:void 0,t=e?e.valueOf:void 0;function r(s){return t?Object(t.call(s)):{}}return HO=r,HO}var zO,hq;function _Ie(){if(hq)return zO;hq=1;var n=dU();function e(t,r){var s=r?n(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.length)}return zO=e,zO}var WO,fq;function SIe(){if(fq)return WO;fq=1;var n=dU(),e=vIe(),t=wIe(),r=bIe(),s=_Ie(),i="[object Boolean]",o="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",h="[object Set]",p="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",v="[object Float32Array]",_="[object Float64Array]",E="[object Int8Array]",x="[object Int16Array]",C="[object Int32Array]",A="[object Uint8Array]",k="[object Uint8ClampedArray]",L="[object Uint16Array]",P="[object Uint32Array]";function D(F,T,$){var z=F.constructor;switch(T){case y:return n(F);case i:case o:return new z(+F);case b:return e(F,$);case v:case _:case E:case x:case C:case A:case k:case L:case P:return s(F,$);case a:return new z;case l:case p:return new z(F);case u:return t(F);case h:return new z;case m:return r(F)}}return WO=D,WO}var qO,pq;function AQ(){if(pq)return qO;pq=1;var n=kd(),e=Object.create,t=(function(){function r(){}return function(s){if(!n(s))return{};if(e)return e(s);r.prototype=s;var i=new r;return r.prototype=void 0,i}})();return qO=t,qO}var GO,mq;function EIe(){if(mq)return GO;mq=1;var n=AQ(),e=XI(),t=iU();function r(s){return typeof s.constructor=="function"&&!t(s)?n(e(s)):{}}return GO=r,GO}var KO,gq;function CIe(){if(gq)return KO;gq=1;var n=zI(),e=Bf(),t="[object Map]";function r(s){return e(s)&&n(s)==t}return KO=r,KO}var YO,yq;function TIe(){if(yq)return YO;yq=1;var n=CIe(),e=HI(),t=rU(),r=t&&t.isMap,s=r?e(r):n;return YO=s,YO}var XO,vq;function xIe(){if(vq)return XO;vq=1;var n=zI(),e=Bf(),t="[object Set]";function r(s){return e(s)&&n(s)==t}return XO=r,XO}var JO,wq;function AIe(){if(wq)return JO;wq=1;var n=xIe(),e=HI(),t=rU(),r=t&&t.isSet,s=r?e(r):n;return JO=s,JO}var QO,bq;function RIe(){if(bq)return QO;bq=1;var n=Zj(),e=EQ(),t=CQ(),r=dIe(),s=hIe(),i=fIe(),o=pIe(),a=mIe(),l=gIe(),u=hQ(),h=xQ(),p=zI(),m=yIe(),y=SIe(),b=EIe(),v=za(),_=VI(),E=TIe(),x=kd(),C=AIe(),A=D1(),k=YI(),L=1,P=2,D=4,F="[object Arguments]",T="[object Array]",$="[object Boolean]",z="[object Date]",j="[object Error]",Y="[object Function]",Z="[object GeneratorFunction]",J="[object Map]",ee="[object Number]",Q="[object Object]",te="[object RegExp]",de="[object Set]",q="[object String]",K="[object Symbol]",ne="[object WeakMap]",le="[object ArrayBuffer]",ce="[object DataView]",be="[object Float32Array]",we="[object Float64Array]",ke="[object Int8Array]",Ne="[object Int16Array]",Me="[object Int32Array]",Je="[object Uint8Array]",je="[object Uint8ClampedArray]",dt="[object Uint16Array]",Ye="[object Uint32Array]",Ue={};Ue[F]=Ue[T]=Ue[le]=Ue[ce]=Ue[$]=Ue[z]=Ue[be]=Ue[we]=Ue[ke]=Ue[Ne]=Ue[Me]=Ue[J]=Ue[ee]=Ue[Q]=Ue[te]=Ue[de]=Ue[q]=Ue[K]=Ue[Je]=Ue[je]=Ue[dt]=Ue[Ye]=!0,Ue[j]=Ue[Y]=Ue[ne]=!1;function en(Be,_t,Ut,Ot,mt,Le){var $t,qt=_t&L,qn=_t&P,Gt=_t&D;if(Ut&&($t=mt?Ut(Be,Ot,mt,Le):Ut(Be)),$t!==void 0)return $t;if(!x(Be))return Be;var lt=v(Be);if(lt){if($t=m(Be),!qt)return o(Be,$t)}else{var St=p(Be),Kt=St==Y||St==Z;if(_(Be))return i(Be,qt);if(St==Q||St==F||Kt&&!mt){if($t=qn||Kt?{}:b(Be),!qt)return qn?l(Be,s($t,Be)):a(Be,r($t,Be))}else{if(!Ue[St])return mt?Be:{};$t=y(Be,St,qt)}}Le||(Le=new n);var vn=Le.get(Be);if(vn)return vn;Le.set(Be,$t),C(Be)?Be.forEach(function(En){$t.add(en(En,_t,Ut,En,Be,Le))}):E(Be)&&Be.forEach(function(En,Cn){$t.set(Cn,en(En,_t,Ut,Cn,Be,Le))});var tt=Gt?qn?h:u:qn?k:A,sn=lt?void 0:tt(Be);return e(sn||Be,function(En,Cn){sn&&(Cn=En,En=Be[Cn]),t($t,Cn,en(En,_t,Ut,Cn,Be,Le))}),$t}return QO=en,QO}var ZO,_q;function IIe(){if(_q)return ZO;_q=1;function n(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return ZO=n,ZO}var eL,Sq;function kIe(){if(Sq)return eL;Sq=1;var n=qI(),e=XJ();function t(r,s){return s.length<2?r:n(r,e(s,0,-1))}return eL=t,eL}var tL,Eq;function PIe(){if(Eq)return tL;Eq=1;var n=WI(),e=IIe(),t=kIe(),r=M1();function s(i,o){return o=n(o,i),i=t(i,o),i==null||delete i[r(e(o))]}return tL=s,tL}var nL,Cq;function DIe(){if(Cq)return nL;Cq=1;var n=gw(),e=XI(),t=Bf(),r="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,a=i.hasOwnProperty,l=o.call(Object);function u(h){if(!t(h)||n(h)!=r)return!1;var p=e(h);if(p===null)return!0;var m=a.call(p,"constructor")&&p.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==l}return nL=u,nL}var rL,Tq;function MIe(){if(Tq)return rL;Tq=1;var n=DIe();function e(t){return n(t)?void 0:t}return rL=e,rL}var sL,xq;function OIe(){if(xq)return sL;xq=1;var n=yQ();function e(t){var r=t==null?0:t.length;return r?n(t,1):[]}return sL=e,sL}var iL,Aq;function LIe(){if(Aq)return iL;Aq=1;var n=OIe(),e=vQ(),t=bQ();function r(s){return t(e(s,void 0,n),s+"")}return iL=r,iL}var oL,Rq;function NIe(){if(Rq)return oL;Rq=1;var n=lU(),e=RIe(),t=PIe(),r=WI(),s=O1(),i=MIe(),o=LIe(),a=xQ(),l=1,u=2,h=4,p=o(function(m,y){var b={};if(m==null)return b;var v=!1;y=n(y,function(E){return E=r(E,m),v||(v=E.length>1),E}),s(m,a(m),b),v&&(b=e(b,l|u|h,i));for(var _=y.length;_--;)t(b,y[_]);return b});return oL=p,oL}var FIe=NIe();const BIe=ho(FIe);var aL,Iq;function $Ie(){if(Iq)return aL;Iq=1;var n=EQ(),e=AQ(),t=cU(),r=KI(),s=XI(),i=za(),o=VI(),a=zj(),l=kd(),u=sU();function h(p,m,y){var b=i(p),v=b||o(p)||u(p);if(m=r(m,4),y==null){var _=p&&p.constructor;v?y=b?new _:[]:l(p)?y=a(_)?e(s(p)):{}:y={}}return(v?n:t)(p,function(E,x,C){return m(y,E,x,C)}),y}return aL=h,aL}var jIe=$Ie();const UIe=ho(jIe);var fx={exports:{}},VIe=fx.exports,kq;function HIe(){return kq||(kq=1,(function(n,e){(function(t,r){n.exports=r()})(VIe,(function(){return function(t,r,s){r.prototype.isBetween=function(i,o,a,l){var u=s(i),h=s(o),p=(l=l||"()")[0]==="(",m=l[1]===")";return(p?this.isAfter(u,a):!this.isBefore(u,a))&&(m?this.isBefore(h,a):!this.isAfter(h,a))||(p?this.isBefore(u,a):!this.isAfter(u,a))&&(m?this.isAfter(h,a):!this.isBefore(h,a))}}}))})(fx)),fx.exports}HIe();var px={exports:{}},zIe=px.exports,Pq;function WIe(){return Pq||(Pq=1,(function(n,e){(function(t,r){n.exports=r()})(zIe,(function(){return function(t,r){r.prototype.isSameOrAfter=function(s,i){return this.isSame(s,i)||this.isAfter(s,i)}}}))})(px)),px.exports}WIe();var mx={exports:{}},qIe=mx.exports,Dq;function GIe(){return Dq||(Dq=1,(function(n,e){(function(t,r){n.exports=r()})(qIe,(function(){return function(t,r){r.prototype.isSameOrBefore=function(s,i){return this.isSame(s,i)||this.isBefore(s,i)}}}))})(mx)),mx.exports}GIe();var gx={exports:{}},KIe=gx.exports,Mq;function YIe(){return Mq||(Mq=1,(function(n,e){(function(t,r){n.exports=r()})(KIe,(function(){return function(t,r,s){var i=r.prototype,o=function(p){return p&&(p.indexOf?p:p.s)},a=function(p,m,y,b,v){var _=p.name?p:p.$locale(),E=o(_[m]),x=o(_[y]),C=E||x.map((function(k){return k.slice(0,b)}));if(!v)return C;var A=_.weekStart;return C.map((function(k,L){return C[(L+(A||0))%7]}))},l=function(){return s.Ls[s.locale()]},u=function(p,m){return p.formats[m]||(function(y){return y.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(b,v,_){return v||_.slice(1)}))})(p.formats[m.toUpperCase()])},h=function(){var p=this;return{months:function(m){return m?m.format("MMMM"):a(p,"months")},monthsShort:function(m){return m?m.format("MMM"):a(p,"monthsShort","months",3)},firstDayOfWeek:function(){return p.$locale().weekStart||0},weekdays:function(m){return m?m.format("dddd"):a(p,"weekdays")},weekdaysMin:function(m){return m?m.format("dd"):a(p,"weekdaysMin","weekdays",2)},weekdaysShort:function(m){return m?m.format("ddd"):a(p,"weekdaysShort","weekdays",3)},longDateFormat:function(m){return u(p.$locale(),m)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return h.bind(this)()},s.localeData=function(){var p=l();return{firstDayOfWeek:function(){return p.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(m){return u(p,m)},meridiem:p.meridiem,ordinal:p.ordinal}},s.months=function(){return a(l(),"months")},s.monthsShort=function(){return a(l(),"monthsShort","months",3)},s.weekdays=function(p){return a(l(),"weekdays",null,null,p)},s.weekdaysShort=function(p){return a(l(),"weekdaysShort","weekdays",3,p)},s.weekdaysMin=function(p){return a(l(),"weekdaysMin","weekdays",2,p)}}}))})(gx)),gx.exports}YIe();var yx={exports:{}},XIe=yx.exports,Oq;function JIe(){return Oq||(Oq=1,(function(n,e){(function(t,r){n.exports=r()})(XIe,(function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,s,i){var o=s.prototype,a=o.format;i.en.formats=t,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,h=(function(p,m){return p.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(y,b,v){var _=v&&v.toUpperCase();return b||m[v]||t[v]||m[_].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(E,x,C){return x||C.slice(1)}))}))})(l,u===void 0?{}:u);return a.call(this,h)}}}))})(yx)),yx.exports}JIe();var vx={exports:{}},QIe=vx.exports,Lq;function ZIe(){return Lq||(Lq=1,(function(n,e){(function(t,r){n.exports=r()})(QIe,(function(){return function(t,r,s){var i=function(o,a){if(!a||!a.length||a.length===1&&!a[0]||a.length===1&&Array.isArray(a[0])&&!a[0].length)return null;var l;a.length===1&&a[0].length>0&&(a=a[0]),l=(a=a.filter((function(h){return h})))[0];for(var u=1;u<a.length;u+=1)a[u].isValid()&&!a[u][o](l)||(l=a[u]);return l};s.max=function(){var o=[].slice.call(arguments,0);return i("isAfter",o)},s.min=function(){var o=[].slice.call(arguments,0);return i("isBefore",o)}}}))})(vx)),vx.exports}ZIe();var wx={exports:{}},eke=wx.exports,Nq;function tke(){return Nq||(Nq=1,(function(n,e){(function(t,r){n.exports=r()})(eke,(function(){var t="minute",r=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(i,o,a){var l=o.prototype;a.utc=function(v){var _={date:v,utc:!0,args:arguments};return new o(_)},l.utc=function(v){var _=a(this.toDate(),{locale:this.$L,utc:!0});return v?_.add(this.utcOffset(),t):_},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),u.call(this,v)};var h=l.init;l.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else h.call(this)};var p=l.utcOffset;l.utcOffset=function(v,_){var E=this.$utils().u;if(E(v))return this.$u?0:E(this.$offset)?p.call(this):this.$offset;if(typeof v=="string"&&(v=(function(k){k===void 0&&(k="");var L=k.match(r);if(!L)return null;var P=(""+L[0]).match(s)||["-",0,0],D=P[0],F=60*+P[1]+ +P[2];return F===0?0:D==="+"?F:-F})(v),v===null))return this;var x=Math.abs(v)<=16?60*v:v,C=this;if(_)return C.$offset=x,C.$u=v===0,C;if(v!==0){var A=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(C=this.local().add(x+A,t)).$offset=x,C.$x.$localOffset=A}else C=this.utc();return C};var m=l.format;l.format=function(v){var _=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return m.call(this,_)},l.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var y=l.toDate;l.toDate=function(v){return v==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():y.call(this)};var b=l.diff;l.diff=function(v,_,E){if(v&&this.$u===v.$u)return b.call(this,v,_,E);var x=this.local(),C=a(v).local();return b.call(x,C,_,E)}}}))})(wx)),wx.exports}tke();function yu(n){return n.children}var io={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Ii={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},Fq=Object.keys(Ii).map(function(n){return Ii[n]});Pe.oneOfType([Pe.string,Pe.func]);Pe.any;Pe.func;Pe.oneOfType([Pe.arrayOf(Pe.oneOf(Fq)),Pe.objectOf(function(n,e){var t=Fq.indexOf(e)!==-1&&typeof n[e]=="boolean";if(t)return null;for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];return Pe.elementType.apply(Pe,[n,e].concat(s))})]);Pe.oneOfType([Pe.oneOf(["overlap","no-overlap"]),Pe.func]);var Bq={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function RQ(n,e){var t=Gs(n,"month");return Gs(t,"week",e.startOfWeek())}function IQ(n,e){var t=zA(n,"month");return zA(t,"week",e.startOfWeek())}function nke(n,e){for(var t=RQ(n,e),r=IQ(n,e),s=[];fw(t,r,"day");)s.push(t),t=Ml(t,1,"day");return s}function rke(n,e){var t=Gs(n,e);return x1(t,n)?t:Ml(t,1,e)}function ske(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=n,s=[];fw(r,e,t);)s.push(r),r=Ml(r,1,t);return s}function ike(n,e){return e==null&&n==null?null:(e==null&&(e=new Date),n==null&&(n=new Date),n=Gs(n,"day"),n=Q_(n,Q_(e)),n=K0(n,K0(e)),n=J_(n,J_(e)),X_(n,X_(e)))}function $q(n){return Q_(n)===0&&K0(n)===0&&J_(n)===0&&X_(n)===0}function oke(n,e,t,r){return t==="day"&&(t="date"),Math.abs(HH[t](n,void 0,r)-HH[t](e,void 0,r))}function hU(n,e,t){return!t||t==="milliseconds"?Math.abs(+n-+e):Math.round(Math.abs(+Gs(n,t)/Bq[t]-+Gs(e,t)/Bq[t]))}var ake=Pe.oneOfType([Pe.string,Pe.func]);function lke(n,e,t,r,s){var i=typeof r=="function"?r(t,s,n):e.call(n,t,r,s);return z_(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function cke(n,e,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,e+t,0,0)}function fU(n,e){return n.getTimezoneOffset()-e.getTimezoneOffset()}function uke(n,e){return hU(n,e,"minutes")+fU(n,e)}function dke(n){var e=Gs(n,"day");return hU(e,n,"minutes")+fU(e,n)}function hke(n,e){return Hj(n,e,"day")}function fke(n,e,t){var r=x1(n,e,"minutes");return r?A1(e,t,"minutes"):NI(e,t,"minutes")}function LN(n,e){return oke(n,e,"day")}function pke(n){var e=n.evtA,t=e.start,r=e.end,s=e.allDay,i=n.evtB,o=i.start,a=i.end,l=i.allDay,u=+Gs(t,"day")-+Gs(o,"day"),h=LN(t,r),p=LN(o,a);return u||p-h||!!l-!!s||+t-+o||+r-+a}function mke(n){var e=n.event,t=e.start,r=e.end,s=n.range,i=s.start,o=s.end,a=Gs(t,"day"),l=fw(a,o,"day"),u=Vj(a,r,"minutes"),h=u?NI(r,i,"minutes"):A1(r,i,"minutes");return l&&h}function gke(n,e){return x1(n,e,"day")}function yke(n,e){return $q(n)&&$q(e)}var vke=fs(function n(e){var t=this;hs(this,n),z_(typeof e.format=="function","date localizer `format(..)` must be a function"),z_(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||ake,this.formats=e.formats,this.format=function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return lke.apply(void 0,[t,e.format].concat(s))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||ike,this.inRange=e.inRange||WJ,this.lt=e.lt||Hj,this.lte=e.lte||fw,this.gt=e.gt||NI,this.gte=e.gte||A1,this.eq=e.eq||x1,this.neq=e.neq||Vj,this.startOf=e.startOf||Gs,this.endOf=e.endOf||zA,this.add=e.add||Ml,this.range=e.range||ske,this.diff=e.diff||hU,this.ceil=e.ceil||rke,this.min=e.min||HJ,this.max=e.max||zJ,this.minutes=e.minutes||K0,this.daySpan=e.daySpan||LN,this.firstVisibleDay=e.firstVisibleDay||RQ,this.lastVisibleDay=e.lastVisibleDay||IQ,this.visibleDays=e.visibleDays||nke,this.getSlotDate=e.getSlotDate||cke,this.getTimezoneOffset=e.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||fU,this.getTotalMin=e.getTotalMin||uke,this.getMinutesFromMidnight=e.getMinutesFromMidnight||dke,this.continuesPrior=e.continuesPrior||hke,this.continuesAfter=e.continuesAfter||fke,this.sortEvents=e.sortEvents||pke,this.inEventRange=e.inEventRange||mke,this.isSameDate=e.isSameDate||gke,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||yke,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function wke(n,e,t,r){var s=$n($n({},n.formats),t);return $n($n({},n),{},{messages:r,startOfWeek:function(){return n.startOfWeek(e)},format:function(o,a){return n.format(o,s[a]||a,e)}})}var bke=(function(n){function e(){var t;hs(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return t=mi(this,e,[].concat(s)),t.navigate=function(o){t.props.onNavigate(o)},t.view=function(o){t.props.onView(o)},t}return gi(e,n),fs(e,[{key:"render",value:function(){var r=this.props,s=r.localizer.messages,i=r.label;return ie.createElement("div",{className:"rbc-toolbar"},ie.createElement("span",{className:"rbc-btn-group"},ie.createElement("button",{type:"button",onClick:this.navigate.bind(null,io.TODAY)},s.today),ie.createElement("button",{type:"button",onClick:this.navigate.bind(null,io.PREVIOUS)},s.previous),ie.createElement("button",{type:"button",onClick:this.navigate.bind(null,io.NEXT)},s.next)),ie.createElement("span",{className:"rbc-toolbar-label"},i),ie.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(s)))}},{key:"viewNamesGroup",value:function(r){var s=this,i=this.props.views,o=this.props.view;if(i.length>1)return i.map(function(a){return ie.createElement("button",{type:"button",key:a,className:kr({"rbc-active":o===a}),onClick:s.view.bind(null,a)},r[a])})}}])})(ie.Component);function Qn(n,e){n&&n.apply(null,[].concat(e))}var _ke={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function Ske(n){return $n($n({},_ke),n)}function Eke(n){var e=n.ref,t=n.callback;B.useEffect(function(){var r=function(i){e.current&&!e.current.contains(i.target)&&t()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[e,t])}var Cke=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],kQ=(function(n){function e(){return hs(this,e),mi(this,e,arguments)}return gi(e,n),fs(e,[{key:"render",value:function(){var r=this.props,s=r.style,i=r.className,o=r.event,a=r.selected,l=r.isAllDay,u=r.onSelect,h=r.onDoubleClick,p=r.onKeyPress,m=r.localizer,y=r.continuesPrior,b=r.continuesAfter,v=r.accessors,_=r.getters,E=r.children,x=r.components,C=x.event,A=x.eventWrapper,k=r.slotStart,L=r.slotEnd,P=Bc(r,Cke);delete P.resizable;var D=v.title(o),F=v.tooltip(o),T=v.end(o),$=v.start(o),z=v.allDay(o),j=l||z||m.diff($,m.ceil(T,"day"),"day")>1,Y=_.eventProp(o,$,T,a),Z=ie.createElement("div",{className:"rbc-event-content",title:F||void 0},C?ie.createElement(C,{event:o,continuesPrior:y,continuesAfter:b,title:D,isAllDay:z,localizer:m,slotStart:k,slotEnd:L}):D);return ie.createElement(A,Object.assign({},this.props,{type:"date"}),ie.createElement("div",Object.assign({},P,{style:$n($n({},Y.style),s),className:kr("rbc-event",i,Y.className,{"rbc-selected":a,"rbc-event-allday":j,"rbc-event-continues-prior":y,"rbc-event-continues-after":b}),onClick:function(ee){return u&&u(o,ee)},onDoubleClick:function(ee){return h&&h(o,ee)},onKeyDown:function(ee){return p&&p(o,ee)}}),typeof E=="function"?E(Z):Z))}}])})(ie.Component);function JI(n,e){return!n||e==null?!1:hRe(n,e)}function PQ(n,e){var t=n.right-n.left,r=t/e;return r}function DQ(n,e,t,r){var s=PQ(n,r);return t?r-1-Math.floor((e-n.left)/s):Math.floor((e-n.left)/s)}function Tke(n,e){var t=e.x,r=e.y;return r>=n.top&&r<=n.bottom&&t>=n.left&&t<=n.right}function xke(n,e,t,r,s){var i=-1,o=-1,a=r-1,l=PQ(e,r),u=DQ(e,t.x,s,r),h=e.top<t.y&&e.bottom>t.y,p=e.top<n.y&&e.bottom>n.y,m=n.y>e.bottom,y=e.top>n.y,b=t.top<e.top&&t.bottom>e.bottom;return b&&(i=0,o=a),h&&(y?(i=0,o=u):m&&(i=u,o=a)),p&&(i=o=s?a-Math.floor((n.x-e.left)/l):Math.floor((n.x-e.left)/l),h?u<i?i=u:o=u:n.y<t.y?o=a:i=0),{startIdx:i,endIdx:o}}function Ake(n){var e=n.target,t=n.offset,r=n.container,s=n.box,i=Km(e),o=i.top,a=i.left,l=i.width,u=i.height,h=Km(r),p=h.top,m=h.left,y=h.width,b=h.height,v=Km(s),_=v.width,E=v.height,x=p+b,C=m+y,A=o+E,k=a+_,L=t.x,P=t.y,D=A>x?o-E-P:o+P+u,F=k>C?a+L-_+l:a+L;return{topOffset:D,leftOffset:F}}function Rke(n){var e=n.containerRef,t=n.accessors,r=n.getters,s=n.selected,i=n.components,o=n.localizer,a=n.position,l=n.show,u=n.events,h=n.slotStart,p=n.slotEnd,m=n.onSelect,y=n.onDoubleClick,b=n.onKeyPress,v=n.handleDragStart,_=n.popperRef,E=n.target,x=n.offset;Eke({ref:_,callback:l}),B.useLayoutEffect(function(){var k=Ake({target:E,offset:x,container:e.current,box:_.current}),L=k.topOffset,P=k.leftOffset;_.current.style.top="".concat(L,"px"),_.current.style.left="".concat(P,"px")},[x.x,x.y,E]);var C=a.width,A={minWidth:C+C/2};return ie.createElement("div",{style:A,className:"rbc-overlay",ref:_},ie.createElement("div",{className:"rbc-overlay-header"},o.format(h,"dayHeaderFormat")),u.map(function(k,L){return ie.createElement(kQ,{key:L,type:"popup",localizer:o,event:k,getters:r,onSelect:m,accessors:t,components:i,onDoubleClick:y,onKeyPress:b,continuesPrior:o.lt(t.end(k),h,"day"),continuesAfter:o.gte(t.start(k),p,"day"),slotStart:h,slotEnd:p,selected:JI(k,s),draggable:!0,onDragStart:function(){return v(k)},onDragEnd:function(){return l()}})}))}var MQ=ie.forwardRef(function(n,e){return ie.createElement(Rke,Object.assign({},n,{popperRef:e}))});MQ.propTypes={accessors:Pe.object.isRequired,getters:Pe.object.isRequired,selected:Pe.object,components:Pe.object.isRequired,localizer:Pe.object.isRequired,position:Pe.object.isRequired,show:Pe.func.isRequired,events:Pe.array.isRequired,slotStart:Pe.instanceOf(Date).isRequired,slotEnd:Pe.instanceOf(Date),onSelect:Pe.func,onDoubleClick:Pe.func,onKeyPress:Pe.func,handleDragStart:Pe.func,style:Pe.object,offset:Pe.shape({x:Pe.number,y:Pe.number})};function Ike(n){var e=n.containerRef,t=n.popupOffset,r=t===void 0?5:t,s=n.overlay,i=n.accessors,o=n.localizer,a=n.components,l=n.getters,u=n.selected,h=n.handleSelectEvent,p=n.handleDoubleClickEvent,m=n.handleKeyPressEvent,y=n.handleDragStart,b=n.onHide,v=n.overlayDisplay,_=B.useRef(null);if(!s.position)return null;var E=r;isNaN(r)||(E={x:r,y:r});var x=s.position,C=s.events,A=s.date,k=s.end;return ie.createElement(Xj,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:b,target:s.target},function(L){var P=L.props;return ie.createElement(MQ,Object.assign({},P,{containerRef:e,ref:_,target:s.target,offset:E,accessors:i,getters:l,selected:u,components:a,localizer:o,position:x,show:v,events:C,slotStart:A,slotEnd:k,onSelect:h,onDoubleClick:p,onKeyPress:m,handleDragStart:y}))})}var pU=ie.forwardRef(function(n,e){return ie.createElement(Ike,Object.assign({},n,{containerRef:e}))});pU.propTypes={popupOffset:Pe.oneOfType([Pe.number,Pe.shape({x:Pe.number,y:Pe.number})]),overlay:Pe.shape({position:Pe.object,events:Pe.array,date:Pe.instanceOf(Date),end:Pe.instanceOf(Date)}),accessors:Pe.object.isRequired,localizer:Pe.object.isRequired,components:Pe.object.isRequired,getters:Pe.object.isRequired,selected:Pe.object,handleSelectEvent:Pe.func,handleDoubleClickEvent:Pe.func,handleKeyPressEvent:Pe.func,handleDragStart:Pe.func,onHide:Pe.func,overlayDisplay:Pe.func};function Zs(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Nb(t,n,e,{passive:!1})}function kke(n,e,t){return!n||Z_(n,document.elementFromPoint(e,t))}function Pke(n,e){var t=e.clientX,r=e.clientY,s=document.elementFromPoint(t,r);return fQ(s,".rbc-event",n)}function Dke(n,e){var t=e.clientX,r=e.clientY,s=document.elementFromPoint(t,r);return fQ(s,".rbc-show-more",n)}function qA(n,e){return!!Pke(n,e)}function Mke(n,e){return!!Dke(n,e)}function gb(n){var e=n;return n.touches&&n.touches.length&&(e=n.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var jq=5,Oke=250,OQ=(function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.global,s=r===void 0?!1:r,i=t.longPressThreshold,o=i===void 0?250:i,a=t.validContainers,l=a===void 0?[]:a;hs(this,n),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||s,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Zs("touchmove",function(){},window),this._removeKeyDownListener=Zs("keydown",this._keyListener),this._removeKeyUpListener=Zs("keyup",this._keyListener),this._removeDropFromOutsideListener=Zs("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Zs("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return fs(n,[{key:"on",value:function(t,r){var s=this._listeners[t]||(this._listeners[t]=[]);return s.push(r),{remove:function(){var o=s.indexOf(r);o!==-1&&s.splice(o,1)}}}},{key:"emit",value:function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];var o,a=this._listeners[t]||[];return a.forEach(function(l){o===void 0&&(o=l.apply(void 0,s))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(t){var r=this._selectRect;return!r||!this.selecting?!1:Uq(r,cg(t))}},{key:"filter",value:function(t){var r=this._selectRect;return!r||!this.selecting?[]:t.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(t,r){var s=this,i=null,o=null,a=null,l=function(m){i=setTimeout(function(){h(),t(m)},s.longPressThreshold),o=Zs("touchmove",function(){return h()}),a=Zs("touchend",function(){return h()})},u=Zs("touchstart",l),h=function(){i&&clearTimeout(i),o&&o(),a&&a(),i=null,o=null,a=null};return r&&l(r),function(){h(),u()}}},{key:"_addInitialEventListener",value:function(){var t=this,r=Zs("mousedown",function(i){t._removeInitialEventListener(),t._handleInitialEvent(i),t._removeInitialEventListener=Zs("mousedown",t._handleInitialEvent)}),s=Zs("touchstart",function(i){t._removeInitialEventListener(),t._removeInitialEventListener=t._addLongPressListener(t._handleInitialEvent,i)});this._removeInitialEventListener=function(){r(),s()}}},{key:"_dropFromOutsideListener",value:function(t){var r=gb(t),s=r.pageX,i=r.pageY,o=r.clientX,a=r.clientY;this.emit("dropFromOutside",{x:s,y:i,clientX:o,clientY:a}),t.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(t){var r=gb(t),s=r.pageX,i=r.pageY,o=r.clientX,a=r.clientY;this.emit("dragOverFromOutside",{x:s,y:i,clientX:o,clientY:a}),t.preventDefault()}},{key:"_handleInitialEvent",value:function(t){if(this._initialEvent=t,!this.isDetached){var r=gb(t),s=r.clientX,i=r.clientY,o=r.pageX,a=r.pageY,l=this.container(),u,h;if(!(t.which===3||t.button===2||!kke(l,s,i))){if(!this.globalMouse&&l&&!Z_(l,t.target)){var p=Lke(0),m=p.top,y=p.left,b=p.bottom,v=p.right;if(h=cg(l),u=Uq({top:h.top-m,left:h.left-y,bottom:h.bottom+b,right:h.right+v},{top:a,left:o}),!u)return}var _=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(t.type),x:o,y:a,clientX:s,clientY:i});if(_!==!1)switch(t.type){case"mousedown":this._removeEndListener=Zs("mouseup",this._handleTerminatingEvent),this._onEscListener=Zs("keydown",this._handleTerminatingEvent),this._removeMoveListener=Zs("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(t),this._removeEndListener=Zs("touchend",this._handleTerminatingEvent),this._removeMoveListener=Zs("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(t){var r=t.target,s=this.validContainers;return!s||!s.length||!r?!0:s.some(function(i){return!!r.closest(i)})}},{key:"_handleTerminatingEvent",value:function(t){var r=this.selecting,s=this._selectRect;if(!r&&t.type.includes("key")&&(t=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!t){var i=!this.container||Z_(this.container(),t.target),o=this._isWithinValidContainer(t);return t.key==="Escape"||!o?this.emit("reset"):!r&&i?this._handleClickEvent(t):r?this.emit("select",s):this.emit("reset")}}},{key:"_handleClickEvent",value:function(t){var r=gb(t),s=r.pageX,i=r.pageY,o=r.clientX,a=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<Oke?(this._lastClickData=null,this.emit("doubleClick",{x:s,y:i,clientX:o,clientY:a})):(this._lastClickData={timestamp:l},this.emit("click",{x:s,y:i,clientX:o,clientY:a}))}},{key:"_handleMoveEvent",value:function(t){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,s=r.x,i=r.y,o=gb(t),a=o.pageX,l=o.pageY,u=Math.abs(s-a),h=Math.abs(i-l),p=Math.min(a,s),m=Math.min(l,i),y=this.selecting,b=this.isClick(a,l);b&&!y&&!(u||h)||(!y&&!b&&this.emit("selectStart",this._initialEventData),b||(this.selecting=!0,this._selectRect={top:m,left:p,x:a,y:l,right:p+u,bottom:m+h},this.emit("selecting",this._selectRect)),t.preventDefault())}}},{key:"_keyListener",value:function(t){this.ctrl=t.metaKey||t.ctrlKey}},{key:"isClick",value:function(t,r){var s=this._initialEventData,i=s.x,o=s.y,a=s.isTouch;return!a&&Math.abs(t-i)<=jq&&Math.abs(r-o)<=jq}}])})();function Lke(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Td(n)!=="object"&&(n={top:n,left:n,right:n,bottom:n}),n}function Uq(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=cg(n),s=r.top,i=r.left,o=r.right,a=o===void 0?i:o,l=r.bottom,u=l===void 0?s:l,h=cg(e),p=h.top,m=h.left,y=h.right,b=y===void 0?m:y,v=h.bottom,_=v===void 0?p:v;return!(u-t<p||s+t>_||a-t<m||i+t>b)}function cg(n){if(!n.getBoundingClientRect)return n;var e=n.getBoundingClientRect(),t=e.left+Vq("left"),r=e.top+Vq("top");return{top:r,left:t,right:(n.offsetWidth||0)+t,bottom:(n.offsetHeight||0)+r}}function Vq(n){if(n==="left")return window.pageXOffset||document.body.scrollLeft||0;if(n==="top")return window.pageYOffset||document.body.scrollTop||0}var Nke=(function(n){function e(t,r){var s;return hs(this,e),s=mi(this,e,[t,r]),s.state={selecting:!1},s.containerRef=B.createRef(),s}return gi(e,n),fs(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,s=r.range,i=r.getNow,o=r.getters,a=r.date,l=r.components.dateCellWrapper,u=r.localizer,h=this.state,p=h.selecting,m=h.startIdx,y=h.endIdx,b=i();return ie.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},s.map(function(v,_){var E=p&&_>=m&&_<=y,x=o.dayProp(v),C=x.className,A=x.style;return ie.createElement(l,{key:_,value:v,range:s},ie.createElement("div",{style:A,className:kr("rbc-day-bg",C,E&&"rbc-selected-cell",u.isSameDate(v,b)&&"rbc-today",a&&u.neq(a,v,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,s=this.containerRef.current,i=this._selector=new OQ(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,u){if(!qA(s,l)&&!Mke(s,l)){var h=cg(s),p=r.props,m=p.range,y=p.rtl;if(Tke(h,l)){var b=DQ(h,l.x,y,m.length);r._selectSlot({startIdx:b,endIdx:b,action:u,box:l})}}r._initial={},r.setState({selecting:!1})};i.on("selecting",function(a){var l=r.props,u=l.range,h=l.rtl,p=-1,m=-1;if(r.state.selecting||(Qn(r.props.onSelectStart,[a]),r._initial={x:a.x,y:a.y}),i.isSelected(s)){var y=cg(s),b=xke(r._initial,y,a,u.length,h);p=b.startIdx,m=b.endIdx}r.setState({selecting:!0,startIdx:p,endIdx:m})}),i.on("beforeSelect",function(a){if(r.props.selectable==="ignoreEvents")return!qA(r.containerRef.current,a)}),i.on("click",function(a){return o(a,"click")}),i.on("doubleClick",function(a){return o(a,"doubleClick")}),i.on("select",function(a){r._selectSlot($n($n({},r.state),{},{action:"select",bounds:a})),r._initial={},r.setState({selecting:!1}),Qn(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var s=r.endIdx,i=r.startIdx,o=r.action,a=r.bounds,l=r.box;s!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:s,action:o,bounds:a,box:l,resourceId:this.props.resourceId})}}])})(ie.Component),Ac={propTypes:{slotMetrics:Pe.object.isRequired,selected:Pe.object,isAllDay:Pe.bool,accessors:Pe.object.isRequired,localizer:Pe.object.isRequired,components:Pe.object.isRequired,getters:Pe.object.isRequired,onSelect:Pe.func,onDoubleClick:Pe.func,onKeyPress:Pe.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,t){var r=e.selected;e.isAllDay;var s=e.accessors,i=e.getters,o=e.onSelect,a=e.onDoubleClick,l=e.onKeyPress,u=e.localizer,h=e.slotMetrics,p=e.components,m=e.resizable,y=h.continuesPrior(t),b=h.continuesAfter(t);return ie.createElement(kQ,{event:t,getters:i,localizer:u,accessors:s,components:p,onSelect:o,onDoubleClick:a,onKeyPress:l,continuesPrior:y,continuesAfter:b,slotStart:h.first,slotEnd:h.last,selected:JI(t,r),resizable:m})},renderSpan:function(e,t,r){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(t)/e*100+"%";return ie.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},s)}},LQ=(function(n){function e(){return hs(this,e),mi(this,e,arguments)}return gi(e,n),fs(e,[{key:"render",value:function(){var r=this,s=this.props,i=s.segments,o=s.slotMetrics.slots,a=s.className,l=1;return ie.createElement("div",{className:kr(a,"rbc-row")},i.reduce(function(u,h,p){var m=h.event,y=h.left,b=h.right,v=h.span,_="_lvl_"+p,E=y-l,x=Ac.renderEvent(r.props,m);return E&&u.push(Ac.renderSpan(o,E,"".concat(_,"_gap"))),u.push(Ac.renderSpan(o,v,_,x)),l=b+1,u},[]))}}])})(ie.Component);LQ.defaultProps=$n({},Ac.defaultProps);function NQ(n){var e=n.dateRange,t=n.unit,r=t===void 0?"day":t,s=n.localizer;return{first:e[0],last:s.add(e[e.length-1],1,r)}}function Fke(n,e,t,r){var s=NQ({dateRange:e,localizer:r}),i=s.first,o=s.last,a=r.diff(i,o,"day"),l=r.max(r.startOf(t.start(n),"day"),i),u=r.min(r.ceil(t.end(n),"day"),o),h=DRe(e,function(m){return r.isSameDate(m,l)}),p=r.diff(l,u,"day");return p=Math.min(p,a),p=Math.max(p-r.segmentOffset,1),{event:n,span:p,left:h+1,right:Math.max(h+p,1)}}function FQ(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,t,r,s,i=[],o=[];for(t=0;t<n.length;t++){for(s=n[t],r=0;r<i.length&&Bke(s,i[r]);r++);r>=e?o.push(s):(i[r]||(i[r]=[])).push(s)}for(t=0;t<i.length;t++)i[t].sort(function(a,l){return a.left-l.left});return{levels:i,extra:o}}function eS(n,e,t,r,s){var i={start:r.start(n),end:r.end(n)},o={start:e,end:t};return s.inEventRange({event:i,range:o})}function Bke(n,e){return e.some(function(t){return t.left<=n.right&&t.right>=n.left})}function $ke(n,e,t){var r=hx(n),s=[],i=[];r.forEach(function(l){var u=e.start(l),h=e.end(l);t.daySpan(u,h)>1?s.push(l):i.push(l)});var o=s.sort(function(l,u){return NN(l,u,e,t)}),a=i.sort(function(l,u){return NN(l,u,e,t)});return[].concat(hx(o),hx(a))}function NN(n,e,t,r){var s={start:t.start(n),end:t.end(n),allDay:t.allDay(n)},i={start:t.start(e),end:t.end(e),allDay:t.allDay(e)};return r.sortEvents({evtA:s,evtB:i})}var BQ=function(e,t){return e.left<=t&&e.right>=t},Hq=function(e,t){return e.filter(function(r){return BQ(r,t)}).map(function(r){return r.event})},$Q=(function(n){function e(){return hs(this,e),mi(this,e,arguments)}return gi(e,n),fs(e,[{key:"render",value:function(){for(var r=this.props,s=r.segments,i=r.slotMetrics.slots,o=FQ(s).levels[0],a=1,l=1,u=[];a<=i;){var h="_lvl_"+a,p=o.filter(function(x){return BQ(x,a)})[0]||{},m=p.event,y=p.left,b=p.right,v=p.span;if(!m){a++;continue}var _=Math.max(0,y-l);if(this.canRenderSlotEvent(y,v)){var E=Ac.renderEvent(this.props,m);_&&u.push(Ac.renderSpan(i,_,h+"_gap")),u.push(Ac.renderSpan(i,v,h,E)),l=a=b+1}else _&&u.push(Ac.renderSpan(i,_,h+"_gap")),u.push(Ac.renderSpan(i,1,h,this.renderShowMore(s,a))),l=a=a+1}return ie.createElement("div",{className:"rbc-row"},u)}},{key:"canRenderSlotEvent",value:function(r,s){var i=this.props.segments;return FRe(r,r+s).every(function(o){var a=Hq(i,o).length;return a===1})}},{key:"renderShowMore",value:function(r,s){var i=this,o=this.props,a=o.localizer,l=o.slotMetrics,u=o.components,h=l.getEventsForSlot(s),p=Hq(r,s),m=p.length;if(u!=null&&u.showMore){var y=u.showMore,b=l.getDateForSlot(s-1);return m?ie.createElement(y,{localizer:a,slotDate:b,slot:s,count:m,events:h,remainingEvents:p}):!1}return m?ie.createElement("button",{type:"button",key:"sm_"+s,className:kr("rbc-button-link","rbc-show-more"),onClick:function(_){return i.showMore(s,_)}},a.messages.showMore(m,p,h)):!1}},{key:"showMore",value:function(r,s){s.preventDefault(),s.stopPropagation(),this.props.onShowMore(r,s.target)}}])})(ie.Component);$Q.defaultProps=$n({},Ac.defaultProps);var jke=function(e){var t=e.children;return ie.createElement("div",{className:"rbc-row-content-scroll-container"},t)},Uke=function(e,t){return e.left<=t&&e.right>=t},Vke=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function jQ(){return gQ(function(n){for(var e=n.range,t=n.events,r=n.maxRows,s=n.minRows,i=n.accessors,o=n.localizer,a=NQ({dateRange:e,localizer:o}),l=a.first,u=a.last,h=t.map(function(v){return Fke(v,e,i,o)}),p=FQ(h,Math.max(r-1,1)),m=p.levels,y=p.extra,b=y.length>0?s-1:s;m.length<b;)m.push([]);return{first:l,last:u,levels:m,extra:y,range:e,slots:e.length,clone:function(_){var E=jQ();return E($n($n({},n),_))},getDateForSlot:function(_){return e[_]},getSlotForDate:function(_){return e.find(function(E){return o.isSameDate(E,_)})},getEventsForSlot:function(_){return h.filter(function(E){return Uke(E,_)}).map(function(E){return E.event})},continuesPrior:function(_){return o.continuesPrior(i.start(_),l)},continuesAfter:function(_){var E=i.start(_),x=i.end(_);return o.continuesAfter(E,x,u)}}},Vke)}var tS=(function(n){function e(){var t;hs(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return t=mi(this,e,[].concat(s)),t.handleSelectSlot=function(o){var a=t.props,l=a.range,u=a.onSelectSlot;u(l.slice(o.start,o.end+1),o)},t.handleShowMore=function(o,a){var l=t.props,u=l.range,h=l.onShowMore,p=t.slotMetrics(t.props),m=qxe(t.containerRef.current,".rbc-row-bg")[0],y;m&&(y=m.children[o-1]);var b=p.getEventsForSlot(o);h(b,u[o-1],y,o,a)},t.getContainer=function(){var o=t.props.container;return o?o():t.containerRef.current},t.renderHeadingCell=function(o,a){var l=t.props,u=l.renderHeader,h=l.getNow,p=l.localizer;return u({date:o,key:"header_".concat(a),className:kr("rbc-date-cell",p.isSameDate(o,h())&&"rbc-now")})},t.renderDummy=function(){var o=t.props,a=o.className,l=o.range,u=o.renderHeader,h=o.showAllEvents;return ie.createElement("div",{className:a,ref:t.containerRef},ie.createElement("div",{className:kr("rbc-row-content",h&&"rbc-row-content-scrollable")},u&&ie.createElement("div",{className:"rbc-row",ref:t.headingRowRef},l.map(t.renderHeadingCell)),ie.createElement("div",{className:"rbc-row",ref:t.eventRowRef},ie.createElement("div",{className:"rbc-row-segment"},ie.createElement("div",{className:"rbc-event"},ie.createElement("div",{className:"rbc-event-content"},""))))))},t.containerRef=B.createRef(),t.headingRowRef=B.createRef(),t.eventRowRef=B.createRef(),t.slotMetrics=jQ(),t}return gi(e,n),fs(e,[{key:"getRowLimit",value:function(){var r,s=C2(this.eventRowRef.current),i=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?C2(this.headingRowRef.current):0,o=C2(this.containerRef.current)-i;return Math.max(Math.floor(o/s),1)}},{key:"render",value:function(){var r=this.props,s=r.date,i=r.rtl,o=r.range,a=r.className,l=r.selected,u=r.selectable,h=r.renderForMeasure,p=r.accessors,m=r.getters,y=r.components,b=r.getNow,v=r.renderHeader,_=r.onSelect,E=r.localizer,x=r.onSelectStart,C=r.onSelectEnd,A=r.onDoubleClick,k=r.onKeyPress,L=r.resourceId,P=r.longPressThreshold,D=r.isAllDay,F=r.resizable,T=r.showAllEvents;if(h)return this.renderDummy();var $=this.slotMetrics(this.props),z=$.levels,j=$.extra,Y=T?jke:yu,Z=y.weekWrapper,J={selected:l,accessors:p,getters:m,localizer:E,components:y,onSelect:_,onDoubleClick:A,onKeyPress:k,resourceId:L,slotMetrics:$,resizable:F};return ie.createElement("div",{className:a,role:"rowgroup",ref:this.containerRef},ie.createElement(Nke,{localizer:E,date:s,getNow:b,rtl:i,range:o,selectable:u,container:this.getContainer,getters:m,onSelectStart:x,onSelectEnd:C,onSelectSlot:this.handleSelectSlot,components:y,longPressThreshold:P,resourceId:L}),ie.createElement("div",{className:kr("rbc-row-content",T&&"rbc-row-content-scrollable"),role:"row"},v&&ie.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),ie.createElement(Y,null,ie.createElement(Z,Object.assign({isAllDay:D},J,{rtl:this.props.rtl}),z.map(function(ee,Q){return ie.createElement(LQ,Object.assign({key:Q,segments:ee},J))}),!!j.length&&ie.createElement($Q,Object.assign({segments:j,onShowMore:this.handleShowMore},J))))))}}])})(ie.Component);tS.defaultProps={minRows:0,maxRows:1/0};var mU=function(e){var t=e.label;return ie.createElement("span",{role:"columnheader","aria-sort":"none"},t)},Hke=function(e){var t=e.label,r=e.drilldownView,s=e.onDrillDown;return r?ie.createElement("button",{type:"button",className:"rbc-button-link",onClick:s},t):ie.createElement("span",null,t)},zke=["date","className"],Wke=function(e,t,r,s,i){return e.filter(function(o){return eS(o,t,r,s,i)})},QI=(function(n){function e(){var t;hs(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return t=mi(this,e,[].concat(s)),t.getContainer=function(){return t.containerRef.current},t.renderWeek=function(o,a){var l=t.props,u=l.events,h=l.components,p=l.selectable,m=l.getNow,y=l.selected,b=l.date,v=l.localizer,_=l.longPressThreshold,E=l.accessors,x=l.getters,C=l.showAllEvents,A=t.state,k=A.needLimitMeasure,L=A.rowLimit,P=Wke(hx(u),o[0],o[o.length-1],E,v),D=$ke(P,E,v);return ie.createElement(tS,{key:a,ref:a===0?t.slotRowRef:void 0,container:t.getContainer,className:"rbc-month-row",getNow:m,date:b,range:o,events:D,maxRows:C?1/0:L,selected:y,selectable:p,components:h,accessors:E,getters:x,localizer:v,renderHeader:t.readerDateHeading,renderForMeasure:k,onShowMore:t.handleShowMore,onSelect:t.handleSelectEvent,onDoubleClick:t.handleDoubleClickEvent,onKeyPress:t.handleKeyPressEvent,onSelectSlot:t.handleSelectSlot,longPressThreshold:_,rtl:t.props.rtl,resizable:t.props.resizable,showAllEvents:C})},t.readerDateHeading=function(o){var a=o.date,l=o.className,u=Bc(o,zke),h=t.props,p=h.date,m=h.getDrilldownView,y=h.localizer,b=y.neq(a,p,"month"),v=y.isSameDate(a,p),_=m(a),E=y.format(a,"dateFormat"),x=t.props.components.dateHeader||Hke;return ie.createElement("div",Object.assign({},u,{className:kr(l,b&&"rbc-off-range",v&&"rbc-current"),role:"cell"}),ie.createElement(x,{label:E,date:a,drilldownView:_,isOffRange:b,onDrillDown:function(A){return t.handleHeadingClick(a,_,A)}}))},t.handleSelectSlot=function(o,a){t._pendingSelection=t._pendingSelection.concat(o),clearTimeout(t._selectTimer),t._selectTimer=setTimeout(function(){return t.selectDates(a)})},t.handleHeadingClick=function(o,a,l){l.preventDefault(),t.clearSelection(),Qn(t.props.onDrillDown,[o,a])},t.handleSelectEvent=function(){t.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Qn(t.props.onSelectEvent,a)},t.handleDoubleClickEvent=function(){t.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Qn(t.props.onDoubleClickEvent,a)},t.handleKeyPressEvent=function(){t.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Qn(t.props.onKeyPressEvent,a)},t.handleShowMore=function(o,a,l,u,h){var p=t.props,m=p.popup,y=p.onDrillDown,b=p.onShowMore,v=p.getDrilldownView,_=p.doShowMoreDrillDown;if(t.clearSelection(),m){var E=rQ(l,t.containerRef.current);t.setState({overlay:{date:a,events:o,position:E,target:h}})}else _&&Qn(y,[a,v(a)||Ii.DAY]);Qn(b,[o,a,u])},t.overlayDisplay=function(){t.setState({overlay:null})},t.state={rowLimit:5,needLimitMeasure:!0,date:null},t.containerRef=B.createRef(),t.slotRowRef=B.createRef(),t._bgRows=[],t._pendingSelection=[],t}return gi(e,n),fs(e,[{key:"componentDidMount",value:function(){var r=this,s;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){s||sQ(function(){s=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,s=r.date,i=r.localizer,o=r.className,a=i.visibleDays(s,i),l=kxe(a,7);return this._weekCount=l.length,ie.createElement("div",{className:kr("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},ie.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var s=this.props,i=s.localizer,o=s.components,a=r[0],l=r[r.length-1],u=o.header||mU;return i.range(a,l,"day").map(function(h,p){return ie.createElement("div",{key:"header_"+p,className:"rbc-header"},ie.createElement(u,{date:h,localizer:i,label:i.format(h,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,s,i=this,o=(r=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,u=a.localizer,h=a.components,p=a.getters,m=a.selected,y=a.popupOffset,b=a.handleDragStart,v=function(){return i.setState({overlay:null})};return ie.createElement(pU,{overlay:o,accessors:l,localizer:u,components:h,getters:p,selected:m,popupOffset:y,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:b,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:v})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var s=this._pendingSelection.slice();this._pendingSelection=[],s.sort(function(a,l){return+a-+l});var i=new Date(s[0]),o=new Date(s[s.length-1]);o.setDate(s[s.length-1].getDate()+1),Qn(this.props.onSelectSlot,{slots:s,start:i,end:o,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,s){var i=r.date,o=r.localizer;return{date:i,needLimitMeasure:o.neq(i,s.date,"month")}}}])})(ie.Component);QI.range=function(n,e){var t=e.localizer,r=t.firstVisibleDay(n,t),s=t.lastVisibleDay(n,t);return{start:r,end:s}};QI.navigate=function(n,e,t){var r=t.localizer;switch(e){case io.PREVIOUS:return r.add(n,-1,"month");case io.NEXT:return r.add(n,1,"month");default:return n}};QI.title=function(n,e){var t=e.localizer;return t.format(n,"monthHeaderFormat")};var zq=function(e){var t=e.min,r=e.max,s=e.step,i=e.slots,o=e.localizer;return"".concat(+o.startOf(t,"minutes"))+"".concat(+o.startOf(r,"minutes"))+"".concat(s,"-").concat(i)};function gU(n){for(var e=n.min,t=n.max,r=n.step,s=n.timeslots,i=n.localizer,o=zq({step:r,localizer:i}),a=1+i.getTotalMin(e,t),l=i.getMinutesFromMidnight(e),u=Math.ceil((a-1)/(r*s)),h=u*s,p=new Array(u),m=new Array(h),y=0;y<u;y++){p[y]=new Array(s);for(var b=0;b<s;b++){var v=y*s+b,_=v*r;m[v]=p[y][b]=i.getSlotDate(e,l,_)}}var E=m.length*r;m.push(i.getSlotDate(e,l,E));function x(C){var A=i.diff(e,C,"minutes")+i.getDstOffset(e,C);return Math.min(A,a)}return{groups:p,update:function(A){return zq(A)!==o?gU(A):this},dateIsInGroup:function(A,k){var L=p[k+1];return i.inRange(A,p[k][0],L?L[0]:t,"minutes")},nextSlot:function(A){var k=m[Math.min(m.findIndex(function(L){return L===A||i.eq(L,A)})+1,m.length-1)];return i.eq(k,A)&&(k=i.add(A,r,"minutes")),k},closestSlotToPosition:function(A){var k=Math.min(m.length-1,Math.max(0,Math.floor(A*h)));return m[k]},closestSlotFromPoint:function(A,k){var L=Math.abs(k.top-k.bottom);return this.closestSlotToPosition((A.y-k.top)/L)},closestSlotFromDate:function(A){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(A,e,"minutes"))return m[0];if(i.gt(A,t,"minutes"))return m[m.length-1];var L=i.diff(e,A,"minutes");return m[(L-L%r)/r+k]},startsBeforeDay:function(A){return i.lt(A,e,"day")},startsAfterDay:function(A){return i.gt(A,t,"day")},startsBefore:function(A){return i.lt(i.merge(e,A),e,"minutes")},startsAfter:function(A){return i.gt(i.merge(t,A),t,"minutes")},getRange:function(A,k,L,P){L||(A=i.min(t,i.max(e,A))),P||(k=i.min(t,i.max(e,k)));var D=x(A),F=x(k),T=F>r*h&&!i.eq(t,k)?(D-r)/(r*h)*100:D/(r*h)*100;return{top:T,height:F/(r*h)*100-T,start:x(A),startDate:A,end:x(k),endDate:k}},getCurrentTimePosition:function(A){var k=x(A),L=k/(r*h)*100;return L}}}var qke=(function(){function n(e,t){var r=t.accessors,s=t.slotMetrics;hs(this,n);var i=s.getRange(r.start(e),r.end(e)),o=i.start,a=i.startDate,l=i.end,u=i.endDate,h=i.top,p=i.height;this.start=o,this.end=l,this.startMs=+a,this.endMs=+u,this.top=h,this.height=p,this.data=e}return fs(n,[{key:"_width",get:function(){if(this.rows){var t=this.rows.reduce(function(s,i){return Math.max(s,i.leaves.length+1)},0)+1;return 100/t}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var t=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:t;var s=this.row.leaves,i=s.indexOf(this);return i===s.length-1?t:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var t=this.row,r=t.leaves,s=t.xOffset,i=t._width,o=r.indexOf(this)+1;return s+o*i}}])})();function Gke(n,e,t){return Math.abs(e.start-n.start)<t||e.start>n.start&&e.start<n.end}function Kke(n){for(var e=nIe(n,["startMs",function(a){return-a.endMs}]),t=[];e.length>0;){var r=e.shift();t.push(r);for(var s=0;s<e.length;s++){var i=e[s];if(!(r.endMs>i.startMs)){if(s>0){var o=e.splice(s,1)[0];t.push(o)}break}}}return t}function UQ(n){for(var e=n.events,t=n.minimumStartDifference,r=n.slotMetrics,s=n.accessors,i=e.map(function(h){return new qke(h,{slotMetrics:r,accessors:s})}),o=Kke(i),a=[],l=function(){var p=o[u],m=a.find(function(v){return v.end>p.start||Math.abs(p.start-v.start)<t});if(!m)return p.rows=[],a.push(p),1;p.container=m;for(var y=null,b=m.rows.length-1;!y&&b>=0;b--)Gke(m.rows[b],p,t)&&(y=m.rows[b]);y?(y.leaves.push(p),p.row=y):(p.leaves=[],m.rows.push(p))},u=0;u<o.length;u++)l();return o.map(function(h){return{event:h.data,style:{top:h.top,height:h.height,width:h.width,xOffset:Math.max(0,h.xOffset)}}})}function VQ(n,e,t){for(var r=0;r<n.friends.length;++r)if(!(t.indexOf(n.friends[r])>-1)){e=e>n.friends[r].idx?e:n.friends[r].idx,t.push(n.friends[r]);var s=VQ(n.friends[r],e,t);e=e>s?e:s}return e}function Yke(n){var e=n.events,t=n.minimumStartDifference,r=n.slotMetrics,s=n.accessors,i=UQ({events:e,minimumStartDifference:t,slotMetrics:r,accessors:s});i.sort(function(Z,J){return Z=Z.style,J=J.style,Z.top!==J.top?Z.top>J.top?1:-1:Z.height!==J.height?Z.top+Z.height<J.top+J.height?1:-1:0});for(var o=0;o<i.length;++o)i[o].friends=[],delete i[o].style.left,delete i[o].style.left,delete i[o].idx,delete i[o].size;for(var a=0;a<i.length-1;++a)for(var l=i[a],u=l.style.top,h=l.style.top+l.style.height,p=a+1;p<i.length;++p){var m=i[p],y=m.style.top,b=m.style.top+m.style.height;(y>=u&&b<=h||b>u&&b<=h||y>=u&&y<h)&&(l.friends.push(m),m.friends.push(l))}for(var v=0;v<i.length;++v){for(var _=i[v],E=[],x=0;x<100;++x)E.push(1);for(var C=0;C<_.friends.length;++C)_.friends[C].idx!==void 0&&(E[_.friends[C].idx]=0);_.idx=E.indexOf(1)}for(var A=0;A<i.length;++A){var k=0;if(!i[A].size){var L=[],P=VQ(i[A],0,L);k=100/(P+1),i[A].size=k;for(var D=0;D<L.length;++D)L[D].size=k}}for(var F=0;F<i.length;++F){var T=i[F];T.style.left=T.idx*T.size;for(var $=0,z=0;z<T.friends.length;++z){var j=T.friends[z].idx;$=$>j?$:j}$<=T.idx&&(T.size=100-T.idx*T.size);var Y=T.idx===0?0:3;T.style.width="calc(".concat(T.size,"% - ").concat(Y,"px)"),T.style.height="calc(".concat(T.style.height,"% - 2px)"),T.style.xOffset="calc(".concat(T.style.left,"% + ").concat(Y,"px)")}return i}var Wq={overlap:UQ,"no-overlap":Yke};function Xke(n){return!!(n&&n.constructor&&n.call&&n.apply)}function Jke(n){n.events,n.minimumStartDifference,n.slotMetrics,n.accessors;var e=n.dayLayoutAlgorithm,t=e;return e in Wq&&(t=Wq[e]),Xke(t)?t.apply(this,arguments):[]}var HQ=(function(n){function e(){return hs(this,e),mi(this,e,arguments)}return gi(e,n),fs(e,[{key:"render",value:function(){var r=this.props,s=r.renderSlot,i=r.resource,o=r.group,a=r.getters,l=r.components,u=l===void 0?{}:l,h=u.timeSlotWrapper,p=h===void 0?yu:h,m=a?a.slotGroupProp(o):{};return ie.createElement("div",Object.assign({className:"rbc-timeslot-group"},m),o.map(function(y,b){var v=a?a.slotProp(y,i):{};return ie.createElement(p,{key:b,value:y,resource:i},ie.createElement("div",Object.assign({},v,{className:kr("rbc-time-slot",v.className)}),s&&s(y,b)))}))}}])})(B.Component);function MT(n){return typeof n=="string"?n:n+"%"}function Qke(n){var e=n.style,t=n.className,r=n.event,s=n.accessors,i=n.rtl,o=n.selected,a=n.label,l=n.continuesPrior,u=n.continuesAfter,h=n.getters,p=n.onClick,m=n.onDoubleClick,y=n.isBackgroundEvent,b=n.onKeyPress,v=n.components,_=v.event,E=v.eventWrapper,x=s.title(r),C=s.tooltip(r),A=s.end(r),k=s.start(r),L=h.eventProp(r,k,A,o),P=[ie.createElement("div",{key:"1",className:"rbc-event-label"},a),ie.createElement("div",{key:"2",className:"rbc-event-content"},_?ie.createElement(_,{event:r,title:x}):x)],D=e.height,F=e.top,T=e.width,$=e.xOffset,z=$n($n({},L.style),{},vp({top:MT(F),height:MT(D),width:MT(T)},i?"right":"left",MT($)));return ie.createElement(E,Object.assign({type:"time"},n),ie.createElement("div",{role:"button",tabIndex:0,onClick:p,onDoubleClick:m,style:z,onKeyDown:b,title:C?(typeof a=="string"?a+": ":"")+C:void 0,className:kr(y?"rbc-background-event":"rbc-event",t,L.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":u})},P))}var Zke=function(e){var t=e.children,r=e.className,s=e.style,i=e.innerRef;return ie.createElement("div",{className:r,style:s,ref:i},t)},ePe=ie.forwardRef(function(n,e){return ie.createElement(Zke,Object.assign({},n,{innerRef:e}))}),tPe=["dayProp"],nPe=["eventContainerWrapper"],zQ=(function(n){function e(){var t;hs(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return t=mi(this,e,[].concat(s)),t.state={selecting:!1,timeIndicatorPosition:null},t.intervalTriggered=!1,t.renderEvents=function(o){var a=o.events,l=o.isBackgroundEvent,u=t.props,h=u.rtl,p=u.selected,m=u.accessors,y=u.localizer,b=u.getters,v=u.components,_=u.step,E=u.timeslots,x=u.dayLayoutAlgorithm,C=u.resizable,A=t,k=A.slotMetrics,L=y.messages,P=Jke({events:a,accessors:m,slotMetrics:k,minimumStartDifference:Math.ceil(_*E/2),dayLayoutAlgorithm:x});return P.map(function(D,F){var T,$=D.event,z=D.style,j=m.end($),Y=m.start($),Z=(T=m.eventId($))!==null&&T!==void 0?T:"evt_"+F,J="eventTimeRangeFormat",ee,Q=k.startsBeforeDay(Y),te=k.startsAfterDay(j);Q?J="eventTimeRangeEndFormat":te&&(J="eventTimeRangeStartFormat"),Q&&te?ee=L.allDay:ee=y.format({start:Y,end:j},J);var de=Q||k.startsBefore(Y),q=te||k.startsAfter(j);return ie.createElement(Qke,{style:z,event:$,label:ee,key:Z,getters:b,rtl:h,components:v,continuesPrior:de,continuesAfter:q,accessors:m,resource:t.props.resource,selected:JI($,p),onClick:function(ne){return t._select($n($n($n({},$),t.props.resource&&{sourceResource:t.props.resource}),l&&{isBackgroundEvent:!0}),ne)},onDoubleClick:function(ne){return t._doubleClick($,ne)},isBackgroundEvent:l,onKeyPress:function(ne){return t._keyPress($,ne)},resizable:C})})},t._selectable=function(){var o=t.containerRef.current,a=t.props,l=a.longPressThreshold,u=a.localizer,h=t._selector=new OQ(function(){return o},{longPressThreshold:l}),p=function(v){var _=t.props.onSelecting,E=t.state||{},x=m(v),C=x.startDate,A=x.endDate;_&&(u.eq(E.startDate,C,"minutes")&&u.eq(E.endDate,A,"minutes")||_({start:C,end:A,resourceId:t.props.resource})===!1)||(t.state.start!==x.start||t.state.end!==x.end||t.state.selecting!==x.selecting)&&t.setState(x)},m=function(v){var _=t.slotMetrics.closestSlotFromPoint(v,cg(o));t.state.selecting||(t._initialSlot=_);var E=t._initialSlot;u.lte(E,_)?_=t.slotMetrics.nextSlot(_):u.gt(E,_)&&(E=t.slotMetrics.nextSlot(E));var x=t.slotMetrics.getRange(u.min(E,_),u.max(E,_));return $n($n({},x),{},{selecting:!0,top:"".concat(x.top,"%"),height:"".concat(x.height,"%")})},y=function(v,_){if(!qA(t.containerRef.current,v)){var E=m(v),x=E.startDate,C=E.endDate;t._selectSlot({startDate:x,endDate:C,action:_,box:v})}t.setState({selecting:!1})};h.on("selecting",p),h.on("selectStart",p),h.on("beforeSelect",function(b){if(t.props.selectable==="ignoreEvents")return!qA(t.containerRef.current,b)}),h.on("click",function(b){return y(b,"click")}),h.on("doubleClick",function(b){return y(b,"doubleClick")}),h.on("select",function(b){t.state.selecting&&(t._selectSlot($n($n({},t.state),{},{action:"select",bounds:b})),t.setState({selecting:!1}))}),h.on("reset",function(){t.state.selecting&&t.setState({selecting:!1})})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t._selectSlot=function(o){for(var a=o.startDate,l=o.endDate,u=o.action,h=o.bounds,p=o.box,m=a,y=[];t.props.localizer.lte(m,l);)y.push(m),m=new Date(+m+t.props.step*60*1e3);Qn(t.props.onSelectSlot,{slots:y,start:a,end:l,resourceId:t.props.resource,action:u,bounds:h,box:p})},t._select=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Qn(t.props.onSelectEvent,a)},t._doubleClick=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Qn(t.props.onDoubleClickEvent,a)},t._keyPress=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Qn(t.props.onKeyPressEvent,a)},t.slotMetrics=gU(t.props),t.containerRef=B.createRef(),t}return gi(e,n),fs(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,s){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var i=this.props,o=i.getNow,a=i.isNow,l=i.localizer,u=i.date,h=i.min,p=i.max,m=l.neq(r.getNow(),o(),"minutes");if(r.isNow!==a||m){if(this.clearTimeIndicatorInterval(),a){var y=!m&&l.eq(r.date,u,"minutes")&&s.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(y)}}else a&&(l.neq(r.min,h,"minutes")||l.neq(r.max,p,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!s&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,s=r.min,i=r.max,o=r.getNow,a=o();if(a>=s&&a<=i){var l=this.slotMetrics.getCurrentTimePosition(a);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,s=r.date,i=r.max,o=r.rtl,a=r.isNow,l=r.resource,u=r.accessors,h=r.localizer,p=r.getters,m=p.dayProp,y=Bc(p,tPe),b=r.components,v=b.eventContainerWrapper,_=Bc(b,nPe);this.slotMetrics=this.slotMetrics.update(this.props);var E=this.slotMetrics,x=this.state,C=x.selecting,A=x.top,k=x.height,L=x.startDate,P=x.endDate,D={start:L,end:P},F=m(i,l),T=F.className,$=F.style,z=_.dayColumnWrapper||ePe;return ie.createElement(z,{ref:this.containerRef,date:s,style:$,className:kr(T,"rbc-day-slot","rbc-time-column",a&&"rbc-now",a&&"rbc-today",C&&"rbc-slot-selecting"),slotMetrics:E,resource:l},E.groups.map(function(j,Y){return ie.createElement(HQ,{key:Y,group:j,resource:l,getters:y,components:_})}),ie.createElement(v,{localizer:h,resource:l,accessors:u,getters:y,components:_,slotMetrics:E},ie.createElement("div",{className:kr("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),C&&ie.createElement("div",{className:"rbc-slot-selection",style:{top:A,height:k}},ie.createElement("span",null,h.format(D,"selectRangeFormat"))),a&&this.intervalTriggered&&ie.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])})(ie.Component);zQ.defaultProps={dragThroughEvents:!0,timeslots:2};var WQ=function(e){var t=e.label;return ie.createElement(ie.Fragment,null,t)},rPe=(function(n){function e(){var t;hs(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return t=mi(this,e,[].concat(s)),t.handleHeaderClick=function(o,a,l){l.preventDefault(),Qn(t.props.onDrillDown,[o,a])},t.renderRow=function(o){var a=t.props,l=a.events,u=a.rtl,h=a.selectable,p=a.getNow,m=a.range,y=a.getters,b=a.localizer,v=a.accessors,_=a.components,E=a.resizable,x=v.resourceId(o),C=o?l.filter(function(A){return v.resource(A)===x}):l;return ie.createElement(tS,{isAllDay:!0,rtl:u,getNow:p,minRows:2,maxRows:t.props.allDayMaxRows+1,range:m,events:C,resourceId:x,className:"rbc-allday-cell",selectable:h,selected:t.props.selected,components:_,accessors:v,getters:y,localizer:b,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyPress:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:E})},t}return gi(e,n),fs(e,[{key:"renderHeaderCells",value:function(r){var s=this,i=this.props,o=i.localizer,a=i.getDrilldownView,l=i.getNow,u=i.getters.dayProp,h=i.components.header,p=h===void 0?mU:h,m=l();return r.map(function(y,b){var v=a(y),_=o.format(y,"dayFormat"),E=u(y),x=E.className,C=E.style,A=ie.createElement(p,{date:y,label:_,localizer:o});return ie.createElement("div",{key:b,style:C,className:kr("rbc-header",x,o.isSameDate(y,m)&&"rbc-today")},v?ie.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(L){return s.handleHeaderClick(y,v,L)}},A):ie.createElement("span",null,A))})}},{key:"render",value:function(){var r=this,s=this.props,i=s.width,o=s.rtl,a=s.resources,l=s.range,u=s.events,h=s.getNow,p=s.accessors,m=s.selectable,y=s.components,b=s.getters,v=s.scrollRef,_=s.localizer,E=s.isOverflowing,x=s.components,C=x.timeGutterHeader,A=x.resourceHeader,k=A===void 0?WQ:A,L=s.resizable,P={};E&&(P[o?"marginLeft":"marginRight"]="".concat(Yj()-1,"px"));var D=a.groupEvents(u);return ie.createElement("div",{style:P,ref:v,className:kr("rbc-time-header",E&&"rbc-overflowing")},ie.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},C&&ie.createElement(C,null)),a.map(function(F,T){var $=Aa(F,2),z=$[0],j=$[1];return ie.createElement("div",{className:"rbc-time-header-content",key:z||T},j&&ie.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(T)},ie.createElement("div",{className:"rbc-header"},ie.createElement(k,{index:T,label:p.resourceTitle(j),resource:j}))),ie.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(l)),ie.createElement(tS,{isAllDay:!0,rtl:o,getNow:h,minRows:2,maxRows:r.props.allDayMaxRows+1,range:l,events:D.get(z)||[],resourceId:j&&z,className:"rbc-allday-cell",selectable:m,selected:r.props.selected,components:y,accessors:p,getters:b,localizer:_,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:L}))}))}}])})(ie.Component),sPe=(function(n){function e(){var t;hs(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return t=mi(this,e,[].concat(s)),t.handleHeaderClick=function(o,a,l){l.preventDefault(),Qn(t.props.onDrillDown,[o,a])},t}return gi(e,n),fs(e,[{key:"renderHeaderCells",value:function(r){var s=this,i=this.props,o=i.localizer,a=i.getDrilldownView,l=i.getNow,u=i.getters.dayProp,h=i.components,p=h.header,m=p===void 0?mU:p,y=h.resourceHeader,b=y===void 0?WQ:y,v=i.resources,_=i.accessors,E=i.events,x=i.rtl,C=i.selectable,A=i.components,k=i.getters,L=i.resizable,P=l(),D=v.groupEvents(E);return r.map(function(F,T){var $=a(F),z=o.format(F,"dayFormat"),j=u(F),Y=j.className,Z=j.style,J=ie.createElement(m,{date:F,label:z,localizer:o});return ie.createElement("div",{key:T,className:"rbc-time-header-content rbc-resource-grouping"},ie.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},ie.createElement("div",{style:Z,className:kr("rbc-header",Y,o.isSameDate(F,P)&&"rbc-today")},$?ie.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(Q){return s.handleHeaderClick(F,$,Q)}},J):ie.createElement("span",null,J))),ie.createElement("div",{className:"rbc-row"},v.map(function(ee,Q){var te=Aa(ee,2),de=te[0],q=te[1];return ie.createElement("div",{key:"resource_".concat(de,"_").concat(Q),className:kr("rbc-header",Y,o.isSameDate(F,P)&&"rbc-today")},ie.createElement(b,{index:Q,label:_.resourceTitle(q),resource:q}))})),ie.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},v.map(function(ee,Q){var te=Aa(ee,2),de=te[0],q=te[1],K=(D.get(de)||[]).filter(function(ne){return o.isSameDate(ne.start,F)||o.isSameDate(ne.end,F)});return ie.createElement(tS,{key:"resource_".concat(de,"_").concat(Q),isAllDay:!0,rtl:x,getNow:l,minRows:2,maxRows:s.props.allDayMaxRows+1,range:[F],events:K,resourceId:q&&de,className:"rbc-allday-cell",selectable:C,selected:s.props.selected,components:A,accessors:_,getters:k,localizer:o,onSelect:s.props.onSelectEvent,onShowMore:s.props.onShowMore,onDoubleClick:s.props.onDoubleClickEvent,onKeyDown:s.props.onKeyPressEvent,onSelectSlot:s.props.onSelectSlot,longPressThreshold:s.props.longPressThreshold,resizable:L})})))})}},{key:"render",value:function(){var r=this.props,s=r.width,i=r.rtl,o=r.range,a=r.scrollRef,l=r.isOverflowing,u=r.components.timeGutterHeader,h={};return l&&(h[i?"marginLeft":"marginRight"]="".concat(Yj()-1,"px")),ie.createElement("div",{style:h,ref:a,className:kr("rbc-time-header",l&&"rbc-overflowing")},ie.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},u&&ie.createElement(u,null)),this.renderHeaderCells(o))}}])})(ie.Component);function iPe(n){var e=n.min,t=n.max,r=n.localizer;return r.getTimezoneOffset(e)!==r.getTimezoneOffset(t)?{start:r.add(e,-1,"day"),end:r.add(t,-1,"day")}:{start:e,end:t}}var oPe=function(e){var t=e.min,r=e.max,s=e.timeslots,i=e.step,o=e.localizer,a=e.getNow,l=e.resource,u=e.components,h=e.getters,p=e.gutterRef,m=u.timeGutterWrapper,y=B.useMemo(function(){return iPe({min:t,max:r,localizer:o})},[t==null?void 0:t.toISOString(),r==null?void 0:r.toISOString(),o]),b=y.start,v=y.end,_=B.useState(gU({min:b,max:v,timeslots:s,step:i,localizer:o})),E=Aa(_,2),x=E[0],C=E[1];B.useEffect(function(){x&&C(x.update({min:b,max:v,timeslots:s,step:i,localizer:o}))},[b==null?void 0:b.toISOString(),v==null?void 0:v.toISOString(),s,i]);var A=B.useCallback(function(k,L){if(L)return null;var P=x.dateIsInGroup(a(),L);return ie.createElement("span",{className:kr("rbc-label",P&&"rbc-now")},o.format(k,"timeGutterFormat"))},[x,o,a]);return ie.createElement(m,{slotMetrics:x},ie.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:p},x.groups.map(function(k,L){return ie.createElement(HQ,{key:L,group:k,resource:l,components:u,renderSlot:A,getters:h})})))},aPe=ie.forwardRef(function(n,e){return ie.createElement(oPe,Object.assign({gutterRef:e},n))}),lL={};function lPe(n,e){return{map:function(r){return n?n.map(function(s,i){return r([e.resourceId(s),s],i)}):[r([lL,null],0)]},groupEvents:function(r){var s=new Map;return n?(r.forEach(function(i){var o=e.resource(i)||lL;if(Array.isArray(o))o.forEach(function(l){var u=s.get(l)||[];u.push(i),s.set(l,u)});else{var a=s.get(o)||[];a.push(i),s.set(o,a)}}),s):(s.set(lL,r),s)}}}var yw=(function(n){function e(t){var r;return hs(this,e),r=mi(this,e,[t]),r.handleScroll=function(s){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=s.target.scrollLeft)},r.handleResize=function(){pz(r.rafHandle),r.rafHandle=sQ(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];Qn(r.props.onKeyPressEvent,i)},r.handleSelectEvent=function(){r.clearSelection();for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];Qn(r.props.onSelectEvent,i)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];Qn(r.props.onDoubleClickEvent,i)},r.handleShowMore=function(s,i,o,a,l){var u=r.props,h=u.popup,p=u.onDrillDown,m=u.onShowMore,y=u.getDrilldownView,b=u.doShowMoreDrillDown;if(r.clearSelection(),h){var v=rQ(o,r.containerRef.current);r.setState({overlay:{date:i,events:s,position:$n($n({},v),{},{width:"200px"}),target:l}})}else b&&Qn(p,[i,y(i)||Ii.DAY]);Qn(m,[s,i,a])},r.handleSelectAllDaySlot=function(s,i){var o=r.props.onSelectSlot,a=new Date(s[0]),l=new Date(s[s.length-1]);l.setDate(s[s.length-1].getDate()+1),Qn(o,{slots:s,start:a,end:l,action:i.action,resourceId:i.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var s=r.contentRef.current;if(s!=null&&s.scrollHeight){var i=s.scrollHeight>s.clientHeight;r.state.isOverflowing!==i&&(r._updatingOverflow=!0,r.setState({isOverflowing:i},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=gQ(function(s,i){return lPe(s,i)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=ie.createRef(),r.contentRef=ie.createRef(),r.containerRef=ie.createRef(),r._scrollRatio=null,r.gutterRef=B.createRef(),r}return gi(e,n),fs(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),pz(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,s,i,o,a,l,u,h,p,m){var y=this.props,b=y.min,v=y.max,_=(o.get(s)||[]).filter(function(x){return l.inRange(r,u.start(x),u.end(x),"day")}),E=(a.get(s)||[]).filter(function(x){return l.inRange(r,u.start(x),u.end(x),"day")});return ie.createElement(zQ,Object.assign({},this.props,{localizer:l,min:l.merge(r,b),max:l.merge(r,v),resource:i&&s,components:h,isNow:l.isSameDate(r,m),key:"".concat(s,"-").concat(r),date:r,events:_,backgroundEvents:E,dayLayoutAlgorithm:p}))}},{key:"renderResourcesFirst",value:function(r,s,i,o,a,l,u,h,p){var m=this;return s.map(function(y){var b=Aa(y,2),v=b[0],_=b[1];return r.map(function(E){return m.renderDayColumn(E,v,_,i,o,a,l,h,p,u)})})}},{key:"renderRangeFirst",value:function(r,s,i,o,a,l,u,h,p){var m=this;return r.map(function(y){return ie.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:y},s.map(function(b){var v=Aa(b,2),_=v[0],E=v[1];return ie.createElement("div",{style:{flex:1},key:l.resourceId(E)},m.renderDayColumn(y,_,E,i,o,a,l,h,p,u))}))})}},{key:"renderEvents",value:function(r,s,i,o){var a=this.props,l=a.accessors,u=a.localizer,h=a.resourceGroupingLayout,p=a.components,m=a.dayLayoutAlgorithm,y=this.memoizedResources(this.props.resources,l),b=y.groupEvents(s),v=y.groupEvents(i);return h?this.renderRangeFirst(r,y,b,v,u,l,o,p,m):this.renderResourcesFirst(r,y,b,v,u,l,o,p,m)}},{key:"render",value:function(){var r,s=this.props,i=s.events,o=s.backgroundEvents,a=s.range,l=s.width,u=s.rtl,h=s.selected,p=s.getNow,m=s.resources,y=s.components,b=s.accessors,v=s.getters,_=s.localizer,E=s.min,x=s.max,C=s.showMultiDayTimes,A=s.longPressThreshold,k=s.resizable,L=s.resourceGroupingLayout;l=l||this.state.gutterWidth;var P=a[0],D=a[a.length-1];this.slots=a.length;var F=[],T=[],$=[];i.forEach(function(j){if(eS(j,P,D,b,_)){var Y=b.start(j),Z=b.end(j);b.allDay(j)||_.startAndEndAreDateOnly(Y,Z)||!C&&!_.isSameDate(Y,Z)?F.push(j):T.push(j)}}),o.forEach(function(j){eS(j,P,D,b,_)&&$.push(j)}),F.sort(function(j,Y){return NN(j,Y,b,_)});var z={range:a,events:F,width:l,rtl:u,getNow:p,localizer:_,selected:h,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(m,b),selectable:this.props.selectable,accessors:b,getters:v,components:y,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:A,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:k};return ie.createElement("div",{className:kr("rbc-time-view",m&&"rbc-time-view-resources"),ref:this.containerRef},m&&m.length>1&&L?ie.createElement(sPe,z):ie.createElement(rPe,z),this.props.popup&&this.renderOverlay(),ie.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},ie.createElement(aPe,{date:P,ref:this.gutterRef,localizer:_,min:_.merge(P,E),max:_.merge(P,x),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:y,className:"rbc-time-gutter",getters:v}),this.renderEvents(a,T,$,p())))}},{key:"renderOverlay",value:function(){var r,s,i=this,o=(r=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,u=a.localizer,h=a.components,p=a.getters,m=a.selected,y=a.popupOffset,b=a.handleDragStart,v=function(){return i.setState({overlay:null})};return ie.createElement(pU,{overlay:o,accessors:l,localizer:u,components:h,getters:p,selected:m,popupOffset:y,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:b,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:v})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var s,i=(s=r.gutterRef)!==null&&s!==void 0&&s.current?ON(r.gutterRef.current):void 0;i&&r.state.gutterWidth!==i&&r.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,s=r.min,i=r.max,o=r.scrollToTime,a=r.localizer,l=a.diff(a.merge(o,s),o,"milliseconds"),u=a.diff(s,i,"milliseconds");this._scrollRatio=l/u}}])})(B.Component);yw.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var cPe=["date","localizer","min","max","scrollToTime","enableAutoScroll"],ZI=(function(n){function e(){return hs(this,e),mi(this,e,arguments)}return gi(e,n),fs(e,[{key:"render",value:function(){var r=this.props,s=r.date,i=r.localizer,o=r.min,a=o===void 0?i.startOf(new Date,"day"):o,l=r.max,u=l===void 0?i.endOf(new Date,"day"):l,h=r.scrollToTime,p=h===void 0?i.startOf(new Date,"day"):h,m=r.enableAutoScroll,y=m===void 0?!0:m,b=Bc(r,cPe),v=e.range(s,{localizer:i});return ie.createElement(yw,Object.assign({},b,{range:v,eventOffset:10,localizer:i,min:a,max:u,scrollToTime:p,enableAutoScroll:y}))}}])})(ie.Component);ZI.range=function(n,e){var t=e.localizer;return[t.startOf(n,"day")]};ZI.navigate=function(n,e,t){var r=t.localizer;switch(e){case io.PREVIOUS:return r.add(n,-1,"day");case io.NEXT:return r.add(n,1,"day");default:return n}};ZI.title=function(n,e){var t=e.localizer;return t.format(n,"dayHeaderFormat")};var uPe=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Cf=(function(n){function e(){return hs(this,e),mi(this,e,arguments)}return gi(e,n),fs(e,[{key:"render",value:function(){var r=this.props,s=r.date,i=r.localizer,o=r.min,a=o===void 0?i.startOf(new Date,"day"):o,l=r.max,u=l===void 0?i.endOf(new Date,"day"):l,h=r.scrollToTime,p=h===void 0?i.startOf(new Date,"day"):h,m=r.enableAutoScroll,y=m===void 0?!0:m,b=Bc(r,uPe),v=e.range(s,this.props);return ie.createElement(yw,Object.assign({},b,{range:v,eventOffset:15,localizer:i,min:a,max:u,scrollToTime:p,enableAutoScroll:y}))}}])})(ie.Component);Cf.defaultProps=yw.defaultProps;Cf.navigate=function(n,e,t){var r=t.localizer;switch(e){case io.PREVIOUS:return r.add(n,-1,"week");case io.NEXT:return r.add(n,1,"week");default:return n}};Cf.range=function(n,e){var t=e.localizer,r=t.startOfWeek(),s=t.startOf(n,"week",r),i=t.endOf(n,"week",r);return t.range(s,i)};Cf.title=function(n,e){var t=e.localizer,r=Cf.range(n,{localizer:t}),s=SQ(r),i=s[0],o=s.slice(1);return t.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var dPe=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function yU(n,e){return Cf.range(n,e).filter(function(t){return[6,0].indexOf(t.getDay())===-1})}var L1=(function(n){function e(){return hs(this,e),mi(this,e,arguments)}return gi(e,n),fs(e,[{key:"render",value:function(){var r=this.props,s=r.date,i=r.localizer,o=r.min,a=o===void 0?i.startOf(new Date,"day"):o,l=r.max,u=l===void 0?i.endOf(new Date,"day"):l,h=r.scrollToTime,p=h===void 0?i.startOf(new Date,"day"):h,m=r.enableAutoScroll,y=m===void 0?!0:m,b=Bc(r,dPe),v=yU(s,this.props);return ie.createElement(yw,Object.assign({},b,{range:v,eventOffset:15,localizer:i,min:a,max:u,scrollToTime:p,enableAutoScroll:y}))}}])})(ie.Component);L1.defaultProps=yw.defaultProps;L1.range=yU;L1.navigate=Cf.navigate;L1.title=function(n,e){var t=e.localizer,r=yU(n,{localizer:t}),s=SQ(r),i=s[0],o=s.slice(1);return t.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var ek=30;function tk(n){var e=n.accessors,t=n.components,r=n.date,s=n.events,i=n.getters,o=n.length,a=o===void 0?ek:o,l=n.localizer,u=n.onDoubleClickEvent,h=n.onSelectEvent,p=n.selected,m=B.useRef(null),y=B.useRef(null),b=B.useRef(null),v=B.useRef(null),_=B.useRef(null);B.useEffect(function(){C()});var E=function(D,F,T){var $=t.event,z=t.date;return F=F.filter(function(j){return eS(j,l.startOf(D,"day"),l.endOf(D,"day"),e,l)}),F.map(function(j,Y){var Z=e.title(j),J=e.end(j),ee=e.start(j),Q=i.eventProp(j,ee,J,JI(j,p)),te=Y===0&&l.format(D,"agendaDateFormat"),de=Y===0?ie.createElement("td",{rowSpan:F.length,className:"rbc-agenda-date-cell"},z?ie.createElement(z,{day:D,label:te}):te):!1;return ie.createElement("tr",{key:T+"_"+Y,className:Q.className,style:Q.style},de,ie.createElement("td",{className:"rbc-agenda-time-cell"},x(D,j)),ie.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(K){return h&&h(j,K)},onDoubleClick:function(K){return u&&u(j,K)}},$?ie.createElement($,{event:j,title:Z}):Z))},[])},x=function(D,F){var T="",$=t.time,z=l.messages.allDay,j=e.end(F),Y=e.start(F);return e.allDay(F)||(l.eq(Y,j)?z=l.format(Y,"agendaTimeFormat"):l.isSameDate(Y,j)?z=l.format({start:Y,end:j},"agendaTimeRangeFormat"):l.isSameDate(D,Y)?z=l.format(Y,"agendaTimeFormat"):l.isSameDate(D,j)&&(z=l.format(j,"agendaTimeFormat"))),l.gt(D,Y,"day")&&(T="rbc-continues-prior"),l.lt(D,j,"day")&&(T+=" rbc-continues-after"),ie.createElement("span",{className:T.trim()},$?ie.createElement($,{event:F,day:D,label:z}):z)},C=function(){if(_.current){var D=m.current,F=_.current.firstChild;if(F){var T=v.current.scrollHeight>v.current.clientHeight,$=[],z=$;$=[ON(F.children[0]),ON(F.children[1])],(z[0]!==$[0]||z[1]!==$[1])&&(y.current.style.width=$[0]+"px",b.current.style.width=$[1]+"px"),T?(Ofe(D,"rbc-header-overflowing"),D.style.marginRight=Yj()+"px"):Lfe(D,"rbc-header-overflowing")}}},A=l.messages,k=l.add(r,a,"day"),L=l.range(r,k,"day");return s=s.filter(function(P){return eS(P,l.startOf(r,"day"),l.endOf(k,"day"),e,l)}),s.sort(function(P,D){return+e.start(P)-+e.start(D)}),ie.createElement("div",{className:"rbc-agenda-view"},s.length!==0?ie.createElement(ie.Fragment,null,ie.createElement("table",{ref:m,className:"rbc-agenda-table"},ie.createElement("thead",null,ie.createElement("tr",null,ie.createElement("th",{className:"rbc-header",ref:y},A.date),ie.createElement("th",{className:"rbc-header",ref:b},A.time),ie.createElement("th",{className:"rbc-header"},A.event)))),ie.createElement("div",{className:"rbc-agenda-content",ref:v},ie.createElement("table",{className:"rbc-agenda-table"},ie.createElement("tbody",{ref:_},L.map(function(P,D){return E(P,s,D)}))))):ie.createElement("span",{className:"rbc-agenda-empty"},A.noEventsInRange))}tk.range=function(n,e){var t=e.length,r=t===void 0?ek:t,s=e.localizer,i=s.add(n,r,"day");return{start:n,end:i}};tk.navigate=function(n,e,t){var r=t.length,s=r===void 0?ek:r,i=t.localizer;switch(e){case io.PREVIOUS:return i.add(n,-s,"day");case io.NEXT:return i.add(n,s,"day");default:return n}};tk.title=function(n,e){var t=e.length,r=t===void 0?ek:t,s=e.localizer,i=s.add(n,r,"day");return s.format({start:n,end:i},"agendaHeaderFormat")};var bx=vp(vp(vp(vp(vp({},Ii.MONTH,QI),Ii.WEEK,Cf),Ii.WORK_WEEK,L1),Ii.DAY,ZI),Ii.AGENDA,tk),hPe=["action","date","today"];function fPe(n,e){var t=e.action,r=e.date,s=e.today,i=Bc(e,hPe);switch(n=typeof n=="string"?bx[n]:n,t){case io.TODAY:r=s||new Date;break;case io.DATE:break;default:z_(n&&typeof n.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=n.navigate(r,t,i)}return r}function pPe(n,e){var t=null;return typeof e=="function"?t=e(n):typeof e=="string"&&Td(n)==="object"&&n!=null&&e in n&&(t=n[e]),t}var hu=function(e){return function(t){return pPe(t,e)}},mPe=["view","date","getNow","onNavigate"],gPe=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function qQ(n){if(Array.isArray(n))return n;for(var e=[],t=0,r=Object.entries(n);t<r.length;t++){var s=Aa(r[t],2),i=s[0],o=s[1];o&&e.push(i)}return e}function yPe(n,e){var t=e.views,r=qQ(t);return r.indexOf(n)!==-1}var GQ=(function(n){function e(){var t;hs(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return t=mi(this,e,[].concat(s)),t.getViews=function(){var o=t.props.views;return Array.isArray(o)?UIe(o,function(a,l){return a[l]=bx[l]},{}):Td(o)==="object"?uIe(o,function(a,l){return a===!0?bx[l]:a}):bx},t.getView=function(){var o=t.getViews();return o[t.props.view]},t.getDrilldownView=function(o){var a=t.props,l=a.view,u=a.drilldownView,h=a.getDrilldownView;return h?h(o,l,Object.keys(t.getViews())):u},t.handleRangeChange=function(o,a,l){var u=t.props,h=u.onRangeChange,p=u.localizer;h&&a.range&&h(a.range(o,{localizer:p}),l)},t.handleNavigate=function(o,a){var l=t.props,u=l.view,h=l.date,p=l.getNow,m=l.onNavigate,y=Bc(l,mPe),b=t.getView(),v=p();h=fPe(b,$n($n({},y),{},{action:o,date:a||h||v,today:v})),m(h,u,o),t.handleRangeChange(h,b)},t.handleViewChange=function(o){o!==t.props.view&&yPe(o,t.props)&&t.props.onView(o);var a=t.getViews();t.handleRangeChange(t.props.date||t.props.getNow(),a[o],o)},t.handleSelectEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Qn(t.props.onSelectEvent,a)},t.handleDoubleClickEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Qn(t.props.onDoubleClickEvent,a)},t.handleKeyPressEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Qn(t.props.onKeyPressEvent,a)},t.handleSelectSlot=function(o){Qn(t.props.onSelectSlot,o)},t.handleDrillDown=function(o,a){var l=t.props.onDrillDown;if(l){l(o,a,t.drilldownView);return}a&&t.handleViewChange(a),t.handleNavigate(io.DATE,o)},t.state={context:e.getContext(t.props)},t}return gi(e,n),fs(e,[{key:"render",value:function(){var r=this.props,s=r.view,i=r.toolbar,o=r.events,a=r.backgroundEvents,l=r.resourceGroupingLayout,u=r.style,h=r.className,p=r.elementProps,m=r.date,y=r.getNow,b=r.length,v=r.showMultiDayTimes,_=r.onShowMore,E=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var x=Bc(r,gPe);m=m||y();var C=this.getView(),A=this.state.context,k=A.accessors,L=A.components,P=A.getters,D=A.localizer,F=A.viewNames,T=L.toolbar||bke,$=C.title(m,{localizer:D,length:b});return ie.createElement("div",Object.assign({},p,{className:kr(h,"rbc-calendar",x.rtl&&"rbc-rtl"),style:u}),i&&ie.createElement(T,{date:m,view:s,views:F,label:$,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:D}),ie.createElement(C,Object.assign({},x,{events:o,backgroundEvents:a,date:m,getNow:y,length:b,localizer:D,getters:P,components:L,accessors:k,showMultiDayTimes:v,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:_,doShowMoreDrillDown:E,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:e.getContext(r)}}},{key:"getContext",value:function(r){var s=r.startAccessor,i=r.endAccessor,o=r.allDayAccessor,a=r.tooltipAccessor,l=r.titleAccessor,u=r.resourceAccessor,h=r.resourceIdAccessor,p=r.resourceTitleAccessor,m=r.eventIdAccessor,y=r.eventPropGetter,b=r.backgroundEventPropGetter,v=r.slotPropGetter,_=r.slotGroupPropGetter,E=r.dayPropGetter,x=r.view,C=r.views,A=r.localizer,k=r.culture,L=r.messages,P=L===void 0?{}:L,D=r.components,F=D===void 0?{}:D,T=r.formats,$=T===void 0?{}:T,z=qQ(C),j=Ske(P);return{viewNames:z,localizer:wke(A,k,$,j),getters:{eventProp:function(){return y&&y.apply(void 0,arguments)||{}},backgroundEventProp:function(){return b&&b.apply(void 0,arguments)||{}},slotProp:function(){return v&&v.apply(void 0,arguments)||{}},slotGroupProp:function(){return _&&_.apply(void 0,arguments)||{}},dayProp:function(){return E&&E.apply(void 0,arguments)||{}}},components:aIe(F[x]||{},BIe(F,z),{eventWrapper:yu,backgroundEventWrapper:yu,eventContainerWrapper:yu,dateCellWrapper:yu,weekWrapper:yu,timeSlotWrapper:yu,timeGutterWrapper:yu}),accessors:{start:hu(s),end:hu(i),allDay:hu(o),tooltip:hu(a),title:hu(l),resource:hu(u),resourceId:hu(h),resourceTitle:hu(p),eventId:hu(m)}}}}])})(ie.Component);GQ.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Ii.MONTH,views:[Ii.MONTH,Ii.WEEK,Ii.DAY,Ii.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Ii.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var vPe=UJ(GQ,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),wPe=function(e,t,r){var s=e.start,i=e.end;return r.format(s,"MMMM DD",t)+"  "+r.format(i,r.eq(s,i,"month")?"DD":"MMMM DD",t)},bPe=function(e,t,r){var s=e.start,i=e.end;return r.format(s,"L",t)+"  "+r.format(i,"L",t)},cL=function(e,t,r){var s=e.start,i=e.end;return r.format(s,"LT",t)+"  "+r.format(i,"LT",t)},_Pe=function(e,t,r){var s=e.start;return r.format(s,"LT",t)+"  "},SPe=function(e,t,r){var s=e.end;return"  "+r.format(s,"LT",t)},EPe={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:cL,eventTimeRangeFormat:cL,eventTimeRangeStartFormat:_Pe,eventTimeRangeEndFormat:SPe,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:wPe,agendaHeaderFormat:bPe,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:cL};function ah(n){var e=n&&n.toLowerCase();return e==="FullYear"?e="year":e||(e=void 0),e}function CPe(n){var e=function(K,ne){return ne?K.locale(ne):K};function t(q){return n(q).toDate().getTimezoneOffset()}function r(q,K){var ne,le,ce=n(q).local(),be=n(K).local();if(!n.tz)return ce.toDate().getTimezoneOffset()-be.toDate().getTimezoneOffset();var we=(ne=ce==null||(le=ce._z)===null||le===void 0?void 0:le.name)!==null&&ne!==void 0?ne:n.tz.guess(),ke=n.tz.zone(we).utcOffset(+ce),Ne=n.tz.zone(we).utcOffset(+be);return ke-Ne}function s(q){var K=n(q).startOf("day");return r(K,q)}function i(q,K,ne){var le=ah(ne),ce=le?n(q).startOf(le):n(q),be=le?n(K).startOf(le):n(K);return[ce,be,le]}function o(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,K=arguments.length>1?arguments[1]:void 0,ne=ah(K);return ne?n(q).startOf(ne).toDate():n(q).toDate()}function a(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,K=arguments.length>1?arguments[1]:void 0,ne=ah(K);return ne?n(q).endOf(ne).toDate():n(q).toDate()}function l(q,K,ne){var le=i(q,K,ne),ce=Aa(le,3),be=ce[0],we=ce[1],ke=ce[2];return be.isSame(we,ke)}function u(q,K,ne){return!l(q,K,ne)}function h(q,K,ne){var le=i(q,K,ne),ce=Aa(le,3),be=ce[0],we=ce[1],ke=ce[2];return be.isAfter(we,ke)}function p(q,K,ne){var le=i(q,K,ne),ce=Aa(le,3),be=ce[0],we=ce[1],ke=ce[2];return be.isBefore(we,ke)}function m(q,K,ne){var le=i(q,K,ne),ce=Aa(le,3),be=ce[0],we=ce[1],ke=ce[2];return be.isSameOrBefore(we,ke)}function y(q,K,ne){var le=i(q,K,ne),ce=Aa(le,3),be=ce[0],we=ce[1],ke=ce[2];return be.isSameOrBefore(we,ke)}function b(q,K,ne){var le=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",ce=ah(le),be=n(q),we=n(K),ke=n(ne);return be.isBetween(we,ke,ce,"[]")}function v(q,K){var ne=n(q),le=n(K),ce=n.min(ne,le);return ce.toDate()}function _(q,K){var ne=n(q),le=n(K),ce=n.max(ne,le);return ce.toDate()}function E(q,K){if(!q&&!K)return null;var ne=n(K).format("HH:mm:ss"),le=n(q).startOf("day").format("MM/DD/YYYY");return n("".concat(le," ").concat(ne),"MM/DD/YYYY HH:mm:ss").toDate()}function x(q,K,ne){var le=ah(ne);return n(q).add(K,le).toDate()}function C(q,K){for(var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",le=ah(ne),ce=n(q).toDate(),be=[];y(ce,K);)be.push(ce),ce=x(ce,1,le);return be}function A(q,K){var ne=ah(K),le=o(q,ne);return l(le,q)?le:x(le,1,ne)}function k(q,K){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",le=ah(ne),ce=n(q),be=n(K);return be.diff(ce,le)}function L(q){var K=n(q);return K.minutes()}function P(q){var K=q?n.localeData(q):n.localeData();return K?K.firstDayOfWeek():0}function D(q){return n(q).startOf("month").startOf("week").toDate()}function F(q){return n(q).endOf("month").endOf("week").toDate()}function T(q){for(var K=D(q),ne=F(q),le=[];y(K,ne);)le.push(K),K=x(K,1,"d");return le}function $(q,K,ne){return n(q).startOf("day").minute(K+ne).toDate()}function z(q,K){return k(q,K,"minutes")}function j(q){var K=n(q).startOf("day"),ne=n(q);return ne.diff(K,"minutes")+s(q)}function Y(q,K){var ne=n(q),le=n(K);return ne.isBefore(le,"day")}function Z(q,K,ne){var le=n(K),ce=n(ne);return le.isSameOrAfter(ce,"minutes")}function J(q,K){var ne=n(q),le=n(K),ce=n.duration(le.diff(ne));return ce.days()}function ee(q){var K=q.evtA,ne=K.start,le=K.end,ce=K.allDay,be=q.evtB,we=be.start,ke=be.end,Ne=be.allDay,Me=+o(ne,"day")-+o(we,"day"),Je=J(ne,le),je=J(we,ke);return Me||je-Je||!!Ne-!!ce||+ne-+we||+le-+ke}function Q(q){var K=q.event,ne=K.start,le=K.end,ce=q.range,be=ce.start,we=ce.end,ke=n(ne).startOf("day"),Ne=n(le),Me=n(be),Je=n(we),je=ke.isSameOrBefore(Je,"day"),dt=!ke.isSame(Ne,"minutes"),Ye=dt?Ne.isAfter(Me,"minutes"):Ne.isSameOrAfter(Me,"minutes");return je&&Ye}function te(q,K){var ne=n(q),le=n(K);return ne.isSame(le,"day")}function de(){var q=new Date,K=/-/.test(q.toString())?"-":"",ne=q.getTimezoneOffset(),le=Number("".concat(K).concat(Math.abs(ne))),ce=n().utcOffset();return ce>le?1:0}return new vke({formats:EPe,firstOfWeek:P,firstVisibleDay:D,lastVisibleDay:F,visibleDays:T,format:function(K,ne,le){return e(n(K),le).format(ne)},lt:p,lte:y,gt:h,gte:m,eq:l,neq:u,merge:E,inRange:b,startOf:o,endOf:a,range:C,add:x,diff:k,ceil:A,min:v,max:_,minutes:L,getSlotDate:$,getTimezoneOffset:t,getDstOffset:r,getTotalMin:z,getMinutesFromMidnight:j,continuesPrior:Y,continuesAfter:Z,sortEvents:ee,inEventRange:Q,isSameDate:te,daySpan:J,browserTZOffset:de})}const yb={modalContainer:{width:"900px",boxSizing:"border-box",padding:6,display:"flex",flexDirection:"column",gap:3},superHeader:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-end",gap:1},header:{display:"flex",flexDirection:"column",gap:1},divider:{width:"100%",height:"2px",borderRadius:"4px",backgroundColor:"#E0E0E0"},agendaItemContainer:{display:"flex",flexDirection:"row",gap:2,alignItems:"center"}},TPe=n=>{const{SessionKey:e,CommitteeCode:t,MeetingDate:r}=n,s=OX(new Date(r));return`https://olis.oregonlegislature.gov/liz/${e}/Committees/${t}/${s}/Agenda`},xPe=({open:n,onClose:e,committeeMeetingId:t})=>{const{getCommitteeMeetingWithItemsByGuid:r}=_1(),{getFullCommitteeNameByCode:s}=gj(),i=r(t);if(!i)return null;const{CommitteeMeeting:o,AgendaItems:a}=i;return I.jsx(eI,{maxWidth:"lg",open:!!n,onClose:e,children:I.jsxs(ge,{sx:yb.modalContainer,children:[I.jsxs(ge,{sx:yb.superHeader,children:[I.jsx(yj,{url:TPe(o)}),I.jsx(Rs,{onClick:e,children:I.jsx(MX,{})})]}),I.jsxs(ge,{sx:yb.header,children:[I.jsx(Ae,{variant:"h1",children:s(o.CommitteeCode)}),I.jsx(Ae,{variant:"subtitle2",children:SI(new Date(o.MeetingDate))})]}),I.jsx(Ae,{variant:"h3",children:"My Tracked Measures"}),I.jsx(ge,{sx:yb.divider}),a.map(l=>I.jsxs(ge,{sx:yb.agendaItemContainer,children:[I.jsx(CI,{id:Nt(l),withModal:!0}),I.jsx(Ae,{children:l.MeetingType})]}))]})})},APe=CPe(Fe);function RPe(){const[n,e]=B.useState(!1),{getCalendarEvents:t}=_1(),[r,s]=B.useState(void 0),i=a=>{s(a.id),e(!0)},o=()=>e(!1);return I.jsxs(I.Fragment,{children:[I.jsx(Ae,{children:"The calendar currently shows the committe meetings with a public hearing or work session about bills you're tracking"}),I.jsx(vPe,{localizer:APe,events:t(),startAccessor:"start",endAccessor:"end",style:{height:600,width:"1100px"},onSelectEvent:a=>{i(a)},defaultView:"week",step:15,timeslots:4,min:Fe("7 am","h a").toDate(),max:Fe("6 pm","h a").toDate(),eventPropGetter:a=>({style:{backgroundColor:a.color||"green",color:"black",borderRadius:"4px",padding:"5px"}})}),r&&I.jsx(xPe,{open:n,onClose:o,committeeMeetingId:r})]})}const IPe={breadcrumbsContainer:{display:"flex",flexDirection:"row",gap:2,height:"41.3px",alignItems:"flex-end"}},kPe=({measureId:n,pagesList:e,lastPageTitle:t})=>I.jsxs(ge,{sx:IPe.breadcrumbsContainer,children:[I.jsx(CI,{id:n,withModal:!1,shouldNavigateToBillOnClick:!0}),I.jsx(Ae,{children:"/"}),e.map(r=>I.jsxs(I.Fragment,{children:[I.jsx(HB,{to:r.url,children:r.title}),I.jsx(Ae,{children:"/"})]})),I.jsx(Ae,{children:t})]}),uL=n=>({fontWeight:n.isBold?"bold":"normal",fontSize:n.height+4}),PPe=({bill:n})=>{if(!n)return null;const e=t=>t.map((r,s)=>I.jsxs("div",{children:[r.pre.map((i,o)=>{let a,l=i[0].text;return(l.startsWith("(")||l.startsWith("SECTION")||l.startsWith("(")||l.startsWith("SECTION"))&&(a="	"),I.jsx(Ae,{children:i.map((u,h)=>I.jsx(Ae,{component:"span",sx:uL(u),children:a&&h===0?a+u.text:u.text},"pre-"+h))},"LINE-pre-"+o+"_"+s)}),r.content.map((i,o)=>{let a=[...i];const l=a.shift();if(l){const u={text:"	",height:l.height,isBold:l.isBold,x:l.x,y:l.y};if(a.length>0){let h=a[0].text;(h.startsWith("(")||h.startsWith("SECTION")||h.startsWith("(")||h.startsWith("SECTION"))&&a.unshift(u)}a.unshift(u),a.unshift(l)}return I.jsx(Ae,{children:a.map((u,h)=>I.jsx(Ae,{component:"span",sx:uL(u),children:u.text},"pre-"+h))},"LINE-content-"+o+"_"+s)}),r.post.map(i=>i.map((o,a)=>I.jsx(Ae,{component:"span",sx:uL(o),children:o.text},"LINE-post-"+a+"_"+s)))]},s+1));return I.jsx("div",{style:{backgroundColor:"#f4f4f4",padding:10,borderRadius:5,fontFamily:"Verdana",whiteSpace:"pre-wrap"},children:n&&e(n)})},Ai=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),FN=[.001,0,0,.001,0,0],dL=1.35,Uo={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},hh={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},nS="pdfjs_internal_editor_",Ct={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Jt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},DPe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},BN={TRIANGLES:1,LATTICE:2},Ms={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},_x={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Wr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ry={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},nk={ERRORS:0,WARNINGS:1,INFOS:5},rS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},vb={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},MPe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let rk=nk.WARNINGS;function OPe(n){Number.isInteger(n)&&(rk=n)}function LPe(){return rk}function sk(n){rk>=nk.INFOS&&console.info(`Info: ${n}`)}function wt(n){rk>=nk.WARNINGS&&console.warn(`Warning: ${n}`)}function jn(n){throw new Error(n)}function Qt(n,e){n||jn(e)}function NPe(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function KQ(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=UPe(n)}catch{}}const r=e?URL.parse(n,e):URL.parse(n);return NPe(r)?r:null}function YQ(n,e,t=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):t&&KQ(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function It(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const xg=(function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class qq extends xg{constructor(e,t){super(e,"PasswordException"),this.code=t}}class hL extends xg{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class $N extends xg{constructor(e){super(e,"InvalidPDFException")}}class GA extends xg{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}}class FPe extends xg{constructor(e){super(e,"FormatError")}}class Tf extends xg{constructor(e){super(e,"AbortException")}}function XQ(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&jn("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let s=0;s<e;s+=t){const i=Math.min(s+t,e),o=n.subarray(s,i);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function N1(n){typeof n!="string"&&jn("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function BPe(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function $Pe(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function jPe(){try{return new Function(""),!0}catch{return!1}}class Ws{static get isLittleEndian(){return It(this,"isLittleEndian",$Pe())}static get isEvalSupported(){return It(this,"isEvalSupported",jPe())}static get isOffscreenCanvasSupported(){return It(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return It(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return It(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return It(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return It(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return It(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const fL=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var fd,Sx,jN;class Ke{static makeHexColor(e,t,r){return`#${fL[e]}${fL[t]}${fL[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,r=0){const s=e[r],i=e[r+1];e[r]=s*t[0]+i*t[2]+t[4],e[r+1]=s*t[1]+i*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const s=t[0],i=t[1],o=t[2],a=t[3],l=t[4],u=t[5];for(let h=0;h<6;h+=2){const p=e[r+h],m=e[r+h+1];e[r+h]=p*s+m*o+l,e[r+h+1]=p*i+m*a+u}}static applyInverseTransform(e,t){const r=e[0],s=e[1],i=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-s*t[2]+t[2]*t[5]-t[4]*t[3])/i,e[1]=(-r*t[1]+s*t[0]+t[4]*t[1]-t[5]*t[0])/i}static axialAlignedBoundingBox(e,t,r){const s=t[0],i=t[1],o=t[2],a=t[3],l=t[4],u=t[5],h=e[0],p=e[1],m=e[2],y=e[3];let b=s*h+l,v=b,_=s*m+l,E=_,x=a*p+u,C=x,A=a*y+u,k=A;if(i!==0||o!==0){const L=i*h,P=i*m,D=o*p,F=o*y;b+=D,E+=D,_+=F,v+=F,x+=L,k+=L,A+=P,C+=P}r[0]=Math.min(r[0],b,_,v,E),r[1]=Math.min(r[1],x,A,C,k),r[2]=Math.max(r[2],b,_,v,E),r[3]=Math.max(r[3],x,A,C,k)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],s=e[1],i=e[2],o=e[3],a=r**2+s**2,l=r*i+s*o,u=i**2+o**2,h=(a+u)/2,p=Math.sqrt(h**2-(a*u-l**2));t[0]=Math.sqrt(h+p||1),t[1]=Math.sqrt(h-p||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>s)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>o?null:[r,i,s,o]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,s,i){i[0]=Math.min(i[0],e,r),i[1]=Math.min(i[1],t,s),i[2]=Math.max(i[2],e,r),i[3]=Math.max(i[3],t,s)}static bezierBoundingBox(e,t,r,s,i,o,a,l,u){u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],t,l),H(this,fd,jN).call(this,e,r,i,a,t,s,o,l,3*(-e+3*(r-i)+a),6*(e-2*r+i),3*(r-e),u),H(this,fd,jN).call(this,e,r,i,a,t,s,o,l,3*(-t+3*(s-o)+l),6*(t-2*s+o),3*(s-t),u)}}fd=new WeakSet,Sx=function(e,t,r,s,i,o,a,l,u,h){if(u<=0||u>=1)return;const p=1-u,m=u*u,y=m*u,b=p*(p*(p*e+3*u*t)+3*m*r)+y*s,v=p*(p*(p*i+3*u*o)+3*m*a)+y*l;h[0]=Math.min(h[0],b),h[1]=Math.min(h[1],v),h[2]=Math.max(h[2],b),h[3]=Math.max(h[3],v)},jN=function(e,t,r,s,i,o,a,l,u,h,p,m){if(Math.abs(u)<1e-12){Math.abs(h)>=1e-12&&H(this,fd,Sx).call(this,e,t,r,s,i,o,a,l,-p/h,m);return}const y=h**2-4*p*u;if(y<0)return;const b=Math.sqrt(y),v=2*u;H(this,fd,Sx).call(this,e,t,r,s,i,o,a,l,(-h+b)/v,m),H(this,fd,Sx).call(this,e,t,r,s,i,o,a,l,(-h-b)/v,m)},U(Ke,fd);function UPe(n){return decodeURIComponent(escape(n))}let pL=null,Gq=null;function VPe(n){return pL||(pL=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Gq=new Map([["","t"]])),n.replaceAll(pL,(e,t,r)=>t?t.normalize("NFKC"):Gq.get(r))}function JQ(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),XQ(n)}const $y="pdfjs_internal_id_";function HPe(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[r,s,...i]=t;if(!n(r)&&!Number.isInteger(r)||!e(s))return!1;const o=i.length;let a=!0;switch(s.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;a=!1;break;default:return!1}for(const l of i)if(!(typeof l=="number"||a&&l===null))return!1;return!0}function Ri(n,e,t){return Math.min(Math.max(n,e),t)}function QQ(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(XQ(n))}function zPe(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):N1(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class sS{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function s(i){var l;if(!i)return;let o=null;const a=i.name;if(a==="#text")o=i.value;else if(sS.shouldBuildText(a))(l=i==null?void 0:i.attributes)!=null&&l.textContent?o=i.attributes.textContent:i.value&&(o=i.value);else return;if(o!==null&&t.push({str:o}),!!i.children)for(const u of i.children)s(u)}return s(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class ZQ{static setupStorage(e,t,r,s,i){const o=s.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),i==="print")break;e.addEventListener("input",a=>{s.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),i==="print")break;e.addEventListener("change",a=>{s.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),i==="print")break;e.addEventListener("input",a=>{s.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;s.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:s,linkService:i}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${s}`);for(const[l,u]of Object.entries(o))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}a&&i.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var p,m;const t=e.annotationStorage,r=e.linkService,s=e.xfaHtml,i=e.intent||"display",o=document.createElement(s.name);s.attributes&&this.setAttributes({html:o,element:s,intent:i,linkService:r});const a=i!=="richText",l=e.div;if(l.append(o),e.viewport){const y=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=y}a&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(s.children.length===0){if(s.value){const y=document.createTextNode(s.value);o.append(y),a&&sS.shouldBuildText(s.name)&&u.push(y)}return{textDivs:u}}const h=[[s,-1,o]];for(;h.length>0;){const[y,b,v]=h.at(-1);if(b+1===y.children.length){h.pop();continue}const _=y.children[++h.at(-1)[1]];if(_===null)continue;const{name:E}=_;if(E==="#text"){const C=document.createTextNode(_.value);u.push(C),v.append(C);continue}const x=(p=_==null?void 0:_.attributes)!=null&&p.xmlns?document.createElementNS(_.attributes.xmlns,E):document.createElement(E);if(v.append(x),_.attributes&&this.setAttributes({html:x,element:_,storage:t,intent:i,linkService:r}),((m=_.children)==null?void 0:m.length)>0)h.push([_,-1,x]);else if(_.value){const C=document.createTextNode(_.value);a&&sS.shouldBuildText(E)&&u.push(C),x.append(C)}}for(const y of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const fu="http://www.w3.org/2000/svg",wp=class wp{};Ee(wp,"CSS",96),Ee(wp,"PDF",72),Ee(wp,"PDF_TO_CSS_UNITS",wp.CSS/wp.PDF);let xf=wp;async function F1(n,e="text"){if(jb(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}r(new Error(s.statusText))}},s.send(null)})}class B1{constructor({viewBox:e,userUnit:t,scale:r,rotation:s,offsetX:i=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=s,this.offsetX=i,this.offsetY=o,r*=t;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let h,p,m,y;switch(s%=360,s<0&&(s+=360),s){case 180:h=-1,p=0,m=0,y=1;break;case 90:h=0,p=1,m=1,y=0;break;case 270:h=0,p=-1,m=-1,y=0;break;case 0:h=1,p=0,m=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(m=-m,y=-y);let b,v,_,E;h===0?(b=Math.abs(u-e[1])*r+i,v=Math.abs(l-e[0])*r+o,_=(e[3]-e[1])*r,E=(e[2]-e[0])*r):(b=Math.abs(l-e[0])*r+i,v=Math.abs(u-e[1])*r+o,_=(e[2]-e[0])*r,E=(e[3]-e[1])*r),this.transform=[h*r,p*r,m*r,y*r,b-h*r*l-m*r*u,v-p*r*l-y*r*u],this.width=_,this.height=E}get rawDims(){const e=this.viewBox;return It(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:s=this.offsetY,dontFlip:i=!1}={}){return new B1({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:s,dontFlip:i})}convertToViewportPoint(e,t){const r=[e,t];return Ke.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];Ke.applyTransform(t,this.transform);const r=[e[2],e[3]];return Ke.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return Ke.applyInverseTransform(r,this.transform),r}}class vU extends xg{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function ik(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function wU(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function WPe(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function qPe(n,e="document.pdf"){if(typeof n!="string")return e;if(ik(n))return wt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return e;const s=a=>{try{let l=decodeURIComponent(a);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:a):l}catch{return a}},i=/\.pdf$/i,o=r.pathname.split("/").at(-1);if(i.test(o))return s(o);if(r.searchParams.size>0){const a=Array.from(r.searchParams.values()).reverse();for(const u of a)if(i.test(u))return s(u);const l=Array.from(r.searchParams.keys()).reverse();for(const u of l)if(i.test(u))return s(u)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return s(l[0])}return e}class Kq{constructor(){Ee(this,"started",Object.create(null));Ee(this,"times",[])}time(e){e in this.started&&wt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||wt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:s,end:i}of this.times)e.push(`${r.padEnd(t)} ${i-s}ms
`);return e.join("")}}function jb(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function $a(n){n.preventDefault()}function Ir(n){n.preventDefault(),n.stopPropagation()}function GPe(n){console.log("Deprecated API usage: "+n)}var aS;class KA{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;f(this,aS)||O(this,aS,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=f(this,aS).exec(e);if(!t)return null;const r=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,u==="-"?(o+=h,a+=p):u==="+"&&(o-=h,a-=p),new Date(Date.UTC(r,s,i,o,a,l))}}aS=new WeakMap,U(KA,aS);function KPe(n,{scale:e=1,rotation:t=0}){const{width:r,height:s}=n.attributes.style,i=[0,0,parseInt(r),parseInt(s)];return new B1({viewBox:i,userUnit:1,scale:e,rotation:t})}function $1(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(wt(`Not a valid color format: "${n}"`),[0,0,0])}function YPe(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,$1(r))}e.remove()}function mr(n){const{a:e,b:t,c:r,d:s,e:i,f:o}=n.getTransform();return[e,t,r,s,i,o]}function Xl(n){const{a:e,b:t,c:r,d:s,e:i,f:o}=n.getTransform().invertSelf();return[e,t,r,s,i,o]}function ug(n,e,t=!1,r=!0){if(e instanceof B1){const{pageWidth:s,pageHeight:i}=e.rawDims,{style:o}=n,a=Ws.isCSSRoundSupported,l=`var(--total-scale-factor) * ${s}px`,u=`var(--total-scale-factor) * ${i}px`,h=a?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,p=a?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(o.width=h,o.height=p):(o.width=p,o.height=h)}r&&n.setAttribute("data-main-rotation",e.rotation)}class $c{constructor(){const{pixelRatio:e}=$c;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,s,i=-1){let o=1/0,a=1/0,l=1/0;r=$c.capPixels(r,i),r>0&&(o=Math.sqrt(r/(e*t))),s!==-1&&(a=s/e,l=s/t);const u=Math.min(o,a,l);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,r):r}return e}}const UN=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class XPe{static get isDarkMode(){var e;return It(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class JPe{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),It(this,"commentForegroundColor",$1(r))}}function QPe(n,e,t,r){r=Math.min(Math.max(r??1,0),1);const s=255*(1-r);return n=Math.round(n*r+s),e=Math.round(e*r+s),t=Math.round(t*r+s),[n,e,t]}function Yq(n,e){const t=n[0]/255,r=n[1]/255,s=n[2]/255,i=Math.max(t,r,s),o=Math.min(t,r,s),a=(i+o)/2;if(i===o)e[0]=e[1]=0;else{const l=i-o;switch(e[1]=a<.5?l/(i+o):l/(2-i-o),i){case t:e[0]=((r-s)/l+(r<s?6:0))*60;break;case r:e[0]=((s-t)/l+2)*60;break;case s:e[0]=((t-r)/l+4)*60;break}}e[2]=a}function VN(n,e){const t=n[0],r=n[1],s=n[2],i=(1-Math.abs(2*s-1))*r,o=i*(1-Math.abs(t/60%2-1)),a=s-i/2;switch(Math.floor(t/60)){case 0:e[0]=i+a,e[1]=o+a,e[2]=a;break;case 1:e[0]=o+a,e[1]=i+a,e[2]=a;break;case 2:e[0]=a,e[1]=i+a,e[2]=o+a;break;case 3:e[0]=a,e[1]=o+a,e[2]=i+a;break;case 4:e[0]=o+a,e[1]=a,e[2]=i+a;break;case 5:case 6:e[0]=i+a,e[1]=a,e[2]=o+a;break}}function Xq(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function Jq(n,e,t){VN(n,t),t.map(Xq);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];VN(e,t),t.map(Xq);const s=.2126*t[0]+.7152*t[1]+.0722*t[2];return r>s?(r+.05)/(s+.05):(s+.05)/(r+.05)}const Qq=new Map;function ZPe(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=Qq.get(t);if(r)return r;const s=new Float32Array(9),i=s.subarray(0,3),o=s.subarray(3,6);Yq(n,o);const a=s.subarray(6,9);Yq(e,a);const l=a[2]<.5,u=l?12:4.5;if(o[2]=l?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),Jq(o,a,i)<u){let h,p;l?(h=o[2],p=1):(h=0,p=o[2]);const m=.005;for(;p-h>m;){const y=o[2]=(h+p)/2;l===Jq(o,a,i)<u?h=y:p=y}o[2]=l?p:h}return VN(o,i),r=Ke.makeHexColor(Math.round(i[0]*255),Math.round(i[1]*255),Math.round(i[2]*255)),Qq.set(t,r),r}function eZ({html:n,dir:e,className:t},r){const s=document.createDocumentFragment();if(typeof n=="string"){const i=document.createElement("p");i.dir=e||"auto";const o=n.split(/(?:\r\n?|\n)/);for(let a=0,l=o.length;a<l;++a){const u=o[a];i.append(document.createTextNode(u)),a<l-1&&i.append(document.createElement("br"))}s.append(i)}else ZQ.render({xfaHtml:n,div:s,intent:"richText"});s.firstChild.classList.add("richText",t),r.append(s)}function tZ(n){const e=new Path2D;if(!n)return e;for(let t=0,r=n.length;t<r;)switch(n[t++]){case vb.moveTo:e.moveTo(n[t++],n[t++]);break;case vb.lineTo:e.lineTo(n[t++],n[t++]);break;case vb.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case vb.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case vb.closePath:e.closePath();break;default:wt(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}var fh,ph,ha,fa,lS,mh,rv,sv,cS,lR,nZ,zs,rZ,sZ,Iy,Ub;const vu=class vu{constructor(e){U(this,zs);U(this,fh,null);U(this,ph,null);U(this,ha);U(this,fa,null);U(this,lS,null);U(this,mh,null);U(this,rv,null);U(this,sv,null);O(this,ha,e),f(vu,cS)||O(vu,cS,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=O(this,fh,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=f(this,ha)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",$a,{signal:t}),e.addEventListener("pointerdown",H(vu,lR,nZ),{signal:t}));const r=O(this,fa,document.createElement("div"));r.className="buttons",e.append(r);const s=f(this,ha).toolbarPosition;if(s){const{style:i}=e,o=f(this,ha)._uiManager.direction==="ltr"?1-s[0]:s[0];i.insetInlineEnd=`${100*o}%`,i.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return f(this,fh)}hide(){var e;f(this,fh).classList.add("hidden"),(e=f(this,ph))==null||e.hideDropdown()}show(){var e,t;f(this,fh).classList.remove("hidden"),(e=f(this,lS))==null||e.shown(),(t=f(this,mh))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=f(this,ha),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",f(vu,cS)[e]),H(this,zs,Iy).call(this,r)&&r.addEventListener("click",s=>{t.delete()},{signal:t._signal}),f(this,fa).append(r)}async addAltText(e){const t=await e.render();H(this,zs,Iy).call(this,t),f(this,fa).append(t,f(this,zs,Ub)),O(this,lS,e)}addComment(e,t=null){if(f(this,mh))return;const r=e.renderForToolbar();if(!r)return;H(this,zs,Iy).call(this,r);const s=O(this,rv,f(this,zs,Ub));t?(f(this,fa).insertBefore(r,t),f(this,fa).insertBefore(s,t)):f(this,fa).append(r,s),O(this,mh,e),e.toolbar=this}addColorPicker(e){if(f(this,ph))return;O(this,ph,e);const t=e.renderButton();H(this,zs,Iy).call(this,t),f(this,fa).append(t,f(this,zs,Ub))}async addEditSignatureButton(e){const t=O(this,sv,await e.renderEditButton(f(this,ha)));H(this,zs,Iy).call(this,t),f(this,fa).append(t,f(this,zs,Ub))}removeButton(e){var t,r;switch(e){case"comment":(t=f(this,mh))==null||t.removeToolbarCommentButton(),O(this,mh,null),(r=f(this,rv))==null||r.remove(),O(this,rv,null);break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,r){if(!t&&e==="comment")return;const s=f(this,fa).querySelector(r);s&&e==="comment"&&this.addComment(t,s)}updateEditSignatureButton(e){f(this,sv)&&(f(this,sv).title=e)}remove(){var e;f(this,fh).remove(),(e=f(this,ph))==null||e.destroy(),O(this,ph,null)}};fh=new WeakMap,ph=new WeakMap,ha=new WeakMap,fa=new WeakMap,lS=new WeakMap,mh=new WeakMap,rv=new WeakMap,sv=new WeakMap,cS=new WeakMap,lR=new WeakSet,nZ=function(e){e.stopPropagation()},zs=new WeakSet,rZ=function(e){f(this,ha)._focusEventsAllowed=!1,Ir(e)},sZ=function(e){f(this,ha)._focusEventsAllowed=!0,Ir(e)},Iy=function(e){const t=f(this,ha)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",H(this,zs,rZ).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",H(this,zs,sZ).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",$a,{signal:t}),!0)},Ub=function(){const e=document.createElement("div");return e.className="divider",e},U(vu,lR),U(vu,cS,null);let HN=vu;var uS,Pp,bu,xd,iZ,oZ,zN;class eDe{constructor(e){U(this,xd);U(this,uS,null);U(this,Pp,null);U(this,bu);O(this,bu,e)}show(e,t,r){const[s,i]=H(this,xd,oZ).call(this,t,r),{style:o}=f(this,Pp)||O(this,Pp,H(this,xd,iZ).call(this));e.append(f(this,Pp)),o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,Pp).remove()}}uS=new WeakMap,Pp=new WeakMap,bu=new WeakMap,xd=new WeakSet,iZ=function(){const e=O(this,Pp,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=f(this,bu)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",$a,{signal:t});const r=O(this,uS,document.createElement("div"));return r.className="buttons",e.append(r),f(this,bu).hasCommentManager()&&H(this,xd,zN).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{f(this,bu).commentSelection("floating_button")}),H(this,xd,zN).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{f(this,bu).highlightSelection("floating_button")}),e},oZ=function(e,t){let r=0,s=0;for(const i of e){const o=i.y+i.height;if(o<r)continue;const a=i.x+(t?i.width:0);if(o>r){s=a,r=o;continue}t?a>s&&(s=a):a<s&&(s=a)}return[t?1-s:s,r]},zN=function(e,t,r,s){const i=document.createElement("button");i.classList.add("basic",e),i.tabIndex=0,i.setAttribute("data-l10n-id",t);const o=document.createElement("span");i.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",r);const a=f(this,bu)._signal;a instanceof AbortSignal&&!a.aborted&&(i.addEventListener("contextmenu",$a,{signal:a}),i.addEventListener("click",s,{signal:a})),f(this,uS).append(i)};function aZ(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var Dp,Mp,iv,Op;const xn=class xn{static initializeAndAddPointerId(e){(f(xn,Mp)||O(xn,Mp,new Set)).add(e)}static setPointer(e,t){f(xn,Dp)||O(xn,Dp,t),f(xn,Op)??O(xn,Op,e)}static setTimeStamp(e){O(xn,iv,e)}static isSamePointerId(e){return f(xn,Dp)===e}static isSamePointerIdOrRemove(e){var t;return f(xn,Dp)===e?!0:((t=f(xn,Mp))==null||t.delete(e),!1)}static isSamePointerType(e){return f(xn,Op)===e}static isInitializedAndDifferentPointerType(e){return f(xn,Op)!==null&&!xn.isSamePointerType(e)}static isSameTimeStamp(e){return f(xn,iv)===e}static isUsingMultiplePointers(){var e;return((e=f(xn,Mp))==null?void 0:e.size)>=1}static clearPointerType(){O(xn,Op,null)}static clearPointerIds(){O(xn,Dp,NaN),O(xn,Mp,null)}static clearTimeStamp(){O(xn,iv,NaN)}};Dp=new WeakMap,Mp=new WeakMap,iv=new WeakMap,Op=new WeakMap,U(xn,Dp,NaN),U(xn,Mp,null),U(xn,iv,NaN),U(xn,Op,null);let ni=xn;var cR;class tDe{constructor(){U(this,cR,0)}get id(){return`${nS}${es(this,cR)._++}`}}cR=new WeakMap;var ov,dS,ri,av,Ex;const PU=class PU{constructor(){U(this,av);U(this,ov,JQ());U(this,dS,0);U(this,ri,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const i=s.decode().then(()=>(r.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return It(this,"_isSVGFittingCanvas",i)}async getFromFile(e){const{lastModified:t,name:r,size:s,type:i}=e;return H(this,av,Ex).call(this,`${t}_${r}_${s}_${i}`,e)}async getFromUrl(e){return H(this,av,Ex).call(this,e,e)}async getFromBlob(e,t){const r=await t;return H(this,av,Ex).call(this,e,r)}async getFromId(e){f(this,ri)||O(this,ri,new Map);const t=f(this,ri).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){f(this,ri)||O(this,ri,new Map);let r=f(this,ri).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),r={bitmap:s.transferToImageBitmap(),id:`image_${f(this,ov)}_${es(this,dS)._++}`,refCounter:1,isSvg:!1},f(this,ri).set(e,r),f(this,ri).set(r.id,r),r}getSvgUrl(e){const t=f(this,ri).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var s;f(this,ri)||O(this,ri,new Map);const t=f(this,ri).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=i.convertToBlob()}(s=r.close)==null||s.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${f(this,ov)}_`)}};ov=new WeakMap,dS=new WeakMap,ri=new WeakMap,av=new WeakSet,Ex=async function(e,t){f(this,ri)||O(this,ri,new Map);let r=f(this,ri).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${f(this,ov)}_${es(this,dS)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(r.url=t,s=await F1(t,"blob")):t instanceof File?s=r.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const i=PU._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((u,h)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,u()},o.onload=async()=>{const p=r.svgUrl=o.result;a.src=await i?`${p}#svgView(preserveAspectRatio(none))`:p},a.onerror=o.onerror=h});o.readAsDataURL(s),await l}else r.bitmap=await createImageBitmap(s);r.refCounter=1}catch(s){wt(s),r=null}return f(this,ri).set(e,r),r&&f(this,ri).set(r.id,r),r};let WN=PU;var Lr,gh,hS,pr;class nDe{constructor(e=128){U(this,Lr,[]);U(this,gh,!1);U(this,hS);U(this,pr,-1);O(this,hS,e)}add({cmd:e,undo:t,post:r,mustExec:s,type:i=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(s&&e(),f(this,gh))return;const l={cmd:e,undo:t,post:r,type:i};if(f(this,pr)===-1){f(this,Lr).length>0&&(f(this,Lr).length=0),O(this,pr,0),f(this,Lr).push(l);return}if(o&&f(this,Lr)[f(this,pr)].type===i){a&&(l.undo=f(this,Lr)[f(this,pr)].undo),f(this,Lr)[f(this,pr)]=l;return}const u=f(this,pr)+1;u===f(this,hS)?f(this,Lr).splice(0,1):(O(this,pr,u),u<f(this,Lr).length&&f(this,Lr).splice(u)),f(this,Lr).push(l)}undo(){if(f(this,pr)===-1)return;O(this,gh,!0);const{undo:e,post:t}=f(this,Lr)[f(this,pr)];e(),t==null||t(),O(this,gh,!1),O(this,pr,f(this,pr)-1)}redo(){if(f(this,pr)<f(this,Lr).length-1){O(this,pr,f(this,pr)+1),O(this,gh,!0);const{cmd:e,post:t}=f(this,Lr)[f(this,pr)];e(),t==null||t(),O(this,gh,!1)}}hasSomethingToUndo(){return f(this,pr)!==-1}hasSomethingToRedo(){return f(this,pr)<f(this,Lr).length-1}cleanType(e){if(f(this,pr)!==-1){for(let t=f(this,pr);t>=0;t--)if(f(this,Lr)[t].type!==e){f(this,Lr).splice(t+1,f(this,pr)-t),O(this,pr,t);return}f(this,Lr).length=0,O(this,pr,-1)}}destroy(){O(this,Lr,null)}}Lr=new WeakMap,gh=new WeakMap,hS=new WeakMap,pr=new WeakMap;var uR,lZ;class j1{constructor(e){U(this,uR);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Ws.platform;for(const[r,s,i={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:s,options:i}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:s,options:i}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(H(this,uR,lZ).call(this,t));if(!r)return;const{callback:s,options:{bubbles:i=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(s.bind(e,...o,t)(),i||Ir(t))}}uR=new WeakSet,lZ=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const dR=class dR{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return YPe(e),It(this,"_colors",e)}convert(e){const t=$1(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,s]of this._colors)if(s.every((i,o)=>i===t[o]))return dR._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Ke.makeHexColor(...t):e}};Ee(dR,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let qN=dR;var lv,Eo,cv,Er,rs,uv,pa,dv,ma,si,yh,vh,hv,wh,tc,ga,Lp,fS,pS,fv,mS,nc,bh,pv,_h,rc,hR,Sh,mv,gS,Eh,Np,gv,Ch,yS,Gr,bn,_u,Th,xh,vS,yv,wS,Ah,sc,Su,bS,_S,ya,Oe,Cx,GN,cZ,uZ,Vb,dZ,hZ,fZ,KN,pZ,mZ,gZ,yZ,_i,pu,vZ,wZ,YN,bZ,Hb,XN;const Uy=class Uy{constructor(e,t,r,s,i,o,a,l,u,h,p,m,y,b,v,_){U(this,Oe);U(this,lv,new AbortController);U(this,Eo,null);U(this,cv,null);U(this,Er,new Map);U(this,rs,new Map);U(this,uv,null);U(this,pa,null);U(this,dv,null);U(this,ma,new nDe);U(this,si,null);U(this,yh,null);U(this,vh,null);U(this,hv,0);U(this,wh,new Set);U(this,tc,null);U(this,ga,null);U(this,Lp,new Set);Ee(this,"_editorUndoBar",null);U(this,fS,!1);U(this,pS,!1);U(this,fv,!1);U(this,mS,null);U(this,nc,null);U(this,bh,null);U(this,pv,null);U(this,_h,!1);U(this,rc,null);U(this,hR,new tDe);U(this,Sh,!1);U(this,mv,!1);U(this,gS,!1);U(this,Eh,null);U(this,Np,null);U(this,gv,null);U(this,Ch,null);U(this,yS,null);U(this,Gr,Ct.NONE);U(this,bn,new Set);U(this,_u,null);U(this,Th,null);U(this,xh,null);U(this,vS,null);U(this,yv,null);U(this,wS,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});U(this,Ah,[0,0]);U(this,sc,null);U(this,Su,null);U(this,bS,null);U(this,_S,null);U(this,ya,null);const E=this._signal=f(this,lv).signal;O(this,Su,e),O(this,bS,t),O(this,_S,r),O(this,uv,s),O(this,si,i),O(this,Th,o),O(this,yv,l),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:E}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:E}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:E}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:E}),a._on("setpreference",this.onSetPreference.bind(this),{signal:E}),a._on("switchannotationeditorparams",x=>this.updateParams(x.type,x.value),{signal:E}),window.addEventListener("pointerdown",()=>{O(this,mv,!0)},{capture:!0,signal:E}),window.addEventListener("pointerup",()=>{O(this,mv,!1)},{capture:!0,signal:E}),H(this,Oe,dZ).call(this),H(this,Oe,yZ).call(this),H(this,Oe,KN).call(this),O(this,pa,l.annotationStorage),O(this,mS,l.filterFactory),O(this,xh,u),O(this,pv,h||null),O(this,fS,p),O(this,pS,m),O(this,fv,y),O(this,yS,b||null),this.viewParameters={realScale:xf.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=_!==!1,i==null||i.setSidebarUiManager(this)}static get _keyboardManager(){const e=Uy.prototype,t=o=>f(o,Su).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},s=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return It(this,"_keyboardManager",new j1([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&f(o,Su).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&f(o,Su).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}destroy(){var e,t,r,s,i,o,a,l,u;(e=f(this,ya))==null||e.resolve(),O(this,ya,null),(t=f(this,lv))==null||t.abort(),O(this,lv,null),this._signal=null;for(const h of f(this,rs).values())h.destroy();f(this,rs).clear(),f(this,Er).clear(),f(this,Lp).clear(),(r=f(this,Ch))==null||r.clear(),O(this,Eo,null),f(this,bn).clear(),f(this,ma).destroy(),(s=f(this,uv))==null||s.destroy(),(i=f(this,si))==null||i.destroy(),(o=f(this,Th))==null||o.destroy(),(a=f(this,rc))==null||a.hide(),O(this,rc,null),(l=f(this,gv))==null||l.destroy(),O(this,gv,null),O(this,cv,null),f(this,nc)&&(clearTimeout(f(this,nc)),O(this,nc,null)),f(this,sc)&&(clearTimeout(f(this,sc)),O(this,sc,null)),(u=this._editorUndoBar)==null||u.destroy(),O(this,yv,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return f(this,yS)}get useNewAltTextFlow(){return f(this,pS)}get useNewAltTextWhenAddingImage(){return f(this,fv)}get hcmFilter(){return It(this,"hcmFilter",f(this,xh)?f(this,mS).addHCMFilter(f(this,xh).foreground,f(this,xh).background):"none")}get direction(){return It(this,"direction",getComputedStyle(f(this,Su)).direction)}get _highlightColors(){return It(this,"_highlightColors",f(this,pv)?new Map(f(this,pv).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return It(this,"highlightColors",null);const t=new Map,r=!!f(this,xh);for(const[s,i]of e){const o=s.endsWith("_HCM");if(r&&o){t.set(s.replace("_HCM",""),i);continue}!r&&!o&&t.set(s,i)}return It(this,"highlightColors",t)}get highlightColorNames(){return It(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),O(this,vh,e)}setMainHighlightColorPicker(e){O(this,gv,e)}editAltText(e,t=!1){var r;(r=f(this,uv))==null||r.editAltText(this,e,t)}hasCommentManager(){return!!f(this,si)}editComment(e,t,r,s){var i;(i=f(this,si))==null||i.showDialog(this,e,t,r,s)}selectComment(e,t){const r=f(this,rs).get(e),s=r==null?void 0:r.getEditorByUID(t);s==null||s.toggleComment(!0,!0)}updateComment(e){var t;(t=f(this,si))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=f(this,si))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=f(this,si))==null||t.removeComments([e.uid])}toggleComment(e,t,r=void 0){var s;(s=f(this,si))==null||s.toggleCommentPopup(e,t,r)}makeCommentColor(e,t){var r;return e&&((r=f(this,si))==null?void 0:r.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=f(this,si))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(f(this,rs).has(e-1))return;const{resolve:t,promise:r}=Promise.withResolvers(),s=i=>{i.pageNumber===e&&(this._eventBus._off("editorsrendered",s),t())};this._eventBus.on("editorsrendered",s),await r}getSignature(e){var t;(t=f(this,Th))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return f(this,Th)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":O(this,fv,t);break}}onPageChanging({pageNumber:e}){O(this,hv,e-1)}focusMainContainer(){f(this,Su).focus()}findParent(e,t){for(const r of f(this,rs).values()){const{x:s,y:i,width:o,height:a}=r.div.getBoundingClientRect();if(e>=s&&e<=s+o&&t>=i&&t<=i+a)return r}return null}disableUserSelect(e=!1){f(this,bS).classList.toggle("noUserSelect",e)}addShouldRescale(e){f(this,Lp).add(e)}removeShouldRescale(e){f(this,Lp).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*xf.PDF_TO_CSS_UNITS;for(const r of f(this,Lp))r.onScaleChanging();(t=f(this,vh))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:s,anchorOffset:i,focusNode:o,focusOffset:a}=r,l=r.toString(),h=H(this,Oe,Cx).call(this,r).closest(".textLayer"),p=this.getSelectionBoxes(h);if(!p)return;r.empty();const m=H(this,Oe,GN).call(this,h),y=f(this,Gr)===Ct.NONE,b=()=>{const v=m==null?void 0:m.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:s,anchorOffset:i,focusNode:o,focusOffset:a,text:l});y&&this.showAllEditors("highlight",!0,!0),t&&(v==null||v.editComment())};if(y){this.switchToMode(Ct.HIGHLIGHT,b);return}b()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!f(this,pa))return null;const t=`${nS}${e}`,r=f(this,pa).getRawValue(t);return r&&f(this,pa).remove(t),r}addToAnnotationStorage(e){!e.isEmpty()&&f(this,pa)&&!f(this,pa).has(e.id)&&f(this,pa).setValue(e.id,e)}a11yAlert(e,t=null){const r=f(this,_S);r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,f(this,_h)&&(O(this,_h,!1),H(this,Oe,Vb).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of f(this,bn))if(t.div.contains(e)){O(this,Np,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!f(this,Np))return;const[e,t]=f(this,Np);O(this,Np,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){H(this,Oe,KN).call(this),this.setEditingState(!0)}removeEditListeners(){H(this,Oe,pZ).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of f(this,ga))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of f(this,ga))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=f(this,Eo))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of f(this,bn)){const i=s.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const o of f(this,ga))if(o.isHandlingMimeForPasting(i.type)){o.paste(i,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(i){wt(`paste: "${i.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const s=this.currentLayer;try{const i=[];for(const l of r){const u=await s.deserialize(l);if(!u)return;i.push(u)}const o=()=>{for(const l of i)H(this,Oe,YN).call(this,l);H(this,Oe,XN).call(this,i)},a=()=>{for(const l of i)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(i){wt(`paste: "${i.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,Gr)!==Ct.NONE&&!this.isEditorHandlingKeyboard&&Uy._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,_h)&&(O(this,_h,!1),H(this,Oe,Vb).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(H(this,Oe,hZ).call(this),H(this,Oe,mZ).call(this),H(this,Oe,_i).call(this,{isEditing:f(this,Gr)!==Ct.NONE,isEmpty:H(this,Oe,Hb).call(this),hasSomethingToUndo:f(this,ma).hasSomethingToUndo(),hasSomethingToRedo:f(this,ma).hasSomethingToRedo(),hasSelectedEditor:!1})):(H(this,Oe,fZ).call(this),H(this,Oe,gZ).call(this),H(this,Oe,_i).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!f(this,ga)){O(this,ga,e);for(const t of f(this,ga))H(this,Oe,pu).call(this,t.defaultPropertiesToUpdate)}}getId(){return f(this,hR).id}get currentLayer(){return f(this,rs).get(f(this,hv))}getLayer(e){return f(this,rs).get(e)}get currentPageIndex(){return f(this,hv)}addLayer(e){f(this,rs).set(e.pageIndex,e),f(this,Sh)?e.enable():e.disable()}removeLayer(e){f(this,rs).delete(e.pageIndex)}async updateMode(e,t=null,r=!1,s=!1,i=!1){var o,a,l,u,h,p;if(f(this,Gr)!==e&&!(f(this,ya)&&(await f(this,ya).promise,!f(this,ya)))){if(O(this,ya,Promise.withResolvers()),(o=f(this,vh))==null||o.commitOrRemove(),f(this,Gr)===Ct.POPUP&&((a=f(this,si))==null||a.hideSidebar()),(l=f(this,si))==null||l.destroyPopup(),O(this,Gr,e),e===Ct.NONE){this.setEditingState(!1),H(this,Oe,wZ).call(this);for(const m of f(this,Er).values())m.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),f(this,ya).resolve();return}for(const m of f(this,Er).values())m.addStandaloneCommentButton();e===Ct.SIGNATURE&&await((h=f(this,Th))==null?void 0:h.loadSignatures()),this.setEditingState(!0),await H(this,Oe,vZ).call(this),this.unselectAll();for(const m of f(this,rs).values())m.updateMode(e);if(e===Ct.POPUP){f(this,cv)||O(this,cv,await f(this,yv).getAnnotationsByType(new Set(f(this,ga).map(b=>b._editorType))));const m=new Set,y=[];for(const b of f(this,Er).values()){const{annotationElementId:v,hasComment:_,deleted:E}=b;v&&m.add(v),_&&!E&&y.push(b.getData())}for(const b of f(this,cv)){const{id:v,popupRef:_,contentsObj:E}=b;_&&(E!=null&&E.str)&&!m.has(v)&&!f(this,wh).has(v)&&y.push(b)}(p=f(this,si))==null||p.showSidebar(y)}if(!t){r&&this.addNewEditorFromKeyboard(),f(this,ya).resolve();return}for(const m of f(this,Er).values())m.uid===t?(this.setSelected(m),i?m.editComment():s?m.enterInEditMode():m.focus()):m.unselect();f(this,ya).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==f(this,Gr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(f(this,ga)){switch(e){case Jt.CREATE:this.currentLayer.addNewEditor(t);return;case Jt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,vS)||O(this,vS,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const r of f(this,bn))r.updateParams(e,t);else for(const r of f(this,ga))r.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var i;for(const o of f(this,Er).values())o.editorType===e&&o.show(t);(((i=f(this,vS))==null?void 0:i.get(Jt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&H(this,Oe,pu).call(this,[[Jt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(f(this,gS)!==e){O(this,gS,e);for(const t of f(this,rs).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of f(this,Er).values())t.pageIndex===e&&(yield t)}getEditor(e){return f(this,Er).get(e)}addEditor(e){f(this,Er).set(e.id,e)}removeEditor(e){var t,r;e.div.contains(document.activeElement)&&(f(this,nc)&&clearTimeout(f(this,nc)),O(this,nc,setTimeout(()=>{this.focusMainContainer(),O(this,nc,null)},0))),f(this,Er).delete(e.id),e.annotationElementId&&((t=f(this,Ch))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!f(this,wh).has(e.annotationElementId))&&((r=f(this,pa))==null||r.remove(e.id))}addDeletedAnnotationElement(e){f(this,wh).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return f(this,wh).has(e)}removeDeletedAnnotationElement(e){f(this,wh).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){f(this,Eo)!==e&&(O(this,Eo,e),e&&H(this,Oe,pu).call(this,e.propertiesToUpdate))}updateUI(e){f(this,Oe,bZ)===e&&H(this,Oe,pu).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){H(this,Oe,pu).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(f(this,bn).has(e)){f(this,bn).delete(e),e.unselect(),H(this,Oe,_i).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,bn).add(e),e.select(),H(this,Oe,pu).call(this,e.propertiesToUpdate),H(this,Oe,_i).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),(t=f(this,vh))==null||t.commitOrRemove();for(const r of f(this,bn))r!==e&&r.unselect();f(this,bn).clear(),f(this,bn).add(e),e.select(),H(this,Oe,pu).call(this,e.propertiesToUpdate),H(this,Oe,_i).call(this,{hasSelectedEditor:!0})}isSelected(e){return f(this,bn).has(e)}get firstSelectedEditor(){return f(this,bn).values().next().value}unselect(e){e.unselect(),f(this,bn).delete(e),H(this,Oe,_i).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,bn).size!==0}get isEnterHandled(){return f(this,bn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;f(this,ma).undo(),H(this,Oe,_i).call(this,{hasSomethingToUndo:f(this,ma).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:H(this,Oe,Hb).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){f(this,ma).redo(),H(this,Oe,_i).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,ma).hasSomethingToRedo(),isEmpty:H(this,Oe,Hb).call(this)})}addCommands(e){f(this,ma).add(e),H(this,Oe,_i).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:H(this,Oe,Hb).call(this)})}cleanUndoStack(e){f(this,ma).cleanType(e)}delete(){var i;this.commitOrRemove();const e=(i=this.currentLayer)==null?void 0:i.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...f(this,bn)],r=()=>{var o;(o=this._editorUndoBar)==null||o.show(s,t.length===1?t[0].editorType:t.length);for(const a of t)a.remove()},s=()=>{for(const o of t)H(this,Oe,YN).call(this,o)};this.addCommands({cmd:r,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=f(this,Eo))==null||e.commitOrRemove()}hasSomethingToControl(){return f(this,Eo)||this.hasSelection}selectAll(){for(const e of f(this,bn))e.commit();H(this,Oe,XN).call(this,f(this,Er).values())}unselectAll(){var e;if(!(f(this,Eo)&&(f(this,Eo).commitOrRemove(),f(this,Gr)!==Ct.NONE))&&!((e=f(this,vh))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of f(this,bn))t.unselect();f(this,bn).clear(),H(this,Oe,_i).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;f(this,Ah)[0]+=e,f(this,Ah)[1]+=t;const[s,i]=f(this,Ah),o=[...f(this,bn)],a=1e3;f(this,sc)&&clearTimeout(f(this,sc)),O(this,sc,setTimeout(()=>{O(this,sc,null),f(this,Ah)[0]=f(this,Ah)[1]=0,this.addCommands({cmd:()=>{for(const l of o)f(this,Er).has(l.id)&&(l.translateInPage(s,i),l.translationDone())},undo:()=>{for(const l of o)f(this,Er).has(l.id)&&(l.translateInPage(-s,-i),l.translationDone())},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),O(this,tc,new Map);for(const e of f(this,bn))f(this,tc).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,tc))return!1;this.disableUserSelect(!1);const e=f(this,tc);O(this,tc,null);let t=!1;for(const[{x:s,y:i,pageIndex:o},a]of e)a.newX=s,a.newY=i,a.newPageIndex=o,t||(t=s!==a.savedX||i!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(s,i,o,a)=>{if(f(this,Er).has(s.id)){const l=f(this,rs).get(a);l?s._setParentAndPosition(l,i,o):(s.pageIndex=a,s.x=i,s.y=o)}};return this.addCommands({cmd:()=>{for(const[s,{newX:i,newY:o,newPageIndex:a}]of e)r(s,i,o,a)},undo:()=>{for(const[s,{savedX:i,savedY:o,savedPageIndex:a}]of e)r(s,i,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(f(this,tc))for(const r of f(this,tc).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||f(this,bn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return f(this,Eo)===e}getActive(){return f(this,Eo)}getMode(){return f(this,Gr)}isEditingMode(){return f(this,Gr)!==Ct.NONE}get imageManager(){return It(this,"imageManager",new WN)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,h=t.rangeCount;u<h;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:s,width:i,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,h,p,m)=>({x:(h-s)/o,y:1-(u+p-r)/i,width:m/o,height:p/i});break;case"180":a=(u,h,p,m)=>({x:1-(u+p-r)/i,y:1-(h+m-s)/o,width:p/i,height:m/o});break;case"270":a=(u,h,p,m)=>({x:1-(h+m-s)/o,y:(u-r)/i,width:m/o,height:p/i});break;default:a=(u,h,p,m)=>({x:(u-r)/i,y:(h-s)/o,width:p/i,height:m/o});break}const l=[];for(let u=0,h=t.rangeCount;u<h;u++){const p=t.getRangeAt(u);if(!p.collapsed)for(const{x:m,y,width:b,height:v}of p.getClientRects())b===0||v===0||l.push(a(m,y,b,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(f(this,dv)||O(this,dv,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=f(this,dv))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=f(this,dv))==null?void 0:s.get(e.data.id);if(!t)return;const r=f(this,pa).getRawValue(t);r&&(f(this,Gr)===Ct.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,t,r){var i;const s=(i=f(this,Ch))==null?void 0:i.get(e);s&&(s.setCanvas(t,r),f(this,Ch).delete(e))}addMissingCanvas(e,t){(f(this,Ch)||O(this,Ch,new Map)).set(e,t)}};lv=new WeakMap,Eo=new WeakMap,cv=new WeakMap,Er=new WeakMap,rs=new WeakMap,uv=new WeakMap,pa=new WeakMap,dv=new WeakMap,ma=new WeakMap,si=new WeakMap,yh=new WeakMap,vh=new WeakMap,hv=new WeakMap,wh=new WeakMap,tc=new WeakMap,ga=new WeakMap,Lp=new WeakMap,fS=new WeakMap,pS=new WeakMap,fv=new WeakMap,mS=new WeakMap,nc=new WeakMap,bh=new WeakMap,pv=new WeakMap,_h=new WeakMap,rc=new WeakMap,hR=new WeakMap,Sh=new WeakMap,mv=new WeakMap,gS=new WeakMap,Eh=new WeakMap,Np=new WeakMap,gv=new WeakMap,Ch=new WeakMap,yS=new WeakMap,Gr=new WeakMap,bn=new WeakMap,_u=new WeakMap,Th=new WeakMap,xh=new WeakMap,vS=new WeakMap,yv=new WeakMap,wS=new WeakMap,Ah=new WeakMap,sc=new WeakMap,Su=new WeakMap,bS=new WeakMap,_S=new WeakMap,ya=new WeakMap,Oe=new WeakSet,Cx=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},GN=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of f(this,rs).values())if(r.hasTextLayer(e))return r;return null},cZ=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=H(this,Oe,Cx).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(r);s&&(f(this,rc)||O(this,rc,new eDe(this)),f(this,rc).show(r,s,this.direction==="ltr"))},uZ=function(){var i,o,a;const e=document.getSelection();if(!e||e.isCollapsed){f(this,_u)&&((i=f(this,rc))==null||i.hide(),O(this,_u,null),H(this,Oe,_i).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===f(this,_u))return;const s=H(this,Oe,Cx).call(this,e).closest(".textLayer");if(!s){f(this,_u)&&((o=f(this,rc))==null||o.hide(),O(this,_u,null),H(this,Oe,_i).call(this,{hasSelectedText:!1}));return}if((a=f(this,rc))==null||a.hide(),O(this,_u,t),H(this,Oe,_i).call(this,{hasSelectedText:!0}),!(f(this,Gr)!==Ct.HIGHLIGHT&&f(this,Gr)!==Ct.NONE)&&(f(this,Gr)===Ct.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),O(this,_h,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=f(this,Gr)===Ct.HIGHLIGHT?H(this,Oe,GN).call(this,s):null;if(l==null||l.toggleDrawing(),f(this,mv)){const u=new AbortController,h=this.combinedSignal(u),p=m=>{m.type==="pointerup"&&m.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),m.type==="pointerup"&&H(this,Oe,Vb).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:h}),window.addEventListener("blur",p,{signal:h})}else l==null||l.toggleDrawing(!0),H(this,Oe,Vb).call(this,"main_toolbar")}},Vb=function(e=""){f(this,Gr)===Ct.HIGHLIGHT?this.highlightSelection(e):f(this,fS)&&H(this,Oe,cZ).call(this)},dZ=function(){document.addEventListener("selectionchange",H(this,Oe,uZ).bind(this),{signal:this._signal})},hZ=function(){if(f(this,bh))return;O(this,bh,new AbortController);const e=this.combinedSignal(f(this,bh));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},fZ=function(){var e;(e=f(this,bh))==null||e.abort(),O(this,bh,null)},KN=function(){if(f(this,Eh))return;O(this,Eh,new AbortController);const e=this.combinedSignal(f(this,Eh));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},pZ=function(){var e;(e=f(this,Eh))==null||e.abort(),O(this,Eh,null)},mZ=function(){if(f(this,yh))return;O(this,yh,new AbortController);const e=this.combinedSignal(f(this,yh));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},gZ=function(){var e;(e=f(this,yh))==null||e.abort(),O(this,yh,null)},yZ=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},_i=function(e){Object.entries(e).some(([r,s])=>f(this,wS)[r]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,wS),e)}),f(this,Gr)===Ct.HIGHLIGHT&&e.hasSelectedEditor===!1&&H(this,Oe,pu).call(this,[[Jt.HIGHLIGHT_FREE,!0]]))},pu=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},vZ=async function(){if(!f(this,Sh)){O(this,Sh,!0);const e=[];for(const t of f(this,rs).values())e.push(t.enable());await Promise.all(e);for(const t of f(this,Er).values())t.enable()}},wZ=function(){if(this.unselectAll(),f(this,Sh)){O(this,Sh,!1);for(const e of f(this,rs).values())e.disable();for(const e of f(this,Er).values())e.disable()}},YN=function(e){const t=f(this,rs).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},bZ=function(){let e=null;for(e of f(this,bn));return e},Hb=function(){if(f(this,Er).size===0)return!0;if(f(this,Er).size===1)for(const e of f(this,Er).values())return e.isEmpty();return!1},XN=function(e){for(const t of f(this,bn))t.unselect();f(this,bn).clear();for(const t of e)t.isEmpty()||(f(this,bn).add(t),t.select());H(this,Oe,_i).call(this,{hasSelectedEditor:this.hasSelection})},Ee(Uy,"TRANSLATE_SMALL",1),Ee(Uy,"TRANSLATE_BIG",10);let dg=Uy;var vs,ic,ul,vv,oc,Co,wv,ac,Wi,Eu,Fp,lc,Rh,Cl,zb,Tx;const Si=class Si{constructor(e){U(this,Cl);U(this,vs,null);U(this,ic,!1);U(this,ul,null);U(this,vv,null);U(this,oc,null);U(this,Co,null);U(this,wv,!1);U(this,ac,null);U(this,Wi,null);U(this,Eu,null);U(this,Fp,null);U(this,lc,!1);O(this,Wi,e),O(this,lc,e._uiManager.useNewAltTextFlow),f(Si,Rh)||O(Si,Rh,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Si._l10n??(Si._l10n=e)}async render(){const e=O(this,ul,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=O(this,vv,document.createElement("span"));e.append(t),f(this,lc)?(e.classList.add("new"),e.setAttribute("data-l10n-id",f(Si,Rh).missing),t.setAttribute("data-l10n-id",f(Si,Rh)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=f(this,Wi)._uiManager._signal;e.addEventListener("contextmenu",$a,{signal:r}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:r});const s=i=>{i.preventDefault(),f(this,Wi)._uiManager.editAltText(f(this,Wi)),f(this,lc)&&f(this,Wi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:f(this,Cl,zb)}})};return e.addEventListener("click",s,{capture:!0,signal:r}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(O(this,wv,!0),s(i))},{signal:r}),await H(this,Cl,Tx).call(this),e}finish(){f(this,ul)&&(f(this,ul).focus({focusVisible:f(this,wv)}),O(this,wv,!1))}isEmpty(){return f(this,lc)?f(this,vs)===null:!f(this,vs)&&!f(this,ic)}hasData(){return f(this,lc)?f(this,vs)!==null||!!f(this,Eu):this.isEmpty()}get guessedText(){return f(this,Eu)}async setGuessedText(e){f(this,vs)===null&&(O(this,Eu,e),O(this,Fp,await Si._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),H(this,Cl,Tx).call(this))}toggleAltTextBadge(e=!1){var t;if(!f(this,lc)||f(this,vs)){(t=f(this,ac))==null||t.remove(),O(this,ac,null);return}if(!f(this,ac)){const r=O(this,ac,document.createElement("div"));r.className="noAltTextBadge",f(this,Wi).div.append(r)}f(this,ac).classList.toggle("hidden",!e)}serialize(e){let t=f(this,vs);return!e&&f(this,Eu)===t&&(t=f(this,Fp)),{altText:t,decorative:f(this,ic),guessedText:f(this,Eu),textWithDisclaimer:f(this,Fp)}}get data(){return{altText:f(this,vs),decorative:f(this,ic)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:s,cancel:i=!1}){r&&(O(this,Eu,r),O(this,Fp,s)),!(f(this,vs)===e&&f(this,ic)===t)&&(i||(O(this,vs,e),O(this,ic,t)),H(this,Cl,Tx).call(this))}toggle(e=!1){f(this,ul)&&(!e&&f(this,Co)&&(clearTimeout(f(this,Co)),O(this,Co,null)),f(this,ul).disabled=!e)}shown(){f(this,Wi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:f(this,Cl,zb)}})}destroy(){var e,t;(e=f(this,ul))==null||e.remove(),O(this,ul,null),O(this,vv,null),O(this,oc,null),(t=f(this,ac))==null||t.remove(),O(this,ac,null)}};vs=new WeakMap,ic=new WeakMap,ul=new WeakMap,vv=new WeakMap,oc=new WeakMap,Co=new WeakMap,wv=new WeakMap,ac=new WeakMap,Wi=new WeakMap,Eu=new WeakMap,Fp=new WeakMap,lc=new WeakMap,Rh=new WeakMap,Cl=new WeakSet,zb=function(){return f(this,vs)&&"added"||f(this,vs)===null&&this.guessedText&&"review"||"missing"},Tx=async function(){var s,i,o;const e=f(this,ul);if(!e)return;if(f(this,lc)){if(e.classList.toggle("done",!!f(this,vs)),e.setAttribute("data-l10n-id",f(Si,Rh)[f(this,Cl,zb)]),(s=f(this,vv))==null||s.setAttribute("data-l10n-id",f(Si,Rh)[`${f(this,Cl,zb)}-label`]),!f(this,vs)){(i=f(this,oc))==null||i.remove();return}}else{if(!f(this,vs)&&!f(this,ic)){e.classList.remove("done"),(o=f(this,oc))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=f(this,oc);if(!t){O(this,oc,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${f(this,Wi).id}`;const a=100,l=f(this,Wi)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(f(this,Co)),O(this,Co,null)},{once:!0}),e.addEventListener("mouseenter",()=>{O(this,Co,setTimeout(()=>{O(this,Co,null),f(this,oc).classList.add("show"),f(this,Wi)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;f(this,Co)&&(clearTimeout(f(this,Co)),O(this,Co,null)),(u=f(this,oc))==null||u.classList.remove("show")},{signal:l})}f(this,ic)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=f(this,vs)),t.parentNode||e.append(t);const r=f(this,Wi).getElementForAltText();r==null||r.setAttribute("aria-describedby",t.id)},U(Si,Rh,null),Ee(Si,"_l10n",null);let YA=Si;var Os,va,Bp,zn,SS,$p,dl,jp,Up,Vp,ES,JN;class OT{constructor(e){U(this,ES);U(this,Os,null);U(this,va,null);U(this,Bp,!1);U(this,zn,null);U(this,SS,null);U(this,$p,null);U(this,dl,null);U(this,jp,null);U(this,Up,!1);U(this,Vp,null);O(this,zn,e)}renderForToolbar(){const e=O(this,va,document.createElement("button"));return e.className="comment",H(this,ES,JN).call(this,e,!1)}renderForStandalone(){const e=O(this,Os,document.createElement("button"));e.className="annotationCommentButton";const t=f(this,zn).commentButtonPosition;if(t){const{style:r}=e;r.insetInlineEnd=`calc(${100*(f(this,zn)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const s=f(this,zn).commentButtonColor;s&&(r.backgroundColor=s)}return H(this,ES,JN).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=f(this,Os)??f(this,va))==null||e.focus()},0)}onUpdatedColor(){if(!f(this,Os))return;const e=f(this,zn).commentButtonColor;e&&(f(this,Os).style.backgroundColor=e),f(this,zn)._uiManager.updatePopupColor(f(this,zn))}get commentButtonWidth(){var e;return(((e=f(this,Os))==null?void 0:e.getBoundingClientRect().width)??0)/f(this,zn).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(f(this,Vp))return f(this,Vp);if(!f(this,Os))return null;const{x:e,y:t,height:r}=f(this,Os).getBoundingClientRect(),{x:s,y:i,width:o,height:a}=f(this,zn).parent.boundingClientRect;return[(e-s)/o,(t+r-i)/a]}set commentPopupPositionInLayer(e){O(this,Vp,e)}hasDefaultPopupPosition(){return f(this,Vp)===null}removeStandaloneCommentButton(){var e;(e=f(this,Os))==null||e.remove(),O(this,Os,null)}removeToolbarCommentButton(){var e;(e=f(this,va))==null||e.remove(),O(this,va,null)}setCommentButtonStates({selected:e,hasPopup:t}){f(this,Os)&&(f(this,Os).classList.toggle("selected",e),f(this,Os).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let r,s;if(t)[r,s]=t;else{[r,s]=f(this,zn).commentButtonPosition;const{width:h,height:p,x:m,y}=f(this,zn);r=m+r*h,s=y+s*p}const i=f(this,zn).parent.boundingClientRect,{x:o,y:a,width:l,height:u}=i;f(this,zn)._uiManager.editComment(f(this,zn),o+r*l,a+s*u,{...e,parentDimensions:i})}finish(){f(this,va)&&(f(this,va).focus({focusVisible:f(this,Bp)}),O(this,Bp,!1))}isDeleted(){return f(this,Up)||f(this,dl)===""}isEmpty(){return f(this,dl)===null}hasBeenEdited(){return this.isDeleted()||f(this,dl)!==f(this,SS)}serialize(){return this.data}get data(){return{text:f(this,dl),richText:f(this,$p),date:f(this,jp),deleted:this.isDeleted()}}set data(e){if(e!==f(this,dl)&&O(this,$p,null),e===null){O(this,dl,""),O(this,Up,!0);return}O(this,dl,e),O(this,jp,new Date),O(this,Up,!1)}setInitialText(e,t=null){O(this,SS,e),this.data=e,O(this,jp,null),O(this,$p,t)}shown(){}destroy(){var e,t;(e=f(this,va))==null||e.remove(),O(this,va,null),(t=f(this,Os))==null||t.remove(),O(this,Os,null),O(this,dl,""),O(this,$p,null),O(this,jp,null),O(this,zn,null),O(this,Bp,!1),O(this,Up,!1)}}Os=new WeakMap,va=new WeakMap,Bp=new WeakMap,zn=new WeakMap,SS=new WeakMap,$p=new WeakMap,dl=new WeakMap,jp=new WeakMap,Up=new WeakMap,Vp=new WeakMap,ES=new WeakSet,JN=function(e,t){if(!f(this,zn)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[f(this,zn)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=f(this,zn)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",$a,{signal:r}),t&&(e.addEventListener("focusin",i=>{f(this,zn)._focusEventsAllowed=!1,Ir(i)},{capture:!0,signal:r}),e.addEventListener("focusout",i=>{f(this,zn)._focusEventsAllowed=!0,Ir(i)},{capture:!0,signal:r})),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:r});const s=i=>{i.preventDefault(),e===f(this,va)?this.edit():f(this,zn).toggleComment(!0)};return e.addEventListener("click",s,{capture:!0,signal:r}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(O(this,Bp,!0),s(i))},{signal:r}),e.addEventListener("pointerenter",()=>{f(this,zn).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{f(this,zn).toggleComment(!1,!1)},{signal:r}),e};var bv,Hp,CS,TS,xS,AS,RS,Cu,zp,Tu,Wp,xu,Af,_Z,SZ,EZ;const DU=class DU{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:s=null,onPinching:i=null,onPinchEnd:o=null,signal:a}){U(this,Af);U(this,bv);U(this,Hp,!1);U(this,CS,null);U(this,TS);U(this,xS);U(this,AS);U(this,RS);U(this,Cu,null);U(this,zp);U(this,Tu,null);U(this,Wp);U(this,xu,null);O(this,bv,e),O(this,CS,r),O(this,TS,t),O(this,xS,s),O(this,AS,i),O(this,RS,o),O(this,Wp,new AbortController),O(this,zp,AbortSignal.any([a,f(this,Wp).signal])),e.addEventListener("touchstart",H(this,Af,_Z).bind(this),{passive:!1,signal:f(this,zp)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/$c.pixelRatio}destroy(){var e,t;(e=f(this,Wp))==null||e.abort(),O(this,Wp,null),(t=f(this,Cu))==null||t.abort(),O(this,Cu,null)}};bv=new WeakMap,Hp=new WeakMap,CS=new WeakMap,TS=new WeakMap,xS=new WeakMap,AS=new WeakMap,RS=new WeakMap,Cu=new WeakMap,zp=new WeakMap,Tu=new WeakMap,Wp=new WeakMap,xu=new WeakMap,Af=new WeakSet,_Z=function(e){var s,i,o;if((s=f(this,TS))!=null&&s.call(this))return;if(e.touches.length===1){if(f(this,Cu))return;const a=O(this,Cu,new AbortController),l=AbortSignal.any([f(this,zp),a.signal]),u=f(this,bv),h={capture:!0,signal:l,passive:!1},p=m=>{var y;m.pointerType==="touch"&&((y=f(this,Cu))==null||y.abort(),O(this,Cu,null))};u.addEventListener("pointerdown",m=>{m.pointerType==="touch"&&(Ir(m),p(m))},h),u.addEventListener("pointerup",p,h),u.addEventListener("pointercancel",p,h);return}if(!f(this,xu)){O(this,xu,new AbortController);const a=AbortSignal.any([f(this,zp),f(this,xu).signal]),l=f(this,bv),u={signal:a,capture:!1,passive:!1};l.addEventListener("touchmove",H(this,Af,SZ).bind(this),u);const h=H(this,Af,EZ).bind(this);l.addEventListener("touchend",h,u),l.addEventListener("touchcancel",h,u),u.capture=!0,l.addEventListener("pointerdown",Ir,u),l.addEventListener("pointermove",Ir,u),l.addEventListener("pointercancel",Ir,u),l.addEventListener("pointerup",Ir,u),(i=f(this,xS))==null||i.call(this)}if(Ir(e),e.touches.length!==2||(o=f(this,CS))!=null&&o.call(this)){O(this,Tu,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),O(this,Tu,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},SZ=function(e){var A;if(!f(this,Tu)||e.touches.length!==2)return;Ir(e);let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:s,screenY:i}=t,{screenX:o,screenY:a}=r,l=f(this,Tu),{touch0X:u,touch0Y:h,touch1X:p,touch1Y:m}=l,y=p-u,b=m-h,v=o-s,_=a-i,E=Math.hypot(v,_)||1,x=Math.hypot(y,b)||1;if(!f(this,Hp)&&Math.abs(x-E)<=DU.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=s,l.touch0Y=i,l.touch1X=o,l.touch1Y=a,!f(this,Hp)){O(this,Hp,!0);return}const C=[(s+o)/2,(i+a)/2];(A=f(this,AS))==null||A.call(this,C,x,E)},EZ=function(e){var t;e.touches.length>=2||(f(this,xu)&&(f(this,xu).abort(),O(this,xu,null),(t=f(this,RS))==null||t.call(this)),f(this,Tu)&&(Ir(e),O(this,Tu,null),O(this,Hp,!1)))};let XA=DU;var qp,hl,ir,Nn,Au,_v,Ih,IS,Ls,Gp,Ru,wa,kh,kS,Kp,To,PS,Yp,Iu,cc,Sv,Ev,ba,Xp,DS,fR,ct,QN,MS,ZN,xx,CZ,TZ,eF,Ax,tF,xZ,AZ,RZ,nF,IZ,rF,kZ,PZ,DZ,sF,Wb;const Et=class Et{constructor(e){U(this,ct);U(this,qp,null);U(this,hl,null);U(this,ir,null);U(this,Nn,null);U(this,Au,null);U(this,_v,!1);U(this,Ih,null);U(this,IS,"");U(this,Ls,null);U(this,Gp,null);U(this,Ru,null);U(this,wa,null);U(this,kh,null);U(this,kS,"");U(this,Kp,!1);U(this,To,null);U(this,PS,!1);U(this,Yp,!1);U(this,Iu,!1);U(this,cc,null);U(this,Sv,0);U(this,Ev,0);U(this,ba,null);U(this,Xp,null);Ee(this,"isSelected",!1);Ee(this,"_isCopy",!1);Ee(this,"_editToolbar",null);Ee(this,"_initialOptions",Object.create(null));Ee(this,"_initialData",null);Ee(this,"_isVisible",!0);Ee(this,"_uiManager",null);Ee(this,"_focusEventsAllowed",!0);U(this,DS,!1);U(this,fR,Et._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:r,pageHeight:s,pageX:i,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,s],this.pageTranslation=[i,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Et.prototype._resizeWithKeyboard,t=dg.TRANSLATE_SMALL,r=dg.TRANSLATE_BIG;return It(this,"_resizerKeyboardManager",new j1([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Et.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return It(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new rDe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Et._l10n??(Et._l10n=e),Et._l10nResizer||(Et._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Et._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Et._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){jn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,DS)}set _isDraggable(e){var t;O(this,DS,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,fR)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(H(this,ct,Wb).call(this),(t=f(this,wa))==null||t.remove(),O(this,wa,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(f(this,Kp)?O(this,Kp,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,s){const[i,o]=this.parentDimensions;[r,s]=this.screenToPageTranslation(r,s),this.x=(e+r)/i,this.y=(t+s)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,s]=this.parentDimensions;this.setAt(e*r,t*s,this.width*r,this.height*s),this._onTranslated()}translate(e,t){H(this,ct,QN).call(this,this.parentDimensions,e,t)}translateInPage(e,t){f(this,To)||O(this,To,[this.x,this.y,this.width,this.height]),H(this,ct,QN).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){f(this,To)||O(this,To,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[s,i]}=this;if(this.x+=e/s,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[l,u]=this.getBaseTranslation();o+=l,a+=u;const{style:h}=r;h.left=`${(100*o).toFixed(2)}%`,h.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!f(this,To)&&(f(this,To)[0]!==this.x||f(this,To)[1]!==this.y)}get _hasBeenResized(){return!!f(this,To)&&(f(this,To)[2]!==this.width||f(this,To)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=Et,s=r/e,i=r/t;switch(this.rotation){case 90:return[-s,i];case 180:return[s,i];case 270:return[s,-i];default:return[-s,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,s]}=this;let{x:i,y:o,width:a,height:l}=this;if(a*=r,l*=s,i*=r,o*=s,this._mustFixPosition)switch(e){case 0:i=Ri(i,0,r-a),o=Ri(o,0,s-l);break;case 90:i=Ri(i,0,r-l),o=Ri(o,a,s);break;case 180:i=Ri(i,a,r),o=Ri(o,l,s);break;case 270:i=Ri(i,l,r),o=Ri(o,0,s-a);break}this.x=i/=r,this.y=o/=s;const[u,h]=this.getBaseTranslation();i+=u,o+=h,t.left=`${(100*i).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return H(r=Et,MS,ZN).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return H(r=Et,MS,ZN).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(){const{div:{style:e},width:t,height:r}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=f(this,ir))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||f(this,Yp))return this._editToolbar;this._editToolbar=new HN(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)await this._editToolbar.addButton(t,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=f(this,ir))==null||t.destroy()}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return f(this,ir)||(YA.initialize(Et._l10n),O(this,ir,new YA(this)),f(this,qp)&&(f(this,ir).data=f(this,qp),O(this,qp,null))),f(this,ir)}get altTextData(){var e;return(e=f(this,ir))==null?void 0:e.data}set altTextData(e){f(this,ir)&&(f(this,ir).data=e)}get guessedAltText(){var e;return(e=f(this,ir))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=f(this,ir))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=f(this,ir))==null?void 0:t.serialize(e)}hasAltText(){return!!f(this,ir)&&!f(this,ir).isEmpty()}hasAltTextData(){var e;return((e=f(this,ir))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=f(this,Nn))==null||e.focusButton()}addCommentButton(){return this.canAddComment?f(this,Nn)||O(this,Nn,new OT(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(f(this,Au)){this._uiManager.isEditingMode()&&f(this,Au).classList.remove("hidden");return}this.hasComment&&(O(this,Au,f(this,Nn).renderForStandalone()),this.div.append(f(this,Au)))}}removeStandaloneCommentButton(){f(this,Nn).removeStandaloneCommentButton(),O(this,Au,null)}hideStandaloneCommentButton(){var e;(e=f(this,Au))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:r,deleted:s}}=f(this,Nn);return{text:t,richText:e,date:r,deleted:s,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){f(this,Nn)||O(this,Nn,new OT(this)),f(this,Nn).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:r}){if(!t||(f(this,Nn)||O(this,Nn,new OT(this)),f(this,Nn).setInitialText(e,r),!this.annotationElementId))return;const s=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);s&&this.updateFromAnnotationLayer(s)}get hasEditedComment(){var e;return(e=f(this,Nn))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=f(this,Nn))==null?void 0:e.isDeleted()}get hasComment(){return!!f(this,Nn)&&!f(this,Nn).isEmpty()&&!f(this,Nn).isDeleted()}async editComment(e){f(this,Nn)||O(this,Nn,new OT(this)),f(this,Nn).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){f(this,Nn).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,s]=e.rect,[i]=this.pageDimensions,[o]=this.pageTranslation,a=o+i+1,l=s-100,u=a+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[a,l,u,s]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){f(this,Nn).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var o;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=f(this,_v)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),H(this,ct,rF).call(this);const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[s,i]=this.getInitialTranslation();return this.translate(s,i),aZ(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(f(this,Xp)||O(this,Xp,new XA({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:H(this,ct,xZ).bind(this),onPinching:H(this,ct,AZ).bind(this),onPinchEnd:H(this,ct,RZ).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(o=this._uiManager._editorUndoBar)==null||o.hide(),e}pointerdown(e){const{isMac:t}=Ws.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(O(this,Kp,!0),this._isDraggable){H(this,ct,IZ).call(this,e);return}H(this,ct,nF).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){f(this,cc)&&clearTimeout(f(this,cc)),O(this,cc,setTimeout(()=>{var e;O(this,cc,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const s=this.parentScale,[i,o]=this.pageDimensions,[a,l]=this.pageTranslation,u=e/s,h=t/s,p=this.x*i,m=this.y*o,y=this.width*i,b=this.height*o;switch(r){case 0:return[p+u+a,o-m-h-b+l,p+u+y+a,o-m-h+l];case 90:return[p+h+a,o-m+u+l,p+h+b+a,o-m+u+y+l];case 180:return[p-u-y+a,o-m+h+l,p-u+a,o-m+h+b+l];case 270:return[p-h-b+a,o-m-u-y+l,p-h+a,o-m-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,s,i,o]=e,a=i-r,l=o-s;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-s,l,a];case 180:return[i,t-s,a,l];case 270:return[i,t-o,l,a];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Et._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=f(this,Nn))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:r,opacity:s,deleted:i,richText:o},uid:a,pageIndex:l,creationDate:u,modificationDate:h}=this;return{id:a,pageIndex:l,rect:this.getPDFRect(),richText:o,contentsObj:{str:e},creationDate:u,modificationDate:r||h,popupRef:!i,color:t,opacity:s}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),O(this,Yp,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),O(this,Yp,!1),!0):!1}isInEditMode(){return f(this,Yp)}shouldGetKeyboardEvents(){return f(this,Iu)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:s}=this.getClientDimensions(),{innerHeight:i,innerWidth:o}=window;return t<o&&s>0&&e<i&&r>0}rebuild(){H(this,ct,rF).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,t,r){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});s.rotation=e.rotation,O(s,qp,e.accessibilityData),s._isCopy=e.isCopy||!1;const[i,o]=s.pageDimensions,[a,l,u,h]=s.getRectInCurrentCoords(e.rect,o);return s.x=a/i,s.y=l/o,s.width=u/i,s.height=h/o,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t,r;if((e=f(this,kh))==null||e.abort(),O(this,kh,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),f(this,cc)&&(clearTimeout(f(this,cc)),O(this,cc,null)),H(this,ct,Wb).call(this),this.removeEditToolbar(),f(this,ba)){for(const s of f(this,ba).values())clearTimeout(s);O(this,ba,null)}this.parent=null,(t=f(this,Xp))==null||t.destroy(),O(this,Xp,null),(r=f(this,wa))==null||r.remove(),O(this,wa,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(H(this,ct,CZ).call(this),f(this,Ls).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[r,s,i,o]=this.getPDFRect();return[Et._round(r+(i-r)*e),Et._round(s+(o-s)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return f(this,Nn).commentPopupPositionInLayer}set commentPopupPosition(e){f(this,Nn).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return f(this,Nn).hasDefaultPopupPosition()}get commentButtonWidth(){return f(this,Nn).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;(t=f(this,Nn))==null||t.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),O(this,Ru,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=f(this,Ls).children;if(!f(this,hl)){O(this,hl,Array.from(t));const o=H(this,ct,kZ).bind(this),a=H(this,ct,PZ).bind(this),l=this._uiManager._signal;for(const u of f(this,hl)){const h=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:l}),u.addEventListener("blur",a,{signal:l}),u.addEventListener("focus",H(this,ct,DZ).bind(this,h),{signal:l}),u.setAttribute("data-l10n-id",Et._l10nResizer[h])}}const r=f(this,hl)[0];let s=0;for(const o of t){if(o===r)break;s++}const i=(360-this.rotation+this.parentRotation)%360/90*(f(this,hl).length/4);if(i!==s){if(i<s)for(let a=0;a<s-i;a++)f(this,Ls).append(f(this,Ls).firstChild);else if(i>s)for(let a=0;a<i-s;a++)f(this,Ls).firstChild.before(f(this,Ls).lastChild);let o=0;for(const a of t){const u=f(this,hl)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",Et._l10nResizer[u])}}H(this,ct,sF).call(this,0),O(this,Iu,!0),f(this,Ls).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){f(this,Iu)&&H(this,ct,tF).call(this,f(this,kS),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){H(this,ct,Wb).call(this),this.div.focus()}select(){var e,t,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,i;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((i=this._editToolbar)==null||i.show())});return}(t=this._editToolbar)==null||t.show(),(r=f(this,ir))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,r,s,i;this.isSelected&&(this.isSelected=!1,(e=f(this,Ls))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(i=f(this,ir))==null||i.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return f(this,PS)}set isEditing(e){O(this,PS,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){f(this,ba)||O(this,ba,new Map);const{action:r}=e;let s=f(this,ba).get(r);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),f(this,ba).delete(r),f(this,ba).size===0&&O(this,ba,null)},Et._telemetryTimeout),f(this,ba).set(r,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),O(this,_v,!1)}disable(){this.div&&(this.div.tabIndex=-1),O(this,_v,!0)}updateFakeAnnotationElement(e){if(!f(this,wa)&&!this.deleted){O(this,wa,e.addFakeAnnotation(this));return}if(this.deleted){f(this,wa).remove(),O(this,wa,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&f(this,wa).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};qp=new WeakMap,hl=new WeakMap,ir=new WeakMap,Nn=new WeakMap,Au=new WeakMap,_v=new WeakMap,Ih=new WeakMap,IS=new WeakMap,Ls=new WeakMap,Gp=new WeakMap,Ru=new WeakMap,wa=new WeakMap,kh=new WeakMap,kS=new WeakMap,Kp=new WeakMap,To=new WeakMap,PS=new WeakMap,Yp=new WeakMap,Iu=new WeakMap,cc=new WeakMap,Sv=new WeakMap,Ev=new WeakMap,ba=new WeakMap,Xp=new WeakMap,DS=new WeakMap,fR=new WeakMap,ct=new WeakSet,QN=function([e,t],r,s){[r,s]=this.screenToPageTranslation(r,s),this.x+=r/e,this.y+=s/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},MS=new WeakSet,ZN=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},xx=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},CZ=function(){if(f(this,Ls))return;O(this,Ls,document.createElement("div")),f(this,Ls).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const s=document.createElement("div");f(this,Ls).append(s),s.classList.add("resizer",r),s.setAttribute("data-resizer-name",r),s.addEventListener("pointerdown",H(this,ct,TZ).bind(this,r),{signal:t}),s.addEventListener("contextmenu",$a,{signal:t}),s.tabIndex=-1}this.div.prepend(f(this,Ls))},TZ=function(e,t){var h;t.preventDefault();const{isMac:r}=Ws.platform;if(t.button!==0||t.ctrlKey&&r)return;(h=f(this,ir))==null||h.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,O(this,Gp,[t.screenX,t.screenY]);const i=new AbortController,o=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",H(this,ct,tF).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Ir,{passive:!1,signal:o}),window.addEventListener("contextmenu",$a,{signal:o}),O(this,Ru,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var p;i.abort(),this.parent.togglePointerEvents(!0),(p=f(this,ir))==null||p.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=a,this.div.style.cursor=l,H(this,ct,Ax).call(this)};window.addEventListener("pointerup",u,{signal:o}),window.addEventListener("blur",u,{signal:o})},eF=function(e,t,r,s){this.width=r,this.height=s,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},Ax=function(){if(!f(this,Ru))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:s}=f(this,Ru);O(this,Ru,null);const i=this.x,o=this.y,a=this.width,l=this.height;i===e&&o===t&&a===r&&l===s||this.addCommands({cmd:H(this,ct,eF).bind(this,i,o,a,l),undo:H(this,ct,eF).bind(this,e,t,r,s),mustExec:!0})},tF=function(e,t){const[r,s]=this.parentDimensions,i=this.x,o=this.y,a=this.width,l=this.height,u=Et.MIN_SIZE/r,h=Et.MIN_SIZE/s,p=H(this,ct,xx).call(this,this.rotation),m=(J,ee)=>[p[0]*J+p[2]*ee,p[1]*J+p[3]*ee],y=H(this,ct,xx).call(this,360-this.rotation),b=(J,ee)=>[y[0]*J+y[2]*ee,y[1]*J+y[3]*ee];let v,_,E=!1,x=!1;switch(e){case"topLeft":E=!0,v=(J,ee)=>[0,0],_=(J,ee)=>[J,ee];break;case"topMiddle":v=(J,ee)=>[J/2,0],_=(J,ee)=>[J/2,ee];break;case"topRight":E=!0,v=(J,ee)=>[J,0],_=(J,ee)=>[0,ee];break;case"middleRight":x=!0,v=(J,ee)=>[J,ee/2],_=(J,ee)=>[0,ee/2];break;case"bottomRight":E=!0,v=(J,ee)=>[J,ee],_=(J,ee)=>[0,0];break;case"bottomMiddle":v=(J,ee)=>[J/2,ee],_=(J,ee)=>[J/2,0];break;case"bottomLeft":E=!0,v=(J,ee)=>[0,ee],_=(J,ee)=>[J,0];break;case"middleLeft":x=!0,v=(J,ee)=>[0,ee/2],_=(J,ee)=>[J,ee/2];break}const C=v(a,l),A=_(a,l);let k=m(...A);const L=Et._round(i+k[0]),P=Et._round(o+k[1]);let D=1,F=1,T,$;if(t.fromKeyboard)({deltaX:T,deltaY:$}=t);else{const{screenX:J,screenY:ee}=t,[Q,te]=f(this,Gp);[T,$]=this.screenToPageTranslation(J-Q,ee-te),f(this,Gp)[0]=J,f(this,Gp)[1]=ee}if([T,$]=b(T/r,$/s),E){const J=Math.hypot(a,l);D=F=Math.max(Math.min(Math.hypot(A[0]-C[0]-T,A[1]-C[1]-$)/J,1/a,1/l),u/a,h/l)}else x?D=Ri(Math.abs(A[0]-C[0]-T),u,1)/a:F=Ri(Math.abs(A[1]-C[1]-$),h,1)/l;const z=Et._round(a*D),j=Et._round(l*F);k=m(..._(z,j));const Y=L-k[0],Z=P-k[1];f(this,To)||O(this,To,[this.x,this.y,this.width,this.height]),this.width=z,this.height=j,this.x=Y,this.y=Z,this.setDims(),this.fixAndSetPosition(),this._onResizing()},xZ=function(){var e;O(this,Ru,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=f(this,ir))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},AZ=function(e,t,r){let i=.7*(r/t)+1-.7;if(i===1)return;const o=H(this,ct,xx).call(this,this.rotation),a=(L,P)=>[o[0]*L+o[2]*P,o[1]*L+o[3]*P],[l,u]=this.parentDimensions,h=this.x,p=this.y,m=this.width,y=this.height,b=Et.MIN_SIZE/l,v=Et.MIN_SIZE/u;i=Math.max(Math.min(i,1/m,1/y),b/m,v/y);const _=Et._round(m*i),E=Et._round(y*i);if(_===m&&E===y)return;f(this,To)||O(this,To,[h,p,m,y]);const x=a(m/2,y/2),C=Et._round(h+x[0]),A=Et._round(p+x[1]),k=a(_/2,E/2);this.x=C-k[0],this.y=A-k[1],this.width=_,this.height=E,this.setDims(),this.fixAndSetPosition(),this._onResizing()},RZ=function(){var e;(e=f(this,ir))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),H(this,ct,Ax).call(this)},nF=function(e){const{isMac:t}=Ws.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},IZ=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const s=new AbortController,i=this._uiManager.combinedSignal(s),o={capture:!0,passive:!1,signal:i},a=u=>{s.abort(),O(this,Ih,null),O(this,Kp,!1),this._uiManager.endDragSession()||H(this,ct,nF).call(this,u),r&&this._onStopDragging()};t&&(O(this,Sv,e.clientX),O(this,Ev,e.clientY),O(this,Ih,e.pointerId),O(this,IS,e.pointerType),window.addEventListener("pointermove",u=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:h,clientY:p,pointerId:m}=u;if(m!==f(this,Ih)){Ir(u);return}const[y,b]=this.screenToPageTranslation(h-f(this,Sv),p-f(this,Ev));O(this,Sv,h),O(this,Ev,p),this._uiManager.dragSelectedEditors(y,b)},o),window.addEventListener("touchmove",Ir,o),window.addEventListener("pointerdown",u=>{u.pointerType===f(this,IS)&&(f(this,Xp)||u.isPrimary)&&a(u),Ir(u)},o));const l=u=>{if(!f(this,Ih)||f(this,Ih)===u.pointerId){a(u);return}Ir(u)};window.addEventListener("pointerup",l,{signal:i}),window.addEventListener("blur",l,{signal:i})},rF=function(){if(f(this,kh)||!this.div)return;O(this,kh,new AbortController);const e=this._uiManager.combinedSignal(f(this,kh));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},kZ=function(e){Et._resizerKeyboardManager.exec(this,e)},PZ=function(e){var t;f(this,Iu)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==f(this,Ls)&&H(this,ct,Wb).call(this)},DZ=function(e){O(this,kS,f(this,Iu)?e:"")},sF=function(e){if(f(this,hl))for(const t of f(this,hl))t.tabIndex=e},Wb=function(){O(this,Iu,!1),H(this,ct,sF).call(this,-1),H(this,ct,Ax).call(this)},U(Et,MS),Ee(Et,"_l10n",null),Ee(Et,"_l10nResizer",null),Ee(Et,"_borderLineWidth",-1),Ee(Et,"_colorManager",new qN),Ee(Et,"_zIndex",1),Ee(Et,"_telemetryTimeout",1e3);let Wn=Et;class rDe extends Wn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Zq=3285377520,ca=4294901760,Jl=65535;class MZ{constructor(e){this.h1=e?e&4294967295:Zq,this.h2=e?e&4294967295:Zq}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let v=0,_=e.length;v<_;v++){const E=e.charCodeAt(v);E<=255?t[r++]=E:(t[r++]=E>>>8,t[r++]=E&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=r>>2,i=r-s*4,o=new Uint32Array(t.buffer,0,s);let a=0,l=0,u=this.h1,h=this.h2;const p=3432918353,m=461845907,y=p&Jl,b=m&Jl;for(let v=0;v<s;v++)v&1?(a=o[v],a=a*p&ca|a*y&Jl,a=a<<15|a>>>17,a=a*m&ca|a*b&Jl,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(l=o[v],l=l*p&ca|l*y&Jl,l=l<<15|l>>>17,l=l*m&ca|l*b&Jl,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(a=0,i){case 3:a^=t[s*4+2]<<16;case 2:a^=t[s*4+1]<<8;case 1:a^=t[s*4],a=a*p&ca|a*y&Jl,a=a<<15|a>>>17,a=a*m&ca|a*b&Jl,s&1?u^=a:h^=a}this.h1=u,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ca|e*36045&Jl,t=t*4283543511&ca|((t<<16|e>>>16)*2950163797&ca)>>>16,e^=t>>>1,e=e*444984403&ca|e*60499&Jl,t=t*3301882366&ca|((t<<16|e>>>16)*3120437893&ca)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const iF=Object.freeze({map:null,hash:"",transfer:void 0});var Jp,Qp,ku,Ns,pR,OZ;class bU{constructor(){U(this,pR);U(this,Jp,!1);U(this,Qp,null);U(this,ku,null);U(this,Ns,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=f(this,Ns).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return f(this,Ns).get(e)}remove(e){const t=f(this,Ns).get(e);if(t!==void 0&&(t instanceof Wn&&f(this,ku).delete(t.annotationElementId),f(this,Ns).delete(e),f(this,Ns).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of f(this,Ns).values())if(r instanceof Wn)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=f(this,Ns).get(e);let s=!1;if(r!==void 0)for(const[i,o]of Object.entries(t))r[i]!==o&&(s=!0,r[i]=o);else s=!0,f(this,Ns).set(e,t);s&&H(this,pR,OZ).call(this),t instanceof Wn&&((f(this,ku)||O(this,ku,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return f(this,Ns).has(e)}get size(){return f(this,Ns).size}resetModified(){f(this,Jp)&&(O(this,Jp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new LZ(this)}get serializable(){if(f(this,Ns).size===0)return iF;const e=new Map,t=new MZ,r=[],s=Object.create(null);let i=!1;for(const[o,a]of f(this,Ns)){const l=a instanceof Wn?a.serialize(!1,s):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),i||(i=!!l.bitmap))}if(i)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:iF}get editorStats(){let e=null;const t=new Map;let r=0,s=0;for(const i of f(this,Ns).values()){if(!(i instanceof Wn)){i.popup&&(i.popup.deleted?s+=1:r+=1);continue}i.isCommentDeleted?s+=1:i.hasEditedComment&&(r+=1);const o=i.telemetryFinalData;if(!o)continue;const{type:a}=o;t.has(a)||t.set(a,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const l=e[a]||(e[a]=new Map);for(const[u,h]of Object.entries(o)){if(u==="type")continue;let p=l.get(u);p||(p=new Map,l.set(u,p));const m=p.get(h)??0;p.set(h,m+1)}}if((s>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:s,edited:r}),!e)return null;for(const[i,o]of t)e[i]=o.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){O(this,Qp,null)}updateEditor(e,t){var s;const r=(s=f(this,ku))==null?void 0:s.get(e);return r?(r.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=f(this,ku))==null?void 0:t.get(e))||null}get modifiedIds(){if(f(this,Qp))return f(this,Qp);const e=[];if(f(this,ku))for(const t of f(this,ku).values())t.serialize()&&e.push(t.annotationElementId);return O(this,Qp,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return f(this,Ns).entries()}}Jp=new WeakMap,Qp=new WeakMap,ku=new WeakMap,Ns=new WeakMap,pR=new WeakSet,OZ=function(){f(this,Jp)||(O(this,Jp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var OS;class LZ extends bU{constructor(t){super();U(this,OS);const{map:r,hash:s,transfer:i}=t.serializable,o=structuredClone(r,i?{transfer:i}:null);O(this,OS,{map:o,hash:s,transfer:i})}get print(){jn("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,OS)}get modifiedIds(){return It(this,"modifiedIds",{ids:new Set,hash:""})}}OS=new WeakMap;var Cv;class sDe{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){U(this,Cv,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),f(this,Cv).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(!(!e||f(this,Cv).has(e.loadedName))){if(Qt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:i,style:o}=e,a=new FontFace(s,i,o);this.addNativeFontFace(a);try{await a.load(),f(this,Cv).add(s),r==null||r(e)}catch{wt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}jn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(s){throw wt(`Failed to load font '${r.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const s=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return It(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return It(this,"isSyncFontLoadingSupported",Ai||Ws.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Qt(!s.done,"completeRequest() cannot be called twice."),s.done=!0;r.length>0&&r[0].done;){const i=r.shift();setTimeout(i.callback,0)}}const{loadingRequests:r}=this,s={done:!1,complete:t,callback:e};return r.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return It(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(A,k){return A.charCodeAt(k)<<24|A.charCodeAt(k+1)<<16|A.charCodeAt(k+2)<<8|A.charCodeAt(k+3)&255}function s(A,k,L,P){const D=A.substring(0,k),F=A.substring(k+L);return D+P+F}let i,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let u=0;function h(A,k){if(++u>30){wt("Load test font never loaded."),k();return}if(l.font="30px "+A,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(h.bind(null,A,k))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=s(m,976,p.length,p);const b=16,v=1482184792;let _=r(m,b);for(i=0,o=p.length-3;i<o;i+=4)_=_-v+r(p,i)|0;i<p.length&&(_=_-v+r(p+"XXX",i)|0),m=s(m,b,4,BPe(_));const E=`url(data:font/opentype;base64,${btoa(m)});`,x=`@font-face {font-family:"${p}";src:${E}}`;this.insertRule(x);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const A of[e.loadedName,p]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=A,C.append(k)}this._document.body.append(C),h(p,()=>{C.remove(),t.complete()})}}Cv=new WeakMap;var An;class iDe{constructor(e,t=null,r,s){U(this,An);this.compiledGlyphs=Object.create(null),O(this,An,e),this._inspectFont=t,r&&Object.assign(this,r),s&&(this.charProcOperatorList=s)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${QQ(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let s;try{s=e.get(r)}catch(o){wt(`getPathGenerator - ignoring character: "${o}".`)}const i=tZ(s);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=i}get black(){return f(this,An).black}get bold(){return f(this,An).bold}get disableFontFace(){return f(this,An).disableFontFace??!1}get fontExtraProperties(){return f(this,An).fontExtraProperties??!1}get isInvalidPDFjsFont(){return f(this,An).isInvalidPDFjsFont}get isType3Font(){return f(this,An).isType3Font}get italic(){return f(this,An).italic}get missingFile(){return f(this,An).missingFile}get remeasure(){return f(this,An).remeasure}get vertical(){return f(this,An).vertical}get ascent(){return f(this,An).ascent}get defaultWidth(){return f(this,An).defaultWidth}get descent(){return f(this,An).descent}get bbox(){return f(this,An).bbox}get fontMatrix(){return f(this,An).fontMatrix}get fallbackName(){return f(this,An).fallbackName}get loadedName(){return f(this,An).loadedName}get mimetype(){return f(this,An).mimetype}get name(){return f(this,An).name}get data(){return f(this,An).data}clearData(){f(this,An).clearData()}get cssFontInfo(){return f(this,An).cssFontInfo}get systemFontInfo(){return f(this,An).systemFontInfo}get defaultVMetrics(){return f(this,An).defaultVMetrics}}An=new WeakMap;var Tv,xv,LS,Av,Rx;const Vy=class Vy{constructor(e){U(this,Av);U(this,Tv);U(this,xv);U(this,LS);O(this,Tv,e),O(this,xv,new DataView(f(this,Tv))),O(this,LS,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let s=0;for(const u of Vy.strings){const h=t.encode(e[u]);r[u]=h,s+=4+h.length}const i=new ArrayBuffer(s),o=new Uint8Array(i),a=new DataView(i);let l=0;for(const u of Vy.strings){const h=r[u],p=h.length;a.setUint32(l,p),o.set(h,l+4),l+=4+p}return Qt(l===i.byteLength,"CssFontInfo.write: Buffer overflow"),i}get fontFamily(){return H(this,Av,Rx).call(this,0)}get fontWeight(){return H(this,Av,Rx).call(this,1)}get italicAngle(){return H(this,Av,Rx).call(this,2)}};Tv=new WeakMap,xv=new WeakMap,LS=new WeakMap,Av=new WeakSet,Rx=function(e){Qt(e<Vy.strings.length,"Invalid string index");let t=0;for(let s=0;s<e;s++)t+=f(this,xv).getUint32(t)+4;const r=f(this,xv).getUint32(t);return f(this,LS).decode(new Uint8Array(f(this,Tv),t+4,r))},Ee(Vy,"strings",["fontFamily","fontWeight","italicAngle"]);let JA=Vy;var Ph,uc,Zp,em,qb;const Hy=class Hy{constructor(e){U(this,em);U(this,Ph);U(this,uc);U(this,Zp);O(this,Ph,e),O(this,uc,new DataView(f(this,Ph))),O(this,Zp,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let s=0;for(const m of Hy.strings){const y=t.encode(e[m]);r[m]=y,s+=4+y.length}s+=4;let i,o,a=1+s;e.style&&(i=t.encode(e.style.style),o=t.encode(e.style.weight),a+=4+i.length+4+o.length);const l=new ArrayBuffer(a),u=new Uint8Array(l),h=new DataView(l);let p=0;h.setUint8(p++,e.guessFallback?1:0),h.setUint32(p,0),p+=4,s=0;for(const m of Hy.strings){const y=r[m],b=y.length;s+=4+b,h.setUint32(p,b),u.set(y,p+4),p+=4+b}return h.setUint32(p-s-4,s),e.style&&(h.setUint32(p,i.length),u.set(i,p+4),p+=4+i.length,h.setUint32(p,o.length),u.set(o,p+4),p+=4+o.length),Qt(p<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(p)}get guessFallback(){return f(this,uc).getUint8(0)!==0}get css(){return H(this,em,qb).call(this,0)}get loadedName(){return H(this,em,qb).call(this,1)}get baseFontName(){return H(this,em,qb).call(this,2)}get src(){return H(this,em,qb).call(this,3)}get style(){let e=1;e+=4+f(this,uc).getUint32(e);const t=f(this,uc).getUint32(e),r=f(this,Zp).decode(new Uint8Array(f(this,Ph),e+4,t));e+=4+t;const s=f(this,uc).getUint32(e),i=f(this,Zp).decode(new Uint8Array(f(this,Ph),e+4,s));return{style:r,weight:i}}};Ph=new WeakMap,uc=new WeakMap,Zp=new WeakMap,em=new WeakSet,qb=function(e){Qt(e<Hy.strings.length,"Invalid string index");let t=5;for(let s=0;s<e;s++)t+=f(this,uc).getUint32(t)+4;const r=f(this,uc).getUint32(t);return f(this,Zp).decode(new Uint8Array(f(this,Ph),t+4,r))},Ee(Hy,"strings",["css","loadedName","baseFontName","src"]);let QA=Hy;var Rv,Iv,kv,Pv,xo,dc,NS,Rn,Rr,ll,Ix,Gb;const At=class At{constructor({data:e,extra:t}){U(this,Rr);U(this,dc);U(this,NS);U(this,Rn);O(this,dc,e),O(this,NS,new TextDecoder),O(this,Rn,new DataView(f(this,dc))),t&&Object.assign(this,t)}get black(){return H(this,Rr,ll).call(this,0)}get bold(){return H(this,Rr,ll).call(this,1)}get disableFontFace(){return H(this,Rr,ll).call(this,2)}get fontExtraProperties(){return H(this,Rr,ll).call(this,3)}get isInvalidPDFjsFont(){return H(this,Rr,ll).call(this,4)}get isType3Font(){return H(this,Rr,ll).call(this,5)}get italic(){return H(this,Rr,ll).call(this,6)}get missingFile(){return H(this,Rr,ll).call(this,7)}get remeasure(){return H(this,Rr,ll).call(this,8)}get vertical(){return H(this,Rr,ll).call(this,9)}get ascent(){return H(this,Rr,Ix).call(this,0)}get defaultWidth(){return H(this,Rr,Ix).call(this,1)}get descent(){return H(this,Rr,Ix).call(this,2)}get bbox(){let e=f(At,Iv);if(f(this,Rn).getUint8(e)===0)return;e+=1;const r=[];for(let s=0;s<4;s++)r.push(f(this,Rn).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=f(At,kv);if(f(this,Rn).getUint8(e)===0)return;e+=1;const r=[];for(let s=0;s<6;s++)r.push(f(this,Rn).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=f(At,Pv);if(f(this,Rn).getUint8(e)===0)return;e+=1;const r=[];for(let s=0;s<3;s++)r.push(f(this,Rn).getInt16(e,!0)),e+=2;return r}get fallbackName(){return H(this,Rr,Gb).call(this,0)}get loadedName(){return H(this,Rr,Gb).call(this,1)}get mimetype(){return H(this,Rr,Gb).call(this,2)}get name(){return H(this,Rr,Gb).call(this,3)}get data(){let e=f(At,xo);const t=f(this,Rn).getUint32(e);e+=4+t;const r=f(this,Rn).getUint32(e);e+=4+r;const s=f(this,Rn).getUint32(e);e+=4+s;const i=f(this,Rn).getUint32(e);if(i!==0)return new Uint8Array(f(this,dc),e+4,i)}clearData(){let e=f(At,xo);const t=f(this,Rn).getUint32(e);e+=4+t;const r=f(this,Rn).getUint32(e);e+=4+r;const s=f(this,Rn).getUint32(e);e+=4+s;const i=f(this,Rn).getUint32(e);new Uint8Array(f(this,dc),e+4,i).fill(0),f(this,Rn).setUint32(e,0)}get cssFontInfo(){let e=f(At,xo);const t=f(this,Rn).getUint32(e);e+=4+t;const r=f(this,Rn).getUint32(e);e+=4+r;const s=f(this,Rn).getUint32(e);if(s===0)return null;const i=new Uint8Array(s);return i.set(new Uint8Array(f(this,dc),e+4,s)),new JA(i.buffer)}get systemFontInfo(){let e=f(At,xo);const t=f(this,Rn).getUint32(e);e+=4+t;const r=f(this,Rn).getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(f(this,dc),e+4,r)),new QA(s.buffer)}static write(e){const t=e.systemFontInfo?QA.write(e.systemFontInfo):null,r=e.cssFontInfo?JA.write(e.cssFontInfo):null,s=new TextEncoder,i={};let o=0;for(const v of At.strings)i[v]=s.encode(e[v]),o+=4+i[v].length;const a=f(At,xo)+4+o+4+(t?t.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(a),u=new Uint8Array(l),h=new DataView(l);let p=0;const m=At.bools.length;let y=0,b=0;for(let v=0;v<m;v++){const _=e[At.bools[v]];y|=(_===void 0?0:_?2:1)<<b,b+=2,(b===8||v===m-1)&&(h.setUint8(p++,y),y=0,b=0)}Qt(p===f(At,Rv),"FontInfo.write: Boolean properties offset mismatch");for(const v of At.numbers)h.setFloat64(p,e[v]),p+=8;if(Qt(p===f(At,Iv),"FontInfo.write: Number properties offset mismatch"),e.bbox){h.setUint8(p++,4);for(const v of e.bbox)h.setInt16(p,v,!0),p+=2}else h.setUint8(p++,0),p+=8;if(Qt(p===f(At,kv),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){h.setUint8(p++,6);for(const v of e.fontMatrix)h.setFloat64(p,v,!0),p+=8}else h.setUint8(p++,0),p+=48;if(Qt(p===f(At,Pv),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){h.setUint8(p++,1);for(const v of e.defaultVMetrics)h.setInt16(p,v,!0),p+=2}else h.setUint8(p++,0),p+=6;Qt(p===f(At,xo),"FontInfo.write: DefaultVMetrics properties offset mismatch"),h.setUint32(f(At,xo),0),p+=4;for(const v of At.strings){const _=i[v],E=_.length;h.setUint32(p,E),u.set(_,p+4),p+=4+E}if(h.setUint32(f(At,xo),p-f(At,xo)-4),!t)h.setUint32(p,0),p+=4;else{const v=t.byteLength;h.setUint32(p,v),Qt(p+4+v<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),p+4),p+=4+v}if(!r)h.setUint32(p,0),p+=4;else{const v=r.byteLength;h.setUint32(p,v),Qt(p+4+v<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(r),p+4),p+=4+v}return e.data===void 0?(h.setUint32(p,0),p+=4):(h.setUint32(p,e.data.length),u.set(e.data,p+4),p+=4+e.data.length),Qt(p<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(p)}};Rv=new WeakMap,Iv=new WeakMap,kv=new WeakMap,Pv=new WeakMap,xo=new WeakMap,dc=new WeakMap,NS=new WeakMap,Rn=new WeakMap,Rr=new WeakSet,ll=function(e){Qt(e<At.bools.length,"Invalid boolean index");const t=Math.floor(e/4),r=e*2%8,s=f(this,Rn).getUint8(t)>>r&3;return s===0?void 0:s===2},Ix=function(e){return Qt(e<At.numbers.length,"Invalid number index"),f(this,Rn).getFloat64(f(At,Rv)+e*8)},Gb=function(e){Qt(e<At.strings.length,"Invalid string index");let t=f(At,xo)+4;for(let i=0;i<e;i++)t+=f(this,Rn).getUint32(t)+4;const r=f(this,Rn).getUint32(t),s=new Uint8Array(r);return s.set(new Uint8Array(f(this,dc),t+4,r)),f(this,NS).decode(s)},Ee(At,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),Ee(At,"numbers",["ascent","defaultWidth","descent"]),Ee(At,"strings",["fallbackName","loadedName","mimetype","name"]),U(At,Rv,Math.ceil(At.bools.length*2/8)),U(At,Iv,f(At,Rv)+At.numbers.length*8),U(At,kv,f(At,Iv)+1+8),U(At,Pv,f(At,kv)+1+48),U(At,xo,f(At,Pv)+1+6);let oF=At;var FS,BS,$S,jS,US,VS,HS,zS;const Hn=class Hn{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,r=null,s=[],i=[],o=[],a=[],l=null,u=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,r=e[2],o=e[3],t===1?s.push(...e[4],...e[5]):s.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,l=e[1],s=e[2],i=e[3],a=e[4]||[],r=e[6],u=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const h=Math.floor(s.length/2),p=Math.floor(i.length/3),m=o.length,y=a.length;let b=0;for(const k of a)b+=1,b=Math.ceil(b/4)*4,b+=4+k.coords.length*4,b+=4+k.colors.length*4,k.verticesPerRow!==void 0&&(b+=4);const v=20+h*8+p*3+m*8+(r?16:0)+(u?3:0)+b,_=new ArrayBuffer(v),E=new DataView(_),x=new Uint8Array(_);E.setUint8(f(Hn,FS),t),E.setUint8(f(Hn,BS),r?1:0),E.setUint8(f(Hn,$S),u?1:0),E.setUint8(f(Hn,jS),l),E.setUint32(f(Hn,US),h,!0),E.setUint32(f(Hn,VS),p,!0),E.setUint32(f(Hn,HS),m,!0),E.setUint32(f(Hn,zS),y,!0);let C=20;new Float32Array(_,C,h*2).set(s),C+=h*8,x.set(i,C),C+=p*3;for(const[k,L]of o)E.setFloat32(C,k,!0),C+=4,E.setUint32(C,parseInt(L.slice(1),16),!0),C+=4;if(r)for(const k of r)E.setFloat32(C,k,!0),C+=4;u&&(x.set(u,C),C+=3);for(let k=0;k<a.length;k++){const L=a[k];E.setUint8(C,L.type),C+=1,C=Math.ceil(C/4)*4,E.setUint32(C,L.coords.length,!0),C+=4,new Int32Array(_,C,L.coords.length).set(L.coords),C+=L.coords.length*4,E.setUint32(C,L.colors.length,!0),C+=4,new Int32Array(_,C,L.colors.length).set(L.colors),C+=L.colors.length*4,L.verticesPerRow!==void 0&&(E.setUint32(C,L.verticesPerRow,!0),C+=4)}return _}getIR(){const e=this.view,t=this.data[f(Hn,FS)],r=!!this.data[f(Hn,BS)],s=!!this.data[f(Hn,$S)],i=e.getUint32(f(Hn,US),!0),o=e.getUint32(f(Hn,VS),!0),a=e.getUint32(f(Hn,HS),!0),l=e.getUint32(f(Hn,zS),!0);let u=20;const h=new Float32Array(this.buffer,u,i*2);u+=i*8;const p=new Uint8Array(this.buffer,u,o*3);u+=o*3;const m=[];for(let _=0;_<a;++_){const E=e.getFloat32(u,!0);u+=4;const x=e.getUint32(u,!0);u+=4,m.push([E,`#${x.toString(16).padStart(6,"0")}`])}let y=null;if(r){y=[];for(let _=0;_<4;++_)y.push(e.getFloat32(u,!0)),u+=4}let b=null;s&&(b=new Uint8Array(this.buffer,u,3),u+=3);const v=[];for(let _=0;_<l;++_){const E=e.getUint8(u);u+=1,u=Math.ceil(u/4)*4;const x=e.getUint32(u,!0);u+=4;const C=new Int32Array(this.buffer,u,x);u+=x*4;const A=e.getUint32(u,!0);u+=4;const k=new Int32Array(this.buffer,u,A);u+=A*4;const L={type:E,coords:C,colors:k};E===BN.LATTICE&&(L.verticesPerRow=e.getUint32(u,!0),u+=4),v.push(L)}if(t===1)return["RadialAxial","axial",y,m,Array.from(h.slice(0,2)),Array.from(h.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",y,m,[h[0],h[1]],[h[3],h[4]],h[2],h[5]];if(t===3){const _=this.data[f(Hn,jS)];let E=null;if(h.length>0){let x=h[0],C=h[0],A=h[1],k=h[1];for(let L=0;L<h.length;L+=2){const P=h[L],D=h[L+1];x=x>P?P:x,A=A>D?D:A,C=C<P?P:C,k=k<D?D:k}E=[x,A,C,k]}return["Mesh",_,h,p,v,E,y,b]}throw new Error(`Unsupported pattern kind: ${t}`)}};FS=new WeakMap,BS=new WeakMap,$S=new WeakMap,jS=new WeakMap,US=new WeakMap,VS=new WeakMap,HS=new WeakMap,zS=new WeakMap,U(Hn,FS,0),U(Hn,BS,1),U(Hn,$S,2),U(Hn,jS,3),U(Hn,US,4),U(Hn,VS,8),U(Hn,HS,12),U(Hn,zS,16);let aF=Hn;function oDe(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Ai)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function aDe(n){if(Ai&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return N1(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function LT(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const lF=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,lDe=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",cDe=HPe.bind(null,lF,lDe);var Pu,mR;class uDe{constructor(){U(this,Pu,new Map);U(this,mR,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};f(this,mR).then(()=>{for(const[s]of f(this,Pu))s.call(this,r)})}addEventListener(e,t,r=null){let s=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:i}=r;if(i.aborted){wt("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);s=()=>i.removeEventListener("abort",o),i.addEventListener("abort",o)}f(this,Pu).set(t,s)}removeEventListener(e,t){const r=f(this,Pu).get(t);r==null||r(),f(this,Pu).delete(t)}terminate(){for(const[,e]of f(this,Pu))e==null||e();f(this,Pu).clear()}}Pu=new WeakMap,mR=new WeakMap;const NT={DATA:1,ERROR:2},zr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function eG(){}function Vi(n){if(n instanceof Tf||n instanceof $N||n instanceof qq||n instanceof GA||n instanceof hL)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||jn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Tf(n.message);case"InvalidPDFException":return new $N(n.message);case"PasswordException":return new qq(n.message,n.code);case"ResponseException":return new GA(n.message,n.status,n.missing);case"UnknownErrorException":return new hL(n.message,n.details)}return new hL(n.message,n.toString())}var Dv,Ma,NZ,FZ,BZ,kx;class Kb{constructor(e,t,r){U(this,Ma);U(this,Dv,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",H(this,Ma,NZ).bind(this),{signal:f(this,Dv).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const s=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[s]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},r)}catch(o){i.reject(o)}return i.promise}sendWithStream(e,t,r,s){const i=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const h=Promise.withResolvers();return this.streamControllers[i]={controller:u,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:i,data:t,desiredSize:u.desiredSize},s),h.promise},pull:u=>{const h=Promise.withResolvers();return this.streamControllers[i].pullCall=h,l.postMessage({sourceName:o,targetName:a,stream:zr.PULL,streamId:i,desiredSize:u.desiredSize}),h.promise},cancel:u=>{Qt(u instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[i].cancelCall=h,this.streamControllers[i].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:zr.CANCEL,streamId:i,reason:Vi(u)}),h.promise}},r)}destroy(){var e;(e=f(this,Dv))==null||e.abort(),O(this,Dv,null)}}Dv=new WeakMap,Ma=new WeakSet,NZ=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){H(this,Ma,BZ).call(this,e);return}if(e.callback){const r=e.callbackId,s=this.callbackCapabilities[r];if(!s)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===NT.DATA)s.resolve(e.data);else if(e.callback===NT.ERROR)s.reject(Vi(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,s=e.sourceName,i=this.comObj;Promise.try(t,e.data).then(function(o){i.postMessage({sourceName:r,targetName:s,callback:NT.DATA,callbackId:e.callbackId,data:o})},function(o){i.postMessage({sourceName:r,targetName:s,callback:NT.ERROR,callbackId:e.callbackId,reason:Vi(o)})});return}if(e.streamId){H(this,Ma,FZ).call(this,e);return}t(e.data)},FZ=function(e){const t=e.streamId,r=this.sourceName,s=e.sourceName,i=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(u,h=1,p){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=h,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:r,targetName:s,stream:zr.ENQUEUE,streamId:t,chunk:u},p)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:s,stream:zr.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){Qt(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:s,stream:zr.ERROR,streamId:t,reason:Vi(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(a,e.data,l).then(function(){i.postMessage({sourceName:r,targetName:s,stream:zr.START_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:r,targetName:s,stream:zr.START_COMPLETE,streamId:t,reason:Vi(u)})})},BZ=function(e){const t=e.streamId,r=this.sourceName,s=e.sourceName,i=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case zr.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Vi(e.reason));break;case zr.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Vi(e.reason));break;case zr.PULL:if(!a){i.postMessage({sourceName:r,targetName:s,stream:zr.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||eG).then(function(){i.postMessage({sourceName:r,targetName:s,stream:zr.PULL_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:r,targetName:s,stream:zr.PULL_COMPLETE,streamId:t,reason:Vi(u)})});break;case zr.ENQUEUE:if(Qt(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case zr.CLOSE:if(Qt(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),H(this,Ma,kx).call(this,o,t);break;case zr.ERROR:Qt(o,"error should have stream controller"),o.controller.error(Vi(e.reason)),H(this,Ma,kx).call(this,o,t);break;case zr.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Vi(e.reason)),H(this,Ma,kx).call(this,o,t);break;case zr.CANCEL:if(!a)break;const l=Vi(e.reason);Promise.try(a.onCancel||eG,l).then(function(){i.postMessage({sourceName:r,targetName:s,stream:zr.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:r,targetName:s,stream:zr.CANCEL_COMPLETE,streamId:t,reason:Vi(u)})}),a.sinkCapability.reject(l),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},kx=async function(e,t){var r,s,i;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(s=e.pullCall)==null?void 0:s.promise,(i=e.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[t]};var WS;class $Z{constructor({enableHWA:e=!1}){U(this,WS,!1);O(this,WS,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!f(this,WS)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){jn("Abstract method `_createCanvas` called.")}}WS=new WeakMap;class dDe extends $Z{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class jZ{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){jn("Abstract method `_fetch` called.")}}class tG extends jZ{async _fetch(e){const t=await F1(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):N1(t)}}class UZ{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,s,i){return"none"}destroy(e=!1){}}var tm,Mv,Du,Mu,ii,nm,rm,He,ti,Yb,ky,Px,Py,VZ,cF,Dy,Xb,Jb,uF,Qb;class hDe extends UZ{constructor({docId:t,ownerDocument:r=globalThis.document}){super();U(this,He);U(this,tm);U(this,Mv);U(this,Du);U(this,Mu);U(this,ii);U(this,nm);U(this,rm,0);O(this,Mu,t),O(this,ii,r)}addFilter(t){if(!t)return"none";let r=f(this,He,ti).get(t);if(r)return r;const[s,i,o]=H(this,He,Px).call(this,t),a=t.length===1?s:`${s}${i}${o}`;if(r=f(this,He,ti).get(a),r)return f(this,He,ti).set(t,r),r;const l=`g_${f(this,Mu)}_transfer_map_${es(this,rm)._++}`,u=H(this,He,Py).call(this,l);f(this,He,ti).set(t,u),f(this,He,ti).set(a,u);const h=H(this,He,Dy).call(this,l);return H(this,He,Jb).call(this,s,i,o,h),u}addHCMFilter(t,r){var b;const s=`${t}-${r}`,i="base";let o=f(this,He,Yb).get(i);if((o==null?void 0:o.key)===s||(o?((b=o.filter)==null||b.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},f(this,He,Yb).set(i,o)),!t||!r))return o.url;const a=H(this,He,Qb).call(this,t);t=Ke.makeHexColor(...a);const l=H(this,He,Qb).call(this,r);if(r=Ke.makeHexColor(...l),f(this,He,ky).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const u=new Array(256);for(let v=0;v<=255;v++){const _=v/255;u[v]=_<=.03928?_/12.92:((_+.055)/1.055)**2.4}const h=u.join(","),p=`g_${f(this,Mu)}_hcm_filter`,m=o.filter=H(this,He,Dy).call(this,p);H(this,He,Jb).call(this,h,h,h,m),H(this,He,cF).call(this,m);const y=(v,_)=>{const E=a[v]/255,x=l[v]/255,C=new Array(_+1);for(let A=0;A<=_;A++)C[A]=E+A/_*(x-E);return C.join(",")};return H(this,He,Jb).call(this,y(0,5),y(1,5),y(2,5),m),o.url=H(this,He,Py).call(this,p),o.url}addAlphaFilter(t){let r=f(this,He,ti).get(t);if(r)return r;const[s]=H(this,He,Px).call(this,[t]),i=`alpha_${s}`;if(r=f(this,He,ti).get(i),r)return f(this,He,ti).set(t,r),r;const o=`g_${f(this,Mu)}_alpha_map_${es(this,rm)._++}`,a=H(this,He,Py).call(this,o);f(this,He,ti).set(t,a),f(this,He,ti).set(i,a);const l=H(this,He,Dy).call(this,o);return H(this,He,uF).call(this,s,l),a}addLuminosityFilter(t){let r=f(this,He,ti).get(t||"luminosity");if(r)return r;let s,i;if(t?([s]=H(this,He,Px).call(this,[t]),i=`luminosity_${s}`):i="luminosity",r=f(this,He,ti).get(i),r)return f(this,He,ti).set(t,r),r;const o=`g_${f(this,Mu)}_luminosity_map_${es(this,rm)._++}`,a=H(this,He,Py).call(this,o);f(this,He,ti).set(t,a),f(this,He,ti).set(i,a);const l=H(this,He,Dy).call(this,o);return H(this,He,VZ).call(this,l),t&&H(this,He,uF).call(this,s,l),a}addHighlightHCMFilter(t,r,s,i,o){var x;const a=`${r}-${s}-${i}-${o}`;let l=f(this,He,Yb).get(t);if((l==null?void 0:l.key)===a||(l?((x=l.filter)==null||x.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},f(this,He,Yb).set(t,l)),!r||!s))return l.url;const[u,h]=[r,s].map(H(this,He,Qb).bind(this));let p=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),m=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[y,b]=[i,o].map(H(this,He,Qb).bind(this));m<p&&([p,m,y,b]=[m,p,b,y]),f(this,He,ky).style.color="";const v=(C,A,k)=>{const L=new Array(256),P=(m-p)/k,D=C/255,F=(A-C)/(255*k);let T=0;for(let $=0;$<=k;$++){const z=Math.round(p+$*P),j=D+$*F;for(let Y=T;Y<=z;Y++)L[Y]=j;T=z+1}for(let $=T;$<256;$++)L[$]=L[T-1];return L.join(",")},_=`g_${f(this,Mu)}_hcm_${t}_filter`,E=l.filter=H(this,He,Dy).call(this,_);return H(this,He,cF).call(this,E),H(this,He,Jb).call(this,v(y[0],b[0],5),v(y[1],b[1],5),v(y[2],b[2],5),E),l.url=H(this,He,Py).call(this,_),l.url}destroy(t=!1){var r,s,i,o;t&&((r=f(this,nm))!=null&&r.size)||((s=f(this,Du))==null||s.parentNode.parentNode.remove(),O(this,Du,null),(i=f(this,Mv))==null||i.clear(),O(this,Mv,null),(o=f(this,nm))==null||o.clear(),O(this,nm,null),O(this,rm,0))}}tm=new WeakMap,Mv=new WeakMap,Du=new WeakMap,Mu=new WeakMap,ii=new WeakMap,nm=new WeakMap,rm=new WeakMap,He=new WeakSet,ti=function(){return f(this,Mv)||O(this,Mv,new Map)},Yb=function(){return f(this,nm)||O(this,nm,new Map)},ky=function(){if(!f(this,Du)){const t=f(this,ii).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const s=f(this,ii).createElementNS(fu,"svg");s.setAttribute("width",0),s.setAttribute("height",0),O(this,Du,f(this,ii).createElementNS(fu,"defs")),t.append(s),s.append(f(this,Du)),f(this,ii).body.append(t)}return f(this,Du)},Px=function(t){if(t.length===1){const u=t[0],h=new Array(256);for(let m=0;m<256;m++)h[m]=u[m]/255;const p=h.join(",");return[p,p,p]}const[r,s,i]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)o[u]=r[u]/255,a[u]=s[u]/255,l[u]=i[u]/255;return[o.join(","),a.join(","),l.join(",")]},Py=function(t){if(f(this,tm)===void 0){O(this,tm,"");const r=f(this,ii).URL;r!==f(this,ii).baseURI&&(ik(r)?wt('#createUrl: ignore "data:"-URL for performance reasons.'):O(this,tm,YQ(r,"")))}return`url(${f(this,tm)}#${t})`},VZ=function(t){const r=f(this,ii).createElementNS(fu,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},cF=function(t){const r=f(this,ii).createElementNS(fu,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Dy=function(t){const r=f(this,ii).createElementNS(fu,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),f(this,He,ky).append(r),r},Xb=function(t,r,s){const i=f(this,ii).createElementNS(fu,r);i.setAttribute("type","discrete"),i.setAttribute("tableValues",s),t.append(i)},Jb=function(t,r,s,i){const o=f(this,ii).createElementNS(fu,"feComponentTransfer");i.append(o),H(this,He,Xb).call(this,o,"feFuncR",t),H(this,He,Xb).call(this,o,"feFuncG",r),H(this,He,Xb).call(this,o,"feFuncB",s)},uF=function(t,r){const s=f(this,ii).createElementNS(fu,"feComponentTransfer");r.append(s),H(this,He,Xb).call(this,s,"feFuncA",t)},Qb=function(t){return f(this,He,ky).style.color=t,$1(getComputedStyle(f(this,He,ky)).getPropertyValue("color"))};class HZ{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){jn("Abstract method `_fetch` called.")}}class nG extends HZ{async _fetch(e){const t=await F1(e,"arraybuffer");return new Uint8Array(t)}}class zZ{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){jn("Abstract method `_fetch` called.")}}class rG extends zZ{async _fetch(e){const t=await F1(e,"arraybuffer");return new Uint8Array(t)}}Ai&&wt("Please use the `legacy` build in Node.js environments.");async function _U(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class fDe extends UZ{}class pDe extends $Z{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class mDe extends jZ{async _fetch(e){return _U(e)}}class gDe extends HZ{async _fetch(e){return _U(e)}}class yDe extends zZ{async _fetch(e){return _U(e)}}const by="__forcedDependency",{floor:sG,ceil:iG}=Math;function FT(n,e,t,r,s,i){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],r),n[e*4+2]=Math.max(n[e*4+2],s),n[e*4+3]=Math.max(n[e*4+3],i)}const dF=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Ov,Dh;class vDe{constructor(e,t){U(this,Ov);U(this,Dh);O(this,Ov,e),O(this,Dh,t)}get length(){return f(this,Ov).length}isEmpty(e){return f(this,Ov)[e]===dF}minX(e){return f(this,Dh)[e*4+0]/256}minY(e){return f(this,Dh)[e*4+1]/256}maxX(e){return(f(this,Dh)[e*4+2]+1)/256}maxY(e){return(f(this,Dh)[e*4+3]+1)/256}}Ov=new WeakMap,Dh=new WeakMap;const BT=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var qi,Gi,sm,fl,im,Ou,_n,In,Lu,Ki,qS,Lv,om,am,Nu,oi,hc,GS,hF;class wDe{constructor(e,t,r=!1){U(this,GS);U(this,qi,{__proto__:null});U(this,Gi,{__proto__:null,transform:[],moveText:[],sameLineText:[],[by]:[]});U(this,sm,new Map);U(this,fl,[]);U(this,im,[]);U(this,Ou,[[1,0,0,1,0,0]]);U(this,_n,[-1/0,-1/0,1/0,1/0]);U(this,In,new Float64Array([1/0,1/0,-1/0,-1/0]));U(this,Lu,-1);U(this,Ki,new Set);U(this,qS,new Map);U(this,Lv,new Map);U(this,om);U(this,am);U(this,Nu);U(this,oi);U(this,hc);O(this,om,e.width),O(this,am,e.height),H(this,GS,hF).call(this,t),r&&O(this,hc,new Map)}growOperationsCount(e){e>=f(this,oi).length&&H(this,GS,hF).call(this,e,f(this,oi))}save(e){return O(this,qi,{__proto__:f(this,qi)}),O(this,Gi,{__proto__:f(this,Gi),transform:{__proto__:f(this,Gi).transform},moveText:{__proto__:f(this,Gi).moveText},sameLineText:{__proto__:f(this,Gi).sameLineText},[by]:{__proto__:f(this,Gi)[by]}}),O(this,_n,{__proto__:f(this,_n)}),f(this,fl).push(e),this}restore(e){var s;const t=Object.getPrototypeOf(f(this,qi));if(t===null)return this;O(this,qi,t),O(this,Gi,Object.getPrototypeOf(f(this,Gi))),O(this,_n,Object.getPrototypeOf(f(this,_n)));const r=f(this,fl).pop();return r!==void 0&&((s=BT(f(this,hc),e))==null||s.dependencies.add(r),f(this,oi)[e]=f(this,oi)[r]),this}recordOpenMarker(e){return f(this,fl).push(e),this}getOpenMarker(){return f(this,fl).length===0?null:f(this,fl).at(-1)}recordCloseMarker(e){var r;const t=f(this,fl).pop();return t!==void 0&&((r=BT(f(this,hc),e))==null||r.dependencies.add(t),f(this,oi)[e]=f(this,oi)[t]),this}beginMarkedContent(e){return f(this,im).push(e),this}endMarkedContent(e){var r;const t=f(this,im).pop();return t!==void 0&&((r=BT(f(this,hc),e))==null||r.dependencies.add(t),f(this,oi)[e]=f(this,oi)[t]),this}pushBaseTransform(e){return f(this,Ou).push(Ke.multiplyByDOMMatrix(f(this,Ou).at(-1),e.getTransform())),this}popBaseTransform(){return f(this,Ou).length>1&&f(this,Ou).pop(),this}recordSimpleData(e,t){return f(this,qi)[e]=t,this}recordIncrementalData(e,t){return f(this,Gi)[e].push(t),this}resetIncrementalData(e,t){return f(this,Gi)[e].length=0,this}recordNamedData(e,t){return f(this,sm).set(e,t),this}recordSimpleDataFromNamed(e,t,r){f(this,qi)[e]=f(this,sm).get(t)??r}recordFutureForcedDependency(e,t){return this.recordIncrementalData(by,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in f(this,qi)&&this.recordFutureForcedDependency(t,f(this,qi)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of f(this,Ki))this.recordFutureForcedDependency(by,e);return this}resetBBox(e){return f(this,Lu)!==e&&(O(this,Lu,e),f(this,In)[0]=1/0,f(this,In)[1]=1/0,f(this,In)[2]=-1/0,f(this,In)[3]=-1/0),this}recordClipBox(e,t,r,s,i,o){const a=Ke.multiplyByDOMMatrix(f(this,Ou).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];Ke.axialAlignedBoundingBox([r,i,s,o],a,l);const u=Ke.intersect(f(this,_n),l);return u?(f(this,_n)[0]=u[0],f(this,_n)[1]=u[1],f(this,_n)[2]=u[2],f(this,_n)[3]=u[3]):(f(this,_n)[0]=f(this,_n)[1]=1/0,f(this,_n)[2]=f(this,_n)[3]=-1/0),this}recordBBox(e,t,r,s,i,o){const a=f(this,_n);if(a[0]===1/0)return this;const l=Ke.multiplyByDOMMatrix(f(this,Ou).at(-1),t.getTransform());if(a[0]===-1/0)return Ke.axialAlignedBoundingBox([r,i,s,o],l,f(this,In)),this;const u=[1/0,1/0,-1/0,-1/0];return Ke.axialAlignedBoundingBox([r,i,s,o],l,u),f(this,In)[0]=Math.min(f(this,In)[0],Math.max(u[0],a[0])),f(this,In)[1]=Math.min(f(this,In)[1],Math.max(u[1],a[1])),f(this,In)[2]=Math.max(f(this,In)[2],Math.min(u[2],a[2])),f(this,In)[3]=Math.max(f(this,In)[3],Math.min(u[3],a[3])),this}recordCharacterBBox(e,t,r,s=1,i=0,o=0,a){const l=r.bbox;let u,h;if(l&&(u=l[2]!==l[0]&&l[3]!==l[1]&&f(this,Lv).get(r),u!==!1&&(h=[0,0,0,0],Ke.axialAlignedBoundingBox(l,r.fontMatrix,h),(s!==1||i!==0||o!==0)&&Ke.scaleMinMax([s,0,0,-s,i,o],h),u)))return this.recordBBox(e,t,h[0],h[2],h[1],h[3]);if(!a)return this.recordFullPageBBox(e);const p=a();return l&&h&&u===void 0&&(u=h[0]<=i-p.actualBoundingBoxLeft&&h[2]>=i+p.actualBoundingBoxRight&&h[1]<=o-p.actualBoundingBoxAscent&&h[3]>=o+p.actualBoundingBoxDescent,f(this,Lv).set(r,u),u)?this.recordBBox(e,t,h[0],h[2],h[1],h[3]):this.recordBBox(e,t,i-p.actualBoundingBoxLeft,i+p.actualBoundingBoxRight,o-p.actualBoundingBoxAscent,o+p.actualBoundingBoxDescent)}recordFullPageBBox(e){return f(this,In)[0]=Math.max(0,f(this,_n)[0]),f(this,In)[1]=Math.max(0,f(this,_n)[1]),f(this,In)[2]=Math.min(f(this,om),f(this,_n)[2]),f(this,In)[3]=Math.min(f(this,am),f(this,_n)[3]),this}getSimpleIndex(e){return f(this,qi)[e]}recordDependencies(e,t){const r=f(this,Ki),s=f(this,qi),i=f(this,Gi);for(const o of t)o in f(this,qi)?r.add(s[o]):o in i&&i[o].forEach(r.add,r);return this}recordNamedDependency(e,t){return f(this,sm).has(t)&&f(this,Ki).add(f(this,sm).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[by]),f(this,hc)){const r=BT(f(this,hc),e),{dependencies:s}=r;f(this,Ki).forEach(s.add,s),f(this,fl).forEach(s.add,s),f(this,im).forEach(s.add,s),s.delete(e),r.isRenderingOperation=!0}if(f(this,Lu)===e){const r=sG(f(this,In)[0]*256/f(this,om)),s=sG(f(this,In)[1]*256/f(this,am)),i=iG(f(this,In)[2]*256/f(this,om)),o=iG(f(this,In)[3]*256/f(this,am));FT(f(this,Nu),e,r,s,i,o);for(const a of f(this,Ki))a!==e&&FT(f(this,Nu),a,r,s,i,o);for(const a of f(this,fl))a!==e&&FT(f(this,Nu),a,r,s,i,o);for(const a of f(this,im))a!==e&&FT(f(this,Nu),a,r,s,i,o);t||(f(this,Ki).clear(),O(this,Lu,-1))}return this}recordShowTextOperation(e,t=!1){const r=Array.from(f(this,Ki));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const s of r)this.recordIncrementalData("sameLineText",s);return this}bboxToClipBoxDropOperation(e,t=!1){return f(this,Lu)===e&&(O(this,Lu,-1),f(this,_n)[0]=Math.max(f(this,_n)[0],f(this,In)[0]),f(this,_n)[1]=Math.max(f(this,_n)[1],f(this,In)[1]),f(this,_n)[2]=Math.min(f(this,_n)[2],f(this,In)[2]),f(this,_n)[3]=Math.min(f(this,_n)[3],f(this,In)[3]),t||f(this,Ki).clear()),this}_takePendingDependencies(){const e=f(this,Ki);return O(this,Ki,new Set),e}_extractOperation(e){const t=f(this,qS).get(e);return f(this,qS).delete(e),t}_pushPendingDependencies(e){for(const t of e)f(this,Ki).add(t)}take(){return f(this,Lv).clear(),new vDe(f(this,oi),f(this,Nu))}takeDebugMetadata(){return f(this,hc)}}qi=new WeakMap,Gi=new WeakMap,sm=new WeakMap,fl=new WeakMap,im=new WeakMap,Ou=new WeakMap,_n=new WeakMap,In=new WeakMap,Lu=new WeakMap,Ki=new WeakMap,qS=new WeakMap,Lv=new WeakMap,om=new WeakMap,am=new WeakMap,Nu=new WeakMap,oi=new WeakMap,hc=new WeakMap,GS=new WeakSet,hF=function(e,t){const r=new ArrayBuffer(e*4);O(this,Nu,new Uint8ClampedArray(r)),O(this,oi,new Uint32Array(r)),t&&t.length>0?(f(this,oi).set(t),f(this,oi).fill(dF,t.length)):f(this,oi).fill(dF)};var Fn,Cr,pl,Nv,Fv;const MU=class MU{constructor(e,t,r){U(this,Fn);U(this,Cr);U(this,pl);U(this,Nv,0);U(this,Fv,0);if(e instanceof MU&&f(e,pl)===!!r)return e;O(this,Fn,e),O(this,Cr,t),O(this,pl,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return es(this,Fv)._++,f(this,Fn).save(f(this,Cr)),this}restore(e){return f(this,Fv)>0&&(f(this,Fn).restore(f(this,Cr)),es(this,Fv)._--),this}recordOpenMarker(e){return es(this,Nv)._++,this}getOpenMarker(){return f(this,Nv)>0?f(this,Cr):f(this,Fn).getOpenMarker()}recordCloseMarker(e){return es(this,Nv)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return f(this,Fn).pushBaseTransform(e),this}popBaseTransform(){return f(this,Fn).popBaseTransform(),this}recordSimpleData(e,t){return f(this,Fn).recordSimpleData(e,f(this,Cr)),this}recordIncrementalData(e,t){return f(this,Fn).recordIncrementalData(e,f(this,Cr)),this}resetIncrementalData(e,t){return f(this,Fn).resetIncrementalData(e,f(this,Cr)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,r){return f(this,Fn).recordSimpleDataFromNamed(e,t,f(this,Cr)),this}recordFutureForcedDependency(e,t){return f(this,Fn).recordFutureForcedDependency(e,f(this,Cr)),this}inheritSimpleDataAsFutureForcedDependencies(e){return f(this,Fn).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return f(this,Fn).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return f(this,pl)||f(this,Fn).resetBBox(f(this,Cr)),this}recordClipBox(e,t,r,s,i,o){return f(this,pl)||f(this,Fn).recordClipBox(f(this,Cr),t,r,s,i,o),this}recordBBox(e,t,r,s,i,o){return f(this,pl)||f(this,Fn).recordBBox(f(this,Cr),t,r,s,i,o),this}recordCharacterBBox(e,t,r,s,i,o,a){return f(this,pl)||f(this,Fn).recordCharacterBBox(f(this,Cr),t,r,s,i,o,a),this}recordFullPageBBox(e){return f(this,pl)||f(this,Fn).recordFullPageBBox(f(this,Cr)),this}getSimpleIndex(e){return f(this,Fn).getSimpleIndex(e)}recordDependencies(e,t){return f(this,Fn).recordDependencies(f(this,Cr),t),this}recordNamedDependency(e,t){return f(this,Fn).recordNamedDependency(f(this,Cr),t),this}recordOperation(e){return f(this,Fn).recordOperation(f(this,Cr),!0),this}recordShowTextOperation(e){return f(this,Fn).recordShowTextOperation(f(this,Cr),!0),this}bboxToClipBoxDropOperation(e){return f(this,pl)||f(this,Fn).bboxToClipBoxDropOperation(f(this,Cr),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};Fn=new WeakMap,Cr=new WeakMap,pl=new WeakMap,Nv=new WeakMap,Fv=new WeakMap;let ZA=MU;const ua={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},js={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function fF(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,r),n.clip(s)}class SU{isModifyingCurrentTransform(){return!1}getPattern(){jn("Abstract method `getPattern` called.")}}class bDe extends SU{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,s){let i;if(s===js.STROKE||s===js.FILL){const o=t.current.getClippedPathBoundingBox(s,mr(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",a,l),h=u.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),r=Ke.transform(r,[1,0,0,1,o[0],o[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),fF(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),i=e.createPattern(u.canvas,"no-repeat");const p=new DOMMatrix(r);i.setTransform(p)}else fF(e,this._bbox),i=this._createGradient(e);return i}}function mL(n,e,t,r,s,i,o,a){const l=e.coords,u=e.colors,h=n.data,p=n.width*4;let m;l[t+1]>l[r+1]&&(m=t,t=r,r=m,m=i,i=o,o=m),l[r+1]>l[s+1]&&(m=r,r=s,s=m,m=o,o=a,a=m),l[t+1]>l[r+1]&&(m=t,t=r,r=m,m=i,i=o,o=m);const y=(l[t]+e.offsetX)*e.scaleX,b=(l[t+1]+e.offsetY)*e.scaleY,v=(l[r]+e.offsetX)*e.scaleX,_=(l[r+1]+e.offsetY)*e.scaleY,E=(l[s]+e.offsetX)*e.scaleX,x=(l[s+1]+e.offsetY)*e.scaleY;if(b>=x)return;const C=u[i],A=u[i+1],k=u[i+2],L=u[o],P=u[o+1],D=u[o+2],F=u[a],T=u[a+1],$=u[a+2],z=Math.round(b),j=Math.round(x);let Y,Z,J,ee,Q,te,de,q;for(let K=z;K<=j;K++){if(K<_){const we=K<b?0:(b-K)/(b-_);Y=y-(y-v)*we,Z=C-(C-L)*we,J=A-(A-P)*we,ee=k-(k-D)*we}else{let we;K>x?we=1:_===x?we=0:we=(_-K)/(_-x),Y=v-(v-E)*we,Z=L-(L-F)*we,J=P-(P-T)*we,ee=D-(D-$)*we}let ne;K<b?ne=0:K>x?ne=1:ne=(b-K)/(b-x),Q=y-(y-E)*ne,te=C-(C-F)*ne,de=A-(A-T)*ne,q=k-(k-$)*ne;const le=Math.round(Math.min(Y,Q)),ce=Math.round(Math.max(Y,Q));let be=p*K+le*4;for(let we=le;we<=ce;we++)ne=(Y-we)/(Y-Q),ne<0?ne=0:ne>1&&(ne=1),h[be++]=Z-(Z-te)*ne|0,h[be++]=J-(J-de)*ne|0,h[be++]=ee-(ee-q)*ne|0,h[be++]=255}}function _De(n,e,t){const r=e.coords,s=e.colors;let i,o;switch(e.type){case BN.LATTICE:const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,u=a-1;for(i=0;i<l;i++){let h=i*a;for(let p=0;p<u;p++,h++)mL(n,t,r[h],r[h+1],r[h+a],s[h],s[h+1],s[h+a]),mL(n,t,r[h+a+1],r[h+1],r[h+a],s[h+a+1],s[h+1],s[h+a])}break;case BN.TRIANGLES:for(i=0,o=r.length;i<o;i+=3)mL(n,t,r[i],r[i+1],r[i+2],s[i],s[i+1],s[i+2]);break;default:throw new Error("illegal figure")}}class SDe extends SU{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,h=Math.ceil(this._bounds[3])-l,p=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),y=u/p,b=h/m,v={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/y,scaleY:1/b},_=p+4,E=m+4,x=r.getCanvas("mesh",_,E),C=x.context,A=C.createImageData(p,m);if(t){const L=A.data;for(let P=0,D=L.length;P<D;P+=4)L[P]=t[0],L[P+1]=t[1],L[P+2]=t[2],L[P+3]=255}for(const L of this._figures)_De(A,L,v);return C.putImageData(A,2,2),{canvas:x.canvas,offsetX:a-2*y,offsetY:l-2*b,scaleX:y,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,s){fF(e,this._bbox);const i=new Float32Array(2);if(s===js.SHADING)Ke.singularValueDecompose2dScale(mr(e),i);else if(this.matrix){Ke.singularValueDecompose2dScale(this.matrix,i);const[a,l]=i;Ke.singularValueDecompose2dScale(t.baseTransform,i),i[0]*=a,i[1]*=l}else Ke.singularValueDecompose2dScale(t.baseTransform,i);const o=this._createMeshCanvas(i,s===js.SHADING?null:this._background,t.cachedCanvases);return s!==js.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class EDe extends SU{getPattern(){return"hotpink"}}function CDe(n){switch(n[0]){case"RadialAxial":return new bDe(n);case"Mesh":return new SDe(n);case"Dummy":return new EDe}throw new Error(`Unknown IR type: ${n[0]}`)}const oG={COLORED:1,UNCOLORED:2},gR=class gR{constructor(e,t,r,s){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e,t){var te,de;const{bbox:r,operatorList:s,paintType:i,tilingType:o,color:a,canvasGraphicsFactory:l}=this;let{xstep:u,ystep:h}=this;u=Math.abs(u),h=Math.abs(h),sk("TilingType: "+o);const p=r[0],m=r[1],y=r[2],b=r[3],v=y-p,_=b-m,E=new Float32Array(2);Ke.singularValueDecompose2dScale(this.matrix,E);const[x,C]=E;Ke.singularValueDecompose2dScale(this.baseTransform,E);const A=x*E[0],k=C*E[1];let L=v,P=_,D=!1,F=!1;const T=Math.ceil(u*A),$=Math.ceil(h*k),z=Math.ceil(v*A),j=Math.ceil(_*k);T>=z?L=u:D=!0,$>=j?P=h:F=!0;const Y=this.getSizeAndScale(L,this.ctx.canvas.width,A),Z=this.getSizeAndScale(P,this.ctx.canvas.height,k),J=e.cachedCanvases.getCanvas("pattern",Y.size,Z.size),ee=J.context,Q=l.createCanvasGraphics(ee,t);if(Q.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(Q,i,a),ee.translate(-Y.scale*p,-Z.scale*m),Q.transform(0,Y.scale,0,0,Z.scale,0,0),ee.save(),(te=Q.dependencyTracker)==null||te.save(),this.clipBbox(Q,p,m,y,b),Q.baseTransform=mr(Q.ctx),Q.executeOperatorList(s),Q.endDrawing(),(de=Q.dependencyTracker)==null||de.restore(),ee.restore(),D||F){const q=J.canvas;D&&(L=u),F&&(P=h);const K=this.getSizeAndScale(L,this.ctx.canvas.width,A),ne=this.getSizeAndScale(P,this.ctx.canvas.height,k),le=K.size,ce=ne.size,be=e.cachedCanvases.getCanvas("pattern-workaround",le,ce),we=be.context,ke=D?Math.floor(v/u):0,Ne=F?Math.floor(_/h):0;for(let Me=0;Me<=ke;Me++)for(let Je=0;Je<=Ne;Je++)we.drawImage(q,le*Me,ce*Je,le,ce,0,0,le,ce);return{canvas:be.canvas,scaleX:K.scale,scaleY:ne.scale,offsetX:p,offsetY:m}}return{canvas:J.canvas,scaleX:Y.scale,scaleY:Z.scale,offsetX:p,offsetY:m}}getSizeAndScale(e,t,r){const s=Math.max(gR.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*r);return i>=s?i=s:r=i/e,{scale:r,size:i}}clipBbox(e,t,r,s,i){const o=s-t,a=i-r;e.ctx.rect(t,r,o,a),Ke.axialAlignedBoundingBox([t,r,s,i],mr(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const s=e.ctx,i=e.current;switch(t){case oG.COLORED:const{fillStyle:o,strokeStyle:a}=this.ctx;s.fillStyle=i.fillColor=o,s.strokeStyle=i.strokeColor=a;break;case oG.UNCOLORED:s.fillStyle=s.strokeStyle=r,i.fillColor=i.strokeColor=r;break;default:throw new FPe(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,s,i){let o=r;s!==js.SHADING&&(o=Ke.transform(o,t.baseTransform),this.matrix&&(o=Ke.transform(o,this.matrix)));const a=this.createPatternCanvas(t,i);let l=new DOMMatrix(o);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);const u=e.createPattern(a.canvas,"repeat");return u.setTransform(l),u}};Ee(gR,"MAX_PATTERN_SIZE",3e3);let pF=gR;function TDe({src:n,srcPos:e=0,dest:t,width:r,height:s,nonBlackColor:i=4294967295,inverseDecode:o=!1}){const a=Ws.isLittleEndian?4278190080:255,[l,u]=o?[i,a]:[a,i],h=r>>3,p=r&7,m=n.length;t=new Uint32Array(t.buffer);let y=0;for(let b=0;b<s;b++){for(const _=e+h;e<_;e++){const E=e<m?n[e]:255;t[y++]=E&128?u:l,t[y++]=E&64?u:l,t[y++]=E&32?u:l,t[y++]=E&16?u:l,t[y++]=E&8?u:l,t[y++]=E&4?u:l,t[y++]=E&2?u:l,t[y++]=E&1?u:l}if(p===0)continue;const v=e<m?n[e++]:255;for(let _=0;_<p;_++)t[y++]=v&1<<7-_?u:l}return{srcPos:e,destPos:y}}const aG=16,lG=100,xDe=15,cG=10,Qi=16,gL=new DOMMatrix,Vo=new Float32Array(2),jy=new Float32Array([1/0,1/0,-1/0,-1/0]);function ADe(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,s,i,o,a){e.transform(t,r,s,i,o,a),this.__originalTransform(t,r,s,i,o,a)},n.setTransform=function(t,r,s,i,o,a){e.setTransform(t,r,s,i,o,a),this.__originalSetTransform(t,r,s,i,o,a)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,s,i,o,a){e.bezierCurveTo(t,r,s,i,o,a),this.__originalBezierCurveTo(t,r,s,i,o,a)},n.rect=function(t,r,s,i){e.rect(t,r,s,i),this.__originalRect(t,r,s,i)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class RDe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,r)):(s=this.canvasFactory.create(t,r),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function $T(n,e,t,r,s,i,o,a,l,u){const[h,p,m,y,b,v]=mr(n);if(p===0&&m===0){const x=o*h+b,C=Math.round(x),A=a*y+v,k=Math.round(A),L=(o+l)*h+b,P=Math.abs(Math.round(L)-C)||1,D=(a+u)*y+v,F=Math.abs(Math.round(D)-k)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(y),C,k),n.drawImage(e,t,r,s,i,0,0,P,F),n.setTransform(h,p,m,y,b,v),[P,F]}if(h===0&&y===0){const x=a*m+b,C=Math.round(x),A=o*p+v,k=Math.round(A),L=(a+u)*m+b,P=Math.abs(Math.round(L)-C)||1,D=(o+l)*p+v,F=Math.abs(Math.round(D)-k)||1;return n.setTransform(0,Math.sign(p),Math.sign(m),0,C,k),n.drawImage(e,t,r,s,i,0,0,F,P),n.setTransform(h,p,m,y,b,v),[F,P]}n.drawImage(e,t,r,s,i,o,a,l,u);const _=Math.hypot(h,p),E=Math.hypot(m,y);return[_*l,E*u]}class uG{constructor(e,t,r){Ee(this,"alphaIsShape",!1);Ee(this,"fontSize",0);Ee(this,"fontSizeScale",1);Ee(this,"textMatrix",null);Ee(this,"textMatrixScale",1);Ee(this,"fontMatrix",FN);Ee(this,"leading",0);Ee(this,"x",0);Ee(this,"y",0);Ee(this,"lineX",0);Ee(this,"lineY",0);Ee(this,"charSpacing",0);Ee(this,"wordSpacing",0);Ee(this,"textHScale",1);Ee(this,"textRenderingMode",Ms.FILL);Ee(this,"textRise",0);Ee(this,"fillColor","#000000");Ee(this,"strokeColor","#000000");Ee(this,"patternFill",!1);Ee(this,"patternStroke",!1);Ee(this,"fillAlpha",1);Ee(this,"strokeAlpha",1);Ee(this,"lineWidth",1);Ee(this,"activeSMask",null);Ee(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=jy.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=js.FILL,t=null){const r=this.minMax.slice();if(e===js.STROKE){t||jn("Stroke bounding box must include transform."),Ke.singularValueDecompose2dScale(t,Vo);const s=Vo[0]*this.lineWidth/2,i=Vo[1]*this.lineWidth/2;r[0]-=s,r[1]-=i,r[2]+=s,r[3]+=i}return r}updateClipFromPath(){const e=Ke.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(jy,0)}getClippedPathBoundingBox(e=js.FILL,t=null){return Ke.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function dG(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,s=t%Qi,i=(t-s)/Qi,o=s===0?i:i+1,a=n.createImageData(r,Qi);let l=0,u;const h=e.data,p=a.data;let m,y,b,v;if(e.kind===_x.GRAYSCALE_1BPP){const _=h.byteLength,E=new Uint32Array(p.buffer,0,p.byteLength>>2),x=E.length,C=r+7>>3,A=4294967295,k=Ws.isLittleEndian?4278190080:255;for(m=0;m<o;m++){for(b=m<i?Qi:s,u=0,y=0;y<b;y++){const L=_-l;let P=0;const D=L>C?r:L*8-7,F=D&-8;let T=0,$=0;for(;P<F;P+=8)$=h[l++],E[u++]=$&128?A:k,E[u++]=$&64?A:k,E[u++]=$&32?A:k,E[u++]=$&16?A:k,E[u++]=$&8?A:k,E[u++]=$&4?A:k,E[u++]=$&2?A:k,E[u++]=$&1?A:k;for(;P<D;P++)T===0&&($=h[l++],T=128),E[u++]=$&T?A:k,T>>=1}for(;u<x;)E[u++]=0;n.putImageData(a,0,m*Qi)}}else if(e.kind===_x.RGBA_32BPP){for(y=0,v=r*Qi*4,m=0;m<i;m++)p.set(h.subarray(l,l+v)),l+=v,n.putImageData(a,0,y),y+=Qi;m<o&&(v=r*s*4,p.set(h.subarray(l,l+v)),n.putImageData(a,0,y))}else if(e.kind===_x.RGB_24BPP)for(b=Qi,v=r*b,m=0;m<o;m++){for(m>=i&&(b=s,v=r*b),u=0,y=v;y--;)p[u++]=h[l++],p[u++]=h[l++],p[u++]=h[l++],p[u++]=255;n.putImageData(a,0,m*Qi)}else throw new Error(`bad image kind: ${e.kind}`)}function hG(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,s=t%Qi,i=(t-s)/Qi,o=s===0?i:i+1,a=n.createImageData(r,Qi);let l=0;const u=e.data,h=a.data;for(let p=0;p<o;p++){const m=p<i?Qi:s;({srcPos:l}=TDe({src:u,srcPos:l,dest:h,width:r,height:m,nonBlackColor:0})),n.putImageData(a,0,p*Qi)}}function wb(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function jT(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function fG(n,e){if(e)return!0;Ke.singularValueDecompose2dScale(n,Vo);const t=Math.fround($c.pixelRatio*xf.PDF_TO_CSS_UNITS);return Vo[0]<=t&&Vo[1]<=t}const IDe=["butt","round","square"],kDe=["miter","round","bevel"],PDe={},pG={};var Ol,mF,gF,yF;const OU=class OU{constructor(e,t,r,s,i,{optionalContentConfig:o,markedContentStack:a=null},l,u,h){U(this,Ol);this.ctx=e,this.current=new uG(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=s,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new RDe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=h??null}getObject(e,t,r=null){var s;return typeof t=="string"?((s=this.dependencyTracker)==null||s.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):r}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:s=null}){const i=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,i,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",i,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...mr(this.compositeCtx))}this.ctx.save(),jT(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=mr(this.ctx)}executeOperatorList(e,t,r,s,i){var E;const o=e.argsArray,a=e.fnArray;let l=t||0;const u=o.length;if(u===l)return l;const h=u-l>cG&&typeof r=="function",p=h?Date.now()+xDe:0;let m=0;const y=this.commonObjs,b=this.objs;let v,_;for(;;){if(s!==void 0&&l===s.nextBreakPoint)return s.breakIt(l,r),l;if(!i||i(l))if(v=a[l],_=o[l]??null,v!==rS.dependency)_===null?this[v](l):this[v](l,..._);else for(const x of _){(E=this.dependencyTracker)==null||E.recordNamedData(x,l);const C=x.startsWith("g_")?y:b;if(!C.has(x))return C.get(x,r),l}if(l++,l===u)return l;if(h&&++m>cG){if(Date.now()>p)return r(),l;m=0}}}endDrawing(){H(this,Ol,mF).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),H(this,Ol,gF).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,s=e.height??e.displayHeight;let i=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=s,u="prescale1",h,p;for(;i>2&&a>1||o>2&&l>1;){let m=a,y=l;i>2&&a>1&&(m=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),i/=a/m),o>2&&l>1&&(y=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/y),h=this.cachedCanvases.getCanvas(u,m,y),p=h.context,p.clearRect(0,0,m,y),p.drawImage(e,0,0,a,l,0,0,m,y),e=h.canvas,a=m,l=y,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e,t){var T,$;const r=this.ctx,{width:s,height:i}=t,o=this.current.fillColor,a=this.current.patternFill,l=mr(r);let u,h,p,m;if((t.bitmap||t.data)&&t.count>1){const z=t.bitmap||t.data.buffer;h=JSON.stringify(a?l:[l.slice(0,4),o]),u=this._cachedBitmapsMap.get(z),u||(u=new Map,this._cachedBitmapsMap.set(z,u));const j=u.get(h);if(j&&!a){const Y=Math.round(Math.min(l[0],l[2])+l[4]),Z=Math.round(Math.min(l[1],l[3])+l[5]);return(T=this.dependencyTracker)==null||T.recordDependencies(e,ua.transformAndFill),{canvas:j,offsetX:Y,offsetY:Z}}p=j}p||(m=this.cachedCanvases.getCanvas("maskCanvas",s,i),hG(m.context,t));let y=Ke.transform(l,[1/s,0,0,-1/i,0,0]);y=Ke.transform(y,[1,0,0,1,0,-i]);const b=jy.slice();Ke.axialAlignedBoundingBox([0,0,s,i],y,b);const[v,_,E,x]=b,C=Math.round(E-v)||1,A=Math.round(x-_)||1,k=this.cachedCanvases.getCanvas("fillCanvas",C,A),L=k.context,P=v,D=_;L.translate(-P,-D),L.transform(...y),p||(p=this._scaleImage(m.canvas,Xl(L)),p=p.img,u&&a&&u.set(h,p)),L.imageSmoothingEnabled=fG(mr(L),t.interpolate),$T(L,p,0,0,p.width,p.height,0,0,s,i),L.globalCompositeOperation="source-in";const F=Ke.transform(Xl(L),[1,0,0,1,-P,-D]);return L.fillStyle=a?o.getPattern(r,this,F,js.FILL,e):o,L.fillRect(0,0,s,i),u&&!a&&(this.cachedCanvases.delete("fillCanvas"),u.set(h,k.canvas)),($=this.dependencyTracker)==null||$.recordDependencies(e,ua.transformAndFill),{canvas:k.canvas,offsetX:Math.round(P),offsetY:Math.round(D)}}setLineWidth(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=IDe[t]}setLineJoin(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=kDe[t]}setMiterLimit(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,r){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("dash",e);const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=r)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var r,s,i,o,a;for(const[l,u]of t)switch(l){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(s=this.dependencyTracker)==null||s.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(i=this.dependencyTracker)==null||i.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(o=this.dependencyTracker)==null||o.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(a=this.dependencyTracker)==null||a.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,r=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(s,t,r);this.suspendedCtx=this.ctx;const o=this.ctx=i.context;o.setTransform(this.suspendedCtx.getTransform()),wb(this.suspendedCtx,o),ADe(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),wb(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,s){const i=s[0],o=s[1],a=s[2]-i,l=s[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,i,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,s,i,o,a,l,u,h,p){let m=e.canvas,y=l-h,b=u-p;if(o)if(y<0||b<0||y+r>m.width||b+s>m.height){const _=this.cachedCanvases.getCanvas("maskExtension",r,s),E=_.context;E.drawImage(m,-y,-b),E.globalCompositeOperation="destination-atop",E.fillStyle=o,E.fillRect(0,0,r,s),E.globalCompositeOperation="source-over",m=_.canvas,y=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(y,b,r,s),e.clip(_),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(y,b,r,s),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),i==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):i==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const v=new Path2D;v.rect(l,u,r,s),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(m,y,b,r,s,l,u,r,s),t.restore()}save(e){var r;this.inSMaskMode&&wb(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&wb(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,r,s,i,o,a){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,r,s,i,o,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r,s){let[i]=r;if(!s){i||(i=r[0]=new Path2D),this[t](e,i);return}if(this.dependencyTracker!==null){const o=t===rS.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,s[0]-o,s[2]+o,s[1]-o,s[3]+o).recordDependencies(e,["transform"])}i instanceof Path2D||(i=r[0]=tZ(i)),Ke.axialAlignedBoundingBox(s,mr(this.ctx),this.current.minMax),this[t](e,i),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,r=!0){var o;const s=this.ctx,i=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&(i!=null&&i.getPattern)){const a=i.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=i.getPattern(s,this,Xl(s),js.STROKE,e),a){const l=new Path2D;l.addPath(t,s.getTransform().invertSelf().multiplySelf(a)),t=l}this.rescaleAndStroke(t,!1),s.restore()}else this.rescaleAndStroke(t,!0);(o=this.dependencyTracker)==null||o.recordDependencies(e,ua.stroke),r&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(js.STROKE,mr(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,r=!0){var u,h,p;const s=this.ctx,i=this.current.fillColor,o=this.current.patternFill;let a=!1;if(o){const m=i.isModifyingCurrentTransform()?s.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),s.save(),s.fillStyle=i.getPattern(s,this,Xl(s),js.FILL,e),m){const y=new Path2D;y.addPath(t,s.getTransform().invertSelf().multiplySelf(m)),t=y}a=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(s.fill(t,"evenodd"),this.pendingEOFill=!1):s.fill(t)),(h=this.dependencyTracker)==null||h.recordDependencies(e,ua.fill),a&&(s.restore(),(p=this.dependencyTracker)==null||p.restore(e)),r&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var r;this.ctx.fill(t),(r=this.dependencyTracker)==null||r.recordDependencies(e,ua.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=PDe}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=pG}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:s}=this;t!==void 0&&s.recordFutureForcedDependency("textClip",s.getOpenMarker()).recordFutureForcedDependency("textClip",e),s.recordCloseMarker(e)}if(t!==void 0){const s=new Path2D,i=r.getTransform().invertSelf();for(const{transform:o,x:a,y:l,fontSize:u,path:h}of t)h&&s.addPath(h,new DOMMatrix(o).preMultiplySelf(i).translate(a,l).scale(u,-u));r.clip(s)}delete this.pendingTextPaths}setCharSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,r){var p,m;(p=this.dependencyTracker)==null||p.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const s=this.commonObjs.get(t),i=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(i.fontMatrix=s.fontMatrix||FN,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&wt("Invalid font matrix for font "+t),r<0?(r=-r,i.fontDirection=-1):i.fontDirection=1,this.current.font=s,this.current.fontSize=r,s.isType3Font)return;const o=s.loadedName||"sans-serif",a=((m=s.systemFontInfo)==null?void 0:m.css)||`"${o}", ${s.fallbackName}`;let l="normal";s.black?l="900":s.bold&&(l="bold");const u=s.italic?"italic":"normal";let h=r;r<aG?h=aG:r>lG&&(h=lG),this.current.fontSizeScale=r/h,this.ctx.font=`${u} ${l} ${h}px ${a}`}setTextRenderingMode(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,r){var s;(s=this.dependencyTracker)==null||s.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,t,r){this.setLeading(e,-r),this.moveText(e,t,r)}setTextMatrix(e,t){var s;(s=this.dependencyTracker)==null||s.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=t,r.textMatrixScale=Math.hypot(t[0],t[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,r,s,i,o){var E,x,C,A;const a=this.ctx,l=this.current,u=l.font,h=l.textRenderingMode,p=l.fontSize/l.fontSizeScale,m=h&Ms.FILL_STROKE_MASK,y=!!(h&Ms.ADD_TO_PATH_FLAG),b=l.patternFill&&!u.missingFile,v=l.patternStroke&&!u.missingFile;let _;if((u.disableFontFace||y||b||v)&&!u.missingFile&&(_=u.getPathGenerator(this.commonObjs,t)),_&&(u.disableFontFace||b||v)){a.save(),a.translate(r,s),a.scale(p,-p),(E=this.dependencyTracker)==null||E.recordCharacterBBox(e,a,u);let k;if(m===Ms.FILL||m===Ms.FILL_STROKE)if(i){k=a.getTransform(),a.setTransform(...i);const L=H(this,Ol,yF).call(this,_,k,i);a.fill(L)}else a.fill(_);if(m===Ms.STROKE||m===Ms.FILL_STROKE)if(o){k||(k=a.getTransform()),a.setTransform(...o);const{a:L,b:P,c:D,d:F}=k,T=Ke.inverseTransform(o),$=Ke.transform([L,P,D,F,0,0],T);Ke.singularValueDecompose2dScale($,Vo),a.lineWidth*=Math.max(Vo[0],Vo[1])/p,a.stroke(H(this,Ol,yF).call(this,_,k,o))}else a.lineWidth/=p,a.stroke(_);a.restore()}else(m===Ms.FILL||m===Ms.FILL_STROKE)&&(a.fillText(t,r,s),(x=this.dependencyTracker)==null||x.recordCharacterBBox(e,a,u,p,r,s,()=>a.measureText(t))),(m===Ms.STROKE||m===Ms.FILL_STROKE)&&(this.dependencyTracker&&((C=this.dependencyTracker)==null||C.recordCharacterBBox(e,a,u,p,r,s,()=>a.measureText(t)).recordDependencies(e,ua.stroke)),a.strokeText(t,r,s));y&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:mr(a),x:r,y:s,fontSize:p,path:_}),(A=this.dependencyTracker)==null||A.recordCharacterBBox(e,a,u,p,r,s))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){r=!0;break}return It(this,"isFontSubpixelAAEnabled",r)}showText(e,t){var D,F,T,$;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,ua.showText).resetBBox(e),this.current.textRenderingMode&Ms.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,s=r.font;if(s.isType3Font){this.showType3Text(e,t),(D=this.dependencyTracker)==null||D.recordShowTextOperation(e);return}const i=r.fontSize;if(i===0){(F=this.dependencyTracker)==null||F.recordOperation(e);return}const o=this.ctx,a=r.fontSizeScale,l=r.charSpacing,u=r.wordSpacing,h=r.fontDirection,p=r.textHScale*h,m=t.length,y=s.vertical,b=y?1:-1,v=s.defaultVMetrics,_=i*r.fontMatrix[0],E=r.textRenderingMode===Ms.FILL&&!s.disableFontFace&&!r.patternFill;o.save(),r.textMatrix&&o.transform(...r.textMatrix),o.translate(r.x,r.y+r.textRise),h>0?o.scale(p,-1):o.scale(p,1);let x,C;if(r.patternFill){o.save();const z=r.fillColor.getPattern(o,this,Xl(o),js.FILL,e);x=mr(o),o.restore(),o.fillStyle=z}if(r.patternStroke){o.save();const z=r.strokeColor.getPattern(o,this,Xl(o),js.STROKE,e);C=mr(o),o.restore(),o.strokeStyle=z}let A=r.lineWidth;const k=r.textMatrixScale;if(k===0||A===0){const z=r.textRenderingMode&Ms.FILL_STROKE_MASK;(z===Ms.STROKE||z===Ms.FILL_STROKE)&&(A=this.getSinglePixelWidth())}else A/=k;if(a!==1&&(o.scale(a,a),A/=a),o.lineWidth=A,s.isInvalidPDFjsFont){const z=[];let j=0;for(const Z of t)z.push(Z.unicode),j+=Z.width;const Y=z.join("");if(o.fillText(Y,0,0),this.dependencyTracker!==null){const Z=o.measureText(Y);this.dependencyTracker.recordBBox(e,this.ctx,-Z.actualBoundingBoxLeft,Z.actualBoundingBoxRight,-Z.actualBoundingBoxAscent,Z.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=j*_*p,o.restore(),this.compose();return}let L=0,P;for(P=0;P<m;++P){const z=t[P];if(typeof z=="number"){L+=b*z*i/1e3;continue}let j=!1;const Y=(z.isSpace?u:0)+l,Z=z.fontChar,J=z.accent;let ee,Q,te=z.width;if(y){const K=z.vmetric||v,ne=-(z.vmetric?K[1]:te*.5)*_,le=K[2]*_;te=K?-K[0]:te,ee=ne/a,Q=(L+le)/a}else ee=L/a,Q=0;let de;if(s.remeasure&&te>0){de=o.measureText(Z);const K=de.width*1e3/i*a;if(te<K&&this.isFontSubpixelAAEnabled){const ne=te/K;j=!0,o.save(),o.scale(ne,1),ee/=ne}else te!==K&&(ee+=(te-K)/2e3*i/a)}if(this.contentVisible&&(z.isInFont||s.missingFile)){if(E&&!J)o.fillText(Z,ee,Q),(T=this.dependencyTracker)==null||T.recordCharacterBBox(e,o,de?{bbox:null}:s,i/a,ee,Q,()=>de??o.measureText(Z));else if(this.paintChar(e,Z,ee,Q,x,C),J){const K=ee+i*J.offset.x/a,ne=Q-i*J.offset.y/a;this.paintChar(e,J.fontChar,K,ne,x,C)}}const q=y?te*_-Y*h:te*_+Y*h;L+=q,j&&o.restore()}y?r.y-=L:r.x+=L*p,o.restore(),this.compose(),($=this.dependencyTracker)==null||$.recordShowTextOperation(e)}showType3Text(e,t){const r=this.ctx,s=this.current,i=s.font,o=s.fontSize,a=s.fontDirection,l=i.vertical?1:-1,u=s.charSpacing,h=s.wordSpacing,p=s.textHScale*a,m=s.fontMatrix||FN,y=t.length,b=s.textRenderingMode===Ms.INVISIBLE;let v,_,E,x;if(b||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),s.textMatrix&&r.transform(...s.textMatrix),r.translate(s.x,s.y+s.textRise),r.scale(p,a);const C=this.dependencyTracker;for(this.dependencyTracker=C?new ZA(C,e):null,v=0;v<y;++v){if(_=t[v],typeof _=="number"){x=l*_*o/1e3,this.ctx.translate(x,0),s.x+=x*p;continue}const A=(_.isSpace?h:0)+u,k=i.charProcOperatorList[_.operatorListId];k?this.contentVisible&&(this.save(),r.scale(o,o),r.transform(...m),this.executeOperatorList(k),this.restore()):wt(`Type3 character "${_.operatorListId}" is not available.`);const L=[_.width,0];Ke.applyTransform(L,m),E=L[0]*o+A,r.translate(E,0),s.x+=E*p}r.restore(),C&&(this.dependencyTracker=C)}setCharWidth(e,t,r){}setCharWidthAndBounds(e,t,r,s,i,o,a){var u;const l=new Path2D;l.rect(s,i,o-s,a-i),this.ctx.clip(l),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,s,o,i,a).recordClipBox(e,this.ctx,s,o,i,a),this.endPath(e)}getColorN_Pattern(e,t){let r;if(t[0]==="TilingPattern"){const s=this.baseTransform||mr(this.ctx),i={createCanvasGraphics:(o,a)=>new OU(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new ZA(this.dependencyTracker,a,!0):null)};r=new pF(t,this.ctx,i,s)}else r=this._getPattern(e,t[1],t[2]);return r}setStrokeColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,r=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=CDe(this.getObject(e,t)),this.cachedPatterns.set(t,s)),r&&(s.matrix=r),s}shadingFill(e,t){var o;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const s=this._getPattern(e,t);r.fillStyle=s.getPattern(r,this,Xl(r),js.SHADING,e);const i=Xl(r);if(i){const{width:a,height:l}=r.canvas,u=jy.slice();Ke.axialAlignedBoundingBox([0,0,a,l],i,u);const[h,p,m,y]=u;this.ctx.fillRect(h,p,m-h,y-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(o=this.dependencyTracker)==null||o.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,ua.transform).recordDependencies(e,ua.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){jn("Should not call beginInlineImage")}beginImageData(){jn("Should not call beginImageData")}paintFormXObjectBegin(e,t,r){var s;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=mr(this.ctx),r)){Ke.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[i,o,a,l]=r,u=new Path2D;u.rect(i,o,a-i,l-o),this.ctx.clip(u),(s=this.dependencyTracker)==null||s.recordClipBox(e,this.ctx,i,a,o,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var C;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;t.isolated||sk("TODO: Support non-isolated groups."),t.knockout&&wt("Knockout groups not supported.");const s=mr(r);if(t.matrix&&r.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let i=jy.slice();Ke.axialAlignedBoundingBox(t.bbox,mr(r),i);const o=[0,0,r.canvas.width,r.canvas.height];i=Ke.intersect(i,o)||[0,0,0,0];const a=Math.floor(i[0]),l=Math.floor(i[1]),u=Math.max(Math.ceil(i[2])-a,1),h=Math.max(Math.ceil(i[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,h]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(p,u,h),y=m.context;y.translate(-a,-l),y.transform(...s);let b=new Path2D;const[v,_,E,x]=t.bbox;if(b.rect(v,_,E-v,x-_),t.matrix){const A=new Path2D;A.addPath(b,new DOMMatrix(t.matrix)),b=A}y.clip(b),t.smask&&this.smaskStack.push({canvas:m.canvas,context:y,offsetX:a,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(a,l),r.save()),wb(r,y),this.ctx=y,(C=this.dependencyTracker)==null||C.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,t){var i;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,(i=this.dependencyTracker)==null||i.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=mr(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...o);const a=jy.slice();Ke.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],o,a),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,t,r,s,i,o){if(H(this,Ol,mF).call(this),jT(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const a=r[2]-r[0],l=r[3]-r[1];if(o&&this.annotationCanvasMap){s=s.slice(),s[4]-=r[0],s[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=a,r[3]=l,Ke.singularValueDecompose2dScale(mr(this.ctx),Vo);const{viewportScale:u}=this,h=Math.ceil(a*this.outputScaleX*u),p=Math.ceil(l*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(h,p);const{canvas:m,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(t,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(Vo[0],0,0,-Vo[1],0,l*Vo[1]),jT(this.ctx)}else{jT(this.ctx),this.endPath(e);const u=new Path2D;u.rect(r[0],r[1],a,l),this.ctx.clip(u)}}this.current=new uG(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...s),this.transform(e,...i)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),H(this,Ol,gF).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var a;if(!this.contentVisible)return;const r=t.count;t=this.getObject(e,t.data,t),t.count=r;const s=this.ctx,i=this._createMaskCanvas(e,t),o=i.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(o,i.offsetX,i.offsetY),(a=this.dependencyTracker)==null||a.resetBBox(e).recordBBox(e,this.ctx,i.offsetX,i.offsetX+o.width,i.offsetY,i.offsetY+o.height).recordOperation(e),s.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r,s=0,i=0,o,a){var p,m,y;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const u=mr(l);l.transform(r,s,i,o,0,0);const h=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,h.offsetX-u[4],h.offsetY-u[5]),(p=this.dependencyTracker)==null||p.resetBBox(e);for(let b=0,v=a.length;b<v;b+=2){const _=Ke.transform(u,[r,s,i,o,a[b],a[b+1]]);l.drawImage(h.canvas,_[4],_[5]),(m=this.dependencyTracker)==null||m.recordBBox(e,this.ctx,_[4],_[4]+h.canvas.width,_[5],_[5]+h.canvas.height)}l.restore(),this.compose(),(y=this.dependencyTracker)==null||y.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var o,a,l;if(!this.contentVisible)return;const r=this.ctx,s=this.current.fillColor,i=this.current.patternFill;(o=this.dependencyTracker)==null||o.resetBBox(e).recordDependencies(e,ua.transformAndFill);for(const u of t){const{data:h,width:p,height:m,transform:y}=u,b=this.cachedCanvases.getCanvas("maskCanvas",p,m),v=b.context;v.save();const _=this.getObject(e,h,u);hG(v,_),v.globalCompositeOperation="source-in",v.fillStyle=i?s.getPattern(v,this,Xl(r),js.FILL,e):s,v.fillRect(0,0,p,m),v.restore(),r.save(),r.transform(...y),r.scale(1,-1),$T(r,b.canvas,0,0,p,m,0,-1,1,1),(a=this.dependencyTracker)==null||a.recordBBox(e,r,0,p,0,m),r.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const r=this.getObject(e,t);if(!r){wt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,t,r,s,i){if(!this.contentVisible)return;const o=this.getObject(e,t);if(!o){wt("Dependent image isn't ready yet");return}const a=o.width,l=o.height,u=[];for(let h=0,p=i.length;h<p;h+=2)u.push({transform:[r,0,0,s,i[h],i[h+1]],x:0,y:0,w:a,h:l});this.paintInlineImageXObjectGroup(e,o,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:s}=e,i=this.cachedCanvases.getCanvas("inlineImage",r,s),o=i.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",i.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const r=t.width,s=t.height,i=this.ctx;this.save(e);const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none"),i.scale(1/r,-1/s);let a;if(t.bitmap)a=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)a=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",r,s).context;dG(p,t),a=this.applyTransferMapsToCanvas(p)}const l=this._scaleImage(a,Xl(i));i.imageSmoothingEnabled=fG(mr(i),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,i,0,r,-s,0).recordDependencies(e,ua.imageXObject).recordOperation(e),$T(i,l.img,0,0,l.paintWidth,l.paintHeight,0,-s,r,s),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,r){var o,a,l;if(!this.contentVisible)return;const s=this.ctx;let i;if(t.bitmap)i=t.bitmap;else{const u=t.width,h=t.height,m=this.cachedCanvases.getCanvas("inlineImage",u,h).context;dG(m,t),i=this.applyTransferMapsToCanvas(m)}(o=this.dependencyTracker)==null||o.resetBBox(e);for(const u of r)s.save(),s.transform(...u.transform),s.scale(1,-1),$T(s,i,u.x,u.y,u.w,u.h,0,-1,1,1),(a=this.dependencyTracker)==null||a.recordBBox(e,s,0,1,-1,0),s.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,ua.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,r){}beginMarkedContent(e,t){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,r){var s;(s=this.dependencyTracker)==null||s.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,r){var o,a;const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const i=this.ctx;this.pendingClip?(s||(this.pendingClip===pG?i.clip(t,"evenodd"):i.clip(t)),this.pendingClip=null,(o=this.dependencyTracker)==null||o.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(a=this.dependencyTracker)==null||a.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=mr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:s,d:i}=this.ctx.getTransform();let o,a;if(r===0&&s===0){const l=Math.abs(t),u=Math.abs(i);if(l===u)if(e===0)o=a=1/l;else{const h=l*e;o=a=h<1?1/h:1}else if(e===0)o=1/l,a=1/u;else{const h=l*e,p=u*e;o=h<1?1/h:1,a=p<1?1/p:1}}else{const l=Math.abs(t*i-r*s),u=Math.hypot(t,r),h=Math.hypot(s,i);if(e===0)o=h/l,a=u/l;else{const p=e*l;o=h>p?h/p:1,a=u>p?u/p:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:s}}=this,[i,o]=this.getScaleForStroking();if(i===o){r.lineWidth=(s||1)*i,r.stroke(e);return}const a=r.getLineDash();t&&r.save(),r.scale(i,o),gL.a=1/i,gL.d=1/o;const l=new Path2D;if(l.addPath(e,gL),a.length>0){const u=Math.max(i,o);r.setLineDash(a.map(h=>h/u)),r.lineDashOffset/=u}r.lineWidth=s||1,r.stroke(l),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Ol=new WeakSet,mF=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},gF=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},yF=function(e,t,r){const s=new Path2D;return s.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),s};let nv=OU;for(const n in rS)nv.prototype[n]!==void 0&&(nv.prototype[rS[n]]=nv.prototype[n]);var KS,YS;class Sl{static get workerPort(){return f(this,KS)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");O(this,KS,e)}static get workerSrc(){return f(this,YS)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");O(this,YS,e)}}KS=new WeakMap,YS=new WeakMap,U(Sl,KS,null),U(Sl,YS,"");var Bv,XS;class DDe{constructor({parsedData:e,rawData:t}){U(this,Bv);U(this,XS);O(this,Bv,e),O(this,XS,t)}getRaw(){return f(this,XS)}get(e){return f(this,Bv).get(e)??null}[Symbol.iterator](){return f(this,Bv).entries()}}Bv=new WeakMap,XS=new WeakMap;const My=Symbol("INTERNAL");var JS,QS,ZS,$v;class MDe{constructor(e,{name:t,intent:r,usage:s,rbGroups:i}){U(this,JS,!1);U(this,QS,!1);U(this,ZS,!1);U(this,$v,!0);O(this,JS,!!(e&Uo.DISPLAY)),O(this,QS,!!(e&Uo.PRINT)),this.name=t,this.intent=r,this.usage=s,this.rbGroups=i}get visible(){if(f(this,ZS))return f(this,$v);if(!f(this,$v))return!1;const{print:e,view:t}=this.usage;return f(this,JS)?(t==null?void 0:t.viewState)!=="OFF":f(this,QS)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==My&&jn("Internal method `_setVisible` called."),O(this,ZS,r),O(this,$v,t)}}JS=new WeakMap,QS=new WeakMap,ZS=new WeakMap,$v=new WeakMap;var Mh,kn,jv,Uv,eE,vF;class ODe{constructor(e,t=Uo.DISPLAY){U(this,eE);U(this,Mh,null);U(this,kn,new Map);U(this,jv,null);U(this,Uv,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,O(this,Uv,e.order);for(const r of e.groups)f(this,kn).set(r.id,new MDe(t,r));if(e.baseState==="OFF")for(const r of f(this,kn).values())r._setVisible(My,!1);for(const r of e.on)f(this,kn).get(r)._setVisible(My,!0);for(const r of e.off)f(this,kn).get(r)._setVisible(My,!1);O(this,jv,this.getHash())}}isVisible(e){if(f(this,kn).size===0)return!0;if(!e)return sk("Optional content group not defined."),!0;if(e.type==="OCG")return f(this,kn).has(e.id)?f(this,kn).get(e.id).visible:(wt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return H(this,eE,vF).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!f(this,kn).has(t))return wt(`Optional content group not found: ${t}`),!0;if(f(this,kn).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!f(this,kn).has(t))return wt(`Optional content group not found: ${t}`),!0;if(!f(this,kn).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!f(this,kn).has(t))return wt(`Optional content group not found: ${t}`),!0;if(!f(this,kn).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!f(this,kn).has(t))return wt(`Optional content group not found: ${t}`),!0;if(f(this,kn).get(t).visible)return!1}return!0}return wt(`Unknown optional content policy ${e.policy}.`),!0}return wt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var i;const s=f(this,kn).get(e);if(!s){wt(`Optional content group not found: ${e}`);return}if(r&&t&&s.rbGroups.length)for(const o of s.rbGroups)for(const a of o)a!==e&&((i=f(this,kn).get(a))==null||i._setVisible(My,!1,!0));s._setVisible(My,!!t,!0),O(this,Mh,null)}setOCGState({state:e,preserveRB:t}){let r;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":r=s;continue}const i=f(this,kn).get(s);if(i)switch(r){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!i.visible,t);break}}O(this,Mh,null)}get hasInitialVisibility(){return f(this,jv)===null||this.getHash()===f(this,jv)}getOrder(){return f(this,kn).size?f(this,Uv)?f(this,Uv).slice():[...f(this,kn).keys()]:null}getGroup(e){return f(this,kn).get(e)||null}getHash(){if(f(this,Mh)!==null)return f(this,Mh);const e=new MZ;for(const[t,r]of f(this,kn))e.update(`${t}:${r.visible}`);return O(this,Mh,e.hexdigest())}[Symbol.iterator](){return f(this,kn).entries()}}Mh=new WeakMap,kn=new WeakMap,jv=new WeakMap,Uv=new WeakMap,eE=new WeakSet,vF=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let s=1;s<t;s++){const i=e[s];let o;if(Array.isArray(i))o=H(this,eE,vF).call(this,i);else if(f(this,kn).has(i))o=f(this,kn).get(i).visible;else return wt(`Optional content group not found: ${i}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class LDe{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Qt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:i,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(i==null?void 0:i.length)>0){const l=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const s=this._rangeReaders.some(function(i){return i._begin!==e?!1:(i._enqueue(r),!0)});Qt(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,s,i;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(i=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||i.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Qt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new NDe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new FDe(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class NDe{constructor(e,t,r=!1,s=null){this._stream=e,this._done=r||!1,this._filename=wU(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class FDe{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function BDe(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let h=a(t);return h=unescape(h),h=l(h),h=u(h),i(h)}if(t=o(n),t){const h=u(t);return i(h)}if(t=r("filename","i").exec(n),t){t=t[1];let h=a(t);return h=u(h),i(h)}function r(h,p){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function s(h,p){if(h){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const m=new TextDecoder(h,{fatal:!0}),y=N1(p);p=m.decode(y),e=!1}catch{}}return p}function i(h){return e&&/[\x80-\xff]/.test(h)&&(h=s("utf-8",h),e&&(h=s("iso-8859-1",h))),h}function o(h){const p=[];let m;const y=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=y.exec(h))!==null;){let[,v,_,E]=m;if(v=parseInt(v,10),v in p){if(v===0)break;continue}p[v]=[_,E]}const b=[];for(let v=0;v<p.length&&v in p;++v){let[_,E]=p[v];E=a(E),_&&(E=unescape(E),v===0&&(E=l(E))),b.push(E)}return b.join("")}function a(h){if(h.startsWith('"')){const p=h.slice(1).split('\\"');for(let m=0;m<p.length;++m){const y=p[m].indexOf('"');y!==-1&&(p[m]=p[m].slice(0,y),p.length=m+1),p[m]=p[m].replaceAll(/\\(.)/g,"$1")}h=p.join('"')}return h}function l(h){const p=h.indexOf("'");if(p===-1)return h;const m=h.slice(0,p),b=h.slice(p+1).replace(/^[^']*'/,"");return s(m,b)}function u(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,m,y,b){if(y==="q"||y==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,_){return String.fromCharCode(parseInt(_,16))}),s(m,b);try{b=atob(b)}catch{}return s(m,b)})}return""}function WZ(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const s=e[r];s!==void 0&&t.append(r,s)}return t}function ok(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function qZ({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const s={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(n.get("Content-Length"),10);return!Number.isInteger(i)||(s.suggestedLength=i,i<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function GZ(n){const e=n.get("Content-Disposition");if(e){let t=BDe(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(wU(t))return t}return null}function U1(n,e){return new GA(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function KZ(n){return n===200||n===206}function YZ(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function XZ(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(wt(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class $De{constructor(e){Ee(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=WZ(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Qt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new jDe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new UDe(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class jDe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),s=t.url;fetch(s,YZ(r,this._withCredentials,this._abortController)).then(i=>{if(e._responseOrigin=ok(i.url),!KZ(i.status))throw U1(i.status,s);this._reader=i.body.getReader(),this._headersCapability.resolve();const o=i.headers,{allowRangeRequests:a,suggestedLength:l}=qZ({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=GZ(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Tf("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:XZ(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class UDe{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range",`bytes=${t}-${r-1}`);const o=s.url;fetch(o,YZ(i,this._withCredentials,this._abortController)).then(a=>{const l=ok(a.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!KZ(a.status))throw U1(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:XZ(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const yL=200,vL=206;function VDe(n){const e=n.response;return typeof e!="string"?e:N1(e).buffer}class HDe{constructor({url:e,httpHeaders:t,withCredentials:r}){Ee(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=WZ(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,s=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,o]of this.headers)t.setRequestHeader(i,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=vL):s.expectedStatus=yL,t.responseType="arraybuffer",Qt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var s;const r=this.pendingRequests[e];r&&((s=r.onProgress)==null||s.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const s=r.xhr;if(s.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){r.onError(s.status);return}const i=s.status||yL;if(!(i===yL&&r.expectedStatus===vL)&&i!==r.expectedStatus){r.onError(s.status);return}const a=VDe(s);if(i===vL){const l=s.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?r.onDone({begin:parseInt(u[1],10),chunk:a}):(wt('Missing or invalid "Content-Range" header.'),r.onError(0))}else a?r.onDone({begin:0,chunk:a}):r.onError(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class zDe{constructor(e){this._source=e,this._manager=new HDe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Qt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new WDe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new qDe(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class WDe{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=ok(t.responseURL);const r=t.getAllResponseHeaders(),s=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[l,...u]=a.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:o}=qZ({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=GZ(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=U1(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class qDe{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=ok((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=U1(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const GDe=/^[a-z][a-z0-9\-+.]+:/i;function KDe(n){if(GDe.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class YDe{constructor(e){this.source=e,this.url=KDe(e.url),Qt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Qt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new XDe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new JDe(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class XDe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=U1(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Tf("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class JDe{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=e.source;this._isStreamingSupported=!s.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const bb=Symbol("INITIAL_DATA");var Ao,tE,wF;class JZ{constructor(){U(this,tE);U(this,Ao,Object.create(null))}get(e,t=null){if(t){const s=H(this,tE,wF).call(this,e);return s.promise.then(()=>t(s.data)),null}const r=f(this,Ao)[e];if(!r||r.data===bb)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=f(this,Ao)[e];return!!t&&t.data!==bb}delete(e){const t=f(this,Ao)[e];return!t||t.data===bb?!1:(delete f(this,Ao)[e],!0)}resolve(e,t=null){const r=H(this,tE,wF).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in f(this,Ao)){const{data:r}=f(this,Ao)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}O(this,Ao,Object.create(null))}*[Symbol.iterator](){for(const e in f(this,Ao)){const{data:t}=f(this,Ao)[e];t!==bb&&(yield[e,t])}}}Ao=new WeakMap,tE=new WeakSet,wF=function(e){var t;return(t=f(this,Ao))[e]||(t[e]={...Promise.withResolvers(),data:bb})};const QDe=1e5,mG=30;var jG,Oh,Yi,nE,rE,lm,Fu,sE,iE,cm,Vv,Hv,Lh,zv,oE,Wv,um,aE,lE,qv,dm,cE,Nh,Gv,Ad,QZ,ZZ,bF,Yo,Dx,_F,eee,tee;const ts=class ts{constructor({textContentSource:e,container:t,viewport:r}){U(this,Ad);U(this,Oh,Promise.withResolvers());U(this,Yi,null);U(this,nE,!1);U(this,rE,!!((jG=globalThis.FontInspector)!=null&&jG.enabled));U(this,lm,null);U(this,Fu,null);U(this,sE,0);U(this,iE,0);U(this,cm,null);U(this,Vv,null);U(this,Hv,0);U(this,Lh,0);U(this,zv,Object.create(null));U(this,oE,[]);U(this,Wv,null);U(this,um,[]);U(this,aE,new WeakMap);U(this,lE,null);var l;if(e instanceof ReadableStream)O(this,Wv,e);else if(typeof e=="object")O(this,Wv,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');O(this,Yi,O(this,Vv,t)),O(this,Lh,r.scale*$c.pixelRatio),O(this,Hv,r.rotation),O(this,Fu,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:i,pageX:o,pageY:a}=r.rawDims;O(this,lE,[1,0,0,-1,-o,a+i]),O(this,iE,s),O(this,sE,i),H(l=ts,Yo,eee).call(l),ug(t,r),f(this,Oh).promise.finally(()=>{f(ts,Gv).delete(this),O(this,Fu,null),O(this,zv,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Ws.platform;return It(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{f(this,cm).read().then(({value:t,done:r})=>{if(r){f(this,Oh).resolve();return}f(this,lm)??O(this,lm,t.lang),Object.assign(f(this,zv),t.styles),H(this,Ad,QZ).call(this,t.items),e()},f(this,Oh).reject)};return O(this,cm,f(this,Wv).getReader()),f(ts,Gv).add(this),e(),f(this,Oh).promise}update({viewport:e,onBefore:t=null}){var i;const r=e.scale*$c.pixelRatio,s=e.rotation;if(s!==f(this,Hv)&&(t==null||t(),O(this,Hv,s),ug(f(this,Vv),{rotation:s})),r!==f(this,Lh)){t==null||t(),O(this,Lh,r);const o={div:null,properties:null,ctx:H(i=ts,Yo,Dx).call(i,f(this,lm))};for(const a of f(this,um))o.properties=f(this,aE).get(a),o.div=a,H(this,Ad,bF).call(this,o)}}cancel(){var t;const e=new Tf("TextLayer task cancelled.");(t=f(this,cm))==null||t.cancel(e).catch(()=>{}),O(this,cm,null),f(this,Oh).reject(e)}get textDivs(){return f(this,um)}get textContentItemsStr(){return f(this,oE)}static cleanup(){if(!(f(this,Gv).size>0)){f(this,qv).clear();for(const{canvas:e}of f(this,dm).values())e.remove();f(this,dm).clear()}}};Oh=new WeakMap,Yi=new WeakMap,nE=new WeakMap,rE=new WeakMap,lm=new WeakMap,Fu=new WeakMap,sE=new WeakMap,iE=new WeakMap,cm=new WeakMap,Vv=new WeakMap,Hv=new WeakMap,Lh=new WeakMap,zv=new WeakMap,oE=new WeakMap,Wv=new WeakMap,um=new WeakMap,aE=new WeakMap,lE=new WeakMap,qv=new WeakMap,dm=new WeakMap,cE=new WeakMap,Nh=new WeakMap,Gv=new WeakMap,Ad=new WeakSet,QZ=function(e){var s,i;if(f(this,nE))return;(i=f(this,Fu)).ctx??(i.ctx=H(s=ts,Yo,Dx).call(s,f(this,lm)));const t=f(this,um),r=f(this,oE);for(const o of e){if(t.length>QDe){wt("Ignoring additional textDivs for performance reasons."),O(this,nE,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=f(this,Yi);O(this,Yi,document.createElement("span")),f(this,Yi).classList.add("markedContent"),o.id&&f(this,Yi).setAttribute("id",`${o.id}`),a.append(f(this,Yi))}else o.type==="endMarkedContent"&&O(this,Yi,f(this,Yi).parentNode);continue}r.push(o.str),H(this,Ad,ZZ).call(this,o)}},ZZ=function(e){var v;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};f(this,um).push(t);const s=Ke.transform(f(this,lE),e.transform);let i=Math.atan2(s[1],s[0]);const o=f(this,zv)[e.fontName];o.vertical&&(i+=Math.PI/2);let a=f(this,rE)&&o.fontSubstitution||o.fontFamily;a=ts.fontFamilyMap.get(a)||a;const l=Math.hypot(s[2],s[3]),u=l*H(v=ts,Yo,tee).call(v,a,o,f(this,lm));let h,p;i===0?(h=s[4],p=s[5]-u):(h=s[4]+u*Math.sin(i),p=s[5]-u*Math.cos(i));const m="calc(var(--total-scale-factor) *",y=t.style;f(this,Yi)===f(this,Vv)?(y.left=`${(100*h/f(this,iE)).toFixed(2)}%`,y.top=`${(100*p/f(this,sE)).toFixed(2)}%`):(y.left=`${m}${h.toFixed(2)}px)`,y.top=`${m}${p.toFixed(2)}px)`),y.fontSize=`${m}${(f(ts,Nh)*l).toFixed(2)}px)`,y.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,f(this,rE)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),i!==0&&(r.angle=i*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const _=Math.abs(e.transform[0]),E=Math.abs(e.transform[3]);_!==E&&Math.max(_,E)/Math.min(_,E)>1.5&&(b=!0)}if(b&&(r.canvasWidth=o.vertical?e.height:e.width),f(this,aE).set(t,r),f(this,Fu).div=t,f(this,Fu).properties=r,H(this,Ad,bF).call(this,f(this,Fu)),r.hasText&&f(this,Yi).append(t),r.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),f(this,Yi).append(_)}},bF=function(e){var a;const{div:t,properties:r,ctx:s}=e,{style:i}=t;let o="";if(f(ts,Nh)>1&&(o=`scale(${1/f(ts,Nh)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=i,{canvasWidth:u,fontSize:h}=r;H(a=ts,Yo,_F).call(a,s,h*f(this,Lh),l);const{width:p}=s.measureText(t.textContent);p>0&&(o=`scaleX(${u*f(this,Lh)/p}) ${o}`)}r.angle!==0&&(o=`rotate(${r.angle}deg) ${o}`),o.length>0&&(i.transform=o)},Yo=new WeakSet,Dx=function(e=null){let t=f(this,dm).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,dm).set(e,t),f(this,cE).set(t,{size:0,family:""})}return t},_F=function(e,t,r){const s=f(this,cE).get(e);t===s.size&&r===s.family||(e.font=`${t}px ${r}`,s.size=t,s.family=r)},eee=function(){if(f(this,Nh)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),O(this,Nh,e.getBoundingClientRect().height),e.remove()},tee=function(e,t,r){const s=f(this,qv).get(e);if(s)return s;const i=H(this,Yo,Dx).call(this,r);i.canvas.width=i.canvas.height=mG,H(this,Yo,_F).call(this,i,mG,e);const o=i.measureText(""),a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let u=.8;return a?u=a/(a+l):(Ws.platform.isFirefox&&wt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),f(this,qv).set(e,u),u},U(ts,Yo),U(ts,qv,new Map),U(ts,dm,new Map),U(ts,cE,new WeakMap),U(ts,Nh,null),U(ts,Gv,new Set);let iS=ts;const ZDe=100;function nee(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new SF,{docId:t}=e,r=n.url?oDe(n.url):null,s=n.data?aDe(n.data):null,i=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof ree?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let h=n.worker instanceof oS?n.worker:null;const p=n.verbosity,m=typeof n.docBaseUrl=="string"&&!ik(n.docBaseUrl)?n.docBaseUrl:null,y=LT(n.cMapUrl),b=n.cMapPacked!==!1,v=n.CMapReaderFactory||(Ai?mDe:tG),_=LT(n.iccUrl),E=LT(n.standardFontDataUrl),x=n.StandardFontDataFactory||(Ai?gDe:nG),C=LT(n.wasmUrl),A=n.WasmFactory||(Ai?yDe:rG),k=n.stopAtErrors!==!0,L=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,P=n.isEvalSupported!==!1,D=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Ai,F=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Ai&&(Ws.platform.isFirefox||!globalThis.chrome),T=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,$=typeof n.disableFontFace=="boolean"?n.disableFontFace:Ai,z=n.fontExtraProperties===!0,j=n.enableXfa===!0,Y=n.ownerDocument||globalThis.document,Z=n.disableRange===!0,J=n.disableStream===!0,ee=n.disableAutoFetch===!0,Q=n.pdfBug===!0,te=n.CanvasFactory||(Ai?pDe:dDe),de=n.FilterFactory||(Ai?fDe:hDe),q=n.enableHWA===!0,K=n.useWasm!==!1,ne=l?l.length:n.length??NaN,le=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Ai&&!$,ce=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(v===tG&&x===nG&&A===rG&&y&&E&&C&&jb(y,document.baseURI)&&jb(E,document.baseURI)&&jb(C,document.baseURI)),be=null;OPe(p);const we={canvasFactory:new te({ownerDocument:Y,enableHWA:q}),filterFactory:new de({docId:t,ownerDocument:Y}),cMapReaderFactory:ce?null:new v({baseUrl:y,isCompressed:b}),standardFontDataFactory:ce?null:new x({baseUrl:E}),wasmFactory:ce?null:new A({baseUrl:C})};h||(h=oS.create({verbosity:p,port:Sl.workerPort}),e._worker=h);const ke={docId:t,apiVersion:"5.4.394",data:s,password:a,disableAutoFetch:ee,rangeChunkSize:u,length:ne,docBaseUrl:m,enableXfa:j,evaluatorOptions:{maxImageSize:L,disableFontFace:$,ignoreErrors:k,isEvalSupported:P,isOffscreenCanvasSupported:D,isImageDecoderSupported:F,canvasMaxAreaInBytes:T,fontExtraProperties:z,useSystemFonts:le,useWasm:K,useWorkerFetch:ce,cMapUrl:y,iccUrl:_,standardFontDataUrl:E,wasmUrl:C}},Ne={ownerDocument:Y,pdfBug:Q,styleElement:be,loadingParams:{disableAutoFetch:ee,enableXfa:j}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Me=h.messageHandler.sendWithPromise("GetDocRequest",ke,s?[s.buffer]:null);let Je;if(l)Je=new LDe(l,{disableRange:Z,disableStream:J});else if(!s){if(!r)throw new Error("getDocument - no `url` parameter provided.");const je=jb(r)?$De:Ai?YDe:zDe;Je=new je({url:r,length:ne,httpHeaders:i,withCredentials:o,rangeChunkSize:u,disableRange:Z,disableStream:J})}return Me.then(je=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const dt=new Kb(t,je,h.port),Ye=new nMe(dt,e,Je,Ne,we,q);e._transport=Ye,dt.send("Ready",null)})}).catch(e._capability.reject),e}var yR;const vR=class vR{constructor(){Ee(this,"_capability",Promise.withResolvers());Ee(this,"_transport",null);Ee(this,"_worker",null);Ee(this,"docId",`d${es(vR,yR)._++}`);Ee(this,"destroyed",!1);Ee(this,"onPassword",null);Ee(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,r,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}async getData(){return this._transport.getData()}};yR=new WeakMap,U(vR,yR,0);let SF=vR;var hm,uE,dE,hE,fE;class ree{constructor(e,t,r=!1,s=null){U(this,hm,Promise.withResolvers());U(this,uE,[]);U(this,dE,[]);U(this,hE,[]);U(this,fE,[]);this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=s}addRangeListener(e){f(this,fE).push(e)}addProgressListener(e){f(this,hE).push(e)}addProgressiveReadListener(e){f(this,dE).push(e)}addProgressiveDoneListener(e){f(this,uE).push(e)}onDataRange(e,t){for(const r of f(this,fE))r(e,t)}onDataProgress(e,t){f(this,hm).promise.then(()=>{for(const r of f(this,hE))r(e,t)})}onDataProgressiveRead(e){f(this,hm).promise.then(()=>{for(const t of f(this,dE))t(e)})}onDataProgressiveDone(){f(this,hm).promise.then(()=>{for(const e of f(this,uE))e()})}transportReady(){f(this,hm).resolve()}requestDataRange(e,t){jn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}hm=new WeakMap,uE=new WeakMap,dE=new WeakMap,hE=new WeakMap,fE=new WeakMap;class eMe{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return It(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Bu,fm,Zb;class tMe{constructor(e,t,r,s=!1){U(this,fm);U(this,Bu,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=s?new Kq:null,this._pdfBug=s,this.commonObjs=r.commonObjs,this.objs=new JZ,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:s=0,dontFlip:i=!1}={}){return new B1({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:s,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return It(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:r,intent:s="display",annotationMode:i=hh.ENABLE,transform:o=null,background:a=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:h=null,printAnnotationStorage:p=null,isEditing:m=!1,recordOperations:y=!1,operationsFilter:b=null}){var F,T,$;(F=this._stats)==null||F.time("Overall");const v=this._transport.getRenderingIntent(s,i,p,m),{renderingIntent:_,cacheKey:E}=v;O(this,Bu,!1),l||(l=this._transport.getOptionalContentConfig(_));let x=this._intentStates.get(E);x||(x=Object.create(null),this._intentStates.set(E,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const C=!!(_&Uo.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(T=this._stats)==null||T.time("Page Request"),this._pumpOperatorList(v));const A=!!(this._pdfBug&&(($=globalThis.StepperManager)!=null&&$.enabled)),k=!this.recordedBBoxes&&(y||A),L=z=>{var j,Y;if(x.renderTasks.delete(P),k){const Z=(j=P.gfx)==null?void 0:j.dependencyTracker.take();Z&&(P.stepper&&P.stepper.setOperatorBBoxes(Z,P.gfx.dependencyTracker.takeDebugMetadata()),y&&(this.recordedBBoxes=Z))}C&&O(this,Bu,!0),H(this,fm,Zb).call(this),z?(P.capability.reject(z),this._abortOperatorList({intentState:x,reason:z instanceof Error?z:new Error(z)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Y=globalThis.Stats)!=null&&Y.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new EF({callback:L,params:{canvas:t,canvasContext:e,dependencyTracker:k?new wDe(t,x.operatorList.length,A):null,viewport:r,transform:o,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:h,enableHWA:this._transport.enableHWA,operationsFilter:b});(x.renderTasks||(x.renderTasks=new Set)).add(P);const D=P.task;return Promise.all([x.displayReadyCapability.promise,l]).then(([z,j])=>{var Y;if(this.destroyed){L();return}if((Y=this._stats)==null||Y.time("Rendering"),!(j.renderingIntent&_))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:z,optionalContentConfig:j}),P.operatorListChanged()}).catch(L),D}getOperatorList({intent:e="display",annotationMode:t=hh.ENABLE,printAnnotationStorage:r=null,isEditing:s=!1}={}){var u;function i(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,t,r,s,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=i,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>sS.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,s){function i(){o.read().then(function({value:l,done:u}){if(u){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),i()},s)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),O(this,Bu,!1),Promise.all(e)}cleanup(e=!1){O(this,Bu,!0);const t=H(this,fm,Zb).call(this);return e&&t&&this._stats&&(this._stats=new Kq),t}_startRenderPage(e,t){var s,i;const r=this._intentStates.get(t);r&&((s=this._stats)==null||s.timeEnd("Page Request"),(i=r.displayReadyCapability)==null||i.resolve(e))}_renderPageChunk(e,t){for(let r=0,s=e.length;r<s;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&H(this,fm,Zb).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:s}){const{map:i,transfer:o}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i,modifiedIds:s},o).getReader(),u=this._intentStates.get(t);u.streamReader=l;const h=()=>{l.read().then(({value:p,done:m})=>{if(m){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,u),h())},p=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const m of u.renderTasks)m.operatorListChanged();H(this,fm,Zb).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(p);else if(u.opListReadCapability)u.opListReadCapability.reject(p);else throw p}})};h()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof vU){let s=ZDe;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new Tf(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,i]of this._intentStates)if(i===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}Bu=new WeakMap,fm=new WeakSet,Zb=function(){if(!f(this,Bu)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),O(this,Bu,!1),!0};var Fh,ml,$u,pm,wR,mm,gm,ki,Mx,see,iee,e_,Kv,Ox;const sr=class sr{constructor({name:e=null,port:t=null,verbosity:r=LPe()}={}){U(this,ki);U(this,Fh,Promise.withResolvers());U(this,ml,null);U(this,$u,null);U(this,pm,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,t){if(f(sr,gm).has(t))throw new Error("Cannot use more than one PDFWorker per port.");f(sr,gm).set(t,this),H(this,ki,see).call(this,t)}else H(this,ki,iee).call(this)}get promise(){return f(this,Fh).promise}get port(){return f(this,$u)}get messageHandler(){return f(this,ml)}destroy(){var e,t;this.destroyed=!0,(e=f(this,pm))==null||e.terminate(),O(this,pm,null),f(sr,gm).delete(f(this,$u)),O(this,$u,null),(t=f(this,ml))==null||t.destroy(),O(this,ml,null)}static create(e){const t=f(this,gm).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new sr(e)}static get workerSrc(){if(Sl.workerSrc)return Sl.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return It(this,"_setupFakeWorkerGlobal",(async()=>f(this,Kv,Ox)?f(this,Kv,Ox):(await import(this.workerSrc)).WorkerMessageHandler)())}};Fh=new WeakMap,ml=new WeakMap,$u=new WeakMap,pm=new WeakMap,wR=new WeakMap,mm=new WeakMap,gm=new WeakMap,ki=new WeakSet,Mx=function(){f(this,Fh).resolve(),f(this,ml).send("configure",{verbosity:this.verbosity})},see=function(e){O(this,$u,e),O(this,ml,new Kb("main","worker",e)),f(this,ml).on("ready",()=>{}),H(this,ki,Mx).call(this)},iee=function(){if(f(sr,mm)||f(sr,Kv,Ox)){H(this,ki,e_).call(this);return}let{workerSrc:e}=sr;try{sr._isSameOrigin(window.location,e)||(e=sr._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new Kb("main","worker",t),s=()=>{i.abort(),r.destroy(),t.terminate(),this.destroyed?f(this,Fh).reject(new Error("Worker was destroyed")):H(this,ki,e_).call(this)},i=new AbortController;t.addEventListener("error",()=>{f(this,pm)||s()},{signal:i.signal}),r.on("test",a=>{if(i.abort(),this.destroyed||!a){s();return}O(this,ml,r),O(this,$u,t),O(this,pm,t),H(this,ki,Mx).call(this)}),r.on("ready",a=>{if(i.abort(),this.destroyed){s();return}try{o()}catch{H(this,ki,e_).call(this)}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{sk("The worker has been disabled.")}H(this,ki,e_).call(this)},e_=function(){f(sr,mm)||(wt("Setting up fake worker."),O(sr,mm,!0)),sr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){f(this,Fh).reject(new Error("Worker was destroyed"));return}const t=new uDe;O(this,$u,t);const r=`fake${es(sr,wR)._++}`,s=new Kb(r+"_worker",r,t);e.setup(s,t),O(this,ml,new Kb(r,r+"_worker",t)),H(this,ki,Mx).call(this)}).catch(e=>{f(this,Fh).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Kv=new WeakSet,Ox=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},U(sr,Kv),U(sr,wR,0),U(sr,mm,!1),U(sr,gm,new WeakMap),Ai&&(O(sr,mm,!0),Sl.workerSrc||(Sl.workerSrc="./pdf.worker.mjs")),sr._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const s=new URL(t,r);return r.origin===s.origin},sr._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},sr.fromPort=e=>{if(GPe("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return sr.create(e)};let oS=sr;var ju,fc,Yv,Xv,Uu,ym,t_;class nMe{constructor(e,t,r,s,i,o){U(this,ym);U(this,ju,new Map);U(this,fc,new Map);U(this,Yv,new Map);U(this,Xv,new Map);U(this,Uu,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new JZ,this.fontLoader=new sDe({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}get annotationStorage(){return It(this,"annotationStorage",new bU)}getRenderingIntent(e,t=hh.ENABLE,r=null,s=!1,i=!1){let o=Uo.DISPLAY,a=iF;switch(e){case"any":o=Uo.ANY;break;case"display":break;case"print":o=Uo.PRINT;break;default:wt(`getRenderingIntent - invalid intent: ${e}`)}const l=o&Uo.PRINT&&r instanceof LZ?r:this.annotationStorage;switch(t){case hh.DISABLE:o+=Uo.ANNOTATIONS_DISABLE;break;case hh.ENABLE:break;case hh.ENABLE_FORMS:o+=Uo.ANNOTATIONS_FORMS;break;case hh.ENABLE_STORAGE:o+=Uo.ANNOTATIONS_STORAGE,a=l.serializable;break;default:wt(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(o+=Uo.IS_EDITING),i&&(o+=Uo.OPLIST);const{ids:u,hash:h}=l.modifiedIds,p=[o,a.hash,h];return{renderingIntent:o,cacheKey:p.join("_"),annotationStorageSerializable:a,modifiedIds:u}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=f(this,Uu))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of f(this,fc).values())e.push(s._destroy());f(this,fc).clear(),f(this,Yv).clear(),f(this,Xv).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s,i;this.commonObjs.clear(),this.fontLoader.clear(),f(this,ju).clear(),this.filterFactory.destroy(),iS.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new Tf("Worker was terminated.")),(i=this.messageHandler)==null||i.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,s)=>{Qt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},s.onPull=()=>{this._fullReader.read().then(function({value:i,done:o}){if(o){s.close();return}Qt(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{s.error(i)})},s.onCancel=i=>{this._fullReader.cancel(i),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:i,contentLength:o}=this._fullReader;return(!s||!i)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:s,isRangeSupported:i,contentLength:o}}),e.on("GetRangeReader",(r,s)=>{Qt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(r.begin,r.end);if(!i){s.close();return}s.onPull=()=>{i.read().then(function({value:o,done:a}){if(a){s.close();return}Qt(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{i.cancel(o),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new eMe(r,this))}),e.on("DocException",r=>{t._capability.reject(Vi(r))}),e.on("PasswordRequest",r=>{O(this,Uu,Promise.withResolvers());try{if(!t.onPassword)throw Vi(r);const s=i=>{i instanceof Error?f(this,Uu).reject(i):f(this,Uu).resolve({password:i})};t.onPassword(s,r.code)}catch(s){f(this,Uu).reject(s)}return f(this,Uu).promise}),e.on("DataLoaded",r=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;f(this,fc).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,s,i])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(s){case"Font":if("error"in i){const m=i.error;wt(`Error during font loading: ${m}`),this.commonObjs.resolve(r,m);break}const a=new oF(i),l=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(m,y)=>globalThis.FontInspector.fontAdded(m,y):null,u=new iDe(a,l,i.extra,i.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(r,u)});break;case"CopyLocalImage":const{imageRef:h}=i;Qt(h,"The imageRef must be defined.");for(const m of f(this,fc).values())for(const[,y]of m.objs)if((y==null?void 0:y.ref)===h)return y.dataLen?(this.commonObjs.resolve(r,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(r,i);break;case"Pattern":const p=new aF(i);this.commonObjs.resolve(r,p.getIR());break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([r,s,i,o])=>{var l;if(this.destroyed)return;const a=f(this,fc).get(s);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(i){case"Image":case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${i}`)}}}),e.on("DocProgress",r=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[r.type];if(!s)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&wt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=f(this,Yv).get(t);if(r)return r;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&f(this,Xv).set(i.refStr,e);const o=new tMe(t,i,this,this._params.pdfBug);return f(this,fc).set(t,o),o});return f(this,Yv).set(t,s),s}getPageIndex(e){return lF(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return H(this,ym,t_).call(this,"GetFieldObjects")}hasJSActions(){return H(this,ym,t_).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return H(this,ym,t_).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return H(this,ym,t_).call(this,"GetOptionalContentConfig").then(t=>new ODe(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=f(this,ju).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(s=>{var i,o;return{info:s[0],metadata:s[1]?new DDe(s[1]):null,contentDispositionFilename:((i=this._fullReader)==null?void 0:i.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return f(this,ju).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of f(this,fc).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),f(this,ju).clear(),this.filterFactory.destroy(!0),iS.cleanup()}}cachedPageNumber(e){if(!lF(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return f(this,Xv).get(t)??null}}ju=new WeakMap,fc=new WeakMap,Yv=new WeakMap,Xv=new WeakMap,Uu=new WeakMap,ym=new WeakSet,t_=function(e,t=null){const r=f(this,ju).get(e);if(r)return r;const s=this.messageHandler.sendWithPromise(e,t);return f(this,ju).set(e,s),s};var Bh;class rMe{constructor(e){U(this,Bh,null);Ee(this,"onContinue",null);Ee(this,"onError",null);O(this,Bh,e)}get promise(){return f(this,Bh).capability.promise}cancel(e=0){f(this,Bh).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=f(this,Bh).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=f(this,Bh);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Bh=new WeakMap;var $h,vm;const bp=class bp{constructor({callback:e,params:t,objs:r,commonObjs:s,annotationCanvasMap:i,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:h=!1,pdfBug:p=!1,pageColors:m=null,enableHWA:y=!1,operationsFilter:b=null}){U(this,$h,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=s,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=p,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new rMe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=y,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=b}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,u;if(this.cancelled)return;if(this._canvas){if(f(bp,vm).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(bp,vm).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:s,background:i,dependencyTracker:o}=this.params,a=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new nv(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:i}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var r,s,i;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),f(this,$h)&&(window.cancelAnimationFrame(f(this,$h)),O(this,$h,null)),f(bp,vm).delete(this._canvas),e||(e=new vU(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(i=(s=this.task).onError)==null||i.call(s,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?O(this,$h,window.requestAnimationFrame(()=>{O(this,$h,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(bp,vm).delete(this._canvas),this.callback())))}};$h=new WeakMap,vm=new WeakMap,U(bp,vm,new WeakSet);let EF=bp;const sMe="5.4.394",iMe="2cc809ade";var Ro,wm,Jv,ss,pE,Qv,Vu,mE,jh,gl,gE,Pn,CF,TF,xF,mp,oee,lh;const Hi=class Hi{constructor({editor:e=null,uiManager:t=null}){U(this,Pn);U(this,Ro,null);U(this,wm,null);U(this,Jv);U(this,ss,null);U(this,pE,!1);U(this,Qv,!1);U(this,Vu,null);U(this,mE);U(this,jh,null);U(this,gl,null);var r,s;e?(O(this,Qv,!1),O(this,Vu,e)):O(this,Qv,!0),O(this,gl,(e==null?void 0:e._uiManager)||t),O(this,mE,f(this,gl)._eventBus),O(this,Jv,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((s=f(this,gl))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),f(Hi,gE)||O(Hi,gE,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return It(this,"_keyboardManager",new j1([[["Escape","mac+Escape"],Hi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Hi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Hi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Hi.prototype._moveToPrevious],[["Home","mac+Home"],Hi.prototype._moveToBeginning],[["End","mac+End"],Hi.prototype._moveToEnd]]))}renderButton(){const e=O(this,Ro,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",f(this,Vu)&&(e.ariaControls=`${f(this,Vu).id}_colorpicker_dropdown`);const t=f(this,gl)._signal;e.addEventListener("click",H(this,Pn,mp).bind(this),{signal:t}),e.addEventListener("keydown",H(this,Pn,xF).bind(this),{signal:t});const r=O(this,wm,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=f(this,Jv),e.append(r),e}renderMainDropdown(){const e=O(this,ss,H(this,Pn,CF).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===f(this,Ro)){H(this,Pn,mp).call(this,e);return}const t=e.target.getAttribute("data-color");t&&H(this,Pn,TF).call(this,t,e)}_moveToNext(e){var t,r;if(!f(this,Pn,lh)){H(this,Pn,mp).call(this,e);return}if(e.target===f(this,Ro)){(t=f(this,ss).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=f(this,ss))==null?void 0:t.firstChild)||e.target===f(this,Ro)){f(this,Pn,lh)&&this._hideDropdownFromKeyboard();return}f(this,Pn,lh)||H(this,Pn,mp).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!f(this,Pn,lh)){H(this,Pn,mp).call(this,e);return}(t=f(this,ss).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!f(this,Pn,lh)){H(this,Pn,mp).call(this,e);return}(t=f(this,ss).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=f(this,ss))==null||e.classList.add("hidden"),f(this,Ro).ariaExpanded="false",(t=f(this,jh))==null||t.abort(),O(this,jh,null)}_hideDropdownFromKeyboard(){var e;if(!f(this,Qv)){if(!f(this,Pn,lh)){(e=f(this,Vu))==null||e.unselect();return}this.hideDropdown(),f(this,Ro).focus({preventScroll:!0,focusVisible:f(this,pE)})}}updateColor(e){if(f(this,wm)&&(f(this,wm).style.backgroundColor=e),!f(this,ss))return;const t=f(this,gl).highlightColors.values();for(const r of f(this,ss).children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=f(this,Ro))==null||e.remove(),O(this,Ro,null),O(this,wm,null),(t=f(this,ss))==null||t.remove(),O(this,ss,null)}};Ro=new WeakMap,wm=new WeakMap,Jv=new WeakMap,ss=new WeakMap,pE=new WeakMap,Qv=new WeakMap,Vu=new WeakMap,mE=new WeakMap,jh=new WeakMap,gl=new WeakMap,gE=new WeakMap,Pn=new WeakSet,CF=function(){const e=document.createElement("div"),t=f(this,gl)._signal;e.addEventListener("contextmenu",$a,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),f(this,Vu)&&(e.id=`${f(this,Vu).id}_colorpicker_dropdown`);for(const[r,s]of f(this,gl).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",s),i.title=r,i.setAttribute("data-l10n-id",f(Hi,gE)[r]);const o=document.createElement("span");i.append(o),o.className="swatch",o.style.backgroundColor=s,i.ariaSelected=s===f(this,Jv),i.addEventListener("click",H(this,Pn,TF).bind(this,s),{signal:t}),e.append(i)}return e.addEventListener("keydown",H(this,Pn,xF).bind(this),{signal:t}),e},TF=function(e,t){t.stopPropagation(),f(this,mE).dispatch("switchannotationeditorparams",{source:this,type:Jt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},xF=function(e){Hi._keyboardManager.exec(this,e)},mp=function(e){if(f(this,Pn,lh)){this.hideDropdown();return}if(O(this,pE,e.detail===0),f(this,jh)||(O(this,jh,new AbortController),window.addEventListener("pointerdown",H(this,Pn,oee).bind(this),{signal:f(this,gl).combinedSignal(f(this,jh))})),f(this,Ro).ariaExpanded="true",f(this,ss)){f(this,ss).classList.remove("hidden");return}const t=O(this,ss,H(this,Pn,CF).call(this));f(this,Ro).append(t)},oee=function(e){var t;(t=f(this,ss))!=null&&t.contains(e.target)||this.hideDropdown()},lh=function(){return f(this,ss)&&!f(this,ss).classList.contains("hidden")},U(Hi,gE,null);let eR=Hi;var pc,yE,Zv,vE;const _p=class _p{constructor(e){U(this,pc,null);U(this,yE,null);U(this,Zv,null);O(this,yE,e),O(this,Zv,e._uiManager),f(_p,vE)||O(_p,vE,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(f(this,pc))return f(this,pc);const{editorType:e,colorType:t,color:r}=f(this,yE),s=O(this,pc,document.createElement("input"));return s.type="color",s.value=r||"#000000",s.className="basicColorPicker",s.tabIndex=0,s.setAttribute("data-l10n-id",f(_p,vE)[e]),s.addEventListener("input",()=>{f(this,Zv).updateParams(t,s.value)},{signal:f(this,Zv)._signal}),s}update(e){f(this,pc)&&(f(this,pc).value=e)}destroy(){var e;(e=f(this,pc))==null||e.remove(),O(this,pc,null)}hideDropdown(){}};pc=new WeakMap,yE=new WeakMap,Zv=new WeakMap,vE=new WeakMap,U(_p,vE,null);let tR=_p;function gG(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function _b(n){return Math.max(0,Math.min(255,255*n))}class yG{static CMYK_G([e,t,r,s]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=_b(e),[e,e,e]}static G_HTML([e]){const t=gG(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(_b)}static RGB_HTML(e){return`#${e.map(gG).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,r+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,r,s]){return[_b(1-Math.min(1,e+s)),_b(1-Math.min(1,r+s)),_b(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const s=1-e,i=1-t,o=1-r,a=Math.min(s,i,o);return["CMYK",s,i,o,a]}}class oMe{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),r||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){jn("Abstract method `_createSVG` called.")}}class nR extends oMe{_createSVG(e){return document.createElementNS(fu,e)}}const aMe=9,hg=new WeakSet,lMe=new Date().getTimezoneOffset()*60*1e3;class wL{static create(e){switch(e.data.annotationType){case Wr.LINK:return new EU(e);case Wr.TEXT:return new uMe(e);case Wr.WIDGET:switch(e.data.fieldType){case"Tx":return new dMe(e);case"Btn":return e.data.radioButton?new cee(e):e.data.checkBox?new fMe(e):new pMe(e);case"Ch":return new mMe(e);case"Sig":return new hMe(e)}return new Ag(e);case Wr.POPUP:return new RF(e);case Wr.FREETEXT:return new pee(e);case Wr.LINE:return new yMe(e);case Wr.SQUARE:return new vMe(e);case Wr.CIRCLE:return new wMe(e);case Wr.POLYLINE:return new mee(e);case Wr.CARET:return new _Me(e);case Wr.INK:return new CU(e);case Wr.POLYGON:return new bMe(e);case Wr.HIGHLIGHT:return new gee(e);case Wr.UNDERLINE:return new SMe(e);case Wr.SQUIGGLY:return new EMe(e);case Wr.STRIKEOUT:return new CMe(e);case Wr.STAMP:return new yee(e);case Wr.FILEATTACHMENT:return new TMe(e);default:return new yr(e)}}}var bm,e0,_a,wE,AF;const LU=class LU{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:s=!1}={}){U(this,wE);U(this,bm,null);U(this,e0,!1);U(this,_a,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(r)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return LU._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,t=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var a;const e=(a=this.annotationStorage)==null?void 0:a.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:r,rect:s}=this.data;let i=-1/0,o=-1/0;if((t==null?void 0:t.length)>=8){for(let l=0;l<t.length;l+=8)t[l+1]>o?(o=t[l+1],i=t[l+2]):t[l+1]===o&&(i=Math.max(i,t[l+2]));return[i,o]}if((r==null?void 0:r.length)>=1){for(const l of r)for(let u=0,h=l.length;u<h;u+=2)l[u+1]>o?(o=l[u+1],i=l[u]):l[u+1]===o&&(i=Math.max(i,l[u]));if(i!==1/0)return[i,o]}return s?[s[2],s[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:r,pageHeight:s,pageX:i,pageY:o}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-i)/r,e[1]=100*(e[1]-o)/s,e}get commentText(){var t,r,s;const{data:e}=this;return((r=(t=this.annotationStorage.getRawValue(`${nS}${e.id}`))==null?void 0:t.popup)==null?void 0:r.contents)||((s=e.contentsObj)==null?void 0:s.str)||""}set commentText(e){const{data:t}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:r})||this.annotationStorage.setValue(`${nS}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=f(this,_a))==null?void 0:e.popup)||this.popup)==null||t.remove(),O(this,_a,this.popup=null)}updateEdited(e){var i;if(!this.container)return;e.rect&&(f(this,bm)||O(this,bm,{rect:this.data.rect.slice(0)}));const{rect:t,popup:r}=e;t&&H(this,wE,AF).call(this,t);let s=((i=f(this,_a))==null?void 0:i.popup)||this.popup;!s&&(r!=null&&r.text)&&(this._createPopup(r),s=f(this,_a).popup),s&&(s.updateEdited(e),r!=null&&r.deleted&&(s.remove(),O(this,_a,null),this.popup=null))}resetEdited(){var e;f(this,bm)&&(H(this,wE,AF).call(this,f(this,bm).rect),(e=f(this,_a))==null||e.popup.resetEdited(),O(this,bm,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:s}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),!(this instanceof Ag)&&!(this instanceof EU)&&(i.tabIndex=0);const{style:o}=i;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof RF){const{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,i),i}const{width:a,height:l}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const v=t.borderStyle.horizontalCornerRadius,_=t.borderStyle.verticalCornerRadius;if(v>0||_>0){const x=`calc(${v}px * var(--total-scale-factor)) / calc(${_}px * var(--total-scale-factor))`;o.borderRadius=x}else if(this instanceof cee){const x=`calc(${a}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;o.borderRadius=x}switch(t.borderStyle.style){case Ry.SOLID:o.borderStyle="solid";break;case Ry.DASHED:o.borderStyle="dashed";break;case Ry.BEVELED:wt("Unimplemented border style: beveled");break;case Ry.INSET:wt("Unimplemented border style: inset");break;case Ry.UNDERLINE:o.borderBottomStyle="solid";break}const E=t.borderColor||null;E?(O(this,e0,!0),o.borderColor=Ke.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):o.borderWidth=0}const u=Ke.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:p,pageX:m,pageY:y}=s.rawDims;o.left=`${100*(u[0]-m)/h}%`,o.top=`${100*(u[1]-y)/p}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(o.width=`${100*a/h}%`,o.height=`${100*l/p}%`):this.setRotation(b,i),i}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:s}=this.parent.viewport.rawDims;let{width:i,height:o}=this;e%180!==0&&([i,o]=[o,i]),t.style.width=`${100*i/r}%`,t.style.height=`${100*o/s}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,s)=>{const i=s.detail[t],o=i[0],a=i.slice(1);s.target.style[r]=yG[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:yG[`${o}_rgb`](a)})};return It(this,"_commonActions",{display:t=>{const{display:r}=t.detail,s=r%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const s of Object.keys(t.detail)){const i=e[s]||r[s];i==null||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[s,i]of Object.entries(t)){const o=r[s];if(o){const a={detail:{[s]:i},target:e};o(a),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,s,i]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){const[v,_,E,x]=e.subarray(2,6);if(s===v&&i===_&&t===E&&r===x)return}const{style:o}=this.container;let a;if(f(this,e0)){const{borderColor:v,borderWidth:_}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const l=s-t,u=i-r,{svgFactory:h}=this,p=h.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const m=h.createElement("defs");p.append(m);const y=h.createElement("clipPath"),b=`clippath_${this.data.id}`;y.setAttribute("id",b),y.setAttribute("clipPathUnits","objectBoundingBox"),m.append(y);for(let v=2,_=e.length;v<_;v+=8){const E=e[v],x=e[v+1],C=e[v+2],A=e[v+3],k=h.createElement("rect"),L=(C-t)/l,P=(i-x)/u,D=(E-C)/l,F=(x-A)/u;k.setAttribute("x",L),k.setAttribute("y",P),k.setAttribute("width",D),k.setAttribute("height",F),y.append(k),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${P}" width="${D}" height="${F}"/>`)}f(this,e0)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(p),this.container.style.clipPath=`url(#${b})`}_createPopup(e=null){const{data:t}=this;let r,s;e?(r={str:e.text},s=e.date):(r=t.contentsObj,s=t.modificationDate),O(this,_a,new RF({data:{color:t.color,titleObj:t.titleObj,modificationDate:s,contentsObj:r,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(f(this,_a)||this.popup||this.data.popupRef)}get extraPopupElement(){return f(this,_a)}render(){jn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:i,id:o,exportValues:a}of s){if(i===-1||o===t)continue;const l=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!hg.has(u)){wt(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:u})}return r}for(const s of document.getElementsByName(e)){const{exportValue:i}=s,o=s.getAttribute("data-element-id");o!==t&&hg.has(s)&&r.push({id:o,exportValue:i,domElement:s})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};bm=new WeakMap,e0=new WeakMap,_a=new WeakMap,wE=new WeakSet,AF=function(e){const{container:{style:t},data:{rect:r,rotation:s},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e),t.left=`${100*(e[0]-a)/i}%`,t.top=`${100*(o-e[3]+l)/o}%`,s===0?(t.width=`${100*(e[2]-e[0])/i}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(s)};let yr=LU;class cMe extends yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var Ho,gp,aee,lee;class EU extends yr{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});U(this,Ho);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let i=!1;return t.url?(r.addLinkAttributes(s,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(s,t.action,t.overlaidText),i=!0):t.attachment?(H(this,Ho,aee).call(this,s,t.attachment,t.overlaidText,t.attachmentDest),i=!0):t.setOCGState?(H(this,Ho,lee).call(this,s,t.setOCGState,t.overlaidText),i=!0):t.dest?(this._bindLink(s,t.dest,t.overlaidText),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),i=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(s,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&(this.contentElement=s,this.container.append(s)),this.container}_bindLink(t,r,s=""){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&H(this,Ho,gp).call(this),s&&(t.title=s)}_bindNamedAction(t,r,s=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),s&&(t.title=s),H(this,Ho,gp).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(r.actions)){const o=s.get(i);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:i}}),!1})}r.overlaidText&&(t.title=r.overlaidText),t.onclick||(t.onclick=()=>!1),H(this,Ho,gp).call(this)}_bindResetFormAction(t,r){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),H(this,Ho,gp).call(this),!this._fieldObjects){wt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var p;s==null||s();const{fields:i,refs:o,include:a}=r,l=[];if(i.length!==0||o.length!==0){const m=new Set(o);for(const y of i){const b=this._fieldObjects[y]||[];for(const{id:v}of b)m.add(v)}for(const y of Object.values(this._fieldObjects))for(const b of y)m.has(b.id)===a&&l.push(b)}else for(const m of Object.values(this._fieldObjects))l.push(...m);const u=this.annotationStorage,h=[];for(const m of l){const{id:y}=m;switch(h.push(y),m.type){case"text":{const v=m.defaultValue||"";u.setValue(y,{value:v});break}case"checkbox":case"radiobutton":{const v=m.defaultValue===m.exportValues;u.setValue(y,{value:v});break}case"combobox":case"listbox":{const v=m.defaultValue||"";u.setValue(y,{value:v});break}default:continue}const b=document.querySelector(`[data-element-id="${y}"]`);if(b){if(!hg.has(b)){wt(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}Ho=new WeakSet,gp=function(){this.container.setAttribute("data-internal-link","")},aee=function(t,r,s="",i=null){t.href=this.linkService.getAnchorUrl(""),r.description?t.title=r.description:s&&(t.title=s),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(r.content,r.filename,i),!1},H(this,Ho,gp).call(this)},lee=function(t,r,s=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),s&&(t.title=s),H(this,Ho,gp).call(this)};class uMe extends yr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Ag extends yr{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ws.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,s,i){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}i&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(o)}}))})}_setEventListeners(e,t,r,s){var i,o,a;for(const[l,u]of r)(u==="Action"||(i=this.data.actions)!=null&&i[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,s),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ke.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||aMe,i=e.style;let o;const a=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),h=Math.round(u/(dL*s))||1,p=u/h;o=Math.min(s,l(p/dL))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(s,l(u/dL))}i.fontSize=`calc(${o}px * var(--total-scale-factor))`,i.color=Ke.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class dMe extends Ag{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,s){const i=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),i.setValue(o.id,{[s]:r})}render(){var s,i;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=o.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",u??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),hg.add(r),this.contentElement=r,r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:p,datetimeType:m,timeStep:y}=this.data,b=!!m&&this.enableScripting;p&&(r.title=p),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",_=>{e.setValue(t,{value:_.target.value}),this.setPropertyOnSiblings(r,"value",_.target.value,"value"),h.formattedValue=null}),r.addEventListener("resetform",_=>{const E=this.data.defaultFieldValue??"";r.value=h.userValue=E,h.formattedValue=null});let v=_=>{const{formattedValue:E}=h;E!=null&&(_.target.value=E),_.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",E=>{var C;if(h.focused)return;const{target:x}=E;if(b&&(x.type=m,y&&(x.step=y)),h.userValue){const A=h.userValue;if(b)if(m==="time"){const k=new Date(A),L=[k.getHours(),k.getMinutes(),k.getSeconds()];x.value=L.map(P=>P.toString().padStart(2,"0")).join(":")}else x.value=new Date(A-lMe).toISOString().split(m==="date"?"T":".",1)[0];else x.value=A}h.lastCommittedValue=x.value,h.commitKey=1,(C=this.data.actions)!=null&&C.Focus||(h.focused=!0)}),r.addEventListener("updatefromsandbox",E=>{this.showElementAndHideCanvas(E.target);const x={value(C){h.userValue=C.detail.value??"",b||e.setValue(t,{value:h.userValue.toString()}),C.target.value=h.userValue},formattedValue(C){const{formattedValue:A}=C.detail;h.formattedValue=A,A!=null&&C.target!==document.activeElement&&(C.target.value=A);const k={formattedValue:A};b&&(k.value=A),e.setValue(t,k)},selRange(C){C.target.setSelectionRange(...C.detail.selRange)},charLimit:C=>{var P;const{charLimit:A}=C.detail,{target:k}=C;if(A===0){k.removeAttribute("maxLength");return}k.setAttribute("maxLength",A);let L=h.userValue;!L||L.length<=A||(L=L.slice(0,A),k.value=h.userValue=L,e.setValue(t,{value:L}),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:k.selectionStart,selEnd:k.selectionEnd}}))}};this._dispatchEventFromSandbox(x,E)}),r.addEventListener("keydown",E=>{var A;h.commitKey=1;let x=-1;if(E.key==="Escape"?x=0:E.key==="Enter"&&!this.data.multiLine?x=2:E.key==="Tab"&&(h.commitKey=3),x===-1)return;const{value:C}=E.target;h.lastCommittedValue!==C&&(h.lastCommittedValue=C,h.userValue=C,(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,willCommit:!0,commitKey:x,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}}))});const _=v;v=null,r.addEventListener("blur",E=>{var A,k;if(!h.focused||!E.relatedTarget)return;(A=this.data.actions)!=null&&A.Blur||(h.focused=!1);const{target:x}=E;let{value:C}=x;if(b){if(C&&m==="time"){const L=C.split(":").map(P=>parseInt(P,10));C=new Date(2e3,0,1,L[0],L[1],L[2]||0).valueOf(),x.step=""}else C.includes("T")||(C=`${C}T00:00`),C=new Date(C).valueOf();x.type="text"}h.userValue=C,h.lastCommittedValue!==C&&((k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,willCommit:!0,commitKey:h.commitKey,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}})),_(E)}),(i=this.data.actions)!=null&&i.Keystroke&&r.addEventListener("beforeinput",E=>{var F;h.lastCommittedValue=null;const{data:x,target:C}=E,{value:A,selectionStart:k,selectionEnd:L}=C;let P=k,D=L;switch(E.inputType){case"deleteWordBackward":{const T=A.substring(0,k).match(/\w*[^\w]*$/);T&&(P-=T[0].length);break}case"deleteWordForward":{const T=A.substring(k).match(/^[^\w]*\w*/);T&&(D+=T[0].length);break}case"deleteContentBackward":k===L&&(P-=1);break;case"deleteContentForward":k===L&&(D+=1);break}E.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,change:x||"",willCommit:!1,selStart:P,selEnd:D}})}),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.value)}if(v&&r.addEventListener("blur",v),this.data.comb){const E=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${E}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class hMe extends Ag{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class fMe extends Ag{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let s=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(r,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return hg.add(i),i.setAttribute("data-element-id",r),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=0,i.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,r)){const h=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=h),e.setValue(u.id,{value:h})}e.setValue(r,{value:l})}),i.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class cee extends Ag{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let s=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(r,{value:s})),s)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const i=document.createElement("input");if(hg.add(i),i.setAttribute("data-element-id",r),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.tabIndex=0,i.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),i.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;i.addEventListener("updatefromsandbox",a=>{const l={value:u=>{const h=o===u.detail.value;for(const p of this._getElementsByName(u.target.name)){const m=h&&p.id===r;p.domElement&&(p.domElement.checked=m),e.setValue(p.id,{value:m})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class pMe extends EU{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class mMe extends Ag{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");hg.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue;for(const m of s.options)m.selected=m.value===p});for(const h of this.data.options){const p=document.createElement("option");p.textContent=h.displayValue,p.value=h.exportValue,r.value.includes(h.exportValue)&&(p.setAttribute("selected",!0),i=!1),s.append(p)}let o=null;if(i){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),s.prepend(h),o=()=>{h.remove(),s.removeEventListener("input",o),o=null},s.addEventListener("input",o)}const a=h=>{const p=h?"value":"textContent",{options:m,multiple:y}=s;return y?Array.prototype.filter.call(m,b=>b.selected).map(b=>b[p]):m.selectedIndex===-1?null:m[m.selectedIndex][p]};let l=a(!1);const u=h=>{const p=h.target.options;return Array.prototype.map.call(p,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",h=>{const p={value(m){o==null||o();const y=m.detail.value,b=new Set(Array.isArray(y)?y:[y]);for(const v of s.options)v.selected=b.has(v.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(m){s.multiple=!0},remove(m){const y=s.options,b=m.detail.remove;y[b].selected=!1,s.remove(b),y.length>0&&Array.prototype.findIndex.call(y,_=>_.selected)===-1&&(y[0].selected=!0),e.setValue(t,{value:a(!0),items:u(m)}),l=a(!1)},clear(m){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(m){const{index:y,displayValue:b,exportValue:v}=m.detail.insert,_=s.children[y],E=document.createElement("option");E.textContent=b,E.value=v,_?_.before(E):s.append(E),e.setValue(t,{value:a(!0),items:u(m)}),l=a(!1)},items(m){const{items:y}=m.detail;for(;s.length!==0;)s.remove(0);for(const b of y){const{displayValue:v,exportValue:_}=b,E=document.createElement("option");E.textContent=v,E.value=_,s.append(E)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:a(!0),items:u(m)}),l=a(!1)},indices(m){const y=new Set(m.detail.indices);for(const b of m.target.options)b.selected=y.has(b.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(p,h)}),s.addEventListener("input",h=>{var y;const p=a(!0),m=a(!1);e.setValue(t,{value:p}),h.preventDefault(),(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:m,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):s.addEventListener("input",function(h){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}var bE,IF;class RF extends yr{constructor(t){const{data:r,elements:s,parent:i}=t,o=!!i._commentManager;super(t,{isRenderable:!o&&yr._hasPopupData(r)});U(this,bE);if(this.elements=s,o&&yr._hasPopupData(r)){const a=this.popup=H(this,bE,IF).call(this);for(const l of s)l.popup=a}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const r=this.popup=H(this,bE,IF).call(this),s=[];for(const i of this.elements)i.popup=r,i.container.ariaHasPopup="dialog",s.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(i=>`${$y}${i}`).join(",")),this.container}}bE=new WeakSet,IF=function(){return new gMe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Io,Uh,bR,_R,t0,n0,Tr,mc,Vh,_m,r0,s0,gc,ko,Hu,zu,xr,Wu,Hh,_E,qu,i0,Sm,zh,ws,Wh,Dt,Lx,kF,PF,DF,Nx,MF,uee,dee,hee,fee,Fx,Bx,OF;class gMe{constructor({container:e,color:t,elements:r,titleObj:s,modificationDate:i,contentsObj:o,richText:a,parent:l,rect:u,parentRect:h,open:p,commentManager:m=null}){U(this,Dt);U(this,Io,null);U(this,Uh,H(this,Dt,hee).bind(this));U(this,bR,H(this,Dt,OF).bind(this));U(this,_R,H(this,Dt,Bx).bind(this));U(this,t0,H(this,Dt,Fx).bind(this));U(this,n0,null);U(this,Tr,null);U(this,mc,null);U(this,Vh,null);U(this,_m,null);U(this,r0,null);U(this,s0,null);U(this,gc,!1);U(this,ko,null);U(this,Hu,null);U(this,zu,null);U(this,xr,null);U(this,Wu,null);U(this,Hh,null);U(this,_E,null);U(this,qu,null);U(this,i0,null);U(this,Sm,null);U(this,zh,!1);U(this,ws,null);U(this,Wh,null);O(this,Tr,e),O(this,i0,s),O(this,mc,o),O(this,qu,a),O(this,r0,l),O(this,n0,t),O(this,_E,u),O(this,s0,h),O(this,_m,r),O(this,Io,m),O(this,ws,r[0]),O(this,Vh,KA.toDateObject(i)),this.trigger=r.flatMap(y=>y.getElementsToTriggerPopup()),m||(H(this,Dt,Lx).call(this),f(this,Tr).hidden=!0,p&&H(this,Dt,Fx).call(this))}renderCommentButton(){if(f(this,xr)){f(this,xr).parentNode||f(this,ws).container.after(f(this,xr));return}if(f(this,Wu)||H(this,Dt,kF).call(this),!f(this,Wu))return;const{signal:e}=O(this,Hu,new AbortController),t=f(this,ws).hasOwnCommentButton,r=()=>{f(this,Io).toggleCommentPopup(this,!0,void 0,!t)},s=()=>{f(this,Io).toggleCommentPopup(this,!1,!0,!t)},i=()=>{f(this,Io).toggleCommentPopup(this,!1,!1)};if(t){O(this,xr,f(this,ws).container);for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",f(this,Uh),{signal:e}),o.addEventListener("click",r,{signal:e}),o.addEventListener("pointerenter",s,{signal:e}),o.addEventListener("pointerleave",i,{signal:e}),o.classList.add("popupTriggerArea")}else{const o=O(this,xr,document.createElement("button"));o.className="annotationCommentButton";const a=f(this,ws).container;o.style.zIndex=a.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),H(this,Dt,DF).call(this),H(this,Dt,PF).call(this),o.addEventListener("keydown",f(this,Uh),{signal:e}),o.addEventListener("click",r,{signal:e}),o.addEventListener("pointerenter",s,{signal:e}),o.addEventListener("pointerleave",i,{signal:e}),a.after(o)}}get commentButtonColor(){const{color:e,opacity:t}=f(this,ws).commentData;return e?f(this,r0)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=f(this,xr))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:r,creationDate:s,modificationDate:i}=f(this,ws).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:r,creationDate:s,modificationDate:i}}get elementBeforePopup(){return f(this,xr)}get comment(){return f(this,Wh)||O(this,Wh,f(this,ws).commentText),f(this,Wh)}set comment(e){e!==this.comment&&(f(this,ws).commentText=O(this,Wh,e))}focus(){var e;(e=f(this,ws).container)==null||e.focus()}get parentBoundingClientRect(){return f(this,ws).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){f(this,xr)&&(f(this,xr).classList.toggle("selected",e),f(this,xr).ariaExpanded=t)}setSelectedCommentButton(e){f(this,xr).classList.toggle("selected",e)}get commentPopupPosition(){if(f(this,Hh))return f(this,Hh);const{x:e,y:t,height:r}=f(this,xr).getBoundingClientRect(),{x:s,y:i,width:o,height:a}=f(this,ws).layer.getBoundingClientRect();return[(e-s)/o,(t+r-i)/a]}set commentPopupPosition(e){O(this,Hh,e)}hasDefaultPopupPosition(){return f(this,Hh)===null}get commentButtonPosition(){return f(this,Wu)}get commentButtonWidth(){return f(this,xr).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,r]=f(this,Hh)||this.commentButtonPosition.map(u=>u/100),s=this.parentBoundingClientRect,{x:i,y:o,width:a,height:l}=s;f(this,Io).showDialog(null,this,i+t*a,o+r*l,{...e,parentDimensions:s})}render(){var r,s;if(f(this,ko))return;const e=O(this,ko,document.createElement("div"));if(e.className="popup",f(this,n0)){const i=e.style.outlineColor=Ke.makeHexColor(...f(this,n0));e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const t=document.createElement("span");if(t.className="header",(r=f(this,i0))!=null&&r.str){const i=document.createElement("span");i.className="title",t.append(i),{dir:i.dir,str:i.textContent}=f(this,i0)}if(e.append(t),f(this,Vh)){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:f(this,Vh).valueOf()})),i.dateTime=f(this,Vh).toISOString(),t.append(i)}eZ({html:f(this,Dt,Nx)||f(this,mc).str,dir:(s=f(this,mc))==null?void 0:s.dir,className:"popupContent"},e),f(this,Tr).append(e)}updateEdited({rect:e,popup:t,deleted:r}){var s;if(f(this,Io)){r?(this.remove(),O(this,Wh,null)):t&&(t.deleted?this.remove():(H(this,Dt,DF).call(this),O(this,Wh,t.text))),e&&(O(this,Wu,null),H(this,Dt,kF).call(this),H(this,Dt,PF).call(this));return}if(r||t!=null&&t.deleted){this.remove();return}H(this,Dt,Lx).call(this),f(this,Sm)||O(this,Sm,{contentsObj:f(this,mc),richText:f(this,qu)}),e&&O(this,zu,null),t&&t.text&&(O(this,qu,H(this,Dt,dee).call(this,t.text)),O(this,Vh,KA.toDateObject(t.date)),O(this,mc,null)),(s=f(this,ko))==null||s.remove(),O(this,ko,null)}resetEdited(){var e;f(this,Sm)&&({contentsObj:es(this,mc)._,richText:es(this,qu)._}=f(this,Sm),O(this,Sm,null),(e=f(this,ko))==null||e.remove(),O(this,ko,null),O(this,zu,null))}remove(){var e,t,r;if((e=f(this,Hu))==null||e.abort(),O(this,Hu,null),(t=f(this,ko))==null||t.remove(),O(this,ko,null),O(this,zh,!1),O(this,gc,!1),(r=f(this,xr))==null||r.remove(),O(this,xr,null),this.trigger)for(const s of this.trigger)s.classList.remove("popupTriggerArea")}forceHide(){O(this,zh,this.isVisible),f(this,zh)&&(f(this,Tr).hidden=!0)}maybeShow(){f(this,Io)||(H(this,Dt,Lx).call(this),f(this,zh)&&(f(this,ko)||H(this,Dt,Bx).call(this),O(this,zh,!1),f(this,Tr).hidden=!1))}get isVisible(){return f(this,Io)?!1:f(this,Tr).hidden===!1}}Io=new WeakMap,Uh=new WeakMap,bR=new WeakMap,_R=new WeakMap,t0=new WeakMap,n0=new WeakMap,Tr=new WeakMap,mc=new WeakMap,Vh=new WeakMap,_m=new WeakMap,r0=new WeakMap,s0=new WeakMap,gc=new WeakMap,ko=new WeakMap,Hu=new WeakMap,zu=new WeakMap,xr=new WeakMap,Wu=new WeakMap,Hh=new WeakMap,_E=new WeakMap,qu=new WeakMap,i0=new WeakMap,Sm=new WeakMap,zh=new WeakMap,ws=new WeakMap,Wh=new WeakMap,Dt=new WeakSet,Lx=function(){var t;if(f(this,Hu))return;O(this,Hu,new AbortController);const{signal:e}=f(this,Hu);for(const r of this.trigger)r.addEventListener("click",f(this,t0),{signal:e}),r.addEventListener("pointerenter",f(this,_R),{signal:e}),r.addEventListener("pointerleave",f(this,bR),{signal:e}),r.classList.add("popupTriggerArea");for(const r of f(this,_m))(t=r.container)==null||t.addEventListener("keydown",f(this,Uh),{signal:e})},kF=function(){const e=f(this,_m).find(t=>t.hasCommentButton);e&&O(this,Wu,e._normalizePoint(e.commentButtonPosition))},PF=function(){if(f(this,ws).extraPopupElement&&!f(this,ws).editor)return;f(this,xr)||this.renderCommentButton();const[e,t]=f(this,Wu),{style:r}=f(this,xr);r.left=`calc(${e}%)`,r.top=`calc(${t}% - var(--comment-button-dim))`},DF=function(){f(this,ws).extraPopupElement||(f(this,xr)||this.renderCommentButton(),f(this,xr).style.backgroundColor=this.commentButtonColor||"")},Nx=function(){const e=f(this,qu),t=f(this,mc);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&f(this,qu).html||null},MF=function(){var e,t,r;return((r=(t=(e=f(this,Dt,Nx))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},uee=function(){var e,t,r;return((r=(t=(e=f(this,Dt,Nx))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},dee=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:f(this,Dt,uee),fontSize:f(this,Dt,MF)?`calc(${f(this,Dt,MF)}px * var(--total-scale-factor))`:""}};for(const i of e.split(`
`))t.push({name:"span",value:i,attributes:s});return r},hee=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&f(this,gc))&&H(this,Dt,Fx).call(this)},fee=function(){if(f(this,zu)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:s,pageY:i}}}=f(this,r0);let o=!!f(this,s0),a=o?f(this,s0):f(this,_E);for(const b of f(this,_m))if(!a||Ke.intersect(b.data.rect,a)!==null){a=b.data.rect,o=!0;break}const l=Ke.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),h=o?a[2]-a[0]+5:0,p=l[0]+h,m=l[1];O(this,zu,[100*(p-s)/t,100*(m-i)/r]);const{style:y}=f(this,Tr);y.left=`${f(this,zu)[0]}%`,y.top=`${f(this,zu)[1]}%`},Fx=function(){if(f(this,Io)){f(this,Io).toggleCommentPopup(this,!1);return}O(this,gc,!f(this,gc)),f(this,gc)?(H(this,Dt,Bx).call(this),f(this,Tr).addEventListener("click",f(this,t0)),f(this,Tr).addEventListener("keydown",f(this,Uh))):(H(this,Dt,OF).call(this),f(this,Tr).removeEventListener("click",f(this,t0)),f(this,Tr).removeEventListener("keydown",f(this,Uh)))},Bx=function(){f(this,ko)||this.render(),this.isVisible?f(this,gc)&&f(this,Tr).classList.add("focused"):(H(this,Dt,fee).call(this),f(this,Tr).hidden=!1,f(this,Tr).style.zIndex=parseInt(f(this,Tr).style.zIndex)+1e3)},OF=function(){f(this,Tr).classList.remove("focused"),!(f(this,gc)||!this.isVisible)&&(f(this,Tr).hidden=!0,f(this,Tr).style.zIndex=parseInt(f(this,Tr).style.zIndex)-1e3)};class pee extends yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ct.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var SE;class yMe extends yr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});U(this,SE,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:r,height:s}=this,i=this.svgFactory.create(r,s,!0),o=O(this,SE,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,SE)}addHighlightArea(){this.container.classList.add("highlightArea")}}SE=new WeakMap;var EE;class vMe extends yr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});U(this,EE,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:r,height:s}=this,i=this.svgFactory.create(r,s,!0),o=t.borderStyle.width,a=O(this,EE,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",s-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,EE)}addHighlightArea(){this.container.classList.add("highlightArea")}}EE=new WeakMap;var CE;class wMe extends yr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});U(this,CE,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:r,height:s}=this,i=this.svgFactory.create(r,s,!0),o=t.borderStyle.width,a=O(this,CE,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",s/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",s/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,CE)}addHighlightArea(){this.container.classList.add("highlightArea")}}CE=new WeakMap;var TE;class mee extends yr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});U(this,TE,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:s,popupRef:i},width:o,height:a}=this;if(!r)return this.container;const l=this.svgFactory.create(o,a,!0);let u=[];for(let p=0,m=r.length;p<m;p+=2){const y=r[p]-t[0],b=t[3]-r[p+1];u.push(`${y},${b}`)}u=u.join(" ");const h=O(this,TE,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",u),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!i&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,TE)}addHighlightArea(){this.container.classList.add("highlightArea")}}TE=new WeakMap;class bMe extends mee{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class _Me extends yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var xE,Em,AE,LF;class CU extends yr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});U(this,AE);U(this,xE,null);U(this,Em,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ct.HIGHLIGHT:Ct.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:s,borderStyle:i,popupRef:o}}=this,{transform:a,width:l,height:u}=H(this,AE,LF).call(this,r,t),h=this.svgFactory.create(l,u,!0),p=O(this,xE,this.svgFactory.createElement("svg:g"));h.append(p),p.setAttribute("stroke-width",i.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",a);for(let m=0,y=s.length;m<y;m++){const b=this.svgFactory.createElement(this.svgElementName);f(this,Em).push(b),b.setAttribute("points",s[m].join(",")),p.append(b)}return!o&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:s,rect:i}=t,o=f(this,xE);if(r>=0&&o.setAttribute("stroke-width",r||1),s)for(let a=0,l=f(this,Em).length;a<l;a++)f(this,Em)[a].setAttribute("points",s[a].join(","));if(i){const{transform:a,width:l,height:u}=H(this,AE,LF).call(this,this.data.rotation,i);o.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return f(this,Em)}addHighlightArea(){this.container.classList.add("highlightArea")}}xE=new WeakMap,Em=new WeakMap,AE=new WeakSet,LF=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class gee extends yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ct.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class SMe extends yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class EMe extends yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class CMe extends yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class yee extends yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ct.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var RE,IE,NF;class TMe extends yr{constructor(t){var s;super(t,{isRenderable:!0});U(this,IE);U(this,RE,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let s;r.hasAppearance||r.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),s.addEventListener("dblclick",H(this,IE,NF).bind(this)),O(this,RE,s);const{isMac:i}=Ws.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(i?o.metaKey:o.ctrlKey)&&H(this,IE,NF).call(this)}),!r.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return f(this,RE)}addHighlightArea(){this.container.classList.add("highlightArea")}}RE=new WeakMap,IE=new WeakSet,NF=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Cm,Tm,o0,qh,kE,xm,Po,PE,pd,$x,BF;const NU=class NU{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:s,page:i,viewport:o,structTreeLayer:a,commentManager:l,linkService:u,annotationStorage:h}){U(this,pd);U(this,Cm,null);U(this,Tm,null);U(this,o0,null);U(this,qh,new Map);U(this,kE,null);U(this,xm,null);U(this,Po,[]);U(this,PE,!1);this.div=e,O(this,Cm,t),O(this,Tm,r),O(this,kE,a||null),O(this,xm,u||null),O(this,o0,h||new bU),this.page=i,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=s,this._commentManager=l||null}hasEditableAnnotations(){return f(this,qh).size>0}async render(e){var a;const{annotations:t}=e,r=this.div;ug(r,this.viewport);const s=new Map,i=[],o={data:null,layer:r,linkService:f(this,xm),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new nR,annotationStorage:f(this,o0),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===Wr.POPUP;if(u){const m=s.get(l.id);if(!m)continue;if(!this._commentManager){i.push(l);continue}o.elements=m}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;o.data=l;const h=wL.create(o);if(!h.isRenderable)continue;if(!u&&(f(this,Po).push(h),l.popupRef)){const m=s.get(l.popupRef);m?m.push(h):s.set(l.popupRef,[h])}const p=h.render();l.hidden&&(p.style.visibility="hidden"),h._isEditable&&(f(this,qh).set(h.data.id,h),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(h))}await H(this,pd,$x).call(this);for(const l of i){const u=o.elements=s.get(l.id);o.data=l;const h=wL.create(o);if(!h.isRenderable)continue;const p=h.render();h.contentElement.id=`${$y}${l.id}`,l.hidden&&(p.style.visibility="hidden"),u.at(-1).container.after(p)}H(this,pd,BF).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:f(this,xm),svgFactory:new nR,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=NU._defaultBorderStyle),t.data=r;const s=wL.create(t);s.isRenderable&&(s.render(),s.contentElement.id=`${$y}${r.id}`,f(this,Po).push(s))}await H(this,pd,$x).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,ug(t,{rotation:e.rotation}),H(this,pd,BF).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(f(this,qh).values())}getEditableAnnotation(e){return f(this,qh).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:r,rotation:s}=e,i=new cMe({data:{id:r,rect:e.getPDFRect(),rotation:s},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:f(this,xm),annotationStorage:f(this,o0)});return i.render(),i.contentElement.id=`${$y}${r}`,i.createOrUpdatePopup(),f(this,Po).push(i),i}removeAnnotation(e){var s;const t=f(this,Po).findIndex(i=>i.data.id===e);if(t<0)return;const[r]=f(this,Po).splice(t,1);(s=f(this,Cm))==null||s.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);H(this,pd,$x).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return It(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Ry.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};Cm=new WeakMap,Tm=new WeakMap,o0=new WeakMap,qh=new WeakMap,kE=new WeakMap,xm=new WeakMap,Po=new WeakMap,PE=new WeakMap,pd=new WeakSet,$x=async function(){var r,s,i;if(f(this,Po).length===0)return;this.div.replaceChildren();const e=[];if(!f(this,PE)){O(this,PE,!0);for(const{contentElement:o,data:{id:a}}of f(this,Po)){const l=o.id=`${$y}${a}`;e.push((r=f(this,kE))==null?void 0:r.getAriaAttributes(l).then(u=>{if(u)for(const[h,p]of u)o.setAttribute(h,p)}))}}f(this,Po).sort(({data:{rect:[o,a,l,u]}},{data:{rect:[h,p,m,y]}})=>{if(o===l&&a===u)return 1;if(h===m&&p===y)return-1;const b=u,v=a,_=(a+u)/2,E=y,x=p,C=(p+y)/2;if(_>=E&&C<=v)return-1;if(C>=b&&_<=x)return 1;const A=(o+l)/2,k=(h+m)/2;return A-k});const t=document.createDocumentFragment();for(const o of f(this,Po))t.append(o.container),this._commentManager?(i=((s=o.extraPopupElement)==null?void 0:s.popup)||o.popup)==null||i.renderCommentButton():o.extraPopupElement&&t.append(o.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),f(this,Cm))for(const o of f(this,Po))f(this,Cm).addPointerInTextLayer(o.contentElement,!1)},BF=function(){var t;if(!f(this,Tm))return;const e=this.div;for(const[r,s]of f(this,Tm)){const i=e.querySelector(`[data-annotation-id="${r}"]`);if(!i)continue;s.className="annotationContent";const{firstChild:o}=i;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):i.append(s);const a=f(this,qh).get(r);a&&(a._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(r,i.id,s),a._hasNoCanvas=!1):a.canvas=s)}f(this,Tm).clear()};let FF=NU;const UT=/\r\n?|\n/g;var Do,DE,Am,Mo,Yr,vee,wee,bee,jx,md,Ux,Vx,_ee,jF,See;const Jn=class Jn extends Wn{constructor(t){super({...t,name:"freeTextEditor"});U(this,Yr);U(this,Do,"");U(this,DE,`${this.id}-editor`);U(this,Am,null);U(this,Mo);Ee(this,"_colorPicker",null);this.color=t.color||Jn._defaultColor||Wn._defaultLineColor,O(this,Mo,t.fontSize||Jn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=Jn.prototype,r=o=>o.isEmpty(),s=dg.TRANSLATE_SMALL,i=dg.TRANSLATE_BIG;return It(this,"_keyboardManager",new j1([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}]]))}static initialize(t,r){Wn.initialize(t,r);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case Jt.FREETEXT_SIZE:Jn._defaultFontSize=r;break;case Jt.FREETEXT_COLOR:Jn._defaultColor=r;break}}updateParams(t,r){switch(t){case Jt.FREETEXT_SIZE:H(this,Yr,vee).call(this,r);break;case Jt.FREETEXT_COLOR:H(this,Yr,wee).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Jt.FREETEXT_SIZE,Jn._defaultFontSize],[Jt.FREETEXT_COLOR,Jn._defaultColor||Wn._defaultLineColor]]}get propertiesToUpdate(){return[[Jt.FREETEXT_SIZE,f(this,Mo)],[Jt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new tR(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Jt.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Jn._internalPadding*t,-(Jn._internalPadding+f(this,Mo))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),O(this,Am,new AbortController);const t=this._uiManager.combinedSignal(f(this,Am));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,DE)),this._isDraggable=!0,(t=f(this,Am))==null||t.abort(),O(this,Am,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=f(this,Do),r=O(this,Do,H(this,Yr,bee).call(this).trimEnd());if(t===r)return;const s=i=>{if(O(this,Do,i),!i){this.remove();return}H(this,Yr,Vx).call(this),this._uiManager.rebuild(this),H(this,Yr,jx).call(this)};this.addCommands({cmd:()=>{s(r)},undo:()=>{s(t)},mustExec:!1}),H(this,Yr,jx).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Jn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,r;(this._isCopy||this.annotationElementId)&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,DE)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${f(this,Mo)}px * var(--total-scale-factor))`,s.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[h,p]=this.pageDimensions,[m,y]=this.pageTranslation;let b,v;switch(this.rotation){case 0:b=t+(a[0]-m)/h,v=r+this.height-(a[1]-y)/p;break;case 90:b=t+(a[0]-m)/h,v=r-(a[1]-y)/p,[l,u]=[u,-l];break;case 180:b=t-this.width+(a[0]-m)/h,v=r-(a[1]-y)/p,[l,u]=[-l,-u];break;case 270:b=t+(a[0]-m-this.height*p)/h,v=r+(a[1]-y-this.width*h)/p,[l,u]=[-u,l];break}this.setAt(b*i,v*o,l,u)}else this._moveAfterPaste(t,r);H(this,Yr,Vx).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,v,_;const r=t.clipboardData||window.clipboardData,{types:s}=r;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const i=H(b=Jn,md,jF).call(b,r.getData("text")||"").replaceAll(UT,`
`);if(!i)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!i.includes(`
`)){a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:u}=a,h=[],p=[];if(l.nodeType===Node.TEXT_NODE){const E=l.parentElement;if(p.push(l.nodeValue.slice(u).replaceAll(UT,"")),E!==this.editorDiv){let x=h;for(const C of this.editorDiv.childNodes){if(C===E){x=p;continue}x.push(H(v=Jn,md,Ux).call(v,C))}}h.push(l.nodeValue.slice(0,u).replaceAll(UT,""))}else if(l===this.editorDiv){let E=h,x=0;for(const C of this.editorDiv.childNodes)x++===u&&(E=p),E.push(H(_=Jn,md,Ux).call(_,C))}O(this,Do,`${h.join(`
`)}${i}${p.join(`
`)}`),H(this,Yr,Vx).call(this);const m=new Range;let y=Math.sumPrecise(h.map(E=>E.length));for(const{firstChild:E}of this.editorDiv.childNodes)if(E.nodeType===Node.TEXT_NODE){const x=E.nodeValue.length;if(y<=x){m.setStart(E,y),m.setEnd(E,y);break}y-=x}o.removeAllRanges(),o.addRange(m)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Jn._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,r,s){var a;let i=null;if(t instanceof pee){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:h,rotation:p,id:m,popupRef:y,richText:b,contentsObj:v,creationDate:_,modificationDate:E},textContent:x,textPosition:C,parent:{page:{pageNumber:A}}}=t;if(!x||x.length===0)return null;i=t={annotationType:Ct.FREETEXT,color:Array.from(u),fontSize:l,value:x.join(`
`),position:C,pageIndex:A-1,rect:h.slice(0),rotation:p,annotationElementId:m,id:m,deleted:!1,popupRef:y,comment:(v==null?void 0:v.str)||null,richText:b,creationDate:_,modificationDate:E}}const o=await super.deserialize(t,r,s);return O(o,Mo,t.fontSize),o.color=Ke.makeHexColor(...t.color),O(o,Do,H(a=Jn,md,jF).call(a,t.value)),o._initialData=i,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Wn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),s=Object.assign(super.serialize(t),{color:r,fontSize:f(this,Mo),value:H(this,Yr,_ee).call(this)});return this.addComment(s),t?(s.isCopy=!0,s):this.annotationElementId&&!H(this,Yr,See).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(!r)return null;const{style:s}=r;s.fontSize=`calc(${f(this,Mo)}px * var(--total-scale-factor))`,s.color=this.color,r.replaceChildren();for(const i of f(this,Do).split(`
`)){const o=document.createElement("div");o.append(i?document.createTextNode(i):document.createElement("br")),r.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:f(this,Do)}}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Do=new WeakMap,DE=new WeakMap,Am=new WeakMap,Mo=new WeakMap,Yr=new WeakSet,vee=function(t){const r=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-f(this,Mo))*this.parentScale),O(this,Mo,i),H(this,Yr,jx).call(this)},s=f(this,Mo);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Jt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},wee=function(t){const r=i=>{this.color=i,this.onUpdatedColor()},s=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Jt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},bee=function(){var s;const t=[];this.editorDiv.normalize();let r=null;for(const i of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(H(s=Jn,md,Ux).call(s,i)),r=i);return t.join(`
`)},jx=function(){const[t,r]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:i,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",i.div.append(this.div),s=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/r):(this.width=s.height/t,this.height=s.width/r),this.fixAndSetPosition()},md=new WeakSet,Ux=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(UT,"")},Vx=function(){if(this.editorDiv.replaceChildren(),!!f(this,Do))for(const t of f(this,Do).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},_ee=function(){return f(this,Do).replaceAll(""," ")},jF=function(t){return t.replaceAll(" ","")},See=function(t){const{value:r,fontSize:s,color:i,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==r||t.fontSize!==s||t.color.some((a,l)=>a!==i[l])||t.pageIndex!==o},U(Jn,md),Ee(Jn,"_freeTextDefaultContent",""),Ee(Jn,"_internalPadding",0),Ee(Jn,"_defaultColor",null),Ee(Jn,"_defaultFontSize",10),Ee(Jn,"_type","freetext"),Ee(Jn,"_editorType",Ct.FREETEXT);let $F=Jn;class ze{toSVGPath(){jn("Abstract method `toSVGPath` must be implemented.")}get box(){jn("Abstract getter `box` must be implemented.")}serialize(e,t){jn("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,s,i,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a]*s,o[a+1]=r+e[a+1]*i;return o}static _rescaleAndSwap(e,t,r,s,i,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a+1]*s,o[a+1]=r+e[a]*i;return o}static _translate(e,t,r,s){s||(s=new Float32Array(e.length));for(let i=0,o=e.length;i<o;i+=2)s[i]=t+e[i],s[i+1]=r+e[i+1];return s}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,s,i){switch(i){case 90:return[1-t/r,e/s];case 180:return[1-e/r,1-t/s];case 270:return[t/r,1-e/s];default:return[e/r,t/s]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,s,i,o){return[(e+5*r)/6,(t+5*s)/6,(5*r+i)/6,(5*s+o)/6,(r+i)/2,(s+o)/2]}}Ee(ze,"PRECISION",1e-4);var Oo,yl,a0,l0,yc,Bt,Rm,Im,ME,OE,c0,u0,Gh,LE,SR,ER,ls,n_,Eee,Cee,Tee,xee,Aee,Ree;const wu=class wu{constructor({x:e,y:t},r,s,i,o,a=0){U(this,ls);U(this,Oo);U(this,yl,[]);U(this,a0);U(this,l0);U(this,yc,[]);U(this,Bt,new Float32Array(18));U(this,Rm);U(this,Im);U(this,ME);U(this,OE);U(this,c0);U(this,u0);U(this,Gh,[]);O(this,Oo,r),O(this,u0,i*s),O(this,l0,o),f(this,Bt).set([NaN,NaN,NaN,NaN,e,t],6),O(this,a0,a),O(this,OE,f(wu,LE)*s),O(this,ME,f(wu,ER)*s),O(this,c0,s),f(this,Gh).push(e,t)}isEmpty(){return isNaN(f(this,Bt)[8])}add({x:e,y:t}){var F;O(this,Rm,e),O(this,Im,t);const[r,s,i,o]=f(this,Oo);let[a,l,u,h]=f(this,Bt).subarray(8,12);const p=e-u,m=t-h,y=Math.hypot(p,m);if(y<f(this,ME))return!1;const b=y-f(this,OE),v=b/y,_=v*p,E=v*m;let x=a,C=l;a=u,l=h,u+=_,h+=E,(F=f(this,Gh))==null||F.push(e,t);const A=-E/b,k=_/b,L=A*f(this,u0),P=k*f(this,u0);return f(this,Bt).set(f(this,Bt).subarray(2,8),0),f(this,Bt).set([u+L,h+P],4),f(this,Bt).set(f(this,Bt).subarray(14,18),12),f(this,Bt).set([u-L,h-P],16),isNaN(f(this,Bt)[6])?(f(this,yc).length===0&&(f(this,Bt).set([a+L,l+P],2),f(this,yc).push(NaN,NaN,NaN,NaN,(a+L-r)/i,(l+P-s)/o),f(this,Bt).set([a-L,l-P],14),f(this,yl).push(NaN,NaN,NaN,NaN,(a-L-r)/i,(l-P-s)/o)),f(this,Bt).set([x,C,a,l,u,h],6),!this.isEmpty()):(f(this,Bt).set([x,C,a,l,u,h],6),Math.abs(Math.atan2(C-l,x-a)-Math.atan2(E,_))<Math.PI/2?([a,l,u,h]=f(this,Bt).subarray(2,6),f(this,yc).push(NaN,NaN,NaN,NaN,((a+u)/2-r)/i,((l+h)/2-s)/o),[a,l,x,C]=f(this,Bt).subarray(14,18),f(this,yl).push(NaN,NaN,NaN,NaN,((x+a)/2-r)/i,((C+l)/2-s)/o),!0):([x,C,a,l,u,h]=f(this,Bt).subarray(0,6),f(this,yc).push(((x+5*a)/6-r)/i,((C+5*l)/6-s)/o,((5*a+u)/6-r)/i,((5*l+h)/6-s)/o,((a+u)/2-r)/i,((l+h)/2-s)/o),[u,h,a,l,x,C]=f(this,Bt).subarray(12,18),f(this,yl).push(((x+5*a)/6-r)/i,((C+5*l)/6-s)/o,((5*a+u)/6-r)/i,((5*l+h)/6-s)/o,((a+u)/2-r)/i,((l+h)/2-s)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=f(this,yc),t=f(this,yl);if(isNaN(f(this,Bt)[6])&&!this.isEmpty())return H(this,ls,Eee).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?r.push(`L${e[s+4]} ${e[s+5]}`):r.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);H(this,ls,Tee).call(this,r);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?r.push(`L${t[s+4]} ${t[s+5]}`):r.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return H(this,ls,Cee).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,s,i,o){return new Iee(e,t,r,s,i,o)}getOutlines(){var p;const e=f(this,yc),t=f(this,yl),r=f(this,Bt),[s,i,o,a]=f(this,Oo),l=new Float32Array((((p=f(this,Gh))==null?void 0:p.length)??0)+2);for(let m=0,y=l.length-2;m<y;m+=2)l[m]=(f(this,Gh)[m]-s)/o,l[m+1]=(f(this,Gh)[m+1]-i)/a;if(l[l.length-2]=(f(this,Rm)-s)/o,l[l.length-1]=(f(this,Im)-i)/a,isNaN(r[6])&&!this.isEmpty())return H(this,ls,xee).call(this,l);const u=new Float32Array(f(this,yc).length+24+f(this,yl).length);let h=e.length;for(let m=0;m<h;m+=2){if(isNaN(e[m])){u[m]=u[m+1]=NaN;continue}u[m]=e[m],u[m+1]=e[m+1]}h=H(this,ls,Ree).call(this,u,h);for(let m=t.length-6;m>=6;m-=6)for(let y=0;y<6;y+=2){if(isNaN(t[m+y])){u[h]=u[h+1]=NaN,h+=2;continue}u[h]=t[m+y],u[h+1]=t[m+y+1],h+=2}return H(this,ls,Aee).call(this,u,h),this.newFreeDrawOutline(u,l,f(this,Oo),f(this,c0),f(this,a0),f(this,l0))}};Oo=new WeakMap,yl=new WeakMap,a0=new WeakMap,l0=new WeakMap,yc=new WeakMap,Bt=new WeakMap,Rm=new WeakMap,Im=new WeakMap,ME=new WeakMap,OE=new WeakMap,c0=new WeakMap,u0=new WeakMap,Gh=new WeakMap,LE=new WeakMap,SR=new WeakMap,ER=new WeakMap,ls=new WeakSet,n_=function(){const e=f(this,Bt).subarray(4,6),t=f(this,Bt).subarray(16,18),[r,s,i,o]=f(this,Oo);return[(f(this,Rm)+(e[0]-t[0])/2-r)/i,(f(this,Im)+(e[1]-t[1])/2-s)/o,(f(this,Rm)+(t[0]-e[0])/2-r)/i,(f(this,Im)+(t[1]-e[1])/2-s)/o]},Eee=function(){const[e,t,r,s]=f(this,Oo),[i,o,a,l]=H(this,ls,n_).call(this);return`M${(f(this,Bt)[2]-e)/r} ${(f(this,Bt)[3]-t)/s} L${(f(this,Bt)[4]-e)/r} ${(f(this,Bt)[5]-t)/s} L${i} ${o} L${a} ${l} L${(f(this,Bt)[16]-e)/r} ${(f(this,Bt)[17]-t)/s} L${(f(this,Bt)[14]-e)/r} ${(f(this,Bt)[15]-t)/s} Z`},Cee=function(e){const t=f(this,yl);e.push(`L${t[4]} ${t[5]} Z`)},Tee=function(e){const[t,r,s,i]=f(this,Oo),o=f(this,Bt).subarray(4,6),a=f(this,Bt).subarray(16,18),[l,u,h,p]=H(this,ls,n_).call(this);e.push(`L${(o[0]-t)/s} ${(o[1]-r)/i} L${l} ${u} L${h} ${p} L${(a[0]-t)/s} ${(a[1]-r)/i}`)},xee=function(e){const t=f(this,Bt),[r,s,i,o]=f(this,Oo),[a,l,u,h]=H(this,ls,n_).call(this),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-r)/i,(t[3]-s)/o,NaN,NaN,NaN,NaN,(t[4]-r)/i,(t[5]-s)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,(t[16]-r)/i,(t[17]-s)/o,NaN,NaN,NaN,NaN,(t[14]-r)/i,(t[15]-s)/o],0),this.newFreeDrawOutline(p,e,f(this,Oo),f(this,c0),f(this,a0),f(this,l0))},Aee=function(e,t){const r=f(this,yl);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},Ree=function(e,t){const r=f(this,Bt).subarray(4,6),s=f(this,Bt).subarray(16,18),[i,o,a,l]=f(this,Oo),[u,h,p,m]=H(this,ls,n_).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-i)/a,(r[1]-o)/l,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(s[0]-i)/a,(s[1]-o)/l],t),t+=24},U(wu,LE,8),U(wu,SR,2),U(wu,ER,f(wu,LE)+f(wu,SR));let rR=wu;var d0,km,Gu,NE,Lo,FE,Nr,CR,kee;class Iee extends ze{constructor(t,r,s,i,o,a){super();U(this,CR);U(this,d0);U(this,km,new Float32Array(4));U(this,Gu);U(this,NE);U(this,Lo);U(this,FE);U(this,Nr);O(this,Nr,t),O(this,Lo,r),O(this,d0,s),O(this,FE,i),O(this,Gu,o),O(this,NE,a),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],H(this,CR,kee).call(this,a);const[l,u,h,p]=f(this,km);for(let m=0,y=t.length;m<y;m+=2)t[m]=(t[m]-l)/h,t[m+1]=(t[m+1]-u)/p;for(let m=0,y=r.length;m<y;m+=2)r[m]=(r[m]-l)/h,r[m+1]=(r[m+1]-u)/p}toSVGPath(){const t=[`M${f(this,Nr)[4]} ${f(this,Nr)[5]}`];for(let r=6,s=f(this,Nr).length;r<s;r+=6){if(isNaN(f(this,Nr)[r])){t.push(`L${f(this,Nr)[r+4]} ${f(this,Nr)[r+5]}`);continue}t.push(`C${f(this,Nr)[r]} ${f(this,Nr)[r+1]} ${f(this,Nr)[r+2]} ${f(this,Nr)[r+3]} ${f(this,Nr)[r+4]} ${f(this,Nr)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,s,i],o){const a=s-t,l=i-r;let u,h;switch(o){case 0:u=ze._rescale(f(this,Nr),t,i,a,-l),h=ze._rescale(f(this,Lo),t,i,a,-l);break;case 90:u=ze._rescaleAndSwap(f(this,Nr),t,r,a,l),h=ze._rescaleAndSwap(f(this,Lo),t,r,a,l);break;case 180:u=ze._rescale(f(this,Nr),s,r,-a,l),h=ze._rescale(f(this,Lo),s,r,-a,l);break;case 270:u=ze._rescaleAndSwap(f(this,Nr),s,i,-a,-l),h=ze._rescaleAndSwap(f(this,Lo),s,i,-a,-l);break}return{outline:Array.from(u),points:[Array.from(h)]}}get box(){return f(this,km)}newOutliner(t,r,s,i,o,a=0){return new rR(t,r,s,i,o,a)}getNewOutline(t,r){const[s,i,o,a]=f(this,km),[l,u,h,p]=f(this,d0),m=o*h,y=a*p,b=s*h+l,v=i*p+u,_=this.newOutliner({x:f(this,Lo)[0]*m+b,y:f(this,Lo)[1]*y+v},f(this,d0),f(this,FE),t,f(this,NE),r??f(this,Gu));for(let E=2;E<f(this,Lo).length;E+=2)_.add({x:f(this,Lo)[E]*m+b,y:f(this,Lo)[E+1]*y+v});return _.getOutlines()}}d0=new WeakMap,km=new WeakMap,Gu=new WeakMap,NE=new WeakMap,Lo=new WeakMap,FE=new WeakMap,Nr=new WeakMap,CR=new WeakSet,kee=function(t){const r=f(this,Nr);let s=r[4],i=r[5];const o=[s,i,s,i];let a=s,l=i,u=s,h=i;const p=t?Math.max:Math.min,m=new Float32Array(4);for(let b=6,v=r.length;b<v;b+=6){const _=r[b+4],E=r[b+5];isNaN(r[b])?(Ke.pointBoundingBox(_,E,o),l>E?(a=_,l=E):l===E&&(a=p(a,_)),h<E?(u=_,h=E):h===E&&(u=p(u,_))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,Ke.bezierBoundingBox(s,i,...r.slice(b,b+6),m),Ke.rectBoundingBox(m[0],m[1],m[2],m[3],o),l>m[1]?(a=m[0],l=m[1]):l===m[1]&&(a=p(a,m[0])),h<m[3]?(u=m[2],h=m[3]):h===m[3]&&(u=p(u,m[2]))),s=_,i=E}const y=f(this,km);y[0]=o[0]-f(this,Gu),y[1]=o[1]-f(this,Gu),y[2]=o[2]-o[0]+2*f(this,Gu),y[3]=o[3]-o[1]+2*f(this,Gu),this.firstPoint=[a,l],this.lastPoint=[u,h]};var BE,$E,jE,Kh,vl,Pi,Pee,Hx,Dee,Mee,VF;class UF{constructor(e,t=0,r=0,s=!0){U(this,Pi);U(this,BE);U(this,$E);U(this,jE);U(this,Kh,[]);U(this,vl,[]);const i=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:v,y:_,width:E,height:x}of e){const C=Math.floor((v-t)/o)*o,A=Math.ceil((v+E+t)/o)*o,k=Math.floor((_-t)/o)*o,L=Math.ceil((_+x+t)/o)*o,P=[C,k,L,!0],D=[A,k,L,!1];f(this,Kh).push(P,D),Ke.rectBoundingBox(C,k,A,L,i)}const a=i[2]-i[0]+2*r,l=i[3]-i[1]+2*r,u=i[0]-r,h=i[1]-r;let p=s?-1/0:1/0,m=1/0;const y=f(this,Kh).at(s?-1:-2),b=[y[0],y[2]];for(const v of f(this,Kh)){const[_,E,x,C]=v;!C&&s?E<m?(m=E,p=_):E===m&&(p=Math.max(p,_)):C&&!s&&(E<m?(m=E,p=_):E===m&&(p=Math.min(p,_))),v[0]=(_-u)/a,v[1]=(E-h)/l,v[2]=(x-h)/l}O(this,BE,new Float32Array([u,h,a,l])),O(this,$E,[p,m]),O(this,jE,b)}getOutlines(){f(this,Kh).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of f(this,Kh))t[3]?(e.push(...H(this,Pi,VF).call(this,t)),H(this,Pi,Dee).call(this,t)):(H(this,Pi,Mee).call(this,t),e.push(...H(this,Pi,VF).call(this,t)));return H(this,Pi,Pee).call(this,e)}}BE=new WeakMap,$E=new WeakMap,jE=new WeakMap,Kh=new WeakMap,vl=new WeakMap,Pi=new WeakSet,Pee=function(e){const t=[],r=new Set;for(const o of e){const[a,l,u]=o;t.push([a,l,o],[a,u,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],u=t[o+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const s=[];let i;for(;r.size>0;){const o=r.values().next().value;let[a,l,u,h,p]=o;r.delete(o);let m=a,y=l;for(i=[a,u],s.push(i);;){let b;if(r.has(h))b=h;else if(r.has(p))b=p;else break;r.delete(b),[a,l,u,h,p]=b,m!==a&&(i.push(m,y,a,y===l?l:u),m=a),y=y===l?u:l}i.push(m,y)}return new xMe(s,f(this,BE),f(this,$E),f(this,jE))},Hx=function(e){const t=f(this,vl);let r=0,s=t.length-1;for(;r<=s;){const i=r+s>>1,o=t[i][0];if(o===e)return i;o<e?r=i+1:s=i-1}return s+1},Dee=function([,e,t]){const r=H(this,Pi,Hx).call(this,e);f(this,vl).splice(r,0,[e,t])},Mee=function([,e,t]){const r=H(this,Pi,Hx).call(this,e);for(let s=r;s<f(this,vl).length;s++){const[i,o]=f(this,vl)[s];if(i!==e)break;if(i===e&&o===t){f(this,vl).splice(s,1);return}}for(let s=r-1;s>=0;s--){const[i,o]=f(this,vl)[s];if(i!==e)break;if(i===e&&o===t){f(this,vl).splice(s,1);return}}},VF=function(e){const[t,r,s]=e,i=[[t,r,s]],o=H(this,Pi,Hx).call(this,s);for(let a=0;a<o;a++){const[l,u]=f(this,vl)[a];for(let h=0,p=i.length;h<p;h++){const[,m,y]=i[h];if(!(u<=m||y<=l)){if(m>=l){if(y>u)i[h][1]=u;else{if(p===1)return[];i.splice(h,1),h--,p--}continue}i[h][2]=l,y>u&&i.push([t,u,y])}}}return i};var UE,h0;class xMe extends ze{constructor(t,r,s,i){super();U(this,UE);U(this,h0);O(this,h0,t),O(this,UE,r),this.firstPoint=s,this.lastPoint=i}toSVGPath(){const t=[];for(const r of f(this,h0)){let[s,i]=r;t.push(`M${s} ${i}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===s?(t.push(`V${l}`),i=l):l===i&&(t.push(`H${a}`),s=a)}t.push("Z")}return t.join(" ")}serialize([t,r,s,i],o){const a=[],l=s-t,u=i-r;for(const h of f(this,h0)){const p=new Array(h.length);for(let m=0;m<h.length;m+=2)p[m]=t+h[m]*l,p[m+1]=i-h[m+1]*u;a.push(p)}return a}get box(){return f(this,UE)}get classNamesForOutlining(){return["highlightOutline"]}}UE=new WeakMap,h0=new WeakMap;class HF extends rR{newFreeDrawOutline(e,t,r,s,i,o){return new AMe(e,t,r,s,i,o)}}class AMe extends Iee{newOutliner(e,t,r,s,i,o=0){return new HF(e,t,r,s,i,o)}}var f0,VE,Ku,Pm,HE,Xi,zE,WE,Dm,No,Fo,Fs,p0,m0,ai,g0,Sa,qE,Pt,zF,zx,Oee,Lee,Nee,WF,yp,Ia,Oy,Fee,Wx,qx,Bee,$ee,jee,Uee,Vee;const fn=class fn extends Wn{constructor(t){super({...t,name:"highlightEditor"});U(this,Pt);U(this,f0,null);U(this,VE,0);U(this,Ku);U(this,Pm,null);U(this,HE,null);U(this,Xi,null);U(this,zE,null);U(this,WE,0);U(this,Dm,null);U(this,No,null);U(this,Fo,null);U(this,Fs,!1);U(this,p0,null);U(this,m0,null);U(this,ai,null);U(this,g0,"");U(this,Sa);U(this,qE,"");this.color=t.color||fn._defaultColor,O(this,Sa,t.thickness||fn._defaultThickness),this.opacity=t.opacity||fn._defaultOpacity,O(this,Ku,t.boxes||null),O(this,qE,t.methodOfCreation||""),O(this,g0,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(O(this,Fs,!0),H(this,Pt,zx).call(this,t),H(this,Pt,yp).call(this)):f(this,Ku)&&(O(this,f0,t.anchorNode),O(this,VE,t.anchorOffset),O(this,zE,t.focusNode),O(this,WE,t.focusOffset),H(this,Pt,zF).call(this),H(this,Pt,yp).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=fn.prototype;return It(this,"_keyboardManager",new j1([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,Fs)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:f(this,Sa),methodOfCreation:f(this,qE)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var s;Wn.initialize(t,r),fn._defaultColor||(fn._defaultColor=((s=r.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case Jt.HIGHLIGHT_COLOR:fn._defaultColor=r;break;case Jt.HIGHLIGHT_THICKNESS:fn._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return f(this,m0)}get commentButtonPosition(){return f(this,p0)}updateParams(t,r){switch(t){case Jt.HIGHLIGHT_COLOR:H(this,Pt,Oee).call(this,r);break;case Jt.HIGHLIGHT_THICKNESS:H(this,Pt,Lee).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Jt.HIGHLIGHT_COLOR,fn._defaultColor],[Jt.HIGHLIGHT_THICKNESS,fn._defaultThickness]]}get propertiesToUpdate(){return[[Jt.HIGHLIGHT_COLOR,this.color||fn._defaultColor],[Jt.HIGHLIGHT_THICKNESS,f(this,Sa)||fn._defaultThickness],[Jt.HIGHLIGHT_FREE,f(this,Fs)]]}onUpdatedColor(){var t,r;(t=this.parent)==null||t.drawLayer.updateProperties(f(this,Fo),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=f(this,HE))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",O(this,HE,new eR({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(H(this,Pt,qx).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,H(this,Pt,qx).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){H(this,Pt,WF).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(H(this,Pt,yp).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let r=!1;this.parent&&!t?H(this,Pt,WF).call(this):t&&(H(this,Pt,yp).call(this,t),r=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var i,o,a;const{drawLayer:r}=this.parent;let s;f(this,Fs)?(t=(t-this.rotation+360)%360,s=H(i=fn,Ia,Oy).call(i,f(this,No).box,t)):s=H(o=fn,Ia,Oy).call(o,[this.x,this.y,this.width,this.height],t),r.updateProperties(f(this,Fo),{bbox:s,root:{"data-main-rotation":t}}),r.updateProperties(f(this,ai),{bbox:H(a=fn,Ia,Oy).call(a,f(this,Xi).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();f(this,g0)&&(t.setAttribute("aria-label",f(this,g0)),t.setAttribute("role","mark")),f(this,Fs)?t.classList.add("free"):this.div.addEventListener("keydown",H(this,Pt,Fee).bind(this),{signal:this._uiManager._signal});const r=O(this,Dm,document.createElement("div"));return t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=f(this,Pm),this.setDims(),aZ(this,f(this,Dm),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,ai),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,ai),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:H(this,Pt,Wx).call(this,!0);break;case 1:case 3:H(this,Pt,Wx).call(this,!1);break}}select(){var t;super.select(),f(this,ai)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,ai),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),f(this,ai)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,ai),{rootClass:{selected:!1}}),f(this,Fs)||H(this,Pt,Wx).call(this,!1))}get _mustFixPosition(){return!f(this,Fs)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(f(this,Fo),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(f(this,ai),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:s,x:i,y:o}){const{x:a,y:l,width:u,height:h}=s.getBoundingClientRect(),p=new AbortController,m=t.combinedSignal(p),y=b=>{p.abort(),H(this,Ia,Uee).call(this,t,b)};window.addEventListener("blur",y,{signal:m}),window.addEventListener("pointerup",y,{signal:m}),window.addEventListener("pointerdown",Ir,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",$a,{signal:m}),s.addEventListener("pointermove",H(this,Ia,jee).bind(this,t),{signal:m}),this._freeHighlight=new HF({x:i,y:o},[a,l,u,h],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,s){var v,_,E,x;let i=null;if(t instanceof gee){const{data:{quadPoints:C,rect:A,rotation:k,id:L,color:P,opacity:D,popupRef:F,richText:T,contentsObj:$,creationDate:z,modificationDate:j},parent:{page:{pageNumber:Y}}}=t;i=t={annotationType:Ct.HIGHLIGHT,color:Array.from(P),opacity:D,quadPoints:C,boxes:null,pageIndex:Y-1,rect:A.slice(0),rotation:k,annotationElementId:L,id:L,deleted:!1,popupRef:F,richText:T,comment:($==null?void 0:$.str)||null,creationDate:z,modificationDate:j}}else if(t instanceof CU){const{data:{inkLists:C,rect:A,rotation:k,id:L,color:P,borderStyle:{rawWidth:D},popupRef:F,richText:T,contentsObj:$,creationDate:z,modificationDate:j},parent:{page:{pageNumber:Y}}}=t;i=t={annotationType:Ct.HIGHLIGHT,color:Array.from(P),thickness:D,inkLists:C,boxes:null,pageIndex:Y-1,rect:A.slice(0),rotation:k,annotationElementId:L,id:L,deleted:!1,popupRef:F,richText:T,comment:($==null?void 0:$.str)||null,creationDate:z,modificationDate:j}}const{color:o,quadPoints:a,inkLists:l,opacity:u}=t,h=await super.deserialize(t,r,s);h.color=Ke.makeHexColor(...o),h.opacity=u||1,l&&O(h,Sa,t.thickness),h._initialData=i,t.comment&&h.setCommentData(t);const[p,m]=h.pageDimensions,[y,b]=h.pageTranslation;if(a){const C=O(h,Ku,[]);for(let A=0;A<a.length;A+=8)C.push({x:(a[A]-y)/p,y:1-(a[A+1]-b)/m,width:(a[A+2]-a[A])/p,height:(a[A+1]-a[A+5])/m});H(v=h,Pt,zF).call(v),H(_=h,Pt,yp).call(_),h.rotate(h.rotation)}else if(l){O(h,Fs,!0);const C=l[0],A={x:C[0]-y,y:m-(C[1]-b)},k=new HF(A,[0,0,p,m],1,f(h,Sa)/2,!0,.001);for(let D=0,F=C.length;D<F;D+=2)A.x=C[D]-y,A.y=m-(C[D+1]-b),k.add(A);const{id:L,clipPathId:P}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:k.toSVGPath()}},!0,!0);H(E=h,Pt,zx).call(E,{highlightOutlines:k.getOutlines(),highlightId:L,clipPathId:P}),H(x=h,Pt,yp).call(x),h.rotate(h.parentRotation)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=Wn._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),s=super.serialize(t);return Object.assign(s,{color:r,opacity:this.opacity,thickness:f(this,Sa),quadPoints:H(this,Pt,Bee).call(this),outlines:H(this,Pt,$ee).call(this,s.rect)}),this.addComment(s),this.annotationElementId&&!H(this,Pt,Vee).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};f0=new WeakMap,VE=new WeakMap,Ku=new WeakMap,Pm=new WeakMap,HE=new WeakMap,Xi=new WeakMap,zE=new WeakMap,WE=new WeakMap,Dm=new WeakMap,No=new WeakMap,Fo=new WeakMap,Fs=new WeakMap,p0=new WeakMap,m0=new WeakMap,ai=new WeakMap,g0=new WeakMap,Sa=new WeakMap,qE=new WeakMap,Pt=new WeakSet,zF=function(){const t=new UF(f(this,Ku),.001);O(this,No,t.getOutlines()),[this.x,this.y,this.width,this.height]=f(this,No).box;const r=new UF(f(this,Ku),.0025,.001,this._uiManager.direction==="ltr");O(this,Xi,r.getOutlines());const{firstPoint:s}=f(this,No);O(this,p0,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]);const{lastPoint:i}=f(this,Xi);O(this,m0,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},zx=function({highlightOutlines:t,highlightId:r,clipPathId:s}){var m,y;if(O(this,No,t),O(this,Xi,t.getNewOutline(f(this,Sa)/2+1.5,.0025)),r>=0)O(this,Fo,r),O(this,Pm,s),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),O(this,ai,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:f(this,Xi).box,path:{d:f(this,Xi).toSVGPath()}},!0));else if(this.parent){const b=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(f(this,Fo),{bbox:H(m=fn,Ia,Oy).call(m,f(this,No).box,(b-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(f(this,ai),{bbox:H(y=fn,Ia,Oy).call(y,f(this,Xi).box,b),path:{d:f(this,Xi).toSVGPath()}})}const[o,a,l,u]=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=u;break;case 90:{const[b,v]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*v/b,this.height=u*b/v;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[b,v]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*v/b,this.height=u*b/v;break}}const{firstPoint:h}=t;O(this,p0,[(h[0]-o)/l,(h[1]-a)/u]);const{lastPoint:p}=f(this,Xi);O(this,m0,[(p[0]-o)/l,(p[1]-a)/u])},Oee=function(t){const r=(o,a)=>{this.color=o,this.opacity=a,this.onUpdatedColor()},s=this.color,i=this.opacity;this.addCommands({cmd:r.bind(this,t,fn._defaultOpacity),undo:r.bind(this,s,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Jt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},Lee=function(t){const r=f(this,Sa),s=i=>{O(this,Sa,i),H(this,Pt,Nee).call(this,i)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Jt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},Nee=function(t){f(this,Fs)&&(H(this,Pt,zx).call(this,{highlightOutlines:f(this,No).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},WF=function(){f(this,Fo)===null||!this.parent||(this.parent.drawLayer.remove(f(this,Fo)),O(this,Fo,null),this.parent.drawLayer.remove(f(this,ai)),O(this,ai,null))},yp=function(t=this.parent){f(this,Fo)===null&&({id:es(this,Fo)._,clipPathId:es(this,Pm)._}=t.drawLayer.draw({bbox:f(this,No).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:f(this,Fs)},path:{d:f(this,No).toSVGPath()}},!1,!0),O(this,ai,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:f(this,Fs)},bbox:f(this,Xi).box,path:{d:f(this,Xi).toSVGPath()}},f(this,Fs))),f(this,Dm)&&(f(this,Dm).style.clipPath=f(this,Pm)))},Ia=new WeakSet,Oy=function([t,r,s,i],o){switch(o){case 90:return[1-r-i,t,i,s];case 180:return[1-t-s,1-r-i,s,i];case 270:return[r,1-t-s,i,s]}return[t,r,s,i]},Fee=function(t){fn._keyboardManager.exec(this,t)},Wx=function(t){if(!f(this,f0))return;const r=window.getSelection();t?r.setPosition(f(this,f0),f(this,VE)):r.setPosition(f(this,zE),f(this,WE))},qx=function(){return f(this,Fs)?this.rotation:0},Bee=function(){if(f(this,Fs))return null;const[t,r]=this.pageDimensions,[s,i]=this.pageTranslation,o=f(this,Ku),a=new Float32Array(o.length*8);let l=0;for(const{x:u,y:h,width:p,height:m}of o){const y=u*t+s,b=(1-h)*r+i;a[l]=a[l+4]=y,a[l+1]=a[l+3]=b,a[l+2]=a[l+6]=y+p*t,a[l+5]=a[l+7]=b-m*r,l+=8}return a},$ee=function(t){return f(this,No).serialize(t,H(this,Pt,qx).call(this))},jee=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},Uee=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Vee=function(t){const{color:r}=this._initialData;return this.hasEditedComment||t.color.some((s,i)=>s!==r[i])},U(fn,Ia),Ee(fn,"_defaultColor",null),Ee(fn,"_defaultOpacity",1),Ee(fn,"_defaultThickness",12),Ee(fn,"_type","highlight"),Ee(fn,"_editorType",Ct.HIGHLIGHT),Ee(fn,"_freeHighlightId",-1),Ee(fn,"_freeHighlight",null),Ee(fn,"_freeHighlightClipId","");let sR=fn;var Mm;class Hee{constructor(){U(this,Mm,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){f(this,Mm)[e]=t}toSVGProperties(){const e=f(this,Mm);return O(this,Mm,Object.create(null)),{root:e}}reset(){O(this,Mm,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){jn("Not implemented")}}Mm=new WeakMap;var Bo,y0,bs,Om,Lm,an,qF,GF,KF,r_,zee,Gx,s_,Ly;const Vt=class Vt extends Wn{constructor(t){super(t);U(this,an);U(this,Bo,null);U(this,y0);Ee(this,"_colorPicker",null);Ee(this,"_drawId",null);O(this,y0,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(H(this,an,qF).call(this,t),H(this,an,r_).call(this))}static _mergeSVGProperties(t,r){const s=new Set(Object.keys(t));for(const[i,o]of Object.entries(r))s.has(i)?Object.assign(t[i],o):t[i]=o;return t}static getDefaultDrawingOptions(t){jn("Not implemented")}static get typesMap(){jn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const s=this.typesMap.get(t);s&&this._defaultDrawingOptions.updateProperty(s,r),this._currentParent&&(f(Vt,bs).updateProperty(s,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const s=this.constructor.typesMap.get(t);s&&this._updateProperty(t,s,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[s,i]of this.typesMap)t.push([s,r[i]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[s,i]of this.constructor.typesMap)t.push([s,r[i]]);return t}_updateProperty(t,r,s){const i=this._drawingOptions,o=i[r],a=l=>{var h;i.updateProperty(r,l);const u=f(this,Bo).updateProperty(r,l);u&&H(this,an,s_).call(this,u),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,s),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Vt._mergeSVGProperties(f(this,Bo).getPathResizingSVGProperties(H(this,an,Gx).call(this)),{bbox:H(this,an,Ly).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Vt._mergeSVGProperties(f(this,Bo).getPathResizedSVGProperties(H(this,an,Gx).call(this)),{bbox:H(this,an,Ly).call(this)}))}_onTranslating(t,r){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:H(this,an,Ly).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Vt._mergeSVGProperties(f(this,Bo).getPathTranslatedSVGProperties(H(this,an,Gx).call(this),this.parentDimensions),{bbox:H(this,an,Ly).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,f(this,y0)&&(O(this,y0,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){H(this,an,KF).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(H(this,an,r_).call(this),H(this,an,s_).call(this,f(this,Bo).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),H(this,an,KF).call(this)):t&&(this._uiManager.addShouldRescale(this),H(this,an,r_).call(this,t),r=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Vt._mergeSVGProperties({bbox:H(this,an,Ly).call(this)},f(this,Bo).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&H(this,an,s_).call(this,f(this,Bo).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,r;this._isCopy&&(t=this.x,r=this.y);const s=super.render();s.classList.add("draw");const i=document.createElement("div");return s.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,r),s}static createDrawerInstance(t,r,s,i,o){jn("Not implemented")}static startDrawing(t,r,s,i){var _;const{target:o,offsetX:a,offsetY:l,pointerId:u,pointerType:h}=i;if(ni.isInitializedAndDifferentPointerType(h))return;const{viewport:{rotation:p}}=t,{width:m,height:y}=o.getBoundingClientRect(),b=O(Vt,Om,new AbortController),v=t.combinedSignal(b);if(ni.setPointer(h,u),window.addEventListener("pointerup",E=>{ni.isSamePointerIdOrRemove(E.pointerId)&&this._endDraw(E)},{signal:v}),window.addEventListener("pointercancel",E=>{ni.isSamePointerIdOrRemove(E.pointerId)&&this._currentParent.endDrawingSession()},{signal:v}),window.addEventListener("pointerdown",E=>{ni.isSamePointerType(E.pointerType)&&(ni.initializeAndAddPointerId(E.pointerId),f(Vt,bs).isCancellable()&&(f(Vt,bs).removeLastElement(),f(Vt,bs).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",$a,{signal:v}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),o.addEventListener("touchmove",E=>{ni.isSameTimeStamp(E.timeStamp)&&Ir(E)},{signal:v}),t.toggleDrawing(),(_=r._editorUndoBar)==null||_.hide(),f(Vt,bs)){t.drawLayer.updateProperties(this._currentDrawId,f(Vt,bs).startNew(a,l,m,y,p));return}r.updateUIForDefaultProperties(this),O(Vt,bs,this.createDrawerInstance(a,l,m,y,p)),O(Vt,Lm,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(f(Vt,Lm).toSVGProperties(),f(Vt,bs).defaultSVGProperties),!0,!1)}static _drawMove(t){if(ni.isSameTimeStamp(t.timeStamp),!f(Vt,bs))return;const{offsetX:r,offsetY:s,pointerId:i}=t;if(ni.isSamePointerId(i)){if(ni.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,f(Vt,bs).add(r,s)),ni.setTimeStamp(t.timeStamp),Ir(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,O(Vt,bs,null),O(Vt,Lm,null),ni.clearPointerType(),ni.clearTimeStamp()),f(Vt,Om)&&(f(Vt,Om).abort(),O(Vt,Om,null),ni.clearPointerIds())}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,f(Vt,bs).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const s=f(Vt,bs),i=this._currentDrawId,o=s.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(i,s.setLastElement(o))},undo:()=>{r.drawLayer.updateProperties(i,s.removeLastElement())},mustExec:!1,type:Jt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(Jt.DRAW_STEP),!f(Vt,bs).isEmpty()){const{pageDimensions:[s,i],scale:o}=r,a=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:f(Vt,bs).getOutlines(s*o,i*o,o,this._INNER_MARGIN),drawingOptions:f(Vt,Lm),mustBeCommitted:!t});return this._cleanup(!0),a}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,s,i,o,a){jn("Not implemented")}static async deserialize(t,r,s){var p,m;const{rawDims:{pageWidth:i,pageHeight:o,pageX:a,pageY:l}}=r.viewport,u=this.deserializeDraw(a,l,i,o,this._INNER_MARGIN,t),h=await super.deserialize(t,r,s);return h.createDrawingOptions(t),H(p=h,an,qF).call(p,{drawOutlines:u}),H(m=h,an,r_).call(m),h.onScaleChanging(),h.rotate(),h}serializeDraw(t){const[r,s]=this.pageTranslation,[i,o]=this.pageDimensions;return f(this,Bo).serialize([r,s,i,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Bo=new WeakMap,y0=new WeakMap,bs=new WeakMap,Om=new WeakMap,Lm=new WeakMap,an=new WeakSet,qF=function({drawOutlines:t,drawId:r,drawingOptions:s}){O(this,Bo,t),this._drawingOptions||(this._drawingOptions=s),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=H(this,an,GF).call(this,t,this.parent),H(this,an,s_).call(this,t.box)},GF=function(t,r){const{id:s}=r.drawLayer.draw(Vt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return s},KF=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},r_=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=H(this,an,GF).call(this,f(this,Bo),t)}},zee=function([t,r,s,i]){const{parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[r,1-t,s*(a/o),i*(o/a)];case 180:return[1-t,1-r,s,i];case 270:return[1-r,t,s*(a/o),i*(o/a)];default:return[t,r,s,i]}},Gx=function(){const{x:t,y:r,width:s,height:i,parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[1-r,t,s*(o/a),i*(a/o)];case 180:return[1-t,1-r,s,i];case 270:return[r,1-t,s*(o/a),i*(a/o)];default:return[t,r,s,i]}},s_=function(t){[this.x,this.y,this.width,this.height]=H(this,an,zee).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Ly=function(){const{x:t,y:r,width:s,height:i,rotation:o,parentRotation:a,parentDimensions:[l,u]}=this;switch((o*4+a)/90){case 1:return[1-r-i,t,i,s];case 2:return[1-t-s,1-r-i,s,i];case 3:return[r,1-t-s,i,s];case 4:return[t,r-s*(l/u),i*(u/l),s*(l/u)];case 5:return[1-r,t,s*(l/u),i*(u/l)];case 6:return[1-t-i*(u/l),1-r,i*(u/l),s*(l/u)];case 7:return[r-s*(l/u),1-t-i*(u/l),s*(l/u),i*(u/l)];case 8:return[t-s,r-i,s,i];case 9:return[1-r,t-s,i,s];case 10:return[1-t,1-r,s,i];case 11:return[r-i,1-t,i,s];case 12:return[t-i*(u/l),r,i*(u/l),s*(l/u)];case 13:return[1-r-s*(l/u),t-i*(u/l),s*(l/u),i*(u/l)];case 14:return[1-t,1-r-s*(l/u),i*(u/l),s*(l/u)];case 15:return[r,1-t,s*(l/u),i*(u/l)];default:return[t,r,s,i]}},Ee(Vt,"_currentDrawId",-1),Ee(Vt,"_currentParent",null),U(Vt,bs,null),U(Vt,Om,null),U(Vt,Lm,null),Ee(Vt,"_INNER_MARGIN",3);let iR=Vt;var vc,_s,Ss,Nm,v0,Ci,Bs,Ea,Fm,Bm,$m,w0,Kx;class RMe{constructor(e,t,r,s,i,o){U(this,w0);U(this,vc,new Float64Array(6));U(this,_s);U(this,Ss);U(this,Nm);U(this,v0);U(this,Ci);U(this,Bs,"");U(this,Ea,0);U(this,Fm,new V1);U(this,Bm);U(this,$m);O(this,Bm,r),O(this,$m,s),O(this,Nm,i),O(this,v0,o),[e,t]=H(this,w0,Kx).call(this,e,t);const a=O(this,_s,[NaN,NaN,NaN,NaN,e,t]);O(this,Ci,[e,t]),O(this,Ss,[{line:a,points:f(this,Ci)}]),f(this,vc).set(a,0)}updateProperty(e,t){e==="stroke-width"&&O(this,v0,t)}isEmpty(){return!f(this,Ss)||f(this,Ss).length===0}isCancellable(){return f(this,Ci).length<=10}add(e,t){[e,t]=H(this,w0,Kx).call(this,e,t);const[r,s,i,o]=f(this,vc).subarray(2,6),a=e-i,l=t-o;return Math.hypot(f(this,Bm)*a,f(this,$m)*l)<=2?null:(f(this,Ci).push(e,t),isNaN(r)?(f(this,vc).set([i,o,e,t],2),f(this,_s).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(f(this,vc)[0])&&f(this,_s).splice(6,6),f(this,vc).set([r,s,i,o,e,t],0),f(this,_s).push(...ze.createBezierPoints(r,s,i,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(f(this,Ci).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,s,i){O(this,Bm,r),O(this,$m,s),O(this,Nm,i),[e,t]=H(this,w0,Kx).call(this,e,t);const o=O(this,_s,[NaN,NaN,NaN,NaN,e,t]);O(this,Ci,[e,t]);const a=f(this,Ss).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),f(this,Ss).push({line:o,points:f(this,Ci)}),f(this,vc).set(o,0),O(this,Ea,0),this.toSVGPath(),null}getLastElement(){return f(this,Ss).at(-1)}setLastElement(e){return f(this,Ss)?(f(this,Ss).push(e),O(this,_s,e.line),O(this,Ci,e.points),O(this,Ea,0),{path:{d:this.toSVGPath()}}):f(this,Fm).setLastElement(e)}removeLastElement(){if(!f(this,Ss))return f(this,Fm).removeLastElement();f(this,Ss).pop(),O(this,Bs,"");for(let e=0,t=f(this,Ss).length;e<t;e++){const{line:r,points:s}=f(this,Ss)[e];O(this,_s,r),O(this,Ci,s),O(this,Ea,0),this.toSVGPath()}return{path:{d:f(this,Bs)}}}toSVGPath(){const e=ze.svgRound(f(this,_s)[4]),t=ze.svgRound(f(this,_s)[5]);if(f(this,Ci).length===2)return O(this,Bs,`${f(this,Bs)} M ${e} ${t} Z`),f(this,Bs);if(f(this,Ci).length<=6){const s=f(this,Bs).lastIndexOf("M");O(this,Bs,`${f(this,Bs).slice(0,s)} M ${e} ${t}`),O(this,Ea,6)}if(f(this,Ci).length===4){const s=ze.svgRound(f(this,_s)[10]),i=ze.svgRound(f(this,_s)[11]);return O(this,Bs,`${f(this,Bs)} L ${s} ${i}`),O(this,Ea,12),f(this,Bs)}const r=[];f(this,Ea)===0&&(r.push(`M ${e} ${t}`),O(this,Ea,6));for(let s=f(this,Ea),i=f(this,_s).length;s<i;s+=6){const[o,a,l,u,h,p]=f(this,_s).slice(s,s+6).map(ze.svgRound);r.push(`C${o} ${a} ${l} ${u} ${h} ${p}`)}return O(this,Bs,f(this,Bs)+r.join(" ")),O(this,Ea,f(this,_s).length),f(this,Bs)}getOutlines(e,t,r,s){const i=f(this,Ss).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),f(this,Fm).build(f(this,Ss),e,t,r,f(this,Nm),f(this,v0),s),O(this,vc,null),O(this,_s,null),O(this,Ss,null),O(this,Bs,null),f(this,Fm)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}vc=new WeakMap,_s=new WeakMap,Ss=new WeakMap,Nm=new WeakMap,v0=new WeakMap,Ci=new WeakMap,Bs=new WeakMap,Ea=new WeakMap,Fm=new WeakMap,Bm=new WeakMap,$m=new WeakMap,w0=new WeakSet,Kx=function(e,t){return ze._normalizePoint(e,t,f(this,Bm),f(this,$m),f(this,Nm))};var Ti,GE,KE,$o,wc,bc,b0,_0,jm,Us,mu,Wee,qee,Gee;class V1 extends ze{constructor(){super(...arguments);U(this,Us);U(this,Ti);U(this,GE,0);U(this,KE);U(this,$o);U(this,wc);U(this,bc);U(this,b0);U(this,_0);U(this,jm)}build(t,r,s,i,o,a,l){O(this,wc,r),O(this,bc,s),O(this,b0,i),O(this,_0,o),O(this,jm,a),O(this,KE,l??0),O(this,$o,t),H(this,Us,qee).call(this)}get thickness(){return f(this,jm)}setLastElement(t){return f(this,$o).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return f(this,$o).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of f(this,$o)){if(t.push(`M${ze.svgRound(r[4])} ${ze.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12&&isNaN(r[6])){t.push(`L${ze.svgRound(r[10])} ${ze.svgRound(r[11])}`);continue}for(let s=6,i=r.length;s<i;s+=6){const[o,a,l,u,h,p]=r.subarray(s,s+6).map(ze.svgRound);t.push(`C${o} ${a} ${l} ${u} ${h} ${p}`)}}return t.join("")}serialize([t,r,s,i],o){const a=[],l=[],[u,h,p,m]=H(this,Us,Wee).call(this);let y,b,v,_,E,x,C,A,k;switch(f(this,_0)){case 0:k=ze._rescale,y=t,b=r+i,v=s,_=-i,E=t+u*s,x=r+(1-h-m)*i,C=t+(u+p)*s,A=r+(1-h)*i;break;case 90:k=ze._rescaleAndSwap,y=t,b=r,v=s,_=i,E=t+h*s,x=r+u*i,C=t+(h+m)*s,A=r+(u+p)*i;break;case 180:k=ze._rescale,y=t+s,b=r,v=-s,_=i,E=t+(1-u-p)*s,x=r+h*i,C=t+(1-u)*s,A=r+(h+m)*i;break;case 270:k=ze._rescaleAndSwap,y=t+s,b=r+i,v=-s,_=-i,E=t+(1-h-m)*s,x=r+(1-u-p)*i,C=t+(1-h)*s,A=r+(1-u)*i;break}for(const{line:L,points:P}of f(this,$o))a.push(k(L,y,b,v,_,o?new Array(L.length):null)),l.push(k(P,y,b,v,_,o?new Array(P.length):null));return{lines:a,points:l,rect:[E,x,C,A]}}static deserialize(t,r,s,i,o,{paths:{lines:a,points:l},rotation:u,thickness:h}){const p=[];let m,y,b,v,_;switch(u){case 0:_=ze._rescale,m=-t/s,y=r/i+1,b=1/s,v=-1/i;break;case 90:_=ze._rescaleAndSwap,m=-r/i,y=-t/s,b=1/i,v=1/s;break;case 180:_=ze._rescale,m=t/s+1,y=-r/i,b=-1/s,v=1/i;break;case 270:_=ze._rescaleAndSwap,m=r/i+1,y=t/s+1,b=-1/i,v=-1/s;break}if(!a){a=[];for(const x of l){const C=x.length;if(C===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1]]));continue}if(C===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1],NaN,NaN,NaN,NaN,x[2],x[3]]));continue}const A=new Float32Array(3*(C-2));a.push(A);let[k,L,P,D]=x.subarray(0,4);A.set([NaN,NaN,NaN,NaN,k,L],0);for(let F=4;F<C;F+=2){const T=x[F],$=x[F+1];A.set(ze.createBezierPoints(k,L,P,D,T,$),(F-2)*3),[k,L,P,D]=[P,D,T,$]}}}for(let x=0,C=a.length;x<C;x++)p.push({line:_(a[x].map(A=>A??NaN),m,y,b,v),points:_(l[x].map(A=>A??NaN),m,y,b,v)});const E=new this.prototype.constructor;return E.build(p,s,i,1,u,h,o),E}get box(){return f(this,Ti)}updateProperty(t,r){return t==="stroke-width"?H(this,Us,Gee).call(this,r):null}updateParentDimensions([t,r],s){const[i,o]=H(this,Us,mu).call(this);O(this,wc,t),O(this,bc,r),O(this,b0,s);const[a,l]=H(this,Us,mu).call(this),u=a-i,h=l-o,p=f(this,Ti);return p[0]-=u,p[1]-=h,p[2]+=2*u,p[3]+=2*h,p}updateRotation(t){return O(this,GE,t),{path:{transform:this.rotationTransform}}}get viewBox(){return f(this,Ti).map(ze.svgRound).join(" ")}get defaultProperties(){const[t,r]=f(this,Ti);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ze.svgRound(t)} ${ze.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=f(this,Ti);let s=0,i=0,o=0,a=0,l=0,u=0;switch(f(this,GE)){case 90:i=r/t,o=-t/r,l=t;break;case 180:s=-1,a=-1,l=t,u=r;break;case 270:i=-r/t,o=t/r,u=r;break;default:return""}return`matrix(${s} ${i} ${o} ${a} ${ze.svgRound(l)} ${ze.svgRound(u)})`}getPathResizingSVGProperties([t,r,s,i]){const[o,a]=H(this,Us,mu).call(this),[l,u,h,p]=f(this,Ti);if(Math.abs(h-o)<=ze.PRECISION||Math.abs(p-a)<=ze.PRECISION){const _=t+s/2-(l+h/2),E=r+i/2-(u+p/2);return{path:{"transform-origin":`${ze.svgRound(t)} ${ze.svgRound(r)}`,transform:`${this.rotationTransform} translate(${_} ${E})`}}}const m=(s-2*o)/(h-2*o),y=(i-2*a)/(p-2*a),b=h/s,v=p/i;return{path:{"transform-origin":`${ze.svgRound(l)} ${ze.svgRound(u)}`,transform:`${this.rotationTransform} scale(${b} ${v}) translate(${ze.svgRound(o)} ${ze.svgRound(a)}) scale(${m} ${y}) translate(${ze.svgRound(-o)} ${ze.svgRound(-a)})`}}}getPathResizedSVGProperties([t,r,s,i]){const[o,a]=H(this,Us,mu).call(this),l=f(this,Ti),[u,h,p,m]=l;if(l[0]=t,l[1]=r,l[2]=s,l[3]=i,Math.abs(p-o)<=ze.PRECISION||Math.abs(m-a)<=ze.PRECISION){const E=t+s/2-(u+p/2),x=r+i/2-(h+m/2);for(const{line:C,points:A}of f(this,$o))ze._translate(C,E,x,C),ze._translate(A,E,x,A);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ze.svgRound(t)} ${ze.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const y=(s-2*o)/(p-2*o),b=(i-2*a)/(m-2*a),v=-y*(u+o)+t+o,_=-b*(h+a)+r+a;if(y!==1||b!==1||v!==0||_!==0)for(const{line:E,points:x}of f(this,$o))ze._rescale(E,v,_,y,b,E),ze._rescale(x,v,_,y,b,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ze.svgRound(t)} ${ze.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],s){const[i,o]=s,a=f(this,Ti),l=t-a[0],u=r-a[1];if(f(this,wc)===i&&f(this,bc)===o)for(const{line:h,points:p}of f(this,$o))ze._translate(h,l,u,h),ze._translate(p,l,u,p);else{const h=f(this,wc)/i,p=f(this,bc)/o;O(this,wc,i),O(this,bc,o);for(const{line:m,points:y}of f(this,$o))ze._rescale(m,l,u,h,p,m),ze._rescale(y,l,u,h,p,y);a[2]*=h,a[3]*=p}return a[0]=t,a[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ze.svgRound(t)} ${ze.svgRound(r)}`}}}get defaultSVGProperties(){const t=f(this,Ti);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ze.svgRound(t[0])} ${ze.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}Ti=new WeakMap,GE=new WeakMap,KE=new WeakMap,$o=new WeakMap,wc=new WeakMap,bc=new WeakMap,b0=new WeakMap,_0=new WeakMap,jm=new WeakMap,Us=new WeakSet,mu=function(t=f(this,jm)){const r=f(this,KE)+t/2*f(this,b0);return f(this,_0)%180===0?[r/f(this,wc),r/f(this,bc)]:[r/f(this,bc),r/f(this,wc)]},Wee=function(){const[t,r,s,i]=f(this,Ti),[o,a]=H(this,Us,mu).call(this,0);return[t+o,r+a,s-2*o,i-2*a]},qee=function(){const t=O(this,Ti,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of f(this,$o)){if(i.length<=12){for(let l=4,u=i.length;l<u;l+=6)Ke.pointBoundingBox(i[l],i[l+1],t);continue}let o=i[4],a=i[5];for(let l=6,u=i.length;l<u;l+=6){const[h,p,m,y,b,v]=i.subarray(l,l+6);Ke.bezierBoundingBox(o,a,h,p,m,y,b,v,t),o=b,a=v}}const[r,s]=H(this,Us,mu).call(this);t[0]=Ri(t[0]-r,0,1),t[1]=Ri(t[1]-s,0,1),t[2]=Ri(t[2]+r,0,1),t[3]=Ri(t[3]+s,0,1),t[2]-=t[0],t[3]-=t[1]},Gee=function(t){const[r,s]=H(this,Us,mu).call(this);O(this,jm,t);const[i,o]=H(this,Us,mu).call(this),[a,l]=[i-r,o-s],u=f(this,Ti);return u[0]-=a,u[1]-=l,u[2]+=2*a,u[3]+=2*l,u};class ak extends Hee{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Wn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new ak(this._viewParameters);return e.updateAll(this),e}}var TR,Kee;const zy=class zy extends iR{constructor(t){super({...t,name:"inkEditor"});U(this,TR);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,r){Wn.initialize(t,r),this._defaultDrawingOptions=new ak(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return It(this,"typesMap",new Map([[Jt.INK_THICKNESS,"stroke-width"],[Jt.INK_COLOR,"stroke"],[Jt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,s,i,o){return new RMe(t,r,s,i,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,s,i,o,a){return V1.deserialize(t,r,s,i,o,a)}static async deserialize(t,r,s){let i=null;if(t instanceof CU){const{data:{inkLists:a,rect:l,rotation:u,id:h,color:p,opacity:m,borderStyle:{rawWidth:y},popupRef:b,richText:v,contentsObj:_,creationDate:E,modificationDate:x},parent:{page:{pageNumber:C}}}=t;i=t={annotationType:Ct.INK,color:Array.from(p),thickness:y,opacity:m,paths:{points:a},boxes:null,pageIndex:C-1,rect:l.slice(0),rotation:u,annotationElementId:h,id:h,deleted:!1,popupRef:b,richText:v,comment:(_==null?void 0:_.str)||null,creationDate:E,modificationDate:x}}const o=await super.deserialize(t,r,s);return o._initialData=i,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new tR(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Jt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:s}=this;r.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:s}){this._drawingOptions=zy.getDefaultDrawingOptions({stroke:Ke.makeHexColor(...t),"stroke-width":r,"stroke-opacity":s})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:s}=this.serializeDraw(t),{_drawingOptions:{stroke:i,"stroke-opacity":o,"stroke-width":a}}=this,l=Object.assign(super.serialize(t),{color:Wn._colorManager.convert(i),opacity:o,thickness:a,paths:{lines:r,points:s}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!H(this,TR,Kee).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:r,rect:s}=this.serializeDraw(!1);return t.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};TR=new WeakSet,Kee=function(t){const{color:r,thickness:s,opacity:i,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((a,l)=>a!==r[l])||t.thickness!==s||t.opacity!==i||t.pageIndex!==o},Ee(zy,"_type","ink"),Ee(zy,"_editorType",Ct.INK),Ee(zy,"_defaultDrawingOptions",null);let YF=zy;class XF extends V1{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const VT=8,Sb=3;var Um,yn,JF,wl,Yee,Xee,QF,Yx,Jee,Qee,Zee,ZF,eB,ete;class td{static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:s},i,o,a,l){let u=new OffscreenCanvas(1,1),h=u.getContext("2d",{alpha:!1});const p=200,m=h.font=`${r} ${s} ${p}px ${t}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:b,actualBoundingBoxAscent:v,actualBoundingBoxDescent:_,fontBoundingBoxAscent:E,fontBoundingBoxDescent:x,width:C}=h.measureText(e),A=1.5,k=Math.ceil(Math.max(Math.abs(y)+Math.abs(b)||0,C)*A),L=Math.ceil(Math.max(Math.abs(v)+Math.abs(_)||p,Math.abs(E)+Math.abs(x)||p)*A);u=new OffscreenCanvas(k,L),h=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=m,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,k,L),h.fillStyle="black",h.fillText(e,k*(A-1)/2,L*(3-A)/2);const P=H(this,yn,ZF).call(this,h.getImageData(0,0,k,L).data),D=H(this,yn,Zee).call(this,P),F=H(this,yn,eB).call(this,D),T=H(this,yn,QF).call(this,P,k,L,F);return this.processDrawnLines({lines:{curves:T,width:k,height:L},pageWidth:i,pageHeight:o,rotation:a,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,r,s,i){const[o,a,l]=H(this,yn,ete).call(this,e),[u,h]=H(this,yn,Qee).call(this,o,a,l,Math.hypot(a,l)*f(this,Um).sigmaSFactor,f(this,Um).sigmaR,f(this,Um).kernelSize),p=H(this,yn,eB).call(this,h),m=H(this,yn,QF).call(this,u,a,l,p);return this.processDrawnLines({lines:{curves:m,width:a,height:l},pageWidth:t,pageHeight:r,rotation:s,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:s,innerMargin:i,mustSmooth:o,areContours:a}){s%180!==0&&([t,r]=[r,t]);const{curves:l,width:u,height:h}=e,p=e.thickness??0,m=[],y=Math.min(t/u,r/h),b=y/t,v=y/r,_=[];for(const{points:x}of l){const C=o?H(this,yn,Jee).call(this,x):x;if(!C)continue;_.push(C);const A=C.length,k=new Float32Array(A),L=new Float32Array(3*(A===2?2:A-2));if(m.push({line:L,points:k}),A===2){k[0]=C[0]*b,k[1]=C[1]*v,L.set([NaN,NaN,NaN,NaN,k[0],k[1]],0);continue}let[P,D,F,T]=C;P*=b,D*=v,F*=b,T*=v,k.set([P,D,F,T],0),L.set([NaN,NaN,NaN,NaN,P,D],0);for(let $=4;$<A;$+=2){const z=k[$]=C[$]*b,j=k[$+1]=C[$+1]*v;L.set(ze.createBezierPoints(P,D,F,T,z,j),($-2)*3),[P,D,F,T]=[F,T,z,j]}}if(m.length===0)return null;const E=a?new XF:new V1;return E.build(m,t,r,1,s,a?0:p,i),{outline:E,newCurves:_,areContours:a,thickness:p,width:u,height:h}}static async compressSignature({outlines:e,areContours:t,thickness:r,width:s,height:i}){let o=1/0,a=-1/0,l=0;for(const C of e){l+=C.length;for(let A=2,k=C.length;A<k;A++){const L=C[A]-C[A-2];o=Math.min(o,L),a=Math.max(a,L)}}let u;o>=-128&&a<=127?u=Int8Array:o>=-32768&&a<=32767?u=Int16Array:u=Int32Array;const h=e.length,p=VT+Sb*h,m=new Uint32Array(p);let y=0;m[y++]=p*Uint32Array.BYTES_PER_ELEMENT+(l-2*h)*u.BYTES_PER_ELEMENT,m[y++]=0,m[y++]=s,m[y++]=i,m[y++]=t?0:1,m[y++]=Math.max(0,Math.floor(r??0)),m[y++]=h,m[y++]=u.BYTES_PER_ELEMENT;for(const C of e)m[y++]=C.length-2,m[y++]=C[0],m[y++]=C[1];const b=new CompressionStream("deflate-raw"),v=b.writable.getWriter();await v.ready,v.write(m);const _=u.prototype.constructor;for(const C of e){const A=new _(C.length-2);for(let k=2,L=C.length;k<L;k++)A[k-2]=C[k]-C[k-2];v.write(A)}v.close();const E=await new Response(b.readable).arrayBuffer(),x=new Uint8Array(E);return QQ(x)}static async decompressSignature(e){try{const t=zPe(e),{readable:r,writable:s}=new DecompressionStream("deflate-raw"),i=s.getWriter();await i.ready,i.write(t).then(async()=>{await i.ready,await i.close()}).catch(()=>{});let o=null,a=0;for await(const C of r)o||(o=new Uint8Array(new Uint32Array(C.buffer,0,4)[0])),o.set(C,a),a+=C.length;const l=new Uint32Array(o.buffer,0,o.length>>2),u=l[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const h=l[2],p=l[3],m=l[4]===0,y=l[5],b=l[6],v=l[7],_=[],E=(VT+Sb*b)*Uint32Array.BYTES_PER_ELEMENT;let x;switch(v){case Int8Array.BYTES_PER_ELEMENT:x=new Int8Array(o.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:x=new Int16Array(o.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:x=new Int32Array(o.buffer,E);break}a=0;for(let C=0;C<b;C++){const A=l[Sb*C+VT],k=new Float32Array(A+2);_.push(k);for(let L=0;L<Sb-1;L++)k[L]=l[Sb*C+VT+L+1];for(let L=0;L<A;L++)k[L+2]=k[L]+x[a++]}return{areContours:m,thickness:y,outlines:_,width:h,height:p}}catch(t){return wt(`decompressSignature: ${t}`),null}}}Um=new WeakMap,yn=new WeakSet,JF=function(e,t,r,s){return r-=e,s-=t,r===0?s>0?0:4:r===1?s+6:2-s},wl=new WeakMap,Yee=function(e,t,r,s,i,o,a){const l=H(this,yn,JF).call(this,r,s,i,o);for(let u=0;u<8;u++){const h=(-u+l-a+16)%8,p=f(this,wl)[2*h],m=f(this,wl)[2*h+1];if(e[(r+p)*t+(s+m)]!==0)return h}return-1},Xee=function(e,t,r,s,i,o,a){const l=H(this,yn,JF).call(this,r,s,i,o);for(let u=0;u<8;u++){const h=(u+l+a+16)%8,p=f(this,wl)[2*h],m=f(this,wl)[2*h+1];if(e[(r+p)*t+(s+m)]!==0)return h}return-1},QF=function(e,t,r,s){const i=e.length,o=new Int32Array(i);for(let h=0;h<i;h++)o[h]=e[h]<=s?1:0;for(let h=1;h<r-1;h++)o[h*t]=o[h*t+t-1]=0;for(let h=0;h<t;h++)o[h]=o[t*r-1-h]=0;let a=1,l;const u=[];for(let h=1;h<r-1;h++){l=1;for(let p=1;p<t-1;p++){const m=h*t+p,y=o[m];if(y===0)continue;let b=h,v=p;if(y===1&&o[m-1]===0)a+=1,v-=1;else if(y>=1&&o[m+1]===0)a+=1,v+=1,y>1&&(l=y);else{y!==1&&(l=Math.abs(y));continue}const _=[p,h],E=v===p+1,x={isHole:E,points:_,id:a,parent:0};u.push(x);let C;for(const $ of u)if($.id===l){C=$;break}C?C.isHole?x.parent=E?C.parent:l:x.parent=E?l:C.parent:x.parent=E?l:0;const A=H(this,yn,Yee).call(this,o,t,h,p,b,v,0);if(A===-1){o[m]=-a,o[m]!==1&&(l=Math.abs(o[m]));continue}let k=f(this,wl)[2*A],L=f(this,wl)[2*A+1];const P=h+k,D=p+L;b=P,v=D;let F=h,T=p;for(;;){const $=H(this,yn,Xee).call(this,o,t,F,T,b,v,1);k=f(this,wl)[2*$],L=f(this,wl)[2*$+1];const z=F+k,j=T+L;_.push(j,z);const Y=F*t+T;if(o[Y+1]===0?o[Y]=-a:o[Y]===1&&(o[Y]=a),z===h&&j===p&&F===P&&T===D){o[m]!==1&&(l=Math.abs(o[m]));break}else b=F,v=T,F=z,T=j}}}return u},Yx=function(e,t,r,s){if(r-t<=4){for(let P=t;P<r-2;P+=2)s.push(e[P],e[P+1]);return}const i=e[t],o=e[t+1],a=e[r-4]-i,l=e[r-3]-o,u=Math.hypot(a,l),h=a/u,p=l/u,m=h*o-p*i,y=l/a,b=1/u,v=Math.atan(y),_=Math.cos(v),E=Math.sin(v),x=b*(Math.abs(_)+Math.abs(E)),C=b*(1-x+x**2),A=Math.max(Math.atan(Math.abs(E+_)*C),Math.atan(Math.abs(E-_)*C));let k=0,L=t;for(let P=t+2;P<r-2;P+=2){const D=Math.abs(m-h*e[P+1]+p*e[P]);D>k&&(L=P,k=D)}k>(u*A)**2?(H(this,yn,Yx).call(this,e,t,L+2,s),H(this,yn,Yx).call(this,e,L,r,s)):s.push(i,o)},Jee=function(e){const t=[],r=e.length;return H(this,yn,Yx).call(this,e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t},Qee=function(e,t,r,s,i,o){const a=new Float32Array(o**2),l=-2*s**2,u=o>>1;for(let v=0;v<o;v++){const _=(v-u)**2;for(let E=0;E<o;E++)a[v*o+E]=Math.exp((_+(E-u)**2)/l)}const h=new Float32Array(256),p=-2*i**2;for(let v=0;v<256;v++)h[v]=Math.exp(v**2/p);const m=e.length,y=new Uint8Array(m),b=new Uint32Array(256);for(let v=0;v<r;v++)for(let _=0;_<t;_++){const E=v*t+_,x=e[E];let C=0,A=0;for(let L=0;L<o;L++){const P=v+L-u;if(!(P<0||P>=r))for(let D=0;D<o;D++){const F=_+D-u;if(F<0||F>=t)continue;const T=e[P*t+F],$=a[L*o+D]*h[Math.abs(T-x)];C+=T*$,A+=$}}const k=y[E]=Math.round(C/A);b[k]++}return[y,b]},Zee=function(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t},ZF=function(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let s=-1/0,i=1/0;for(let a=0,l=r.length;a<l;a++){const u=r[a]=e[a<<2];s=Math.max(s,u),i=Math.min(i,u)}const o=255/(s-i);for(let a=0,l=r.length;a<l;a++)r[a]=(r[a]-i)*o;return r},eB=function(e){let t,r=-1/0,s=-1/0;const i=e.findIndex(l=>l!==0);let o=i,a=i;for(t=i;t<256;t++){const l=e[t];l>r&&(t-o>s&&(s=t-o,a=t-1),r=l,o=t)}for(t=a-1;t>=0&&!(e[t]>e[t+1]);t--);return t},ete=function(e){const t=e,{width:r,height:s}=e,{maxDim:i}=f(this,Um);let o=r,a=s;if(r>i||s>i){let m=r,y=s,b=Math.log2(Math.max(r,s)/i);const v=Math.floor(b);b=b===v?v-1:v;for(let E=0;E<b;E++){o=Math.ceil(m/2),a=Math.ceil(y/2);const x=new OffscreenCanvas(o,a);x.getContext("2d").drawImage(e,0,0,m,y,0,0,o,a),m=o,y=a,e!==t&&e.close(),e=x.transferToImageBitmap()}const _=Math.min(i/o,i/a);o=Math.round(o*_),a=Math.round(a*_)}const u=new OffscreenCanvas(o,a).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,o,a),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,o,a);const h=u.getImageData(0,0,o,a).data;return[H(this,yn,ZF).call(this,h),o,a]},U(td,yn),U(td,Um,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),U(td,wl,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class TU extends Hee{constructor(){super(),super.updateProperties({fill:Wn._defaultLineColor,"stroke-width":0})}clone(){const e=new TU;return e.updateAll(this),e}}class xU extends ak{constructor(e){super(e),super.updateProperties({stroke:Wn._defaultLineColor,"stroke-width":1})}clone(){const e=new xU(this._viewParameters);return e.updateAll(this),e}}var Yh,_c,Xh,Vm;const So=class So extends iR{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});U(this,Yh,!1);U(this,_c,null);U(this,Xh,null);U(this,Vm,null);this._willKeepAspectRatio=!0,O(this,Xh,t.signatureData||null),O(this,_c,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,r){Wn.initialize(t,r),this._defaultDrawingOptions=new TU,this._defaultDrawnSignatureOptions=new xU(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return It(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!f(this,_c)}}static computeTelemetryFinalData(t){const r=t.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,r;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,t=this.x,r=this.y),super.render(),this._drawId===null)if(f(this,Xh)){const{lines:i,mustSmooth:o,areContours:a,description:l,uuid:u,heightInPage:h}=f(this,Xh),{rawDims:{pageWidth:p,pageHeight:m},rotation:y}=this.parent.viewport,b=td.processDrawnLines({lines:i,pageWidth:p,pageHeight:m,rotation:y,innerMargin:So._INNER_MARGIN,mustSmooth:o,areContours:a});this.addSignature(b,h,l,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:f(this,_c)||""}));return s&&(this._isCopy=!0,this._moveAfterPaste(t,r)),this.div}setUuid(t){O(this,Vm,t),this.addEditToolbar()}getUuid(){return f(this,Vm)}get description(){return f(this,_c)}set description(t){O(this,_c,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:r,thickness:s,width:i,height:o}=f(this,Xh),a=Math.max(i,o),l=td.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:s,width:i,height:o},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,r,s,i){const{x:o,y:a}=this,{outline:l}=O(this,Xh,t);O(this,Yh,l instanceof XF),this.description=s;let u;f(this,Yh)?u=So.getDefaultDrawingOptions():(u=So._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:u});const[,h]=this.pageDimensions;let p=r/h;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=o,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:r,pageHeight:s},rotation:i}=this.parent.viewport;return td.process(t,r,s,i,So._INNER_MARGIN)}getFromText(t,r){const{rawDims:{pageWidth:s,pageHeight:i},rotation:o}=this.parent.viewport;return td.extractContoursFromText(t,r,s,i,o,So._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:r,pageHeight:s},rotation:i}=this.parent.viewport;return td.processDrawnLines({lines:t,pageWidth:r,pageHeight:s,rotation:i,innerMargin:So._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:r}){t?this._drawingOptions=So.getDefaultDrawingOptions():(this._drawingOptions=So._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:r,points:s}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":i}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:f(this,Yh),color:[0,0,0],thickness:f(this,Yh)?0:i});return this.addComment(o),t?(o.paths={lines:r,points:s},o.uuid=f(this,Vm),o.isCopy=!0):o.lines=r,f(this,_c)&&(o.accessibilityData={type:"Figure",alt:f(this,_c)}),o}static deserializeDraw(t,r,s,i,o,a){return a.areContours?XF.deserialize(t,r,s,i,o,a):V1.deserialize(t,r,s,i,o,a)}static async deserialize(t,r,s){var o;const i=await super.deserialize(t,r,s);return O(i,Yh,t.areContours),i.description=((o=t.accessibilityData)==null?void 0:o.alt)||"",O(i,Vm,t.uuid),i}};Yh=new WeakMap,_c=new WeakMap,Xh=new WeakMap,Vm=new WeakMap,Ee(So,"_type","signature"),Ee(So,"_editorType",Ct.SIGNATURE),Ee(So,"_defaultDrawingOptions",null);let tB=So;var or,Es,Jh,Yu,Qh,S0,Xu,Hm,Sc,jo,E0,ln,i_,o_,Xx,Jx,Qx,rB,Zx,tte;class nB extends Wn{constructor(t){super({...t,name:"stampEditor"});U(this,ln);U(this,or,null);U(this,Es,null);U(this,Jh,null);U(this,Yu,null);U(this,Qh,null);U(this,S0,"");U(this,Xu,null);U(this,Hm,!1);U(this,Sc,null);U(this,jo,!1);U(this,E0,!1);O(this,Yu,t.bitmapUrl),O(this,Qh,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,r){Wn.initialize(t,r)}static isHandlingMimeForPasting(t){return UN.includes(t)}static paste(t,r){r.pasteEditor({mode:Ct.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,l=await s.guess({name:"altText",request:{data:i,width:o,height:a,channels:i.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),r&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;f(this,Es)&&(O(this,or,null),this._uiManager.imageManager.deleteId(f(this,Es)),(t=f(this,Xu))==null||t.remove(),O(this,Xu,null),f(this,Sc)&&(clearTimeout(f(this,Sc)),O(this,Sc,null))),super.remove()}rebuild(){if(!this.parent){f(this,Es)&&H(this,ln,Xx).call(this);return}super.rebuild(),this.div!==null&&(f(this,Es)&&f(this,Xu)===null&&H(this,ln,Xx).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(f(this,Jh)||f(this,or)||f(this,Yu)||f(this,Qh)||f(this,Es)||f(this,Hm))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;return this._isCopy&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),f(this,Hm)||(f(this,or)?H(this,ln,Jx).call(this):H(this,ln,Xx).call(this)),this._isCopy&&this._moveAfterPaste(t,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,r){const{id:s,bitmap:i}=this._uiManager.imageManager.getFromCanvas(t,r);r.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(O(this,Es,s),i&&O(this,or,i),O(this,Hm,!1),H(this,ln,Jx).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;f(this,Sc)!==null&&clearTimeout(f(this,Sc)),O(this,Sc,setTimeout(()=>{O(this,Sc,null),H(this,ln,rB).call(this)},200))}copyCanvas(t,r,s=!1){t||(t=224);const{width:i,height:o}=f(this,or),a=new $c;let l=f(this,or),u=i,h=o,p=null;if(r){if(i>r||o>r){const P=Math.min(r/i,r/o);u=Math.floor(i*P),h=Math.floor(o*P)}p=document.createElement("canvas");const y=p.width=Math.ceil(u*a.sx),b=p.height=Math.ceil(h*a.sy);f(this,jo)||(l=H(this,ln,Qx).call(this,y,b));const v=p.getContext("2d");v.filter=this._uiManager.hcmFilter;let _="white",E="#cfcfd8";this._uiManager.hcmFilter!=="none"?E="black":XPe.isDarkMode&&(_="#8f8f9d",E="#42414d");const x=15,C=x*a.sx,A=x*a.sy,k=new OffscreenCanvas(C*2,A*2),L=k.getContext("2d");L.fillStyle=_,L.fillRect(0,0,C*2,A*2),L.fillStyle=E,L.fillRect(0,0,C,A),L.fillRect(C,A,C,A),v.fillStyle=v.createPattern(k,"repeat"),v.fillRect(0,0,y,b),v.drawImage(l,0,0,l.width,l.height,0,0,y,b)}let m=null;if(s){let y,b;if(a.symmetric&&l.width<t&&l.height<t)y=l.width,b=l.height;else if(l=f(this,or),i>t||o>t){const E=Math.min(t/i,t/o);y=Math.floor(i*E),b=Math.floor(o*E),f(this,jo)||(l=H(this,ln,Qx).call(this,y,b))}const _=new OffscreenCanvas(y,b).getContext("2d",{willReadFrequently:!0});_.drawImage(l,0,0,l.width,l.height,0,0,y,b),m={width:y,height:b,data:_.getImageData(0,0,y,b).data}}return{canvas:p,width:u,height:h,imageData:m}}static async deserialize(t,r,s){var _;let i=null,o=!1;if(t instanceof yee){const{data:{rect:E,rotation:x,id:C,structParent:A,popupRef:k,richText:L,contentsObj:P,creationDate:D,modificationDate:F},container:T,parent:{page:{pageNumber:$}},canvas:z}=t;let j,Y;z?(delete t.canvas,{id:j,bitmap:Y}=s.imageManager.getFromCanvas(T.id,z),z.remove()):(o=!0,t._hasNoCanvas=!0);const Z=((_=await r._structTree.getAriaAttributes(`${$y}${C}`))==null?void 0:_.get("aria-label"))||"";i=t={annotationType:Ct.STAMP,bitmapId:j,bitmap:Y,pageIndex:$-1,rect:E.slice(0),rotation:x,annotationElementId:C,id:C,deleted:!1,accessibilityData:{decorative:!1,altText:Z},isSvg:!1,structParent:A,popupRef:k,richText:L,comment:(P==null?void 0:P.str)||null,creationDate:D,modificationDate:F}}const a=await super.deserialize(t,r,s),{rect:l,bitmap:u,bitmapUrl:h,bitmapId:p,isSvg:m,accessibilityData:y}=t;o?(s.addMissingCanvas(t.id,a),O(a,Hm,!0)):p&&s.imageManager.isValidId(p)?(O(a,Es,p),u&&O(a,or,u)):O(a,Yu,h),O(a,jo,m);const[b,v]=a.pageDimensions;return a.width=(l[2]-l[0])/b,a.height=(l[3]-l[1])/v,y&&(a.altTextData=y),a._initialData=i,t.comment&&a.setCommentData(t),O(a,E0,!!i),a}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=Object.assign(super.serialize(t),{bitmapId:f(this,Es),isSvg:f(this,jo)});if(this.addComment(s),t)return s.bitmapUrl=H(this,ln,Zx).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:i,altText:o}=this.serializeAltText(!1);if(!i&&o&&(s.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=H(this,ln,tte).call(this,s);return l.isSame?null:(l.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1,s.id=this.annotationElementId,delete s.bitmapId,s)}if(r===null)return s;r.stamps||(r.stamps=new Map);const a=f(this,jo)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!r.stamps.has(f(this,Es)))r.stamps.set(f(this,Es),{area:a,serialized:s}),s.bitmap=H(this,ln,Zx).call(this,!1);else if(f(this,jo)){const l=r.stamps.get(f(this,Es));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=H(this,ln,Zx).call(this,!1))}return s}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}or=new WeakMap,Es=new WeakMap,Jh=new WeakMap,Yu=new WeakMap,Qh=new WeakMap,S0=new WeakMap,Xu=new WeakMap,Hm=new WeakMap,Sc=new WeakMap,jo=new WeakMap,E0=new WeakMap,ln=new WeakSet,i_=function(t,r=!1){if(!t){this.remove();return}O(this,or,t.bitmap),r||(O(this,Es,t.id),O(this,jo,t.isSvg)),t.file&&O(this,S0,t.file.name),H(this,ln,Jx).call(this)},o_=function(){if(O(this,Jh,null),this._uiManager.enableWaiting(!1),!!f(this,Xu)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,or)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,or)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Xx=function(){if(f(this,Es)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,Es)).then(s=>H(this,ln,i_).call(this,s,!0)).finally(()=>H(this,ln,o_).call(this));return}if(f(this,Yu)){const s=f(this,Yu);O(this,Yu,null),this._uiManager.enableWaiting(!0),O(this,Jh,this._uiManager.imageManager.getFromUrl(s).then(i=>H(this,ln,i_).call(this,i)).finally(()=>H(this,ln,o_).call(this)));return}if(f(this,Qh)){const s=f(this,Qh);O(this,Qh,null),this._uiManager.enableWaiting(!0),O(this,Jh,this._uiManager.imageManager.getFromFile(s).then(i=>H(this,ln,i_).call(this,i)).finally(()=>H(this,ln,o_).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=UN.join(",");const r=this._uiManager._signal;O(this,Jh,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),H(this,ln,i_).call(this,i)}s()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:r})}).finally(()=>H(this,ln,o_).call(this))),t.click()},Jx=function(){var u;const{div:t}=this;let{width:r,height:s}=f(this,or);const[i,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*i,s=this.height*o;else if(r>a*i||s>a*o){const h=Math.min(a*i/r,a*o/s);r*=h,s*=h}this._uiManager.enableWaiting(!1);const l=O(this,Xu,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=r/i,this.height=s/o,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),H(this,ln,rB).call(this),f(this,E0)||(this.parent.addUndoableEditor(this),O(this,E0,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,S0)&&this.div.setAttribute("aria-description",f(this,S0)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Qx=function(t,r){const{width:s,height:i}=f(this,or);let o=s,a=i,l=f(this,or);for(;o>2*t||a>2*r;){const u=o,h=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const p=new OffscreenCanvas(o,a);p.getContext("2d").drawImage(l,0,0,u,h,0,0,o,a),l=p.transferToImageBitmap()}return l},rB=function(){const[t,r]=this.parentDimensions,{width:s,height:i}=this,o=new $c,a=Math.ceil(s*t*o.sx),l=Math.ceil(i*r*o.sy),u=f(this,Xu);if(!u||u.width===a&&u.height===l)return;u.width=a,u.height=l;const h=f(this,jo)?f(this,or):H(this,ln,Qx).call(this,a,l),p=u.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(h,0,0,h.width,h.height,0,0,a,l)},Zx=function(t){if(t){if(f(this,jo)){const i=this._uiManager.imageManager.getSvgUrl(f(this,Es));if(i)return i}const r=document.createElement("canvas");return{width:r.width,height:r.height}=f(this,or),r.getContext("2d").drawImage(f(this,or),0,0),r.toDataURL()}if(f(this,jo)){const[r,s]=this.pageDimensions,i=Math.round(this.width*r*xf.PDF_TO_CSS_UNITS),o=Math.round(this.height*s*xf.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(i,o);return a.getContext("2d").drawImage(f(this,or),0,0,f(this,or).width,f(this,or).height,0,0,i,o),a.transferToImageBitmap()}return structuredClone(f(this,or))},tte=function(t){var a;const{pageIndex:r,accessibilityData:{altText:s}}=this._initialData,i=t.pageIndex===r,o=(((a=t.accessibilityData)==null?void 0:a.alt)||"")===s;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&o,isSameAltText:o}},Ee(nB,"_type","stamp"),Ee(nB,"_editorType",Ct.STAMP);var zm,C0,Zh,ef,Ju,Ji,tf,T0,x0,bl,Qu,Cs,Zu,nf,A0,Ze,rf,Bn,iB,nte,Zl,oB,aB,eA;const cl=class cl{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:s,accessibilityManager:i,annotationLayer:o,drawLayer:a,textLayer:l,viewport:u,l10n:h}){U(this,Bn);U(this,zm);U(this,C0,!1);U(this,Zh,null);U(this,ef,null);U(this,Ju,null);U(this,Ji,new Map);U(this,tf,!1);U(this,T0,!1);U(this,x0,!1);U(this,bl,null);U(this,Qu,null);U(this,Cs,null);U(this,Zu,null);U(this,nf,null);U(this,A0,-1);U(this,Ze);const p=[...f(cl,rf).values()];if(!cl._initialized){cl._initialized=!0;for(const m of p)m.initialize(h,e)}e.registerEditorTypes(p),O(this,Ze,e),this.pageIndex=t,this.div=r,O(this,zm,i),O(this,Zh,o),this.viewport=u,O(this,Cs,l),this.drawLayer=a,this._structTree=s,f(this,Ze).addLayer(this)}get isEmpty(){return f(this,Ji).size===0}get isInvisible(){return this.isEmpty&&f(this,Ze).getMode()===Ct.NONE}updateToolbar(e){f(this,Ze).updateToolbar(e)}updateMode(e=f(this,Ze).getMode()){switch(H(this,Bn,eA).call(this),e){case Ct.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ct.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ct.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===Ct.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const r of f(cl,rf).values())t.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=f(this,Cs))==null?void 0:t.div)}setEditingState(e){f(this,Ze).setEditingState(e)}addCommands(e){f(this,Ze).addCommands(e)}cleanUndoStack(e){f(this,Ze).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=f(this,Zh))==null||t.togglePointerEvents(e)}async enable(){var r;O(this,x0,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=f(this,nf))==null||r.abort(),O(this,nf,null);const e=new Set;for(const s of f(this,Bn,iB))s.enableEditing(),s.show(!0),s.annotationElementId&&(f(this,Ze).removeChangedExistingAnnotation(s),e.add(s.annotationElementId));const t=f(this,Zh);if(t)for(const s of t.getEditableAnnotations()){if(s.hide(),f(this,Ze).isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const i=await this.deserialize(s);i&&(this.addOrRebuild(i),i.enableEditing())}O(this,x0,!1),f(this,Ze)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var s;if(O(this,T0,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),f(this,Cs)&&!f(this,nf)){O(this,nf,new AbortController);const i=f(this,Ze).combinedSignal(f(this,nf));f(this,Cs).div.addEventListener("pointerdown",o=>{const{clientX:l,clientY:u,timeStamp:h}=o,p=f(this,A0);if(h-p>500){O(this,A0,h);return}O(this,A0,-1);const{classList:m}=this.div;m.toggle("getElements",!0);const y=document.elementsFromPoint(l,u);if(m.toggle("getElements",!1),!this.div.contains(y[0]))return;let b;const v=new RegExp(`^${nS}[0-9]+$`);for(const E of y)if(v.test(E.id)){b=E.id;break}if(!b)return;const _=f(this,Ji).get(b);(_==null?void 0:_.annotationElementId)===null&&(o.stopPropagation(),o.preventDefault(),_.dblclick(o))},{signal:i,capture:!0})}const e=f(this,Zh),t=[];if(e){const i=new Map,o=new Map;for(const l of f(this,Bn,iB)){if(l.disableEditing(),!l.annotationElementId){t.push(l);continue}if(l.serialize()!==null){i.set(l.annotationElementId,l);continue}else o.set(l.annotationElementId,l);(s=this.getEditableAnnotation(l.annotationElementId))==null||s.show(),l.remove()}const a=e.getEditableAnnotations();for(const l of a){const{id:u}=l.data;if(f(this,Ze).isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let h=o.get(u);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=i.get(u),h&&(f(this,Ze).addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}H(this,Bn,eA).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of f(cl,rf).values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(t),O(this,T0,!1)}getEditableAnnotation(e){var t;return((t=f(this,Zh))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){f(this,Ze).getActive()!==e&&f(this,Ze).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=f(this,Cs))!=null&&e.div&&!f(this,Zu)){O(this,Zu,new AbortController);const t=f(this,Ze).combinedSignal(f(this,Zu));f(this,Cs).div.addEventListener("pointerdown",H(this,Bn,nte).bind(this),{signal:t}),f(this,Cs).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=f(this,Cs))!=null&&e.div&&f(this,Zu)&&(f(this,Zu).abort(),O(this,Zu,null),f(this,Cs).div.classList.remove("highlighting"))}enableClick(){if(f(this,ef))return;O(this,ef,new AbortController);const e=f(this,Ze).combinedSignal(f(this,ef));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=f(this,ef))==null||e.abort(),O(this,ef,null)}attach(e){f(this,Ji).set(e.id,e);const{annotationElementId:t}=e;t&&f(this,Ze).isDeletedAnnotationElement(t)&&f(this,Ze).removeDeletedAnnotationElement(e)}detach(e){var t;f(this,Ji).delete(e.id),(t=f(this,zm))==null||t.removePointerInTextLayer(e.contentDiv),!f(this,T0)&&e.annotationElementId&&f(this,Ze).addDeletedAnnotationElement(e)}remove(e){this.detach(e),f(this,Ze).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(f(this,Ze).addDeletedAnnotationElement(e.annotationElementId),Wn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),f(this,Ze).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!f(this,x0)),f(this,Ze).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!f(this,Ju)&&(e._focusEventsAllowed=!1,O(this,Ju,setTimeout(()=>{O(this,Ju,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:f(this,Ze)._signal}),t.focus())},0))),e._structTreeParentId=(r=f(this,zm))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getEditorByUID(e){for(const t of f(this,Ji).values())if(t.uid===e)return t;return null}getNextId(){return f(this,Ze).getId()}combinedSignal(e){return f(this,Ze).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=f(this,Bn,Zl))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await f(this,Ze).updateMode(e.mode);const{offsetX:r,offsetY:s}=H(this,Bn,aB).call(this),i=this.getNextId(),o=H(this,Bn,oB).call(this,{parent:this,id:i,x:r,y:s,uiManager:f(this,Ze),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=f(cl,rf).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,f(this,Ze)))||null}createAndAddNewEditor(e,t,r={}){const s=this.getNextId(),i=H(this,Bn,oB).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:f(this,Ze),isCentered:t,...r});return i&&this.add(i),i}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(H(this,Bn,aB).call(this),!0,e)}setSelected(e){f(this,Ze).setSelected(e)}toggleSelected(e){f(this,Ze).toggleSelected(e)}unselect(e){f(this,Ze).unselect(e)}pointerup(e){var s;const{isMac:t}=Ws.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!f(this,tf)||(O(this,tf,!1),(s=f(this,Bn,Zl))!=null&&s.isDrawer&&f(this,Bn,Zl).supportMultipleDrawings))return;if(!f(this,C0)){O(this,C0,!0);return}const r=f(this,Ze).getMode();if(r===Ct.STAMP||r===Ct.SIGNATURE){f(this,Ze).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var s;if(f(this,Ze).getMode()===Ct.HIGHLIGHT&&this.enableTextSelection(),f(this,tf)){O(this,tf,!1);return}const{isMac:t}=Ws.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(O(this,tf,!0),(s=f(this,Bn,Zl))!=null&&s.isDrawer){this.startDrawingSession(e);return}const r=f(this,Ze).getActive();O(this,C0,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),f(this,bl)){f(this,Bn,Zl).startDrawing(this,f(this,Ze),!1,e);return}f(this,Ze).setCurrentDrawingSession(this),O(this,bl,new AbortController);const t=f(this,Ze).combinedSignal(f(this,bl));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(O(this,Qu,null),this.commitOrRemove())},{signal:t}),f(this,Bn,Zl).startDrawing(this,f(this,Ze),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&O(this,Qu,t);return}f(this,Qu)&&setTimeout(()=>{var t;(t=f(this,Qu))==null||t.focus(),O(this,Qu,null)},0)}endDrawingSession(e=!1){return f(this,bl)?(f(this,Ze).setCurrentDrawingSession(null),f(this,bl).abort(),O(this,bl,null),O(this,Qu,null),f(this,Bn,Zl).endDrawing(e)):null}findNewParent(e,t,r){const s=f(this,Ze).findParent(t,r);return s===null||s===this?!1:(s.changeParent(e),!0)}commitOrRemove(){return f(this,bl)?(this.endDrawingSession(),!0):!1}onScaleChanging(){f(this,bl)&&f(this,Bn,Zl).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=f(this,Ze).getActive())==null?void 0:e.parent)===this&&(f(this,Ze).commitOrRemove(),f(this,Ze).setActiveEditor(null)),f(this,Ju)&&(clearTimeout(f(this,Ju)),O(this,Ju,null));for(const r of f(this,Ji).values())(t=f(this,zm))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,f(this,Ji).clear(),f(this,Ze).removeLayer(this)}render({viewport:e}){this.viewport=e,ug(this.div,e);for(const t of f(this,Ze).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){f(this,Ze).commitOrRemove(),H(this,Bn,eA).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,ug(this.div,{rotation:r}),t!==r)for(const s of f(this,Ji).values())s.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return f(this,Ze).viewParameters.realScale}};zm=new WeakMap,C0=new WeakMap,Zh=new WeakMap,ef=new WeakMap,Ju=new WeakMap,Ji=new WeakMap,tf=new WeakMap,T0=new WeakMap,x0=new WeakMap,bl=new WeakMap,Qu=new WeakMap,Cs=new WeakMap,Zu=new WeakMap,nf=new WeakMap,A0=new WeakMap,Ze=new WeakMap,rf=new WeakMap,Bn=new WeakSet,iB=function(){return f(this,Ji).size!==0?f(this,Ji).values():f(this,Ze).getEditors(this.pageIndex)},nte=function(e){f(this,Ze).unselectAll();const{target:t}=e;if(t===f(this,Cs).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&f(this,Cs).div.contains(t)){const{isMac:r}=Ws.platform;if(e.button!==0||e.ctrlKey&&r)return;f(this,Ze).showAllEditors("highlight",!0,!0),f(this,Cs).div.classList.add("free"),this.toggleDrawing(),sR.startHighlighting(this,f(this,Ze).direction==="ltr",{target:f(this,Cs).div,x:e.x,y:e.y}),f(this,Cs).div.addEventListener("pointerup",()=>{f(this,Cs).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:f(this,Ze)._signal}),e.preventDefault()}},Zl=function(){return f(cl,rf).get(f(this,Ze).getMode())},oB=function(e){const t=f(this,Bn,Zl);return t?new t.prototype.constructor(e):null},aB=function(){const{x:e,y:t,width:r,height:s}=this.boundingClientRect,i=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+s),u=(i+a)/2-e,h=(o+l)/2-t,[p,m]=this.viewport.rotation%180===0?[u,h]:[h,u];return{offsetX:p,offsetY:m}},eA=function(){for(const e of f(this,Ji).values())e.isEmpty()&&e.remove()},Ee(cl,"_initialized",!1),U(cl,rf,new Map([$F,YF,nB,sR,tB].map(e=>[e._editorType,e])));let sB=cl;var _l,xi,Wm,YE,xR,rte,jc,cB,ste,uB;const ns=class ns{constructor({pageIndex:e}){U(this,jc);U(this,_l,null);U(this,xi,new Map);U(this,Wm,new Map);this.pageIndex=e}setParent(e){if(!f(this,_l)){O(this,_l,e);return}if(f(this,_l)!==e){if(f(this,xi).size>0)for(const t of f(this,xi).values())t.remove(),e.append(t);O(this,_l,e)}}static get _svgFactory(){return It(this,"_svgFactory",new nR)}draw(e,t=!1,r=!1){const s=es(ns,YE)._++,i=H(this,jc,cB).call(this),o=ns._svgFactory.createElement("defs");i.append(o);const a=ns._svgFactory.createElement("path");o.append(a);const l=`path_p${this.pageIndex}_${s}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke"),t&&f(this,Wm).set(s,a);const u=r?H(this,jc,ste).call(this,o,l):null,h=ns._svgFactory.createElement("use");return i.append(h),h.setAttribute("href",`#${l}`),this.updateProperties(i,e),f(this,xi).set(s,i),{id:s,clipPathId:`url(#${u})`}}drawOutline(e,t){const r=es(ns,YE)._++,s=H(this,jc,cB).call(this),i=ns._svgFactory.createElement("defs");s.append(i);const o=ns._svgFactory.createElement("path");i.append(o);const a=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const p=ns._svgFactory.createElement("mask");i.append(p),l=`mask_p${this.pageIndex}_${r}`,p.setAttribute("id",l),p.setAttribute("maskUnits","objectBoundingBox");const m=ns._svgFactory.createElement("rect");p.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const y=ns._svgFactory.createElement("use");p.append(y),y.setAttribute("href",`#${a}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const u=ns._svgFactory.createElement("use");s.append(u),u.setAttribute("href",`#${a}`),l&&u.setAttribute("mask",`url(#${l})`);const h=u.cloneNode();return s.append(h),u.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(s,e),f(this,xi).set(r,s),r}finalizeDraw(e,t){f(this,Wm).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:r,bbox:s,rootClass:i,path:o}=t,a=typeof e=="number"?f(this,xi).get(e):e;if(a){if(r&&H(this,jc,uB).call(this,a,r),s&&H(l=ns,xR,rte).call(l,a,s),i){const{classList:u}=a;for(const[h,p]of Object.entries(i))u.toggle(h,p)}if(o){const h=a.firstChild.firstChild;H(this,jc,uB).call(this,h,o)}}}updateParent(e,t){if(t===this)return;const r=f(this,xi).get(e);r&&(f(t,_l).append(r),f(this,xi).delete(e),f(t,xi).set(e,r))}remove(e){f(this,Wm).delete(e),f(this,_l)!==null&&(f(this,xi).get(e).remove(),f(this,xi).delete(e))}destroy(){O(this,_l,null);for(const e of f(this,xi).values())e.remove();f(this,xi).clear(),f(this,Wm).clear()}};_l=new WeakMap,xi=new WeakMap,Wm=new WeakMap,YE=new WeakMap,xR=new WeakSet,rte=function(e,[t,r,s,i]){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*s}%`,o.height=`${100*i}%`},jc=new WeakSet,cB=function(){const e=ns._svgFactory.create(1,1,!0);return f(this,_l).append(e),e.setAttribute("aria-hidden",!0),e},ste=function(e,t){const r=ns._svgFactory.createElement("clipPath");e.append(r);const s=`clip_${t}`;r.setAttribute("id",s),r.setAttribute("clipPathUnits","objectBoundingBox");const i=ns._svgFactory.createElement("use");return r.append(i),i.setAttribute("href",`#${t}`),i.classList.add("clip"),s},uB=function(e,t){for(const[r,s]of Object.entries(t))s===null?e.removeAttribute(r):e.setAttribute(r,s)},U(ns,xR),U(ns,YE,0);let lB=ns;globalThis._pdfjsTestingUtils={HighlightOutliner:UF};globalThis.pdfjsLib={AbortException:Tf,AnnotationEditorLayer:sB,AnnotationEditorParamsType:Jt,AnnotationEditorType:Ct,AnnotationEditorUIManager:dg,AnnotationLayer:FF,AnnotationMode:hh,AnnotationType:Wr,applyOpacity:QPe,build:iMe,ColorPicker:eR,createValidAbsoluteUrl:KQ,CSSConstants:JPe,DOMSVGFactory:nR,DrawLayer:lB,FeatureTest:Ws,fetchData:F1,findContrastColor:ZPe,getDocument:nee,getFilenameFromUrl:WPe,getPdfFilenameFromUrl:qPe,getRGB:$1,getUuid:JQ,getXfaPageViewport:KPe,GlobalWorkerOptions:Sl,ImageKind:_x,InvalidPDFException:$N,isDataScheme:ik,isPdfFile:wU,isValidExplicitDest:cDe,MathClamp:Ri,noContextMenu:$a,normalizeUnicode:VPe,OPS:rS,OutputScale:$c,PasswordResponses:MPe,PDFDataRangeTransport:ree,PDFDateString:KA,PDFWorker:oS,PermissionFlag:DPe,PixelsPerInch:xf,RenderingCancelledException:vU,renderRichText:eZ,ResponseException:GA,setLayerDimensions:ug,shadow:It,SignatureExtractor:td,stopEvent:Ir,SupportedImageMimeTypes:UN,TextLayer:iS,TouchManager:XA,updateUrlHash:YQ,Util:Ke,VerbosityLevel:nk,version:sMe,XfaLayer:ZQ};const ite="/assets/pdf.worker.min-Cpi8b8z3.mjs",Ra={DELETE_LINES:"DELETE_LINES",DELETE_PAGES:"DELETE_PAGES",DELETE_TOKEN:"DELETE_TOKEN",INSERT_TOKEN:"INSERT_TOKEN",INSERT_LINES:"INSERT_LINES"},IMe=(n,e)=>{if(n.toLocaleLowerCase().startsWith("delete lines")){const t=n.split(" "),r=n.slice(12),s=r.indexOf(t[5]);return{instruction:{type:Ra.DELETE_LINES,page:e,startLine:+t[2],endLine:+t[4]},remainingText:r.slice(s).trim()}}if(n.toLocaleLowerCase().startsWith("delete line")){const t=n.split(" "),r=n.slice(11),s=r.indexOf(t[3]);return{instruction:{type:Ra.DELETE_LINES,page:e,startLine:+t[2],endLine:+t[2]},remainingText:r.slice(s).trim()}}return{instruction:null,remainingText:n}},kMe=n=>{if(n.toLocaleLowerCase().startsWith("delete pages")){const e=n.split(" "),t=n.indexOf(e[5]);return{instruction:{type:Ra.DELETE_PAGES,startPage:+e[2],endPage:+e[4]},remainingText:n.slice(t)}}if(n.toLocaleLowerCase().startsWith("delete page")){const e=n.split(" "),t=n.indexOf(e[3]);return{instruction:{type:Ra.DELETE_PAGES,startPage:+e[2],endPage:+e[2]},remainingText:n.slice(t)}}return{instruction:null,remainingText:n}},PMe=({text:n,page:e,lineNum:t,tokens:r})=>{if(t!=null&&n.toLocaleLowerCase().startsWith("delete token")){const s=n.split(" "),i=+s[0].slice(6),o=n.indexOf(s[1]);return{instruction:{type:Ra.DELETE_TOKEN,page:e,line:t,token:r[i]},remainingText:n.slice(o)}}return{instruction:null,remainingText:n}},DMe=(n,e,t,r)=>{if(!n.toLowerCase().trim().startsWith("insert:"))return{instruction:null,remainingText:n};if(r&&r.length>0){const i=r.map(o=>o.slice(1).map(l=>({...l,text:l.text.replace(new RegExp(`[${oR}${ote}"'"]`,"g"),"")})).filter(l=>l.text.trim()!=="")).filter(o=>o.length>0);return{instruction:{type:Ra.INSERT_LINES,page:e,atLine:t,lines:i},remainingText:""}}return{instruction:{type:Ra.INSERT_LINES,page:e,atLine:t,lines:[]},remainingText:""}},MMe=n=>{let e=1;return n.map(r=>{const s=r.instruction.lines.flatMap(v=>v.slice(1).flatMap(_=>_.text)).join("");console.log("instructionText",s);const{pageNumber:i,text:o}=OMe(s),{lineNumber:a,text2:l}=LMe(o),u=i||e;e=u;const{tokens:h,tokenizedText:p}=NMe(l),m=BMe(p),y=r.content?r.content.flatMap(v=>v.lines):[];return FMe({text:m,pageNum:u,lineNum:a,tokens:h,contentLines:y})})},OMe=n=>{const e=n.split(","),t=e[0];return t.toLocaleLowerCase().startsWith("on page")?{pageNumber:+t.split(" ")[2],text:e.slice(1).join(",")}:{pageNumber:void 0,text:e.join(",")}},LMe=n=>{const e=n.split(","),t=e[0];return t.toLocaleLowerCase().startsWith("line")?{lineNumber:+t.split(" ")[1],text2:e.slice(1).join(",")}:t.toLocaleLowerCase().startsWith("in line")?{lineNumber:+t.split(" ")[2],text2:e.slice(1).join(",")}:{lineNumber:void 0,text2:e.join(",")}},NMe=n=>{let e=1,t=[],r=n;for(;r.indexOf(oR)>0&&e<5;){const s=r.indexOf(oR),i=r.indexOf(ote);t.push(r.slice(s+1,i)),r=r.slice(0,s)+`TOKEN_${e}`+r.slice(i+1),e+=1}return{tokenizedText:r,tokens:t}},FMe=({text:n,pageNum:e,lineNum:t,tokens:r,contentLines:s})=>{const i=n.trim(),o=[],a=IMe(i,e);a.instruction&&o.push(a.instruction);const l=kMe(a.remainingText);l.instruction&&o.push(l.instruction);const u=PMe({text:l.remainingText,page:e,lineNum:t,tokens:r});u.instruction&&o.push(l.instruction);const h=a.instruction?a.instruction.startLine:t||1,p=DMe(u.remainingText,e,h,s);return p.instruction&&o.push(p.instruction),o},BMe=n=>n.split(" ").filter(e=>e!="and").join(" "),oR="",ote="";Sl.workerSrc=ite;const dB=async n=>{const e=`https://pdf-proxy.annamnorm61.workers.dev/?url=${encodeURIComponent(n)}`,t=await nee({url:e}).promise,r=[];for(let s=1;s<=t.numPages;s++){const i=await HMe(t,s);r.push(structuredClone(i))}return r},$Me=async n=>{const t=(await dB(n)).flatMap(i=>i.content),r=jMe(t),s=UMe(r);return MMe(s).flatMap(i=>i)},jMe=n=>{let e=[],t=[];for(const r of n)VMe(r)&&t.length>0&&(e.push({type:vG(t),lines:t}),t=[]),t.push(r);return e.push({type:vG(t),lines:t}),e},UMe=n=>{let e=[],t={};for(const r of n)r.type==="instruction"&&t.instruction&&(e.push(t),t={}),r.type==="instruction"?t.instruction=r:(t.content||(t.content=[]),t.content.push(r));return e.push(t),e},VMe=n=>{if(n.length<2)return!1;const e=n[0].x,t=n[1].x;return Math.round((t-e)/20)>=2},vG=n=>n[0].map(s=>s.text).slice(1).join("").charAt(0)===oR?"quote":"instruction",HMe=async(n,e)=>{const r=await(await n.getPage(e)).getTextContent(),s=zMe(r.items),i=WMe(s),o=GMe(i);return structuredClone(o)},zMe=n=>n.map(e=>({text:e.str,height:e.height,x:e.transform[4],y:e.transform[5],isBold:e.fontName.endsWith("_f2")})),WMe=n=>{var s;const e=[];let t=[],r=((s=n[0])==null?void 0:s.y)??0;n=[...n].sort((i,o)=>o.y-i.y);for(const i of n){if(Math.abs(i.y-r)>2){if(t.sort((l,u)=>l.x-u.x),t.length){e.push(t);const l=Math.round(Math.abs(i.y-r)/40);for(let u=0;u<l;u++)e.push([{height:1,isBold:!1,text:" ",x:i.x,y:i.y-u*23}])}t=[]}t.push(i),r=i.y}return e.push([...t]),e},qMe=n=>{let e=[];for(const t of n){const r=t.filter(s=>s.text!=="");r.length&&e.push(r)}return e},GMe=n=>{const e=[],t=[],r=[];let s=0;const i=qMe(n),o=(u,h)=>u<h.length,a=u=>!isNaN(+u.text)&&+u.text==1,l=u=>u.text===""||isNaN(+i[s][0].text.charAt(0));for(;o(s,i)&&!a(i[s][0]);)e.push(i[s]),s++;for(;o(s,i)&&!l(i[s][0]);)t.push(i[s]),s++;for(;o(s,i);)r.push(i[s]),s++;return{pre:e,content:t,post:r}},KMe=(n,e)=>{let t=n;return console.log("INSTRUCTIONS",e),e.forEach(r=>{if(r.type===Ra.DELETE_LINES){const s=r;let i={...t[r.page-1]},o=i.content,a=[];for(const l of o){const u=+l[0].text;u>=s.startLine&&u<=s.endLine||a.push(l)}i.content=a,t[r.page-1]=i}if(r.type===Ra.DELETE_PAGES&&console.log("DP"),r.type===Ra.DELETE_TOKEN&&console.log("DT"),r.type===Ra.INSERT_LINES){const s=r;let i={...t[s.page-1]},o=[...i.content],a=o.findIndex(h=>{var m;return+((m=h[0])==null?void 0:m.text)>=s.atLine});a===-1&&(a=o.length);const l=s.lines.map((h,p)=>{const m=s.atLine+p,y=o[0]||o[a-1];return[y?{...y[0],text:m.toString()}:{height:0,isBold:!1,text:m.toString(),x:0,y:0},...h]});o.splice(a,0,...l);const u=a;for(let h=u;h<o.length;h++){const p=s.atLine+(h-a),m=o[h];m&&m[0]&&(o[h]=[{...m[0],text:p.toString()},...m.slice(1)])}i.content=o,t[s.page-1]=i}r.type===Ra.INSERT_TOKEN&&console.log("IT")}),t},YMe=()=>{var b,v;const[n,e]=B.useState(),[t,r]=B.useState(!1),s=V8(),i=s.id,o=s.name,{getMeasureById:a}=uo(),l=a(i),[u,h]=B.useState(!1),p=o==null?void 0:o.includes("Amendment"),m=p?(b=l==null?void 0:l.MeasureDocuments)==null?void 0:b.find(_=>(o==null?void 0:o.includes(_.VersionDescription))&&o!==_.VersionDescription):void 0,y=(v=l==null?void 0:l.MeasureDocuments)==null?void 0:v.find(_=>_.VersionDescription===o);return B.useEffect(()=>{y&&(r(!0),(async()=>{try{const E=p&&u&&m?await dB(m.DocumentUrl):await dB(y.DocumentUrl),x=p?await $Me(y.DocumentUrl):[],C=p&&KMe(structuredClone(E),structuredClone(x));e(p&&u&&C?C:E)}catch(E){console.error("Error parsing file:",E)}finally{r(!1)}})())},[y,u,m,p]),!i||!l||!y?null:I.jsxs(ge,{sx:{display:"flex",flexDirection:"column",gap:2},children:[I.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[I.jsx(kPe,{measureId:i,pagesList:[],lastPageTitle:o||""}),(y==null?void 0:y.DocumentUrl)&&I.jsx(yj,{url:y==null?void 0:y.DocumentUrl})]}),I.jsx(YK,{value:"amend",children:(o==null?void 0:o.includes("Amendment"))&&I.jsx(pye,{value:"applyAmendment",control:I.jsx(e0e,{checked:u,onChange:_=>h(_.target.checked),color:"success"}),label:"Apply Amendments"})}),t?I.jsx(ge,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:I.jsx(rw,{})}):I.jsx(PPe,{bill:n})]})},HT={container:{display:"flex",flexDirection:"column",gap:"16px",alignItems:"flex-start"},dateAndDaysAgo:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},date:{color:"darkgreen",fontWeight:600},daysAgo:{color:"#a7a7a7"}},wG=({dateString:n})=>{var e=new Date(`${n}T00:00:00.000`);return I.jsx(ge,{sx:HT.container,children:I.jsxs(ge,{sx:HT.dateAndDaysAgo,children:[I.jsx(ge,{sx:HT.date,children:ESe(e)}),I.jsx(ge,{sx:HT.daysAgo,children:CSe(e)})]})})},XMe={container:{display:"flex",flexDirection:"column",gap:2}},JMe=({message:n,subtitle:e,sx:t})=>I.jsxs(ge,{sx:{...XMe.container,...t},children:[I.jsx(Ae,{variant:"h3",children:n}),I.jsx(Ae,{variant:"body2",children:e})]}),Ui={emptyObject:{marginTop:4},pageContainer:{display:"flex",flexDirection:"column",gap:2},header:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"flex-end",gap:{xs:1,sm:"unset"}},buttonGroup:{width:{xs:"100%",sm:"fit-content"},display:"flex"},buttonInGroup:{flexGrow:1},container:{display:"flex",flexDirection:"column"},dateSection:{display:"flex",flexDirection:"column",gap:2},items:{display:"flex",flexDirection:"column",gap:{xs:3,sm:1}},dateSectionContainer:{padding:{xs:2,md:4},display:"flex",flexDirection:"column",gap:2,borderRadius:"8px"},future:{backgroundColor:"#f7f7f7"}},ate=n=>{const[e,t,r]=n.split("-").map(Number);return new Date(e,t-1,r)},QMe=n=>{const e={};return Object.keys(n).filter(r=>{const s=ate(r),i=new Date;i.setHours(0,0,0,0);const o=!!n[r].find(l=>new Date(l.Date)>=new Date),a=!!Object.keys(_I).includes(r);return s>=i&&(o||a)}).forEach(r=>{const[s,i,o]=r.split("-").map(Number),a=new Date;if(s===a.getFullYear()&&i===a.getMonth()+1&&o===a.getDate()){const l=[];n[r].forEach(u=>{const[h,p]=u.Date.split("T"),[m,y,b]=h.split("-").map(Number),[v,_,E]=p.split(":").map(Number),x=new Date(m,y-1,b).setHours(v,_,0,0);new Date(x)>new Date&&l.push(u),l.length&&(e[r]=l)})}else e[r]=n[r]}),e},ZMe=n=>{const e={};return Object.keys(n).filter(r=>{const s=ate(r),i=new Date;i.setHours(0,0,0,0);const o=!!n[r].find(a=>new Date(a.Date)<=new Date);return s<=i&&o}).forEach(r=>{const[s,i,o]=r.split("-").map(Number),a=new Date;if(s===a.getFullYear()&&i===a.getMonth()+1&&o===a.getDate()){const l=[];n[r].forEach(u=>{const[h,p]=u.Date.split("T"),[m,y,b]=h.split("-").map(Number),[v,_,E]=p.split(":").map(Number),x=new Date(m,y-1,b).setHours(v,_,0,0);new Date(x)<new Date&&l.push(u),l.length&&(e[r]=l)})}else e[r]=n[r]}),e},bL={container:{width:"100%",boxSizing:"border-box",padding:1,backgroundColor:"#dedede",display:"flex",flexDirection:"row",justifyContent:"center",borderRadius:"8px",alignItems:"center",gap:2},text:{color:"black"}},e2e=({dateKey:n})=>{const e=_I[n];return I.jsxs(ge,{sx:bL.container,children:[I.jsxs(Ae,{sx:bL.text,children:["Next Legislative Deadline: ",e]}),I.jsx(Rs,{href:bSe,target:"_blank",children:I.jsx($X,{sx:bL.launchIcon,fontSize:"small"})})]})},t2e=()=>{const{unfilteredHistory:n,getFilteredUpdatesSortedByDate:e,getFilteredLatestUpdatesOnlyByDate:t,getFilteredUpdatesLength:r,getFilteredLatestUpdatesLength:s}=EI(),[i,o]=B.useState("all"),[a,l]=B.useState(void 0),u=B.useMemo(()=>i==="all"?e():t(),[i,n]),h=B.useMemo(()=>i==="all"?r():s(),[i,n]),p=B.useMemo(()=>QMe(u),[u]),m=B.useMemo(()=>ZMe(u),[u]),{areUserMeasuresLoading:y}=$r(),b=B.useMemo(()=>Object.keys(p).sort(),[p]);return Object.keys(u).length?I.jsxs(ge,{sx:Ui.pageContainer,children:[I.jsxs(ge,{sx:Ui.header,children:[I.jsxs(h0e,{sx:Ui.buttonGroup,value:i,exclusive:!0,onChange:(v,_)=>o(_),"aria-label":"update mode",children:[I.jsx(xs,{title:"See every update from each measure",children:I.jsx(g9,{sx:Ui.buttonInGroup,size:"small",value:"all",children:"All Updates"})}),I.jsx(xs,{title:"See each measures last update only",children:I.jsx(g9,{sx:Ui.buttonInGroup,size:"small",value:"last",children:"Last Update Only"})})]}),I.jsxs(Ae,{children:[h," items"]})]}),y&&I.jsx(ge,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:I.jsx(rw,{})}),!y&&I.jsx(I.Fragment,{children:I.jsxs(ge,{sx:Ui.container,children:[I.jsxs(ge,{sx:{...Ui.dateSectionContainer,...Ui.future},children:[I.jsx(Ae,{variant:"h4",children:"Upcoming"}),b.map(v=>I.jsxs(ge,{sx:Ui.dateSection,children:[I.jsx(wG,{dateString:v}),I.jsxs(ge,{sx:Ui.items,children:[Object.keys(_I).includes(v)&&I.jsx(e2e,{dateKey:v}),p[v].map(_=>I.jsx(_N,{selected:a===_.Key,toggleSelected:()=>l(a===_.Key?void 0:_.Key),updateItem:_,variant:"full"},_.Key))]})]},v))]}),I.jsxs(ge,{sx:Ui.dateSectionContainer,children:[I.jsx(Ae,{variant:"h4",children:"Past"}),Object.entries(m).map(([v,_])=>I.jsxs(ge,{sx:Ui.dateSection,children:[I.jsx(wG,{dateString:v}),I.jsx(ge,{sx:Ui.items,children:_.map(E=>I.jsx(_N,{selected:a===E.Key,toggleSelected:()=>l(a===E.Key?void 0:E.Key),updateItem:E,variant:"full"},E.Key))})]},v))]})]})})]}):I.jsx(JMe,{message:"Nothing to see here... yet! ",subtitle:"Start tracking bills to see where they have been.",sx:Ui.emptyObject})},bG=ie.memo(t2e);Sl.workerSrc=ite;function n2e(){return I.jsx("div",{style:{padding:20},children:I.jsx("h2",{children:"Oregon Bill Viewer - Three Versions"})})}const r2e=({})=>I.jsx(ge,{children:"Votes!!"}),s2e=()=>{const{currentUser:n}=Hc(),[e,t]=B.useState(""),[r,s]=B.useState(""),[i,o]=B.useState(!1);B.useEffect(()=>{n!=null&&n.email&&t(n.email)},[n]);const a=async()=>{if(!(!e||!r)){o(!0);try{await $_e({email:e,feedback:r,userId:(n==null?void 0:n.uid)||null,status:"Not addressed"}),t((n==null?void 0:n.email)||""),s("")}catch(l){console.error("Error submitting feedback:",l)}finally{o(!1)}}};return I.jsxs(ge,{sx:l=>({display:"flex",flexDirection:"column",gap:3,maxWidth:"800px",margin:"0 auto",padding:l.spacing(8,0)}),children:[I.jsx(Ae,{variant:"h2",children:"Share your feedback"}),I.jsxs(Ae,{variant:"body1",sx:{color:"text.secondary"},children:["Your thoughts and suggestions can help this tool improve. Whether you've found a bug, have a feature request, or just want to share your experience, please reach out.",I.jsx("br",{}),I.jsx("br",{}),"This form is the easiest for me to track, but I'm also available to connect at anna.mj.norman@gmail.com"]}),I.jsx(id,{label:"Email",type:"email",value:e,onChange:l=>t(l.target.value),required:!0,fullWidth:!0,placeholder:"Add an email here so I can get back to you",slotProps:{inputLabel:{shrink:!0}}}),I.jsx(id,{label:"Feedback",multiline:!0,rows:6,value:r,onChange:l=>s(l.target.value),placeholder:"Use this space to share your thoughts",required:!0,fullWidth:!0,slotProps:{inputLabel:{shrink:!0}}}),I.jsx(ur,{variant:"contained",onClick:a,disabled:!e||!r||i,sx:{alignSelf:"flex-end"},startIcon:i?I.jsx(rw,{size:20,color:"inherit"}):null,children:i?"Submitting...":"Submit"})]})},i2e=()=>{const{currentUser:n}=Hc(),[e,t]=B.useState([]),[r,s]=B.useState(!0),[i,o]=B.useState(null);B.useEffect(()=>{n&&a()},[n]);const a=async()=>{s(!0),o(null);try{const u=await j_e();t(u)}catch(u){console.error("Error loading feedback:",u),(u==null?void 0:u.code)==="permission-denied"?o("Access Denied: You do not have permission to view this page."):o("Error loading feedback. Please try again.")}finally{s(!1)}},l=async(u,h)=>{try{await U_e(u,h),t(p=>p.map(m=>m.id===u?{...m,status:h}:m))}catch(p){console.error("Error updating feedback status:",p)}};return n?r?I.jsx(ge,{sx:{display:"flex",justifyContent:"center",padding:4},children:I.jsx(rw,{})}):i?I.jsxs(ge,{sx:{padding:4,textAlign:"center"},children:[I.jsx(Ae,{variant:"h2",children:"Access Denied"}),I.jsx(Ae,{variant:"body1",children:i})]}):I.jsxs(ge,{sx:u=>({display:"flex",flexDirection:"column",gap:3,maxWidth:"1200px",margin:"0 auto",padding:u.spacing(4,2)}),children:[I.jsx(Ae,{variant:"h2",children:"Feedback Administration"}),I.jsxs(Ae,{variant:"body1",sx:{color:"text.secondary"},children:["Total feedback entries: ",e.length]}),e.length===0?I.jsx(Ae,{variant:"body1",children:"No feedback entries found."}):I.jsx(ge,{sx:{display:"flex",flexDirection:"column",gap:2},children:e.map(u=>I.jsx(vg,{sx:{padding:3},children:I.jsxs(ge,{sx:{display:"flex",flexDirection:"column",gap:2},children:[I.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[I.jsxs(ge,{children:[I.jsx(Ae,{variant:"h6",children:u.email}),I.jsx(Ae,{variant:"body2",sx:{color:"text.secondary"},children:u.timestamp?SI(u.timestamp.toDate()):"Date unavailable"}),u.userId&&I.jsxs(Ae,{variant:"body2",sx:{color:"text.secondary"},children:["User ID: ",u.userId]})]}),I.jsxs(T$,{sx:{minWidth:150},children:[I.jsx(R$,{children:"Status"}),I.jsxs(tI,{value:u.status,label:"Status",onChange:h=>l(u.id,h.target.value),children:[I.jsx(df,{value:"Not addressed",children:"Not addressed"}),I.jsx(df,{value:"in progress",children:"In progress"}),I.jsx(df,{value:"resolved",children:"Resolved"})]})]})]}),I.jsx(Ae,{variant:"body1",sx:{whiteSpace:"pre-wrap"},children:u.feedback})]})},u.id))})]}):I.jsx(ge,{sx:{padding:4,textAlign:"center"},children:I.jsx(Ae,{variant:"h2",children:"Please log in to access this page."})})};function lte(n,e){return function(){return n.apply(e,arguments)}}const{toString:o2e}=Object.prototype,{getPrototypeOf:AU}=Object,{iterator:lk,toStringTag:cte}=Symbol,ck=(n=>e=>{const t=o2e.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Bl=n=>(n=n.toLowerCase(),e=>ck(e)===n),uk=n=>e=>typeof e===n,{isArray:vw}=Array,Y0=uk("undefined");function H1(n){return n!==null&&!Y0(n)&&n.constructor!==null&&!Y0(n.constructor)&&oo(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const ute=Bl("ArrayBuffer");function a2e(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&ute(n.buffer),e}const l2e=uk("string"),oo=uk("function"),dte=uk("number"),z1=n=>n!==null&&typeof n=="object",c2e=n=>n===!0||n===!1,tA=n=>{if(ck(n)!=="object")return!1;const e=AU(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(cte in n)&&!(lk in n)},u2e=n=>{if(!z1(n)||H1(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},d2e=Bl("Date"),h2e=Bl("File"),f2e=Bl("Blob"),p2e=Bl("FileList"),m2e=n=>z1(n)&&oo(n.pipe),g2e=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||oo(n.append)&&((e=ck(n))==="formdata"||e==="object"&&oo(n.toString)&&n.toString()==="[object FormData]"))},y2e=Bl("URLSearchParams"),[v2e,w2e,b2e,_2e]=["ReadableStream","Request","Response","Headers"].map(Bl),S2e=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function W1(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),vw(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{if(H1(n))return;const i=t?Object.getOwnPropertyNames(n):Object.keys(n),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,n[a],a,n)}}function hte(n,e){if(H1(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const kp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fte=n=>!Y0(n)&&n!==kp;function hB(){const{caseless:n,skipUndefined:e}=fte(this)&&this||{},t={},r=(s,i)=>{const o=n&&hte(t,i)||i;tA(t[o])&&tA(s)?t[o]=hB(t[o],s):tA(s)?t[o]=hB({},s):vw(s)?t[o]=s.slice():(!e||!Y0(s))&&(t[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&W1(arguments[s],r);return t}const E2e=(n,e,t,{allOwnKeys:r}={})=>(W1(e,(s,i)=>{t&&oo(s)?n[i]=lte(s,t):n[i]=s},{allOwnKeys:r}),n),C2e=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),T2e=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},x2e=(n,e,t,r)=>{let s,i,o;const a={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),i=s.length;i-- >0;)o=s[i],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&AU(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},A2e=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},R2e=n=>{if(!n)return null;if(vw(n))return n;let e=n.length;if(!dte(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},I2e=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&AU(Uint8Array)),k2e=(n,e)=>{const r=(n&&n[lk]).call(n);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(n,i[0],i[1])}},P2e=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},D2e=Bl("HTMLFormElement"),M2e=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),_G=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),O2e=Bl("RegExp"),pte=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};W1(t,(s,i)=>{let o;(o=e(s,i,n))!==!1&&(r[i]=o||s)}),Object.defineProperties(n,r)},L2e=n=>{pte(n,(e,t)=>{if(oo(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(oo(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},N2e=(n,e)=>{const t={},r=s=>{s.forEach(i=>{t[i]=!0})};return vw(n)?r(n):r(String(n).split(e)),t},F2e=()=>{},B2e=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function $2e(n){return!!(n&&oo(n.append)&&n[cte]==="FormData"&&n[lk])}const j2e=n=>{const e=new Array(10),t=(r,s)=>{if(z1(r)){if(e.indexOf(r)>=0)return;if(H1(r))return r;if(!("toJSON"in r)){e[s]=r;const i=vw(r)?[]:{};return W1(r,(o,a)=>{const l=t(o,s+1);!Y0(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return t(n,0)},U2e=Bl("AsyncFunction"),V2e=n=>n&&(z1(n)||oo(n))&&oo(n.then)&&oo(n.catch),mte=((n,e)=>n?setImmediate:e?((t,r)=>(kp.addEventListener("message",({source:s,data:i})=>{s===kp&&i===t&&r.length&&r.shift()()},!1),s=>{r.push(s),kp.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",oo(kp.postMessage)),H2e=typeof queueMicrotask<"u"?queueMicrotask.bind(kp):typeof process<"u"&&process.nextTick||mte,z2e=n=>n!=null&&oo(n[lk]),fe={isArray:vw,isArrayBuffer:ute,isBuffer:H1,isFormData:g2e,isArrayBufferView:a2e,isString:l2e,isNumber:dte,isBoolean:c2e,isObject:z1,isPlainObject:tA,isEmptyObject:u2e,isReadableStream:v2e,isRequest:w2e,isResponse:b2e,isHeaders:_2e,isUndefined:Y0,isDate:d2e,isFile:h2e,isBlob:f2e,isRegExp:O2e,isFunction:oo,isStream:m2e,isURLSearchParams:y2e,isTypedArray:I2e,isFileList:p2e,forEach:W1,merge:hB,extend:E2e,trim:S2e,stripBOM:C2e,inherits:T2e,toFlatObject:x2e,kindOf:ck,kindOfTest:Bl,endsWith:A2e,toArray:R2e,forEachEntry:k2e,matchAll:P2e,isHTMLForm:D2e,hasOwnProperty:_G,hasOwnProp:_G,reduceDescriptors:pte,freezeMethods:L2e,toObjectSet:N2e,toCamelCase:M2e,noop:F2e,toFiniteNumber:B2e,findKey:hte,global:kp,isContextDefined:fte,isSpecCompliantForm:$2e,toJSONObject:j2e,isAsyncFn:U2e,isThenable:V2e,setImmediate:mte,asap:H2e,isIterable:z2e};function Rt(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}fe.inherits(Rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.status}}});const gte=Rt.prototype,yte={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{yte[n]={value:n}});Object.defineProperties(Rt,yte);Object.defineProperty(gte,"isAxiosError",{value:!0});Rt.from=(n,e,t,r,s,i)=>{const o=Object.create(gte);fe.toFlatObject(n,o,function(h){return h!==Error.prototype},u=>u!=="isAxiosError");const a=n&&n.message?n.message:"Error",l=e==null&&n?n.code:e;return Rt.call(o,a,l,t,r,s),n&&o.cause==null&&Object.defineProperty(o,"cause",{value:n,configurable:!0}),o.name=n&&n.name||"Error",i&&Object.assign(o,i),o};const W2e=null;function fB(n){return fe.isPlainObject(n)||fe.isArray(n)}function vte(n){return fe.endsWith(n,"[]")?n.slice(0,-2):n}function SG(n,e,t){return n?n.concat(e).map(function(s,i){return s=vte(s),!t&&i?"["+s+"]":s}).join(t?".":""):e}function q2e(n){return fe.isArray(n)&&!n.some(fB)}const G2e=fe.toFlatObject(fe,{},null,function(e){return/^is[A-Z]/.test(e)});function dk(n,e,t){if(!fe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=fe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,_){return!fe.isUndefined(_[v])});const r=t.metaTokens,s=t.visitor||h,i=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&fe.isSpecCompliantForm(e);if(!fe.isFunction(s))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(fe.isDate(b))return b.toISOString();if(fe.isBoolean(b))return b.toString();if(!l&&fe.isBlob(b))throw new Rt("Blob is not supported. Use a Buffer instead.");return fe.isArrayBuffer(b)||fe.isTypedArray(b)?l&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,v,_){let E=b;if(b&&!_&&typeof b=="object"){if(fe.endsWith(v,"{}"))v=r?v:v.slice(0,-2),b=JSON.stringify(b);else if(fe.isArray(b)&&q2e(b)||(fe.isFileList(b)||fe.endsWith(v,"[]"))&&(E=fe.toArray(b)))return v=vte(v),E.forEach(function(C,A){!(fe.isUndefined(C)||C===null)&&e.append(o===!0?SG([v],A,i):o===null?v:v+"[]",u(C))}),!1}return fB(b)?!0:(e.append(SG(_,v,i),u(b)),!1)}const p=[],m=Object.assign(G2e,{defaultVisitor:h,convertValue:u,isVisitable:fB});function y(b,v){if(!fe.isUndefined(b)){if(p.indexOf(b)!==-1)throw Error("Circular reference detected in "+v.join("."));p.push(b),fe.forEach(b,function(E,x){(!(fe.isUndefined(E)||E===null)&&s.call(e,E,fe.isString(x)?x.trim():x,v,m))===!0&&y(E,v?v.concat(x):[x])}),p.pop()}}if(!fe.isObject(n))throw new TypeError("data must be an object");return y(n),e}function EG(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function RU(n,e){this._pairs=[],n&&dk(n,this,e)}const wte=RU.prototype;wte.append=function(e,t){this._pairs.push([e,t])};wte.toString=function(e){const t=e?function(r){return e.call(this,r,EG)}:EG;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function K2e(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function bte(n,e,t){if(!e)return n;const r=t&&t.encode||K2e;fe.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let i;if(s?i=s(e,t):i=fe.isURLSearchParams(e)?e.toString():new RU(e,t).toString(r),i){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+i}return n}class CG{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){fe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const _te={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Y2e=typeof URLSearchParams<"u"?URLSearchParams:RU,X2e=typeof FormData<"u"?FormData:null,J2e=typeof Blob<"u"?Blob:null,Q2e={isBrowser:!0,classes:{URLSearchParams:Y2e,FormData:X2e,Blob:J2e},protocols:["http","https","file","blob","url","data"]},IU=typeof window<"u"&&typeof document<"u",pB=typeof navigator=="object"&&navigator||void 0,Z2e=IU&&(!pB||["ReactNative","NativeScript","NS"].indexOf(pB.product)<0),eOe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tOe=IU&&window.location.href||"http://localhost",nOe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:IU,hasStandardBrowserEnv:Z2e,hasStandardBrowserWebWorkerEnv:eOe,navigator:pB,origin:tOe},Symbol.toStringTag,{value:"Module"})),ui={...nOe,...Q2e};function rOe(n,e){return dk(n,new ui.classes.URLSearchParams,{visitor:function(t,r,s,i){return ui.isNode&&fe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function sOe(n){return fe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function iOe(n){const e={},t=Object.keys(n);let r;const s=t.length;let i;for(r=0;r<s;r++)i=t[r],e[i]=n[i];return e}function Ste(n){function e(t,r,s,i){let o=t[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=t.length;return o=!o&&fe.isArray(s)?s.length:o,l?(fe.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!fe.isObject(s[o]))&&(s[o]=[]),e(t,r,s[o],i)&&fe.isArray(s[o])&&(s[o]=iOe(s[o])),!a)}if(fe.isFormData(n)&&fe.isFunction(n.entries)){const t={};return fe.forEachEntry(n,(r,s)=>{e(sOe(r),s,t,0)}),t}return null}function oOe(n,e,t){if(fe.isString(n))try{return(e||JSON.parse)(n),fe.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const q1={transitional:_te,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,i=fe.isObject(e);if(i&&fe.isHTMLForm(e)&&(e=new FormData(e)),fe.isFormData(e))return s?JSON.stringify(Ste(e)):e;if(fe.isArrayBuffer(e)||fe.isBuffer(e)||fe.isStream(e)||fe.isFile(e)||fe.isBlob(e)||fe.isReadableStream(e))return e;if(fe.isArrayBufferView(e))return e.buffer;if(fe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return rOe(e,this.formSerializer).toString();if((a=fe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return dk(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),oOe(e)):e}],transformResponse:[function(e){const t=this.transitional||q1.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(fe.isResponse(e)||fe.isReadableStream(e))return e;if(e&&fe.isString(e)&&(r&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?Rt.from(a,Rt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ui.classes.FormData,Blob:ui.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fe.forEach(["delete","get","head","post","put","patch"],n=>{q1.headers[n]={}});const aOe=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lOe=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!t||e[t]&&aOe[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},TG=Symbol("internals");function Eb(n){return n&&String(n).trim().toLowerCase()}function nA(n){return n===!1||n==null?n:fe.isArray(n)?n.map(nA):String(n)}function cOe(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const uOe=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function _L(n,e,t,r,s){if(fe.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!fe.isString(e)){if(fe.isString(r))return e.indexOf(r)!==-1;if(fe.isRegExp(r))return r.test(e)}}function dOe(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function hOe(n,e){const t=fe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}let ao=class{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function i(a,l,u){const h=Eb(l);if(!h)throw new Error("header name must be a non-empty string");const p=fe.findKey(s,h);(!p||s[p]===void 0||u===!0||u===void 0&&s[p]!==!1)&&(s[p||l]=nA(a))}const o=(a,l)=>fe.forEach(a,(u,h)=>i(u,h,l));if(fe.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(fe.isString(e)&&(e=e.trim())&&!uOe(e))o(lOe(e),t);else if(fe.isObject(e)&&fe.isIterable(e)){let a={},l,u;for(const h of e){if(!fe.isArray(h))throw TypeError("Object iterator must return a key-value pair");a[u=h[0]]=(l=a[u])?fe.isArray(l)?[...l,h[1]]:[l,h[1]]:h[1]}o(a,t)}else e!=null&&i(t,e,r);return this}get(e,t){if(e=Eb(e),e){const r=fe.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return cOe(s);if(fe.isFunction(t))return t.call(this,s,r);if(fe.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Eb(e),e){const r=fe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||_L(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function i(o){if(o=Eb(o),o){const a=fe.findKey(r,o);a&&(!t||_L(r,r[a],a,t))&&(delete r[a],s=!0)}}return fe.isArray(e)?e.forEach(i):i(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const i=t[r];(!e||_L(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const t=this,r={};return fe.forEach(this,(s,i)=>{const o=fe.findKey(r,i);if(o){t[o]=nA(s),delete t[i];return}const a=e?dOe(i):String(i).trim();a!==i&&delete t[i],t[a]=nA(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return fe.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&fe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[TG]=this[TG]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Eb(o);r[a]||(hOe(s,o),r[a]=!0)}return fe.isArray(e)?e.forEach(i):i(e),this}};ao.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fe.reduceDescriptors(ao.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});fe.freezeMethods(ao);function SL(n,e){const t=this||q1,r=e||t,s=ao.from(r.headers);let i=r.data;return fe.forEach(n,function(a){i=a.call(t,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Ete(n){return!!(n&&n.__CANCEL__)}function ww(n,e,t){Rt.call(this,n??"canceled",Rt.ERR_CANCELED,e,t),this.name="CanceledError"}fe.inherits(ww,Rt,{__CANCEL__:!0});function Cte(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Rt("Request failed with status code "+t.status,[Rt.ERR_BAD_REQUEST,Rt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function fOe(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function pOe(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),h=r[i];o||(o=u),t[s]=l,r[s]=u;let p=i,m=0;for(;p!==s;)m+=t[p++],p=p%n;if(s=(s+1)%n,s===i&&(i=(i+1)%n),u-o<e)return;const y=h&&u-h;return y?Math.round(m*1e3/y):void 0}}function mOe(n,e){let t=0,r=1e3/e,s,i;const o=(u,h=Date.now())=>{t=h,s=null,i&&(clearTimeout(i),i=null),n(...u)};return[(...u)=>{const h=Date.now(),p=h-t;p>=r?o(u,h):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-p)))},()=>s&&o(s)]}const aR=(n,e,t=3)=>{let r=0;const s=pOe(50,250);return mOe(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,u=s(l),h=o<=a;r=o;const p={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&h?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(p)},t)},xG=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},AG=n=>(...e)=>fe.asap(()=>n(...e)),gOe=ui.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ui.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ui.origin),ui.navigator&&/(msie|trident)/i.test(ui.navigator.userAgent)):()=>!0,yOe=ui.hasStandardBrowserEnv?{write(n,e,t,r,s,i,o){if(typeof document>"u")return;const a=[`${n}=${encodeURIComponent(e)}`];fe.isNumber(t)&&a.push(`expires=${new Date(t).toUTCString()}`),fe.isString(r)&&a.push(`path=${r}`),fe.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),fe.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function vOe(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function wOe(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Tte(n,e,t){let r=!vOe(e);return n&&(r||t==!1)?wOe(n,e):e}const RG=n=>n instanceof ao?{...n}:n;function fg(n,e){e=e||{};const t={};function r(u,h,p,m){return fe.isPlainObject(u)&&fe.isPlainObject(h)?fe.merge.call({caseless:m},u,h):fe.isPlainObject(h)?fe.merge({},h):fe.isArray(h)?h.slice():h}function s(u,h,p,m){if(fe.isUndefined(h)){if(!fe.isUndefined(u))return r(void 0,u,p,m)}else return r(u,h,p,m)}function i(u,h){if(!fe.isUndefined(h))return r(void 0,h)}function o(u,h){if(fe.isUndefined(h)){if(!fe.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function a(u,h,p){if(p in e)return r(u,h);if(p in n)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,h,p)=>s(RG(u),RG(h),p,!0)};return fe.forEach(Object.keys({...n,...e}),function(h){const p=l[h]||s,m=p(n[h],e[h],h);fe.isUndefined(m)&&p!==a||(t[h]=m)}),t}const xte=n=>{const e=fg({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;if(e.headers=o=ao.from(o),e.url=bte(Tte(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),fe.isFormData(t)){if(ui.hasStandardBrowserEnv||ui.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(fe.isFunction(t.getHeaders)){const l=t.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([h,p])=>{u.includes(h.toLowerCase())&&o.set(h,p)})}}if(ui.hasStandardBrowserEnv&&(r&&fe.isFunction(r)&&(r=r(e)),r||r!==!1&&gOe(e.url))){const l=s&&i&&yOe.read(i);l&&o.set(s,l)}return e},bOe=typeof XMLHttpRequest<"u",_Oe=bOe&&function(n){return new Promise(function(t,r){const s=xte(n);let i=s.data;const o=ao.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=s,h,p,m,y,b;function v(){y&&y(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let _=new XMLHttpRequest;_.open(s.method.toUpperCase(),s.url,!0),_.timeout=s.timeout;function E(){if(!_)return;const C=ao.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:C,config:n,request:_};Cte(function(P){t(P),v()},function(P){r(P),v()},k),_=null}"onloadend"in _?_.onloadend=E:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(E)},_.onabort=function(){_&&(r(new Rt("Request aborted",Rt.ECONNABORTED,n,_)),_=null)},_.onerror=function(A){const k=A&&A.message?A.message:"Network Error",L=new Rt(k,Rt.ERR_NETWORK,n,_);L.event=A||null,r(L),_=null},_.ontimeout=function(){let A=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const k=s.transitional||_te;s.timeoutErrorMessage&&(A=s.timeoutErrorMessage),r(new Rt(A,k.clarifyTimeoutError?Rt.ETIMEDOUT:Rt.ECONNABORTED,n,_)),_=null},i===void 0&&o.setContentType(null),"setRequestHeader"in _&&fe.forEach(o.toJSON(),function(A,k){_.setRequestHeader(k,A)}),fe.isUndefined(s.withCredentials)||(_.withCredentials=!!s.withCredentials),a&&a!=="json"&&(_.responseType=s.responseType),u&&([m,b]=aR(u,!0),_.addEventListener("progress",m)),l&&_.upload&&([p,y]=aR(l),_.upload.addEventListener("progress",p),_.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(h=C=>{_&&(r(!C||C.type?new ww(null,n,_):C),_.abort(),_=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const x=fOe(s.url);if(x&&ui.protocols.indexOf(x)===-1){r(new Rt("Unsupported protocol "+x+":",Rt.ERR_BAD_REQUEST,n));return}_.send(i||null)})},SOe=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const h=u instanceof Error?u:this.reason;r.abort(h instanceof Rt?h:new ww(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,i(new Rt(`timeout ${e} of ms exceeded`,Rt.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),n=null)};n.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>fe.asap(a),l}},EOe=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,s;for(;r<t;)s=r+e,yield n.slice(r,s),r=s},COe=async function*(n,e){for await(const t of TOe(n))yield*EOe(t,e)},TOe=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},IG=(n,e,t,r)=>{const s=COe(n,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:h}=await s.next();if(u){a(),l.close();return}let p=h.byteLength;if(t){let m=i+=p;t(m)}l.enqueue(new Uint8Array(h))}catch(u){throw a(u),u}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},kG=64*1024,{isFunction:zT}=fe,xOe=(({Request:n,Response:e})=>({Request:n,Response:e}))(fe.global),{ReadableStream:PG,TextEncoder:DG}=fe.global,MG=(n,...e)=>{try{return!!n(...e)}catch{return!1}},AOe=n=>{n=fe.merge.call({skipUndefined:!0},xOe,n);const{fetch:e,Request:t,Response:r}=n,s=e?zT(e):typeof fetch=="function",i=zT(t),o=zT(r);if(!s)return!1;const a=s&&zT(PG),l=s&&(typeof DG=="function"?(b=>v=>b.encode(v))(new DG):async b=>new Uint8Array(await new t(b).arrayBuffer())),u=i&&a&&MG(()=>{let b=!1;const v=new t(ui.origin,{body:new PG,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!v}),h=o&&a&&MG(()=>fe.isReadableStream(new r("").body)),p={stream:h&&(b=>b.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!p[b]&&(p[b]=(v,_)=>{let E=v&&v[b];if(E)return E.call(v);throw new Rt(`Response type '${b}' is not supported`,Rt.ERR_NOT_SUPPORT,_)})});const m=async b=>{if(b==null)return 0;if(fe.isBlob(b))return b.size;if(fe.isSpecCompliantForm(b))return(await new t(ui.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(fe.isArrayBufferView(b)||fe.isArrayBuffer(b))return b.byteLength;if(fe.isURLSearchParams(b)&&(b=b+""),fe.isString(b))return(await l(b)).byteLength},y=async(b,v)=>{const _=fe.toFiniteNumber(b.getContentLength());return _??m(v)};return async b=>{let{url:v,method:_,data:E,signal:x,cancelToken:C,timeout:A,onDownloadProgress:k,onUploadProgress:L,responseType:P,headers:D,withCredentials:F="same-origin",fetchOptions:T}=xte(b),$=e||fetch;P=P?(P+"").toLowerCase():"text";let z=SOe([x,C&&C.toAbortSignal()],A),j=null;const Y=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let Z;try{if(L&&u&&_!=="get"&&_!=="head"&&(Z=await y(D,E))!==0){let q=new t(v,{method:"POST",body:E,duplex:"half"}),K;if(fe.isFormData(E)&&(K=q.headers.get("content-type"))&&D.setContentType(K),q.body){const[ne,le]=xG(Z,aR(AG(L)));E=IG(q.body,kG,ne,le)}}fe.isString(F)||(F=F?"include":"omit");const J=i&&"credentials"in t.prototype,ee={...T,signal:z,method:_.toUpperCase(),headers:D.normalize().toJSON(),body:E,duplex:"half",credentials:J?F:void 0};j=i&&new t(v,ee);let Q=await(i?$(j,T):$(v,ee));const te=h&&(P==="stream"||P==="response");if(h&&(k||te&&Y)){const q={};["status","statusText","headers"].forEach(ce=>{q[ce]=Q[ce]});const K=fe.toFiniteNumber(Q.headers.get("content-length")),[ne,le]=k&&xG(K,aR(AG(k),!0))||[];Q=new r(IG(Q.body,kG,ne,()=>{le&&le(),Y&&Y()}),q)}P=P||"text";let de=await p[fe.findKey(p,P)||"text"](Q,b);return!te&&Y&&Y(),await new Promise((q,K)=>{Cte(q,K,{data:de,headers:ao.from(Q.headers),status:Q.status,statusText:Q.statusText,config:b,request:j})})}catch(J){throw Y&&Y(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new Rt("Network Error",Rt.ERR_NETWORK,b,j),{cause:J.cause||J}):Rt.from(J,J&&J.code,b,j)}}},ROe=new Map,Ate=n=>{let e=n&&n.env||{};const{fetch:t,Request:r,Response:s}=e,i=[r,s,t];let o=i.length,a=o,l,u,h=ROe;for(;a--;)l=i[a],u=h.get(l),u===void 0&&h.set(l,u=a?new Map:AOe(e)),h=u;return u};Ate();const kU={http:W2e,xhr:_Oe,fetch:{get:Ate}};fe.forEach(kU,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const OG=n=>`- ${n}`,IOe=n=>fe.isFunction(n)||n===null||n===!1;function kOe(n,e){n=fe.isArray(n)?n:[n];const{length:t}=n;let r,s;const i={};for(let o=0;o<t;o++){r=n[o];let a;if(s=r,!IOe(r)&&(s=kU[(a=String(r)).toLowerCase()],s===void 0))throw new Rt(`Unknown adapter '${a}'`);if(s&&(fe.isFunction(s)||(s=s.get(e))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=t?o.length>1?`since :
`+o.map(OG).join(`
`):" "+OG(o[0]):"as no adapter specified";throw new Rt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const Rte={getAdapter:kOe,adapters:kU};function EL(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ww(null,n)}function LG(n){return EL(n),n.headers=ao.from(n.headers),n.data=SL.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Rte.getAdapter(n.adapter||q1.adapter,n)(n).then(function(r){return EL(n),r.data=SL.call(n,n.transformResponse,r),r.headers=ao.from(r.headers),r},function(r){return Ete(r)||(EL(n),r&&r.response&&(r.response.data=SL.call(n,n.transformResponse,r.response),r.response.headers=ao.from(r.response.headers))),Promise.reject(r)})}const Ite="1.13.2",hk={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{hk[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const NG={};hk.transitional=function(e,t,r){function s(i,o){return"[Axios v"+Ite+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new Rt(s(o," has been removed"+(t?" in "+t:"")),Rt.ERR_DEPRECATED);return t&&!NG[o]&&(NG[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,a):!0}};hk.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function POe(n,e,t){if(typeof n!="object")throw new Rt("options must be an object",Rt.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=n[i],l=a===void 0||o(a,i,n);if(l!==!0)throw new Rt("option "+i+" must be "+l,Rt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Rt("Unknown option "+i,Rt.ERR_BAD_OPTION)}}const rA={assertOptions:POe,validators:hk},Ql=rA.validators;let Ym=class{constructor(e){this.defaults=e||{},this.interceptors={request:new CG,response:new CG}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=fg(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:i}=t;r!==void 0&&rA.assertOptions(r,{silentJSONParsing:Ql.transitional(Ql.boolean),forcedJSONParsing:Ql.transitional(Ql.boolean),clarifyTimeoutError:Ql.transitional(Ql.boolean)},!1),s!=null&&(fe.isFunction(s)?t.paramsSerializer={serialize:s}:rA.assertOptions(s,{encode:Ql.function,serialize:Ql.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),rA.assertOptions(t,{baseUrl:Ql.spelling("baseURL"),withXsrfToken:Ql.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&fe.merge(i.common,i[t.method]);i&&fe.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),t.headers=ao.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let h,p=0,m;if(!l){const b=[LG.bind(this),void 0];for(b.unshift(...a),b.push(...u),m=b.length,h=Promise.resolve(t);p<m;)h=h.then(b[p++],b[p++]);return h}m=a.length;let y=t;for(;p<m;){const b=a[p++],v=a[p++];try{y=b(y)}catch(_){v.call(this,_);break}}try{h=LG.call(this,y)}catch(b){return Promise.reject(b)}for(p=0,m=u.length;p<m;)h=h.then(u[p++],u[p++]);return h}getUri(e){e=fg(this.defaults,e);const t=Tte(e.baseURL,e.url,e.allowAbsoluteUrls);return bte(t,e.params,e.paramsSerializer)}};fe.forEach(["delete","get","head","options"],function(e){Ym.prototype[e]=function(t,r){return this.request(fg(r||{},{method:e,url:t,data:(r||{}).data}))}});fe.forEach(["post","put","patch"],function(e){function t(r){return function(i,o,a){return this.request(fg(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ym.prototype[e]=t(),Ym.prototype[e+"Form"]=t(!0)});let DOe=class kte{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new ww(i,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new kte(function(s){e=s}),cancel:e}}};function MOe(n){return function(t){return n.apply(null,t)}}function OOe(n){return fe.isObject(n)&&n.isAxiosError===!0}const mB={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(mB).forEach(([n,e])=>{mB[e]=n});function Pte(n){const e=new Ym(n),t=lte(Ym.prototype.request,e);return fe.extend(t,Ym.prototype,e,{allOwnKeys:!0}),fe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return Pte(fg(n,s))},t}const dr=Pte(q1);dr.Axios=Ym;dr.CanceledError=ww;dr.CancelToken=DOe;dr.isCancel=Ete;dr.VERSION=Ite;dr.toFormData=dk;dr.AxiosError=Rt;dr.Cancel=dr.CanceledError;dr.all=function(e){return Promise.all(e)};dr.spread=MOe;dr.isAxiosError=OOe;dr.mergeConfig=fg;dr.AxiosHeaders=ao;dr.formToJSON=n=>Ste(fe.isHTMLForm(n)?new FormData(n):n);dr.getAdapter=Rte.getAdapter;dr.HttpStatusCode=mB;dr.default=dr;const{Axios:oLe,AxiosError:aLe,CanceledError:lLe,isCancel:cLe,CancelToken:uLe,VERSION:dLe,all:hLe,Cancel:fLe,isAxiosError:pLe,spread:mLe,toFormData:gLe,AxiosHeaders:yLe,HttpStatusCode:vLe,formToJSON:wLe,getAdapter:bLe,mergeConfig:_Le}=dr,fk="https://api.oregonlegislature.gov/odata/odataservice.svc/",LOe=async n=>{var t,r;const e=XK(n);try{const s=await dr.get(`${fk}/Measures?$filter=${e}&$expand=CommitteeMeetingDocuments,MeasureDocuments,MeasureHistoryActions,MeasureSponsors`);return(r=(t=s==null?void 0:s.data)==null?void 0:t.value)!=null&&r.length||console.log("no bill"),s.data}catch(s){if(console.log("Error fetching measures:",s.status,s.status===400),s.status===400)console.log("no bill");else throw s}},NOe=async n=>{const e=XK(n);try{return(await dr.get(`${fk}/CommitteeAgendaItems?$filter=${e}&$expand=CommitteeMeeting`)).data}catch(t){throw console.error("Error fetching agenda items:",t),t}},FOe=async()=>{const n=JK();try{return(await dr.get(`${fk}/Committees?$filter=${n}`)).data}catch(e){throw console.error("Error fetching committees:",e),e}},BOe=async()=>{const n=JK();try{return(await dr.get(`${fk}/Legislators?$filter=${n}`)).data}catch(e){throw console.error("Error fetching Legislators:",e),e}},$Oe=()=>{const n=$r(C=>C.userTrackedMeasures),e=$r(C=>C.groupMeasures),t=$r(C=>C.getAllMeasureIdsForFetching),{setLoadingMeasureIds:r}=uo(),[s,i]=B.useState(jOe()),[o,a]=B.useState(!1),[l,u]=B.useState(UOe()),[h,p]=B.useState(!1),[m,y]=B.useState(VOe()),[b,v]=B.useState(!1),_=B.useMemo(()=>t(),[n,e,t]);let E=l?FG(l):!0,x=m?BG(m):!0;return B.useEffect(()=>{if(!_||_.length===0)return;const{refreshList:C,removeList:A}=HOe(s,_);E=l?FG(l):!0,x=m?BG(m):!0,a(!0);const k=new Set(C);r(k);const L=new Set,P=(D,F)=>{const T=`${D}-${F}`;L.add(T);const $=L.has(`${D}-measure`),z=L.has(`${D}-agenda`);$&&z&&r(j=>{const Y=new Set(j);return Y.delete(D),Y}),L.size===C.length*2&&a(!1)};C.forEach(D=>{LOe(D).then(F=>{i(T=>({...T,[D]:{...T[D],MeasureData:F,lastUpdate:new Date().toISOString()}})),P(D,"measure")}).catch(()=>{P(D,"measure")})}),C.forEach(D=>{NOe(D).then(F=>{i(T=>({...T,[D]:{...T[D],CommitteeAgendaItems:F,lastUpdate:new Date().toISOString()}})),P(D,"agenda")}).catch(()=>{P(D,"agenda")})}),i(D=>Object.fromEntries(Object.entries(D).filter(([T])=>!A.includes(T))))},[_]),B.useEffect(()=>{p(!0),FOe().then(C=>{u({...C,lastUpdate:new Date().toISOString()}),p(!1)})},[E]),B.useEffect(()=>{v(!0),BOe().then(C=>{y({...C,lastUpdate:new Date().toISOString()}),v(!1)})},[x]),B.useEffect(()=>{localStorage.setItem("Measures",JSON.stringify(s))},[s]),B.useEffect(()=>{localStorage.setItem("Committees",JSON.stringify(l))},[l]),B.useEffect(()=>{localStorage.setItem("Legislators",JSON.stringify(m))},[m]),{measuresCacheObject:s,isMeasureCacheObjectLoading:o,committeesCacheObject:l,isCommitteesCacheObjectLoading:h,legislatorsCacheObject:m,isLegislatorsCacheObjectLoading:b}},jOe=()=>{const n=localStorage.getItem("Measures");return n?JSON.parse(n):{}},UOe=()=>{const n=localStorage.getItem("Committees");return n?JSON.parse(n):null},VOe=()=>{const n=localStorage.getItem("Legislators");return n?JSON.parse(n):null},HOe=(n,e)=>{const t=[],r=[],s=Object.keys(n);return e.forEach(i=>{(!s.includes(i)||xSe(n[i].lastUpdate))&&t.push(i)}),s.forEach(i=>{e.includes(i)||r.push(i)}),{refreshList:t,removeList:r}},FG=n=>n?LX(n.lastUpdate):!0,BG=n=>n?LX(n.lastUpdate):!0,zOe=()=>{const{currentUser:n}=Hc(),{setUserTrackedMeasures:e,setAreUserMeasuresLoading:t,setUserGroups:r,setGroupMeasures:s}=$r();B.useEffect(()=>{console.log("currentUser",n),n?(t(!0),B_e(n).then(i=>{e(i),t(!1)}).catch(i=>{console.error("Error fetching user measures:",i),t(!1)})):(e(void 0),t(!1))},[n,e,t]),B.useEffect(()=>{n?(H_e(n.uid).then(i=>{r(i)}).catch(i=>{console.error("Error fetching user groups:",i)}),q0(n.uid).then(i=>{s(i)}).catch(i=>{console.error("Error fetching user group measures:",i)})):(r([]),s({}))},[n,r,s])},WOe=n=>{const{setUnfilteredCommittees:e}=gj(),t=B.useMemo(()=>n?n.value:[],[n]);B.useEffect(()=>{e(t)},[t])},qOe=n=>{const{setUnfilteredLegislators:e}=BX(),t=B.useMemo(()=>n?n.value:[],[n]);B.useEffect(()=>{e(t)},[t])},GOe=n=>{const{setUnfilteredMeasures:e}=uo(),{setUnfilteredHistory:t}=EI(),{setUnfilteredCommitteeAgenda:r}=_1(),s=B.useMemo(()=>Object.entries(n).map(([a,l])=>l.MeasureData).filter(a=>a!==void 0),[n]),i=B.useMemo(()=>Object.entries(n).flatMap(([a,l])=>{var u,h,p;return((p=(h=(u=l.MeasureData)==null?void 0:u.value)==null?void 0:h[0])==null?void 0:p.MeasureHistoryActions)||[]}),[n]),o=B.useMemo(()=>Object.entries(n).flatMap(([a,l])=>{var u;return((u=l.CommitteeAgendaItems)==null?void 0:u.value)||[]}),[n]);B.useEffect(()=>{e(s)},[s]),B.useEffect(()=>{t(i)},[i]),B.useEffect(()=>{r(o)},[o])},KOe=()=>{zOe();const{measuresCacheObject:n,committeesCacheObject:e,legislatorsCacheObject:t}=$Oe();GOe(n),WOe(e),qOe(t)},Cb="#3E753B",Tb="#000",YOe="#585858",$G="#757575",XOe="#fff",JOe="2px 2px 4px 0px rgba(127, 127, 132, 0.2)",QOe="#EFFAEF",ZOe=$R({palette:{primary:{light:QOe,main:"#D4ECD4",dark:Cb},grey:{}},typography:{fontFamily:"'Inter', sans-serif",h1:{fontSize:"1.5rem",fontWeight:700,color:Tb},h2:{fontSize:"1.25rem",fontWeight:700,color:Tb},h3:{fontSize:"1.25rem",fontWeight:700,color:Cb},h4:{fontSize:"1.25rem",fontWeight:600,color:Tb},h5:{fontSize:"1rem",fontWeight:700,color:Tb},h6:{fontSize:"1rem",fontWeight:600,color:Cb},body1:{fontSize:"1rem",fontWeight:400,color:Tb},body2:{fontSize:"1rem",fontWeight:400,color:YOe},subtitle1:{fontSize:"1rem",fontWeight:400,color:Cb},subtitle2:{fontSize:"1rem",fontWeight:400,color:$G},button:{fontSize:"1rem",fontWeight:600,color:Cb},overline:{fontSize:"1rem",fontWeight:600,color:XOe,lineHeight:1.75},caption:{fontSize:"0.75rem",fontWeight:400,color:$G}},components:{MuiButton:{variants:[{props:{variant:"filled"},style:{backgroundColor:"#3E753B",color:"#fff",borderRadius:"40px",height:"44px",padding:"0px 24px",textTransform:"none","&:hover":{backgroundColor:"#5B8D59"},"&:disabled":{backgroundColor:"#D4DFD4",color:"#9EB09E"}}}],styleOverrides:{root:{borderRadius:"4px",textTransform:"none"},outlined:{borderRadius:"8px",border:"2px solid #ccc",color:"#000",fontWeight:600,display:"flex",flexDirection:"row",gap:"8px",boxShadow:JOe,"&:hover":{backgroundColor:"#f7f7f7",boxShadow:"none"}},text:{color:"#3E753B",padding:0}}},MuiTextField:{defaultProps:{variant:"outlined"},styleOverrides:{root:{"& .MuiOutlinedInput-root":{color:"#000",backgroundColor:"#EFEFEF",borderRadius:8,"&:hover":{backgroundColor:"#e8e8e8",borderColor:"transparent"},"& .MuiInputBase-input":{padding:"12px 16px"},"& fieldset":{borderColor:"transparent"},"&:hover fieldset":{borderColor:"transparent"},"&.Mui-focused fieldset":{borderColor:"#BABABA"}}}}},MuiPopover:{styleOverrides:{paper:{borderRadius:"8px"}}},MuiTooltip:{defaultProps:{arrow:!0,enterDelay:250,enterNextDelay:250,slotProps:{tooltip:{sx:{fontSize:"1rem",backgroundColor:"#333"}},arrow:{sx:{color:"#333"}}}}}}});function eLe(){const n=sessionStorage.getItem("gh-path");return n&&(sessionStorage.removeItem("gh-path"),n!==window.location.pathname+window.location.search+window.location.hash&&history.replaceState(null,"",n)),KOe(),I.jsxs(Soe,{theme:ZOe,children:[I.jsx(YSe,{}),I.jsx("div",{className:"app-container",children:I.jsx(Bae,{children:I.jsxs(mae,{children:[I.jsx(da,{path:"/",element:I.jsx(al,{children:I.jsx(bG,{})})}),I.jsx(da,{path:"/bill/:id/document/:name",element:I.jsx(al,{children:I.jsx(YMe,{})})}),I.jsx(da,{path:"/bill/:id",element:I.jsx(al,{children:I.jsx(jX,{})})}),I.jsx(da,{path:"/parser",element:I.jsx(al,{children:I.jsx(n2e,{})})}),I.jsx(da,{path:"/calendar",element:I.jsx(al,{children:I.jsx(RPe,{})})}),I.jsx(da,{path:"/updates",element:I.jsx(al,{children:I.jsx(bG,{})})}),I.jsx(da,{path:"/location",element:I.jsx(al,{shouldLayoutChildren:!1,children:I.jsx(tEe,{sidebarIsOpen:!0})})}),I.jsx(da,{path:"/votes/:id",element:I.jsx(al,{children:I.jsx(r2e,{})})}),I.jsx(da,{path:"/feedback",element:I.jsx(al,{showSidebar:!1,showTabs:!1,children:I.jsx(s2e,{})})}),I.jsx(da,{path:"/feedback-admin",element:I.jsx(al,{showSidebar:!1,showTabs:!1,children:I.jsx(i2e,{})})}),I.jsx(da,{path:"*",element:I.jsx(al,{children:I.jsx(ge,{children:"We can't find this page"})})})]})})})]})}Wne.createRoot(document.getElementById("root")).render(I.jsx(B.StrictMode,{children:I.jsx(eLe,{})}));
